"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@visactor+vgrammar-core@0.14.13";
exports.ids = ["vendor-chunks/@visactor+vgrammar-core@0.14.13"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/axis.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/axis.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Axis: () => (/* binding */ Axis),\n/* harmony export */   generateCircleAxisAttributes: () => (/* binding */ generateCircleAxisAttributes),\n/* harmony export */   generateCoordinateAxisAttribute: () => (/* binding */ generateCoordinateAxisAttribute),\n/* harmony export */   generateLineAxisAttributes: () => (/* binding */ generateLineAxisAttributes),\n/* harmony export */   registerAxis: () => (/* binding */ registerAxis),\n/* harmony export */   registerCircleAxis: () => (/* binding */ registerCircleAxis),\n/* harmony export */   registerLineAxis: () => (/* binding */ registerLineAxis)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/axis/line.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/axis/circle.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scale.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateLineAxisAttributes = (scale, theme, addition, tickCount) => {\n    var _a, _b, _c, _d;\n    const axisTheme = null !== (_b = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.axis) && void 0 !== _b ? _b : {};\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, axisTheme, null != addition ? addition : {});\n    const items = [ (null !== (_d = null === (_c = scale.tickData) || void 0 === _c ? void 0 : _c.call(scale, tickCount)) && void 0 !== _d ? _d : []).map((tick => ({\n        id: tick.index,\n        label: tick.tick,\n        value: tick.value,\n        rawValue: tick.tick\n    }))) ];\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, axisTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nconst generateCircleAxisAttributes = (scale, theme, addition, tickCount) => {\n    var _a, _b, _c, _d;\n    const axisTheme = null !== (_b = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleAxis) && void 0 !== _b ? _b : {};\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, axisTheme, null != addition ? addition : {});\n    const items = [ (null !== (_d = null === (_c = scale.tickData) || void 0 === _c ? void 0 : _c.call(scale, tickCount)) && void 0 !== _d ? _d : []).map((tick => ({\n        id: tick.index,\n        label: tick.tick,\n        value: tick.value,\n        rawValue: tick.tick\n    }))) ];\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, axisTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nconst generateCoordinateAxisAttribute = (scale, coordinate, inside, baseValue, layout, isGrid) => {\n    var _a;\n    const axisPosition = scale.getCoordinateAxisPosition();\n    layout && \"auto\" === layout.position && (layout.position = inside ? \"content\" : axisPosition);\n    const axisPoints = scale.getCoordinateAxisPoints(baseValue);\n    if (axisPoints) {\n        const res = {\n            start: axisPoints[0],\n            end: axisPoints[1],\n            verticalFactor: (\"top\" === axisPosition || \"left\" === axisPosition ? -1 : 1) * (inside ? -1 : 1) * ((null === (_a = scale.getSpec().range) || void 0 === _a ? void 0 : _a.reversed) ? -1 : 1)\n        };\n        if (isGrid && \"polar\" === coordinate.type) {\n            const angle = coordinate.angle();\n            res.center = coordinate.origin(), res.startAngle = angle[0], res.endAngle = angle[1];\n        }\n        return res;\n    }\n    const radius = coordinate.radius(), angle = coordinate.angle();\n    return {\n        center: coordinate.origin(),\n        radius: radius[1],\n        innerRadius: radius[0],\n        inside: inside,\n        startAngle: angle[0],\n        endAngle: angle[1]\n    };\n};\n\nclass Axis extends _scale__WEBPACK_IMPORTED_MODULE_1__.ScaleComponent {\n    constructor(view, group, mode) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, \n        this.mode = mode;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.axisType(spec.axisType), this.tickCount(spec.tickCount), \n        this.inside(spec.inside), this.baseValue(spec.baseValue), this;\n    }\n    scale(scale) {\n        return super.scale(scale), this._axisComponentType = null, this;\n    }\n    axisType(axisType) {\n        return this.spec.axisType = axisType, this._axisComponentType = null, this._prepareRejoin(), \n        this.commit(), this;\n    }\n    addGraphicItem(attrs, groupKey) {\n        const initialAttributes = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            x: 0,\n            y: 0,\n            start: {\n                x: 0,\n                y: 0\n            },\n            end: {\n                x: 0,\n                y: 0\n            }\n        }, attrs), graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.createGraphicComponent(this._getAxisComponentType(), initialAttributes, {\n            mode: this.mode,\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    tickCount(tickCount) {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n        return scaleGrammar && scaleGrammar.tickCount(tickCount), this.setFunctionSpec(tickCount, \"tickCount\");\n    }\n    inside(inside) {\n        return this.setFunctionSpec(inside, \"inside\");\n    }\n    baseValue(baseValue) {\n        return this.setFunctionSpec(baseValue, \"baseValue\");\n    }\n    getAxisComponentType() {\n        return this._axisComponentType;\n    }\n    _updateComponentEncoders() {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale, encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme();\n                    let addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__.invokeEncoder)(encoder, datum, element, parameters);\n                    const inside = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.inside, parameters, datum, element), baseValue = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.baseValue, parameters, datum, element), coordinate = null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getCoordinate) || void 0 === _a ? void 0 : _a.call(scaleGrammar);\n                    coordinate && (addition = Object.assign(generateCoordinateAxisAttribute(scaleGrammar, coordinate, inside, baseValue, this.spec.layout), addition));\n                    const scale = null === (_b = null == scaleGrammar ? void 0 : scaleGrammar.getScale) || void 0 === _b ? void 0 : _b.call(scaleGrammar), tickCount = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.tickCount, parameters, datum, element);\n                    switch (this._getAxisComponentType()) {\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis:\n                        return generateLineAxisAttributes(scale, theme, addition, tickCount);\n\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis:\n                        return generateCircleAxisAttributes(scale, theme, addition, tickCount);\n                    }\n                    return addition;\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    _getAxisComponentType() {\n        var _a;\n        if (this._axisComponentType) return this._axisComponentType;\n        let type = this.spec.axisType;\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(type)) {\n            const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n            type = (null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getCoordinate) || void 0 === _a ? void 0 : _a.call(scaleGrammar)) ? scaleGrammar.getCoordinateAxisPoints() ? \"line\" : \"circle\" : \"line\";\n        }\n        return this._axisComponentType = \"circle\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis : _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis, \n        this._axisComponentType;\n    }\n}\n\nAxis.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis;\n\nconst registerAxis = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.LineAxis(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.CircleAxis(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, Axis);\n};\n\nconst registerLineAxis = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.LineAxis(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, Axis);\n};\n\nconst registerCircleAxis = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.CircleAxis(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, Axis);\n};\n//# sourceMappingURL=axis.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2F4aXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7O0FBRXNEOztBQUV2RDs7QUFFaEI7O0FBRVk7O0FBRUY7O0FBRVQ7O0FBRW5DO0FBQ1A7QUFDQTtBQUNBLHVCQUF1Qiw0REFBSyxHQUFHLDZDQUE2QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsNERBQUssR0FBRztBQUNuQjtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDOztBQUVPO0FBQ1A7QUFDQTtBQUNBLHVCQUF1Qiw0REFBSyxHQUFHLDZDQUE2QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsNERBQUssR0FBRztBQUNuQjtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTyxtQkFBbUIsa0RBQWM7QUFDeEM7QUFDQSxvQkFBb0IsdURBQWEseUNBQXlDLHVEQUFhO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQUs7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0JBQXdCLGtEQUFPO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDREQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBUTtBQUNyQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlFQUFhO0FBQ2hELG1DQUFtQywrREFBa0IsNERBQTRELCtEQUFrQjtBQUNuSTtBQUNBLHVLQUF1SywrREFBa0I7QUFDekw7QUFDQSwyQkFBMkIsa0RBQVE7QUFDbkM7O0FBRUEsMkJBQTJCLGtEQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsS0FBSztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQUs7QUFDakIsaUNBQWlDLDREQUFRO0FBQ3pDO0FBQ0E7QUFDQSw2REFBNkQsa0RBQVEsY0FBYyxrREFBUTtBQUMzRjtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLHVEQUFhOztBQUUzQjtBQUNQLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLG9DQUFvQyxrRUFBaUI7QUFDbEcsSUFBSSxrREFBTywwQkFBMEIsa0RBQVEsMkJBQTJCLG9FQUFtQjtBQUMzRixJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQzs7QUFFTztBQUNQLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLG9DQUFvQyxrRUFBaUI7QUFDbEcsSUFBSSxrREFBTyxtQkFBbUIsdURBQWE7QUFDM0M7O0FBRU87QUFDUCxJQUFJLGtEQUFPLDBCQUEwQixrREFBUSwyQkFBMkIsb0VBQW1CO0FBQzNGLElBQUksa0RBQU8sbUJBQW1CLHVEQUFhO0FBQzNDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2F4aXMuanM/OTBiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgaXNTdHJpbmcsIG1lcmdlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ2lyY2xlQXhpcyBhcyBDaXJjbGVBeGlzQ29tcG9uZW50LCBMaW5lQXhpcyBhcyBMaW5lQXhpc0NvbXBvbmVudCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IEF4aXNFbnVtLCBDb21wb25lbnRFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IFNjYWxlQ29tcG9uZW50IH0gZnJvbSBcIi4vc2NhbGVcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlciB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2VuY29kZVwiO1xuXG5pbXBvcnQgeyBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVMaW5lQXhpc0F0dHJpYnV0ZXMgPSAoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbiwgdGlja0NvdW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGF4aXNUaGVtZSA9IG51bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuYXhpcykgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDoge307XG4gICAgaWYgKCFzY2FsZSkgcmV0dXJuIG1lcmdlKHt9LCBheGlzVGhlbWUsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbiAgICBjb25zdCBpdGVtcyA9IFsgKG51bGwgIT09IChfZCA9IG51bGwgPT09IChfYyA9IHNjYWxlLnRpY2tEYXRhKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuY2FsbChzY2FsZSwgdGlja0NvdW50KSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogW10pLm1hcCgodGljayA9PiAoe1xuICAgICAgICBpZDogdGljay5pbmRleCxcbiAgICAgICAgbGFiZWw6IHRpY2sudGljayxcbiAgICAgICAgdmFsdWU6IHRpY2sudmFsdWUsXG4gICAgICAgIHJhd1ZhbHVlOiB0aWNrLnRpY2tcbiAgICB9KSkpIF07XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBheGlzVGhlbWUsIHtcbiAgICAgICAgaXRlbXM6IGl0ZW1zXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQ2lyY2xlQXhpc0F0dHJpYnV0ZXMgPSAoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbiwgdGlja0NvdW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGF4aXNUaGVtZSA9IG51bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2lyY2xlQXhpcykgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDoge307XG4gICAgaWYgKCFzY2FsZSkgcmV0dXJuIG1lcmdlKHt9LCBheGlzVGhlbWUsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbiAgICBjb25zdCBpdGVtcyA9IFsgKG51bGwgIT09IChfZCA9IG51bGwgPT09IChfYyA9IHNjYWxlLnRpY2tEYXRhKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuY2FsbChzY2FsZSwgdGlja0NvdW50KSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogW10pLm1hcCgodGljayA9PiAoe1xuICAgICAgICBpZDogdGljay5pbmRleCxcbiAgICAgICAgbGFiZWw6IHRpY2sudGljayxcbiAgICAgICAgdmFsdWU6IHRpY2sudmFsdWUsXG4gICAgICAgIHJhd1ZhbHVlOiB0aWNrLnRpY2tcbiAgICB9KSkpIF07XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBheGlzVGhlbWUsIHtcbiAgICAgICAgaXRlbXM6IGl0ZW1zXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQ29vcmRpbmF0ZUF4aXNBdHRyaWJ1dGUgPSAoc2NhbGUsIGNvb3JkaW5hdGUsIGluc2lkZSwgYmFzZVZhbHVlLCBsYXlvdXQsIGlzR3JpZCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBheGlzUG9zaXRpb24gPSBzY2FsZS5nZXRDb29yZGluYXRlQXhpc1Bvc2l0aW9uKCk7XG4gICAgbGF5b3V0ICYmIFwiYXV0b1wiID09PSBsYXlvdXQucG9zaXRpb24gJiYgKGxheW91dC5wb3NpdGlvbiA9IGluc2lkZSA/IFwiY29udGVudFwiIDogYXhpc1Bvc2l0aW9uKTtcbiAgICBjb25zdCBheGlzUG9pbnRzID0gc2NhbGUuZ2V0Q29vcmRpbmF0ZUF4aXNQb2ludHMoYmFzZVZhbHVlKTtcbiAgICBpZiAoYXhpc1BvaW50cykge1xuICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICBzdGFydDogYXhpc1BvaW50c1swXSxcbiAgICAgICAgICAgIGVuZDogYXhpc1BvaW50c1sxXSxcbiAgICAgICAgICAgIHZlcnRpY2FsRmFjdG9yOiAoXCJ0b3BcIiA9PT0gYXhpc1Bvc2l0aW9uIHx8IFwibGVmdFwiID09PSBheGlzUG9zaXRpb24gPyAtMSA6IDEpICogKGluc2lkZSA/IC0xIDogMSkgKiAoKG51bGwgPT09IChfYSA9IHNjYWxlLmdldFNwZWMoKS5yYW5nZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnJldmVyc2VkKSA/IC0xIDogMSlcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlzR3JpZCAmJiBcInBvbGFyXCIgPT09IGNvb3JkaW5hdGUudHlwZSkge1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBjb29yZGluYXRlLmFuZ2xlKCk7XG4gICAgICAgICAgICByZXMuY2VudGVyID0gY29vcmRpbmF0ZS5vcmlnaW4oKSwgcmVzLnN0YXJ0QW5nbGUgPSBhbmdsZVswXSwgcmVzLmVuZEFuZ2xlID0gYW5nbGVbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgY29uc3QgcmFkaXVzID0gY29vcmRpbmF0ZS5yYWRpdXMoKSwgYW5nbGUgPSBjb29yZGluYXRlLmFuZ2xlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2VudGVyOiBjb29yZGluYXRlLm9yaWdpbigpLFxuICAgICAgICByYWRpdXM6IHJhZGl1c1sxXSxcbiAgICAgICAgaW5uZXJSYWRpdXM6IHJhZGl1c1swXSxcbiAgICAgICAgaW5zaWRlOiBpbnNpZGUsXG4gICAgICAgIHN0YXJ0QW5nbGU6IGFuZ2xlWzBdLFxuICAgICAgICBlbmRBbmdsZTogYW5nbGVbMV1cbiAgICB9O1xufTtcblxuZXhwb3J0IGNsYXNzIEF4aXMgZXh0ZW5kcyBTY2FsZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ3JvdXAsIG1vZGUpIHtcbiAgICAgICAgc3VwZXIodmlldywgQ29tcG9uZW50RW51bS5heGlzLCBncm91cCksIHRoaXMuc3BlYy5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5heGlzLCBcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZUFkZGl0aW9uKHNwZWMpLCB0aGlzLmF4aXNUeXBlKHNwZWMuYXhpc1R5cGUpLCB0aGlzLnRpY2tDb3VudChzcGVjLnRpY2tDb3VudCksIFxuICAgICAgICB0aGlzLmluc2lkZShzcGVjLmluc2lkZSksIHRoaXMuYmFzZVZhbHVlKHNwZWMuYmFzZVZhbHVlKSwgdGhpcztcbiAgICB9XG4gICAgc2NhbGUoc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNjYWxlKHNjYWxlKSwgdGhpcy5fYXhpc0NvbXBvbmVudFR5cGUgPSBudWxsLCB0aGlzO1xuICAgIH1cbiAgICBheGlzVHlwZShheGlzVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmF4aXNUeXBlID0gYXhpc1R5cGUsIHRoaXMuX2F4aXNDb21wb25lbnRUeXBlID0gbnVsbCwgdGhpcy5fcHJlcGFyZVJlam9pbigpLCBcbiAgICAgICAgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5KSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxBdHRyaWJ1dGVzID0gbWVyZ2Uoe1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBzdGFydDoge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZDoge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBhdHRycyksIGdyYXBoaWNJdGVtID0gRmFjdG9yeS5jcmVhdGVHcmFwaGljQ29tcG9uZW50KHRoaXMuX2dldEF4aXNDb21wb25lbnRUeXBlKCksIGluaXRpYWxBdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICBza2lwRGVmYXVsdDogdGhpcy5zcGVjLnNraXBUaGVtZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmFkZEdyYXBoaWNJdGVtKGluaXRpYWxBdHRyaWJ1dGVzLCBncm91cEtleSwgZ3JhcGhpY0l0ZW0pO1xuICAgIH1cbiAgICB0aWNrQ291bnQodGlja0NvdW50KSB7XG4gICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGU7XG4gICAgICAgIHJldHVybiBzY2FsZUdyYW1tYXIgJiYgc2NhbGVHcmFtbWFyLnRpY2tDb3VudCh0aWNrQ291bnQpLCB0aGlzLnNldEZ1bmN0aW9uU3BlYyh0aWNrQ291bnQsIFwidGlja0NvdW50XCIpO1xuICAgIH1cbiAgICBpbnNpZGUoaW5zaWRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhpbnNpZGUsIFwiaW5zaWRlXCIpO1xuICAgIH1cbiAgICBiYXNlVmFsdWUoYmFzZVZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhiYXNlVmFsdWUsIFwiYmFzZVZhbHVlXCIpO1xuICAgIH1cbiAgICBnZXRBeGlzQ29tcG9uZW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F4aXNDb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICBfdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGUsIGVuY29kZXJzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB1cGRhdGU6IHt9XG4gICAgICAgIH0sIHRoaXMuc3BlYy5lbmNvZGUpLCBjb21wb25lbnRFbmNvZGVycyA9IE9iamVjdC5rZXlzKGVuY29kZXJzKS5yZWR1Y2UoKChyZXMsIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gZW5jb2RlcnNbc3RhdGVdO1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgKHJlc1tzdGF0ZV0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuc3BlYy5za2lwVGhlbWUgPyBudWxsIDogdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWRkaXRpb24gPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy5pbnNpZGUsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KSwgYmFzZVZhbHVlID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy5iYXNlVmFsdWUsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KSwgY29vcmRpbmF0ZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gc2NhbGVHcmFtbWFyID8gdm9pZCAwIDogc2NhbGVHcmFtbWFyLmdldENvb3JkaW5hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jYWxsKHNjYWxlR3JhbW1hcik7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGUgJiYgKGFkZGl0aW9uID0gT2JqZWN0LmFzc2lnbihnZW5lcmF0ZUNvb3JkaW5hdGVBeGlzQXR0cmlidXRlKHNjYWxlR3JhbW1hciwgY29vcmRpbmF0ZSwgaW5zaWRlLCBiYXNlVmFsdWUsIHRoaXMuc3BlYy5sYXlvdXQpLCBhZGRpdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IG51bGwgPT09IChfYiA9IG51bGwgPT0gc2NhbGVHcmFtbWFyID8gdm9pZCAwIDogc2NhbGVHcmFtbWFyLmdldFNjYWxlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChzY2FsZUdyYW1tYXIpLCB0aWNrQ291bnQgPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLnRpY2tDb3VudCwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX2dldEF4aXNDb21wb25lbnRUeXBlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIEF4aXNFbnVtLmxpbmVBeGlzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTGluZUF4aXNBdHRyaWJ1dGVzKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24sIHRpY2tDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIEF4aXNFbnVtLmNpcmNsZUF4aXM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVDaXJjbGVBeGlzQXR0cmlidXRlcyhzY2FsZSwgdGhlbWUsIGFkZGl0aW9uLCB0aWNrQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRpdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgcmVzO1xuICAgICAgICB9KSwge30pO1xuICAgICAgICB0aGlzLl9lbmNvZGVycyA9IGNvbXBvbmVudEVuY29kZXJzO1xuICAgIH1cbiAgICBfZ2V0QXhpc0NvbXBvbmVudFR5cGUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuX2F4aXNDb21wb25lbnRUeXBlKSByZXR1cm4gdGhpcy5fYXhpc0NvbXBvbmVudFR5cGU7XG4gICAgICAgIGxldCB0eXBlID0gdGhpcy5zcGVjLmF4aXNUeXBlO1xuICAgICAgICBpZiAoaXNOaWwodHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGU7XG4gICAgICAgICAgICB0eXBlID0gKG51bGwgPT09IChfYSA9IG51bGwgPT0gc2NhbGVHcmFtbWFyID8gdm9pZCAwIDogc2NhbGVHcmFtbWFyLmdldENvb3JkaW5hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jYWxsKHNjYWxlR3JhbW1hcikpID8gc2NhbGVHcmFtbWFyLmdldENvb3JkaW5hdGVBeGlzUG9pbnRzKCkgPyBcImxpbmVcIiA6IFwiY2lyY2xlXCIgOiBcImxpbmVcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYXhpc0NvbXBvbmVudFR5cGUgPSBcImNpcmNsZVwiID09PSB0eXBlID8gQXhpc0VudW0uY2lyY2xlQXhpcyA6IEF4aXNFbnVtLmxpbmVBeGlzLCBcbiAgICAgICAgdGhpcy5fYXhpc0NvbXBvbmVudFR5cGU7XG4gICAgfVxufVxuXG5BeGlzLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLmF4aXM7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckF4aXMgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoQXhpc0VudW0ubGluZUF4aXMsICgoYXR0cnMsIG9wdGlvbnMpID0+IG5ldyBMaW5lQXhpc0NvbXBvbmVudChhdHRycywgb3B0aW9ucykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoQXhpc0VudW0uY2lyY2xlQXhpcywgKGF0dHJzID0+IG5ldyBDaXJjbGVBeGlzQ29tcG9uZW50KGF0dHJzKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0uYXhpcywgQXhpcyk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJMaW5lQXhpcyA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChBeGlzRW51bS5saW5lQXhpcywgKChhdHRycywgb3B0aW9ucykgPT4gbmV3IExpbmVBeGlzQ29tcG9uZW50KGF0dHJzLCBvcHRpb25zKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0uYXhpcywgQXhpcyk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJDaXJjbGVBeGlzID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KEF4aXNFbnVtLmNpcmNsZUF4aXMsIChhdHRycyA9PiBuZXcgQ2lyY2xlQXhpc0NvbXBvbmVudChhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLmF4aXMsIEF4aXMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF4aXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/axis.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/datazoom.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/datazoom.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Datazoom: () => (/* binding */ Datazoom),\n/* harmony export */   generateDatazoomAttributes: () => (/* binding */ generateDatazoomAttributes),\n/* harmony export */   registerDataZoom: () => (/* binding */ registerDataZoom)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/data-zoom/data-zoom.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _interactions_datazoom_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../interactions/datazoom-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/datazoom-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateDatazoomAttributes = (data, theme, addition) => {\n    var _a;\n    const datazoomTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.datazoom;\n    return data ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, datazoomTheme, {\n        previewData: data\n    }, null != addition ? addition : {}) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, datazoomTheme, null != addition ? addition : {});\n};\n\nclass Datazoom extends _view_component__WEBPACK_IMPORTED_MODULE_1__.Component {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom;\n    }\n    parseAddition(spec) {\n        var _a;\n        super.parseAddition(spec);\n        const {data: data, x: x, y: y, x1: x1, y1: y1} = null !== (_a = spec.preview) && void 0 !== _a ? _a : {};\n        return this.preview(data, x, y, x1, y1), this._updateComponentEncoders(), this;\n    }\n    preview(data, x, y, x1, y1) {\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.preview)) {\n            const lastData = this.spec.preview.data, lastDataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(lastData) ? this.view.getDataById(lastData) : lastData;\n            this.detach(lastDataGrammar), this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(this.spec.preview.x, this.view)), \n            this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(this.spec.preview.y, this.view)), this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(this.spec.preview.x1, this.view)), \n            this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(this.spec.preview.y1, this.view));\n        }\n        if (this.spec.preview = void 0, data) {\n            this.spec.preview = {\n                data: data,\n                x: x,\n                y: y,\n                x1: x1,\n                y1: y1\n            };\n            const dataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(data) ? this.view.getDataById(data) : data;\n            this.attach(dataGrammar), this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(x, this.view)), this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(y, this.view)), \n            this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(x1, this.view)), this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(y1, this.view));\n        }\n        return this._updateComponentEncoders(), this.commit(), this;\n    }\n    setStartEndValue(start, end) {\n        const datazoom = this.getGroupGraphicItem();\n        return datazoom && datazoom.setStartAndEnd && datazoom.setStartAndEnd(start, end), \n        this;\n    }\n    getStartEndValue() {\n        const datazoom = this.getGroupGraphicItem();\n        if (datazoom) {\n            const state = datazoom.state;\n            return {\n                start: state.start,\n                end: state.end\n            };\n        }\n        return null;\n    }\n    addGraphicItem(attrs, groupKey) {\n        var _a;\n        const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), initialAttributes = Object.assign({}, null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.datazoom, attrs), graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.createGraphicComponent(this.componentType, initialAttributes, {\n            skipDefault: this.spec.skipTheme\n        });\n        return this.setDatazoomHandlers(graphicItem), super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    reuse(grammar) {\n        return super.reuse(grammar), this.setDatazoomHandlers(), this;\n    }\n    _updateComponentEncoders() {\n        var _a;\n        const data = null === (_a = this.spec.preview) || void 0 === _a ? void 0 : _a.data, dataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(data) ? this.view.getDataById(data) : data, encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)(encoder, datum, element, parameters);\n                    return generateDatazoomAttributes(null === (_a = null == dataGrammar ? void 0 : dataGrammar.getValue) || void 0 === _a ? void 0 : _a.call(dataGrammar), theme, addition);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    invertDatazoomRatio(ratio) {\n        const scale = this.getDatazoomMainScale();\n        if (scale) {\n            const range = scale.range(), scaledValue = (range[range.length - 1] - range[0]) * ratio + range[0];\n            return scale.invert(scaledValue);\n        }\n        return null;\n    }\n    getDatazoomMainScale() {\n        var _a, _b;\n        const datazoom = this.getGroupGraphicItem();\n        if (datazoom && this.spec.preview) {\n            const scale = \"top\" === datazoom.attribute.orient || \"bottom\" === datazoom.attribute.orient ? null === (_a = this.spec.preview.x) || void 0 === _a ? void 0 : _a.scale : null === (_b = this.spec.preview.y) || void 0 === _b ? void 0 : _b.scale, scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(scale) ? this.view.getScaleById(scale) : scale;\n            return null == scaleGrammar ? void 0 : scaleGrammar.getScale();\n        }\n        return null;\n    }\n    setDatazoomHandlers(graphicItem) {\n        var _a;\n        const datazoom = null != graphicItem ? graphicItem : this.getGroupGraphicItem();\n        datazoom.setStatePointToData((state => {\n            var _a;\n            return this.spec.preview && null !== (_a = this.invertDatazoomRatio(state)) && void 0 !== _a ? _a : state;\n        }));\n        const {data: data, x: x, y: y, x1: x1, y1: y1} = null !== (_a = this.spec.preview) && void 0 !== _a ? _a : {};\n        datazoom.setPreviewPointsX((datum => {\n            if (x && data) return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)({\n                x: x\n            }, datum, this.elements[0], this.parameters()).x;\n        })), datazoom.setPreviewPointsY((datum => {\n            if (y && data) return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)({\n                y: y\n            }, datum, this.elements[0], this.parameters()).y;\n        })), datazoom.setPreviewPointsX1((datum => {\n            if (x1 && data) return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)({\n                x1: x1\n            }, datum, this.elements[0], this.parameters()).x1;\n        })), datazoom.setPreviewPointsY1((datum => {\n            if (y1 && data) return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)({\n                y1: y1\n            }, datum, this.elements[0], this.parameters()).y1;\n        }));\n    }\n}\n\nDatazoom.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom;\n\nconst registerDataZoom = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.DataZoom(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom, Datazoom), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_10__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_10__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerInteraction(_interactions_datazoom_filter__WEBPACK_IMPORTED_MODULE_11__.DatazoomFilter.type, _interactions_datazoom_filter__WEBPACK_IMPORTED_MODULE_11__.DatazoomFilter);\n};\n//# sourceMappingURL=datazoom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2RhdGF6b29tLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2RTs7QUFFWjs7QUFFbEI7O0FBRU07O0FBRVA7O0FBRUU7O0FBRU47O0FBRXVCOztBQUVKOztBQUV0RDtBQUNQO0FBQ0E7QUFDQSxrQkFBa0IsNERBQUssR0FBRztBQUMxQjtBQUNBLEtBQUssa0NBQWtDLElBQUksNERBQUssR0FBRyxpREFBaUQ7QUFDcEc7O0FBRU8sdUJBQXVCLHNEQUFTO0FBQ3ZDO0FBQ0Esb0JBQW9CLHVEQUFhLDZDQUE2Qyx1REFBYTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0NBQXdDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNERBQUs7QUFDbEIsdUVBQXVFLDREQUFRO0FBQy9FLHNEQUFzRCw0REFBZTtBQUNyRSx3QkFBd0IsNERBQWUsK0NBQStDLDREQUFlO0FBQ3JHLHdCQUF3Qiw0REFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNERBQVE7QUFDeEMsa0RBQWtELDREQUFlLDZCQUE2Qiw0REFBZTtBQUM3Ryx3QkFBd0IsNERBQWUsOEJBQThCLDREQUFlO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSCwySEFBMkgsa0RBQU87QUFDdFA7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwR0FBMEcsNERBQVE7QUFDbEg7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsaUVBQWE7QUFDcEg7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTLEtBQUs7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOFFBQThRLDREQUFRO0FBQ3RSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsd0NBQXdDO0FBQ3ZEO0FBQ0Esa0NBQWtDLGlFQUFhO0FBQy9DO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxrQ0FBa0MsaUVBQWE7QUFDL0M7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULG1DQUFtQyxpRUFBYTtBQUNoRDtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsbUNBQW1DLGlFQUFhO0FBQ2hEO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBOztBQUVBLHlCQUF5Qix1REFBYTs7QUFFL0I7QUFDUCxJQUFJLGtEQUFPLDBCQUEwQix1REFBYSx5QkFBeUIsa0VBQWlCO0FBQzVGLElBQUksa0RBQU8sbUJBQW1CLHVEQUFhLHNCQUFzQix1REFBSyxDQUFDLHlEQUFNLEVBQUUsOERBQVc7QUFDMUYsSUFBSSxrREFBTyxxQkFBcUIsMEVBQWMsT0FBTywwRUFBYztBQUNuRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9kYXRhem9vbS5qcz8yMWVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFab29tIGFzIERhdGF6b29tQ29tcG9uZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgaXNOaWwsIGlzU3RyaW5nLCBtZXJnZSwgbWl4aW4gfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL3ZpZXcvY29tcG9uZW50XCI7XG5cbmltcG9ydCB7IHBhcnNlRW5jb2RlVHlwZSB9IGZyb20gXCIuLi9wYXJzZS9tYXJrXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IERhdGF6b29tRmlsdGVyIH0gZnJvbSBcIi4uL2ludGVyYWN0aW9ucy9kYXRhem9vbS1maWx0ZXJcIjtcblxuaW1wb3J0IHsgRmlsdGVyLCBGaWx0ZXJNaXhpbiB9IGZyb20gXCIuLi9pbnRlcmFjdGlvbnMvZmlsdGVyXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZURhdGF6b29tQXR0cmlidXRlcyA9IChkYXRhLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZGF0YXpvb21UaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGF0YXpvb207XG4gICAgcmV0dXJuIGRhdGEgPyBtZXJnZSh7fSwgZGF0YXpvb21UaGVtZSwge1xuICAgICAgICBwcmV2aWV3RGF0YTogZGF0YVxuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KSA6IG1lcmdlKHt9LCBkYXRhem9vbVRoZW1lLCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY2xhc3MgRGF0YXpvb20gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGdyb3VwKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIENvbXBvbmVudEVudW0uZGF0YXpvb20sIGdyb3VwKSwgdGhpcy5zcGVjLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLmRhdGF6b29tO1xuICAgIH1cbiAgICBwYXJzZUFkZGl0aW9uKHNwZWMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlci5wYXJzZUFkZGl0aW9uKHNwZWMpO1xuICAgICAgICBjb25zdCB7ZGF0YTogZGF0YSwgeDogeCwgeTogeSwgeDE6IHgxLCB5MTogeTF9ID0gbnVsbCAhPT0gKF9hID0gc3BlYy5wcmV2aWV3KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldmlldyhkYXRhLCB4LCB5LCB4MSwgeTEpLCB0aGlzLl91cGRhdGVDb21wb25lbnRFbmNvZGVycygpLCB0aGlzO1xuICAgIH1cbiAgICBwcmV2aWV3KGRhdGEsIHgsIHksIHgxLCB5MSkge1xuICAgICAgICBpZiAoIWlzTmlsKHRoaXMuc3BlYy5wcmV2aWV3KSkge1xuICAgICAgICAgICAgY29uc3QgbGFzdERhdGEgPSB0aGlzLnNwZWMucHJldmlldy5kYXRhLCBsYXN0RGF0YUdyYW1tYXIgPSBpc1N0cmluZyhsYXN0RGF0YSkgPyB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQobGFzdERhdGEpIDogbGFzdERhdGE7XG4gICAgICAgICAgICB0aGlzLmRldGFjaChsYXN0RGF0YUdyYW1tYXIpLCB0aGlzLmRldGFjaChwYXJzZUVuY29kZVR5cGUodGhpcy5zcGVjLnByZXZpZXcueCwgdGhpcy52aWV3KSksIFxuICAgICAgICAgICAgdGhpcy5kZXRhY2gocGFyc2VFbmNvZGVUeXBlKHRoaXMuc3BlYy5wcmV2aWV3LnksIHRoaXMudmlldykpLCB0aGlzLmRldGFjaChwYXJzZUVuY29kZVR5cGUodGhpcy5zcGVjLnByZXZpZXcueDEsIHRoaXMudmlldykpLCBcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKHBhcnNlRW5jb2RlVHlwZSh0aGlzLnNwZWMucHJldmlldy55MSwgdGhpcy52aWV3KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3BlYy5wcmV2aWV3ID0gdm9pZCAwLCBkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnNwZWMucHJldmlldyA9IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICB4MTogeDEsXG4gICAgICAgICAgICAgICAgeTE6IHkxXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZGF0YUdyYW1tYXIgPSBpc1N0cmluZyhkYXRhKSA/IHRoaXMudmlldy5nZXREYXRhQnlJZChkYXRhKSA6IGRhdGE7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaChkYXRhR3JhbW1hciksIHRoaXMuYXR0YWNoKHBhcnNlRW5jb2RlVHlwZSh4LCB0aGlzLnZpZXcpKSwgdGhpcy5hdHRhY2gocGFyc2VFbmNvZGVUeXBlKHksIHRoaXMudmlldykpLCBcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHBhcnNlRW5jb2RlVHlwZSh4MSwgdGhpcy52aWV3KSksIHRoaXMuYXR0YWNoKHBhcnNlRW5jb2RlVHlwZSh5MSwgdGhpcy52aWV3KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCksIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIHNldFN0YXJ0RW5kVmFsdWUoc3RhcnQsIGVuZCkge1xuICAgICAgICBjb25zdCBkYXRhem9vbSA9IHRoaXMuZ2V0R3JvdXBHcmFwaGljSXRlbSgpO1xuICAgICAgICByZXR1cm4gZGF0YXpvb20gJiYgZGF0YXpvb20uc2V0U3RhcnRBbmRFbmQgJiYgZGF0YXpvb20uc2V0U3RhcnRBbmRFbmQoc3RhcnQsIGVuZCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBnZXRTdGFydEVuZFZhbHVlKCkge1xuICAgICAgICBjb25zdCBkYXRhem9vbSA9IHRoaXMuZ2V0R3JvdXBHcmFwaGljSXRlbSgpO1xuICAgICAgICBpZiAoZGF0YXpvb20pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZGF0YXpvb20uc3RhdGU7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGF0ZS5zdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ6IHN0YXRlLmVuZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLnNwZWMuc2tpcFRoZW1lID8gbnVsbCA6IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKSwgaW5pdGlhbEF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmRhdGF6b29tLCBhdHRycyksIGdyYXBoaWNJdGVtID0gRmFjdG9yeS5jcmVhdGVHcmFwaGljQ29tcG9uZW50KHRoaXMuY29tcG9uZW50VHlwZSwgaW5pdGlhbEF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHNraXBEZWZhdWx0OiB0aGlzLnNwZWMuc2tpcFRoZW1lXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXREYXRhem9vbUhhbmRsZXJzKGdyYXBoaWNJdGVtKSwgc3VwZXIuYWRkR3JhcGhpY0l0ZW0oaW5pdGlhbEF0dHJpYnV0ZXMsIGdyb3VwS2V5LCBncmFwaGljSXRlbSk7XG4gICAgfVxuICAgIHJldXNlKGdyYW1tYXIpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnJldXNlKGdyYW1tYXIpLCB0aGlzLnNldERhdGF6b29tSGFuZGxlcnMoKSwgdGhpcztcbiAgICB9XG4gICAgX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBudWxsID09PSAoX2EgPSB0aGlzLnNwZWMucHJldmlldykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmRhdGEsIGRhdGFHcmFtbWFyID0gaXNTdHJpbmcoZGF0YSkgPyB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQoZGF0YSkgOiBkYXRhLCBlbmNvZGVycyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdXBkYXRlOiB7fVxuICAgICAgICB9LCB0aGlzLnNwZWMuZW5jb2RlKSwgY29tcG9uZW50RW5jb2RlcnMgPSBPYmplY3Qua2V5cyhlbmNvZGVycykucmVkdWNlKCgocmVzLCBzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IGVuY29kZXJzW3N0YXRlXTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmIChyZXNbc3RhdGVdID0ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuc3BlYy5za2lwVGhlbWUgPyBudWxsIDogdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpLCBhZGRpdGlvbiA9IGludm9rZUVuY29kZXIoZW5jb2RlciwgZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVEYXRhem9vbUF0dHJpYnV0ZXMobnVsbCA9PT0gKF9hID0gbnVsbCA9PSBkYXRhR3JhbW1hciA/IHZvaWQgMCA6IGRhdGFHcmFtbWFyLmdldFZhbHVlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2FsbChkYXRhR3JhbW1hciksIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHJlcztcbiAgICAgICAgfSksIHt9KTtcbiAgICAgICAgdGhpcy5fZW5jb2RlcnMgPSBjb21wb25lbnRFbmNvZGVycztcbiAgICB9XG4gICAgaW52ZXJ0RGF0YXpvb21SYXRpbyhyYXRpbykge1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0RGF0YXpvb21NYWluU2NhbGUoKTtcbiAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHNjYWxlLnJhbmdlKCksIHNjYWxlZFZhbHVlID0gKHJhbmdlW3JhbmdlLmxlbmd0aCAtIDFdIC0gcmFuZ2VbMF0pICogcmF0aW8gKyByYW5nZVswXTtcbiAgICAgICAgICAgIHJldHVybiBzY2FsZS5pbnZlcnQoc2NhbGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXREYXRhem9vbU1haW5TY2FsZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgZGF0YXpvb20gPSB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKTtcbiAgICAgICAgaWYgKGRhdGF6b29tICYmIHRoaXMuc3BlYy5wcmV2aWV3KSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IFwidG9wXCIgPT09IGRhdGF6b29tLmF0dHJpYnV0ZS5vcmllbnQgfHwgXCJib3R0b21cIiA9PT0gZGF0YXpvb20uYXR0cmlidXRlLm9yaWVudCA/IG51bGwgPT09IChfYSA9IHRoaXMuc3BlYy5wcmV2aWV3LngpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zY2FsZSA6IG51bGwgPT09IChfYiA9IHRoaXMuc3BlYy5wcmV2aWV3LnkpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5zY2FsZSwgc2NhbGVHcmFtbWFyID0gaXNTdHJpbmcoc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZChzY2FsZSkgOiBzY2FsZTtcbiAgICAgICAgICAgIHJldHVybiBudWxsID09IHNjYWxlR3JhbW1hciA/IHZvaWQgMCA6IHNjYWxlR3JhbW1hci5nZXRTY2FsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXREYXRhem9vbUhhbmRsZXJzKGdyYXBoaWNJdGVtKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZGF0YXpvb20gPSBudWxsICE9IGdyYXBoaWNJdGVtID8gZ3JhcGhpY0l0ZW0gOiB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKTtcbiAgICAgICAgZGF0YXpvb20uc2V0U3RhdGVQb2ludFRvRGF0YSgoc3RhdGUgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5wcmV2aWV3ICYmIG51bGwgIT09IChfYSA9IHRoaXMuaW52ZXJ0RGF0YXpvb21SYXRpbyhzdGF0ZSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHN0YXRlO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IHtkYXRhOiBkYXRhLCB4OiB4LCB5OiB5LCB4MTogeDEsIHkxOiB5MX0gPSBudWxsICE9PSAoX2EgPSB0aGlzLnNwZWMucHJldmlldykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgICAgIGRhdGF6b29tLnNldFByZXZpZXdQb2ludHNYKChkYXR1bSA9PiB7XG4gICAgICAgICAgICBpZiAoeCAmJiBkYXRhKSByZXR1cm4gaW52b2tlRW5jb2Rlcih7XG4gICAgICAgICAgICAgICAgeDogeFxuICAgICAgICAgICAgfSwgZGF0dW0sIHRoaXMuZWxlbWVudHNbMF0sIHRoaXMucGFyYW1ldGVycygpKS54O1xuICAgICAgICB9KSksIGRhdGF6b29tLnNldFByZXZpZXdQb2ludHNZKChkYXR1bSA9PiB7XG4gICAgICAgICAgICBpZiAoeSAmJiBkYXRhKSByZXR1cm4gaW52b2tlRW5jb2Rlcih7XG4gICAgICAgICAgICAgICAgeTogeVxuICAgICAgICAgICAgfSwgZGF0dW0sIHRoaXMuZWxlbWVudHNbMF0sIHRoaXMucGFyYW1ldGVycygpKS55O1xuICAgICAgICB9KSksIGRhdGF6b29tLnNldFByZXZpZXdQb2ludHNYMSgoZGF0dW0gPT4ge1xuICAgICAgICAgICAgaWYgKHgxICYmIGRhdGEpIHJldHVybiBpbnZva2VFbmNvZGVyKHtcbiAgICAgICAgICAgICAgICB4MTogeDFcbiAgICAgICAgICAgIH0sIGRhdHVtLCB0aGlzLmVsZW1lbnRzWzBdLCB0aGlzLnBhcmFtZXRlcnMoKSkueDE7XG4gICAgICAgIH0pKSwgZGF0YXpvb20uc2V0UHJldmlld1BvaW50c1kxKChkYXR1bSA9PiB7XG4gICAgICAgICAgICBpZiAoeTEgJiYgZGF0YSkgcmV0dXJuIGludm9rZUVuY29kZXIoe1xuICAgICAgICAgICAgICAgIHkxOiB5MVxuICAgICAgICAgICAgfSwgZGF0dW0sIHRoaXMuZWxlbWVudHNbMF0sIHRoaXMucGFyYW1ldGVycygpKS55MTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuRGF0YXpvb20uY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0uZGF0YXpvb207XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckRhdGFab29tID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KENvbXBvbmVudEVudW0uZGF0YXpvb20sIChhdHRycyA9PiBuZXcgRGF0YXpvb21Db21wb25lbnQoYXR0cnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50RW51bS5kYXRhem9vbSwgRGF0YXpvb20pLCBtaXhpbihGaWx0ZXIsIEZpbHRlck1peGluKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKERhdGF6b29tRmlsdGVyLnR5cGUsIERhdGF6b29tRmlsdGVyKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhem9vbS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/datazoom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/grid.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/grid.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Grid: () => (/* binding */ Grid),\n/* harmony export */   generateCircleAxisGridAttributes: () => (/* binding */ generateCircleAxisGridAttributes),\n/* harmony export */   generateLineAxisGridAttributes: () => (/* binding */ generateLineAxisGridAttributes),\n/* harmony export */   registerCircleGrid: () => (/* binding */ registerCircleGrid),\n/* harmony export */   registerGrid: () => (/* binding */ registerGrid),\n/* harmony export */   registerLineGrid: () => (/* binding */ registerLineGrid)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/axis/grid/line.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/axis/grid/circle.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scale.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _axis__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./axis */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/axis.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateLineAxisGridAttributes = (scale, theme, addition, tickCount) => {\n    var _a, _b, _c, _d;\n    const gridTheme = null !== (_b = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.grid) && void 0 !== _b ? _b : {};\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, gridTheme, null != addition ? addition : {});\n    const items = (null !== (_d = null === (_c = scale.tickData) || void 0 === _c ? void 0 : _c.call(scale, tickCount)) && void 0 !== _d ? _d : []).map((tick => ({\n        id: tick.index,\n        label: tick.tick,\n        value: tick.value,\n        rawValue: tick.tick\n    })));\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, gridTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nconst generateCircleAxisGridAttributes = (scale, theme, addition, tickCount) => {\n    var _a, _b, _c, _d;\n    const gridTheme = null !== (_b = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleGrid) && void 0 !== _b ? _b : {};\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, gridTheme, null != addition ? addition : {});\n    const items = (null !== (_d = null === (_c = scale.tickData) || void 0 === _c ? void 0 : _c.call(scale, tickCount)) && void 0 !== _d ? _d : []).map((tick => ({\n        id: tick.index,\n        label: tick.tick,\n        value: tick.value,\n        rawValue: tick.tick\n    })));\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, gridTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nclass Grid extends _scale__WEBPACK_IMPORTED_MODULE_1__.ScaleComponent {\n    constructor(view, group, mode) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, \n        this.mode = mode;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.target(spec.target), this.gridType(spec.gridType), \n        this.gridShape(spec.gridShape), this;\n    }\n    scale(scale) {\n        return super.scale(scale), this._gridComponentType = null, this;\n    }\n    gridType(gridType) {\n        return this.spec.gridType = gridType, this._gridComponentType = null, this._prepareRejoin(), \n        this.commit(), this;\n    }\n    gridShape(gridShape) {\n        return this.spec.gridShape = gridShape, this.commit(), this;\n    }\n    target(axis) {\n        if (this.spec.target) {\n            const prevAxis = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.target) ? this.view.getMarkById(this.spec.target) : this.spec.target;\n            this.detach(prevAxis);\n        }\n        this.spec.target = axis;\n        const nextAxis = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(axis) ? this.view.getMarkById(axis) : axis;\n        return this.attach(nextAxis), this._targetAxis = nextAxis, this._gridComponentType = null, \n        this._updateComponentEncoders(), this.commit(), this;\n    }\n    tickCount(tickCount) {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n        return scaleGrammar && scaleGrammar.tickCount(tickCount), this.setFunctionSpec(tickCount, \"tickCount\");\n    }\n    inside(inside) {\n        return this.setFunctionSpec(inside, \"inside\");\n    }\n    baseValue(baseValue) {\n        return this.setFunctionSpec(baseValue, \"baseValue\");\n    }\n    addGraphicItem(attrs, groupKey) {\n        const initialAttributes = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            x: 0,\n            y: 0,\n            start: {\n                x: 0,\n                y: 0\n            },\n            end: {\n                x: 0,\n                y: 0\n            }\n        }, attrs), graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.createGraphicComponent(this._getGridComponentType(), initialAttributes, {\n            mode: this.mode,\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b, _c, _d;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme();\n                    let scaleGrammar, addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__.invokeEncoder)(encoder, datum, element, parameters);\n                    const baseValue = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.baseValue, parameters, datum, element);\n                    if (this._targetAxis) {\n                        const targetScale = null === (_a = this._targetAxis.getSpec()) || void 0 === _a ? void 0 : _a.scale;\n                        scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(targetScale) ? this.view.getScaleById(targetScale) : targetScale;\n                        const targetElement = this._targetAxis.elements[0];\n                        if (targetElement) switch (this._getGridComponentType()) {\n                          case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid:\n                            addition = Object.assign({\n                                x: targetElement.getGraphicAttribute(\"x\"),\n                                y: targetElement.getGraphicAttribute(\"y\"),\n                                start: targetElement.getGraphicAttribute(\"start\"),\n                                end: targetElement.getGraphicAttribute(\"end\"),\n                                verticalFactor: null !== (_b = targetElement.getGraphicAttribute(\"verticalFactor\")) && void 0 !== _b ? _b : 1\n                            }, addition);\n                            break;\n\n                          case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid:\n                            addition = Object.assign({\n                                x: targetElement.getGraphicAttribute(\"x\"),\n                                y: targetElement.getGraphicAttribute(\"y\"),\n                                center: targetElement.getGraphicAttribute(\"center\"),\n                                radius: targetElement.getGraphicAttribute(\"radius\"),\n                                innerRadius: targetElement.getGraphicAttribute(\"innerRadius\"),\n                                inside: targetElement.getGraphicAttribute(\"inside\"),\n                                startAngle: targetElement.getGraphicAttribute(\"startAngle\"),\n                                endAngle: targetElement.getGraphicAttribute(\"endAngle\")\n                            }, addition);\n                        }\n                    } else {\n                        scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n                        const inside = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.inside, parameters, datum, element), coordinate = null === (_c = null == scaleGrammar ? void 0 : scaleGrammar.getCoordinate) || void 0 === _c ? void 0 : _c.call(scaleGrammar);\n                        coordinate && (addition = Object.assign((0,_axis__WEBPACK_IMPORTED_MODULE_7__.generateCoordinateAxisAttribute)(scaleGrammar, coordinate, inside, baseValue, this.spec.layout, !0), addition));\n                    }\n                    this._getGridComponentType() === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid && (addition = \"line\" !== this.spec.gridShape && this.spec.gridShape ? Object.assign({\n                        center: addition.start,\n                        closed: !0\n                    }, addition, {\n                        type: this.spec.gridShape\n                    }) : Object.assign({}, addition, {\n                        type: \"line\"\n                    }));\n                    const scale = null === (_d = null == scaleGrammar ? void 0 : scaleGrammar.getScale) || void 0 === _d ? void 0 : _d.call(scaleGrammar), tickCount = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.tickCount, parameters, datum, element);\n                    switch (this._getGridComponentType()) {\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid:\n                        return generateLineAxisGridAttributes(scale, theme, addition, tickCount);\n\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid:\n                        return generateCircleAxisGridAttributes(scale, theme, addition, tickCount);\n                    }\n                    return addition;\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    _getGridComponentType() {\n        var _a;\n        if (this._gridComponentType) return this._gridComponentType;\n        if (this.spec.gridType) if (\"circle\" === this.spec.gridType) this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid; else this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid; else if (this._targetAxis) {\n            switch (this._targetAxis.getAxisComponentType()) {\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis:\n                this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid;\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis:\n              default:\n                this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid;\n            }\n        } else if (this.spec.scale) {\n            const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n            this._gridComponentType = (null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getCoordinate) || void 0 === _a ? void 0 : _a.call(scaleGrammar)) ? scaleGrammar.getCoordinateAxisPoints() ? _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid : _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid : _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid;\n        } else this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid;\n        return this._gridComponentType;\n    }\n}\n\nGrid.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid;\n\nconst registerGrid = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.LineAxisGrid(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.CircleAxisGrid(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, Grid);\n};\n\nconst registerLineGrid = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.LineAxisGrid(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, Grid);\n};\n\nconst registerCircleGrid = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.CircleAxisGrid(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, Grid);\n};\n//# sourceMappingURL=grid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2dyaWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtRDs7QUFFeUI7O0FBRVQ7O0FBRTFCOztBQUVZOztBQUVGOztBQUVNOztBQUVmOztBQUVuQztBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsNERBQUssR0FBRyw2Q0FBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTztBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsNERBQUssR0FBRyw2Q0FBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTyxtQkFBbUIsa0RBQWM7QUFDeEM7QUFDQSxvQkFBb0IsdURBQWEseUNBQXlDLHVEQUFhO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNERBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNERBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDREQUFLO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdCQUF3QixrREFBTztBQUN4QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxpRUFBYTtBQUM5RCxzQ0FBc0MsK0RBQWtCO0FBQ3hEO0FBQ0E7QUFDQSx1Q0FBdUMsNERBQVE7QUFDL0M7QUFDQTtBQUNBLCtCQUErQixrREFBUTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7O0FBRUEsK0JBQStCLGtEQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLHNCQUFzQjtBQUN0Qix1Q0FBdUMsNERBQVE7QUFDL0MsdUNBQXVDLCtEQUFrQjtBQUN6RCxnRUFBZ0Usc0VBQStCO0FBQy9GO0FBQ0EscURBQXFELGtEQUFRO0FBQzdEO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQkFBcUIsb0JBQW9CO0FBQ3pDO0FBQ0EscUJBQXFCO0FBQ3JCLHVLQUF1SywrREFBa0I7QUFDekw7QUFDQSwyQkFBMkIsa0RBQVE7QUFDbkM7O0FBRUEsMkJBQTJCLGtEQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsS0FBSztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0Ysa0RBQVEsaUJBQWlCLCtCQUErQixrREFBUSxlQUFlO0FBQzlLO0FBQ0EsbUJBQW1CLGtEQUFRO0FBQzNCLDBDQUEwQyxrREFBUTtBQUNsRDs7QUFFQSxtQkFBbUIsa0RBQVE7QUFDM0I7QUFDQSwwQ0FBMEMsa0RBQVE7QUFDbEQ7QUFDQSxVQUFVO0FBQ1YsaUNBQWlDLDREQUFRO0FBQ3pDLGdOQUFnTixrREFBUSxnQkFBZ0Isa0RBQVEsa0JBQWtCLGtEQUFRO0FBQzFRLFVBQVUsK0JBQStCLGtEQUFRO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsdURBQWE7O0FBRTNCO0FBQ1AsSUFBSSxrREFBTywwQkFBMEIsa0RBQVEsd0NBQXdDLHNFQUFZO0FBQ2pHLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLDBDQUEwQyx3RUFBYztBQUNyRyxJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQzs7QUFFTztBQUNQLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLHdDQUF3QyxzRUFBWTtBQUNqRyxJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQzs7QUFFTztBQUNQLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLDBDQUEwQyx3RUFBYztBQUNyRyxJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9ncmlkLmpzP2MzNTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNTdHJpbmcsIG1lcmdlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ2lyY2xlQXhpc0dyaWQsIExpbmVBeGlzR3JpZCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IEF4aXNFbnVtLCBDb21wb25lbnRFbnVtLCBHcmlkRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBTY2FsZUNvbXBvbmVudCB9IGZyb20gXCIuL3NjYWxlXCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgZ2VuZXJhdGVDb29yZGluYXRlQXhpc0F0dHJpYnV0ZSB9IGZyb20gXCIuL2F4aXNcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTGluZUF4aXNHcmlkQXR0cmlidXRlcyA9IChzY2FsZSwgdGhlbWUsIGFkZGl0aW9uLCB0aWNrQ291bnQpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgZ3JpZFRoZW1lID0gbnVsbCAhPT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5ncmlkKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiB7fTtcbiAgICBpZiAoIXNjYWxlKSByZXR1cm4gbWVyZ2Uoe30sIGdyaWRUaGVtZSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xuICAgIGNvbnN0IGl0ZW1zID0gKG51bGwgIT09IChfZCA9IG51bGwgPT09IChfYyA9IHNjYWxlLnRpY2tEYXRhKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuY2FsbChzY2FsZSwgdGlja0NvdW50KSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogW10pLm1hcCgodGljayA9PiAoe1xuICAgICAgICBpZDogdGljay5pbmRleCxcbiAgICAgICAgbGFiZWw6IHRpY2sudGljayxcbiAgICAgICAgdmFsdWU6IHRpY2sudmFsdWUsXG4gICAgICAgIHJhd1ZhbHVlOiB0aWNrLnRpY2tcbiAgICB9KSkpO1xuICAgIHJldHVybiBtZXJnZSh7fSwgZ3JpZFRoZW1lLCB7XG4gICAgICAgIGl0ZW1zOiBpdGVtc1xuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUNpcmNsZUF4aXNHcmlkQXR0cmlidXRlcyA9IChzY2FsZSwgdGhlbWUsIGFkZGl0aW9uLCB0aWNrQ291bnQpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgZ3JpZFRoZW1lID0gbnVsbCAhPT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jaXJjbGVHcmlkKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiB7fTtcbiAgICBpZiAoIXNjYWxlKSByZXR1cm4gbWVyZ2Uoe30sIGdyaWRUaGVtZSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xuICAgIGNvbnN0IGl0ZW1zID0gKG51bGwgIT09IChfZCA9IG51bGwgPT09IChfYyA9IHNjYWxlLnRpY2tEYXRhKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuY2FsbChzY2FsZSwgdGlja0NvdW50KSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogW10pLm1hcCgodGljayA9PiAoe1xuICAgICAgICBpZDogdGljay5pbmRleCxcbiAgICAgICAgbGFiZWw6IHRpY2sudGljayxcbiAgICAgICAgdmFsdWU6IHRpY2sudmFsdWUsXG4gICAgICAgIHJhd1ZhbHVlOiB0aWNrLnRpY2tcbiAgICB9KSkpO1xuICAgIHJldHVybiBtZXJnZSh7fSwgZ3JpZFRoZW1lLCB7XG4gICAgICAgIGl0ZW1zOiBpdGVtc1xuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBHcmlkIGV4dGVuZHMgU2NhbGVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGdyb3VwLCBtb2RlKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIENvbXBvbmVudEVudW0uZ3JpZCwgZ3JvdXApLCB0aGlzLnNwZWMuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0uZ3JpZCwgXG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgfVxuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKSwgdGhpcy50YXJnZXQoc3BlYy50YXJnZXQpLCB0aGlzLmdyaWRUeXBlKHNwZWMuZ3JpZFR5cGUpLCBcbiAgICAgICAgdGhpcy5ncmlkU2hhcGUoc3BlYy5ncmlkU2hhcGUpLCB0aGlzO1xuICAgIH1cbiAgICBzY2FsZShzY2FsZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuc2NhbGUoc2NhbGUpLCB0aGlzLl9ncmlkQ29tcG9uZW50VHlwZSA9IG51bGwsIHRoaXM7XG4gICAgfVxuICAgIGdyaWRUeXBlKGdyaWRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuZ3JpZFR5cGUgPSBncmlkVHlwZSwgdGhpcy5fZ3JpZENvbXBvbmVudFR5cGUgPSBudWxsLCB0aGlzLl9wcmVwYXJlUmVqb2luKCksIFxuICAgICAgICB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBncmlkU2hhcGUoZ3JpZFNoYXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuZ3JpZFNoYXBlID0gZ3JpZFNoYXBlLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICB0YXJnZXQoYXhpcykge1xuICAgICAgICBpZiAodGhpcy5zcGVjLnRhcmdldCkge1xuICAgICAgICAgICAgY29uc3QgcHJldkF4aXMgPSBpc1N0cmluZyh0aGlzLnNwZWMudGFyZ2V0KSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZCh0aGlzLnNwZWMudGFyZ2V0KSA6IHRoaXMuc3BlYy50YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmRldGFjaChwcmV2QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGVjLnRhcmdldCA9IGF4aXM7XG4gICAgICAgIGNvbnN0IG5leHRBeGlzID0gaXNTdHJpbmcoYXhpcykgPyB0aGlzLnZpZXcuZ2V0TWFya0J5SWQoYXhpcykgOiBheGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2gobmV4dEF4aXMpLCB0aGlzLl90YXJnZXRBeGlzID0gbmV4dEF4aXMsIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlID0gbnVsbCwgXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCksIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIHRpY2tDb3VudCh0aWNrQ291bnQpIHtcbiAgICAgICAgY29uc3Qgc2NhbGVHcmFtbWFyID0gaXNTdHJpbmcodGhpcy5zcGVjLnNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5zcGVjLnNjYWxlKSA6IHRoaXMuc3BlYy5zY2FsZTtcbiAgICAgICAgcmV0dXJuIHNjYWxlR3JhbW1hciAmJiBzY2FsZUdyYW1tYXIudGlja0NvdW50KHRpY2tDb3VudCksIHRoaXMuc2V0RnVuY3Rpb25TcGVjKHRpY2tDb3VudCwgXCJ0aWNrQ291bnRcIik7XG4gICAgfVxuICAgIGluc2lkZShpbnNpZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKGluc2lkZSwgXCJpbnNpZGVcIik7XG4gICAgfVxuICAgIGJhc2VWYWx1ZShiYXNlVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKGJhc2VWYWx1ZSwgXCJiYXNlVmFsdWVcIik7XG4gICAgfVxuICAgIGFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSkge1xuICAgICAgICBjb25zdCBpbml0aWFsQXR0cmlidXRlcyA9IG1lcmdlKHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgc3RhcnQ6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmQ6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYXR0cnMpLCBncmFwaGljSXRlbSA9IEZhY3RvcnkuY3JlYXRlR3JhcGhpY0NvbXBvbmVudCh0aGlzLl9nZXRHcmlkQ29tcG9uZW50VHlwZSgpLCBpbml0aWFsQXR0cmlidXRlcywge1xuICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgc2tpcERlZmF1bHQ6IHRoaXMuc3BlYy5za2lwVGhlbWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGRHcmFwaGljSXRlbShpbml0aWFsQXR0cmlidXRlcywgZ3JvdXBLZXksIGdyYXBoaWNJdGVtKTtcbiAgICB9XG4gICAgX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCkge1xuICAgICAgICBjb25zdCBlbmNvZGVycyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdXBkYXRlOiB7fVxuICAgICAgICB9LCB0aGlzLnNwZWMuZW5jb2RlKSwgY29tcG9uZW50RW5jb2RlcnMgPSBPYmplY3Qua2V5cyhlbmNvZGVycykucmVkdWNlKCgocmVzLCBzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IGVuY29kZXJzW3N0YXRlXTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmIChyZXNbc3RhdGVdID0ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuc3BlYy5za2lwVGhlbWUgPyBudWxsIDogdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2NhbGVHcmFtbWFyLCBhZGRpdGlvbiA9IGludm9rZUVuY29kZXIoZW5jb2RlciwgZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlVmFsdWUgPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLmJhc2VWYWx1ZSwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGFyZ2V0QXhpcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0U2NhbGUgPSBudWxsID09PSAoX2EgPSB0aGlzLl90YXJnZXRBeGlzLmdldFNwZWMoKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVHcmFtbWFyID0gaXNTdHJpbmcodGFyZ2V0U2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0YXJnZXRTY2FsZSkgOiB0YXJnZXRTY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSB0aGlzLl90YXJnZXRBeGlzLmVsZW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQpIHN3aXRjaCAodGhpcy5fZ2V0R3JpZENvbXBvbmVudFR5cGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEdyaWRFbnVtLmxpbmVBeGlzR3JpZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbiA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic3RhcnRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbEZhY3RvcjogbnVsbCAhPT0gKF9iID0gdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwidmVydGljYWxGYWN0b3JcIikpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBHcmlkRW51bS5jaXJjbGVBeGlzR3JpZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbiA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IHRhcmdldEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImNlbnRlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJyYWRpdXNcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUmFkaXVzOiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJpbm5lclJhZGl1c1wiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zaWRlOiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJpbnNpZGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHRhcmdldEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInN0YXJ0QW5nbGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEFuZ2xlOiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJlbmRBbmdsZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGFkZGl0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnNpZGUgPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLmluc2lkZSwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpLCBjb29yZGluYXRlID0gbnVsbCA9PT0gKF9jID0gbnVsbCA9PSBzY2FsZUdyYW1tYXIgPyB2b2lkIDAgOiBzY2FsZUdyYW1tYXIuZ2V0Q29vcmRpbmF0ZSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmNhbGwoc2NhbGVHcmFtbWFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGUgJiYgKGFkZGl0aW9uID0gT2JqZWN0LmFzc2lnbihnZW5lcmF0ZUNvb3JkaW5hdGVBeGlzQXR0cmlidXRlKHNjYWxlR3JhbW1hciwgY29vcmRpbmF0ZSwgaW5zaWRlLCBiYXNlVmFsdWUsIHRoaXMuc3BlYy5sYXlvdXQsICEwKSwgYWRkaXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRHcmlkQ29tcG9uZW50VHlwZSgpID09PSBHcmlkRW51bS5saW5lQXhpc0dyaWQgJiYgKGFkZGl0aW9uID0gXCJsaW5lXCIgIT09IHRoaXMuc3BlYy5ncmlkU2hhcGUgJiYgdGhpcy5zcGVjLmdyaWRTaGFwZSA/IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBhZGRpdGlvbi5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlZDogITBcbiAgICAgICAgICAgICAgICAgICAgfSwgYWRkaXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuc3BlYy5ncmlkU2hhcGVcbiAgICAgICAgICAgICAgICAgICAgfSkgOiBPYmplY3QuYXNzaWduKHt9LCBhZGRpdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IG51bGwgPT09IChfZCA9IG51bGwgPT0gc2NhbGVHcmFtbWFyID8gdm9pZCAwIDogc2NhbGVHcmFtbWFyLmdldFNjYWxlKSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2QuY2FsbChzY2FsZUdyYW1tYXIpLCB0aWNrQ291bnQgPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLnRpY2tDb3VudCwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX2dldEdyaWRDb21wb25lbnRUeXBlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIEdyaWRFbnVtLmxpbmVBeGlzR3JpZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUxpbmVBeGlzR3JpZEF0dHJpYnV0ZXMoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbiwgdGlja0NvdW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgR3JpZEVudW0uY2lyY2xlQXhpc0dyaWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVDaXJjbGVBeGlzR3JpZEF0dHJpYnV0ZXMoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbiwgdGlja0NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkaXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHJlcztcbiAgICAgICAgfSksIHt9KTtcbiAgICAgICAgdGhpcy5fZW5jb2RlcnMgPSBjb21wb25lbnRFbmNvZGVycztcbiAgICB9XG4gICAgX2dldEdyaWRDb21wb25lbnRUeXBlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLl9ncmlkQ29tcG9uZW50VHlwZSkgcmV0dXJuIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlO1xuICAgICAgICBpZiAodGhpcy5zcGVjLmdyaWRUeXBlKSBpZiAoXCJjaXJjbGVcIiA9PT0gdGhpcy5zcGVjLmdyaWRUeXBlKSB0aGlzLl9ncmlkQ29tcG9uZW50VHlwZSA9IEdyaWRFbnVtLmNpcmNsZUF4aXNHcmlkOyBlbHNlIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlID0gR3JpZEVudW0ubGluZUF4aXNHcmlkOyBlbHNlIGlmICh0aGlzLl90YXJnZXRBeGlzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3RhcmdldEF4aXMuZ2V0QXhpc0NvbXBvbmVudFR5cGUoKSkge1xuICAgICAgICAgICAgICBjYXNlIEF4aXNFbnVtLmNpcmNsZUF4aXM6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ3JpZENvbXBvbmVudFR5cGUgPSBHcmlkRW51bS5jaXJjbGVBeGlzR3JpZDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIEF4aXNFbnVtLmxpbmVBeGlzOlxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlID0gR3JpZEVudW0ubGluZUF4aXNHcmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3BlYy5zY2FsZSkge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVHcmFtbWFyID0gaXNTdHJpbmcodGhpcy5zcGVjLnNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5zcGVjLnNjYWxlKSA6IHRoaXMuc3BlYy5zY2FsZTtcbiAgICAgICAgICAgIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlID0gKG51bGwgPT09IChfYSA9IG51bGwgPT0gc2NhbGVHcmFtbWFyID8gdm9pZCAwIDogc2NhbGVHcmFtbWFyLmdldENvb3JkaW5hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jYWxsKHNjYWxlR3JhbW1hcikpID8gc2NhbGVHcmFtbWFyLmdldENvb3JkaW5hdGVBeGlzUG9pbnRzKCkgPyBHcmlkRW51bS5saW5lQXhpc0dyaWQgOiBHcmlkRW51bS5jaXJjbGVBeGlzR3JpZCA6IEdyaWRFbnVtLmxpbmVBeGlzR3JpZDtcbiAgICAgICAgfSBlbHNlIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlID0gR3JpZEVudW0ubGluZUF4aXNHcmlkO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JpZENvbXBvbmVudFR5cGU7XG4gICAgfVxufVxuXG5HcmlkLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLmdyaWQ7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckdyaWQgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoR3JpZEVudW0ubGluZUF4aXNHcmlkLCAoKGF0dHJzLCBvcHRpb25zKSA9PiBuZXcgTGluZUF4aXNHcmlkKGF0dHJzLCBvcHRpb25zKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChHcmlkRW51bS5jaXJjbGVBeGlzR3JpZCwgKChhdHRycywgb3B0aW9ucykgPT4gbmV3IENpcmNsZUF4aXNHcmlkKGF0dHJzLCBvcHRpb25zKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0uZ3JpZCwgR3JpZCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJMaW5lR3JpZCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChHcmlkRW51bS5saW5lQXhpc0dyaWQsICgoYXR0cnMsIG9wdGlvbnMpID0+IG5ldyBMaW5lQXhpc0dyaWQoYXR0cnMsIG9wdGlvbnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50RW51bS5ncmlkLCBHcmlkKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckNpcmNsZUdyaWQgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoR3JpZEVudW0uY2lyY2xlQXhpc0dyaWQsICgoYXR0cnMsIG9wdGlvbnMpID0+IG5ldyBDaXJjbGVBeGlzR3JpZChhdHRycywgb3B0aW9ucykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLmdyaWQsIEdyaWQpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyaWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/grid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/index.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/index.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerAxis: () => (/* reexport safe */ _axis__WEBPACK_IMPORTED_MODULE_0__.registerAxis),\n/* harmony export */   registerCircleAxis: () => (/* reexport safe */ _axis__WEBPACK_IMPORTED_MODULE_0__.registerCircleAxis),\n/* harmony export */   registerCircleGrid: () => (/* reexport safe */ _grid__WEBPACK_IMPORTED_MODULE_7__.registerCircleGrid),\n/* harmony export */   registerDataZoom: () => (/* reexport safe */ _datazoom__WEBPACK_IMPORTED_MODULE_4__.registerDataZoom),\n/* harmony export */   registerGrid: () => (/* reexport safe */ _grid__WEBPACK_IMPORTED_MODULE_7__.registerGrid),\n/* harmony export */   registerLabel: () => (/* reexport safe */ _label__WEBPACK_IMPORTED_MODULE_3__.registerLabel),\n/* harmony export */   registerLegend: () => (/* reexport safe */ _legend__WEBPACK_IMPORTED_MODULE_1__.registerLegend),\n/* harmony export */   registerLineAxis: () => (/* reexport safe */ _axis__WEBPACK_IMPORTED_MODULE_0__.registerLineAxis),\n/* harmony export */   registerLineGrid: () => (/* reexport safe */ _grid__WEBPACK_IMPORTED_MODULE_7__.registerLineGrid),\n/* harmony export */   registerPlayer: () => (/* reexport safe */ _player__WEBPACK_IMPORTED_MODULE_5__.registerPlayer),\n/* harmony export */   registerScrollbar: () => (/* reexport safe */ _scrollbar__WEBPACK_IMPORTED_MODULE_8__.registerScrollbar),\n/* harmony export */   registerSlider: () => (/* reexport safe */ _slider__WEBPACK_IMPORTED_MODULE_2__.registerSlider),\n/* harmony export */   registerTitle: () => (/* reexport safe */ _title__WEBPACK_IMPORTED_MODULE_6__.registerTitle)\n/* harmony export */ });\n/* harmony import */ var _axis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./axis */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/axis.js\");\n/* harmony import */ var _legend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./legend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/legend.js\");\n/* harmony import */ var _slider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./slider */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/slider.js\");\n/* harmony import */ var _label__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./label */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/label.js\");\n/* harmony import */ var _datazoom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./datazoom */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/datazoom.js\");\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./player */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/player.js\");\n/* harmony import */ var _title__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./title */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/title.js\");\n/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./grid */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/grid.js\");\n/* harmony import */ var _scrollbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./scrollbar */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scrollbar.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEU7O0FBRWxDOztBQUVBOztBQUVGOztBQUVNOztBQUVKOztBQUVGOztBQUVvQzs7QUFFNUI7QUFDaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2luZGV4LmpzP2Q2ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgcmVnaXN0ZXJBeGlzLCByZWdpc3RlckNpcmNsZUF4aXMsIHJlZ2lzdGVyTGluZUF4aXMgfSBmcm9tIFwiLi9heGlzXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyTGVnZW5kIH0gZnJvbSBcIi4vbGVnZW5kXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyU2xpZGVyIH0gZnJvbSBcIi4vc2xpZGVyXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyTGFiZWwgfSBmcm9tIFwiLi9sYWJlbFwiO1xuXG5leHBvcnQgeyByZWdpc3RlckRhdGFab29tIH0gZnJvbSBcIi4vZGF0YXpvb21cIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJcIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJUaXRsZSB9IGZyb20gXCIuL3RpdGxlXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyR3JpZCwgcmVnaXN0ZXJDaXJjbGVHcmlkLCByZWdpc3RlckxpbmVHcmlkIH0gZnJvbSBcIi4vZ3JpZFwiO1xuXG5leHBvcnQgeyByZWdpc3RlclNjcm9sbGJhciB9IGZyb20gXCIuL3Njcm9sbGJhclwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/label.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/label.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   generateLabelAttributes: () => (/* binding */ generateLabelAttributes),\n/* harmony export */   registerLabel: () => (/* binding */ registerLabel)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/label/dataLabel.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\nvar __rest = undefined && undefined.__rest || function(s, e) {\n    var t = {};\n    for (var p in s) Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0 && (t[p] = s[p]);\n    if (null != s && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var i = 0;\n        for (p = Object.getOwnPropertySymbols(s); i < p.length; i++) e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]) && (t[p[i]] = s[p[i]]);\n    }\n    return t;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateLabelAttributes = (marks, groupSize, encoder, labelStyle, parameters, theme = {}) => {\n    var _a;\n    const labelTheme = null === (_a = theme.components) || void 0 === _a ? void 0 : _a.dataLabel, dataLabels = marks.map(((mark, index) => {\n        var _a, _b, _c, _d, _e;\n        const labelParameters = Object.assign(Object.assign({}, parameters), {\n            labelIndex: index\n        }), addition = null !== (_a = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(labelStyle, labelParameters, mark)) && void 0 !== _a ? _a : {}, {components: components = {}} = theme;\n        let currentTheme = {};\n        switch (mark.markType) {\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.line:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.area:\n            currentTheme = \"line\" === addition.type ? components.lineLabel : \"area\" === addition.type ? components.areaLabel : components.lineDataLabel;\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.rect:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.rect3d:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.interval:\n            currentTheme = components.rectLabel;\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.symbol:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.circle:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.cell:\n            currentTheme = components.symbolLabel;\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.arc:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.arc3d:\n            currentTheme = components.arcLabel;\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.polygon:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.path:\n          default:\n            currentTheme = components.pointLabel;\n        }\n        const data = null !== (_b = addition.data) && void 0 !== _b ? _b : [], themeDatum = null !== (_d = null === (_c = null == currentTheme ? void 0 : currentTheme.data) || void 0 === _c ? void 0 : _c[0]) && void 0 !== _d ? _d : {};\n        if (data && data.length > 0) data.forEach(((d, index) => {\n            if (mark.elements[index]) {\n                const attributes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_2__.invokeEncoder)(encoder, d, mark.elements[index], labelParameters);\n                (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(d, themeDatum, attributes);\n            }\n        })); else {\n            const mergeAttributes = (attributes, themeDatum) => {\n                const {data: labelData} = attributes, restAttribute = __rest(attributes, [ \"data\" ]);\n                return Object.assign(Object.assign({}, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({}, themeDatum, restAttribute)), {\n                    data: labelData\n                });\n            };\n            mark.elements.forEach((element => {\n                if (\"willRelease\" !== element.getGraphicItem().releaseStatus) if (mark.isCollectionMark()) {\n                    element.getDatum().forEach((entry => {\n                        const attributes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_2__.invokeEncoder)(encoder, entry, element, labelParameters);\n                        data.push(mergeAttributes(attributes, themeDatum));\n                    }));\n                } else {\n                    const attributes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_2__.invokeEncoder)(encoder, element.getDatum(), element, labelParameters);\n                    data.push(mergeAttributes(attributes, themeDatum));\n                }\n            }));\n        }\n        const graphicItemName = null === (_e = mark.graphicItem) || void 0 === _e ? void 0 : _e.name, result = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({}, currentTheme, {\n            baseMarkGroupName: graphicItemName,\n            getBaseMarks: () => mark.elements.map((element => element.getGraphicItem()))\n        }, null != addition ? addition : {});\n        return result.data = null != data ? data : currentTheme.data, result;\n    })).filter((label => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(label))), result = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({}, labelTheme, {\n        size: groupSize\n    });\n    return result.dataLabels = dataLabels, result;\n};\n\nclass Label extends _view_component__WEBPACK_IMPORTED_MODULE_5__.Component {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.labelStyle(spec.labelStyle), this.size(spec.size), \n        this.target(spec.target), this;\n    }\n    labelStyle(style) {\n        return this.setFunctionSpec(style, \"labelStyle\");\n    }\n    size(size) {\n        return this.setFunctionSpec(size, \"size\");\n    }\n    target(mark) {\n        if (this.spec.target) {\n            const prevMarks = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.array)(this.spec.target).map((m => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(m) ? this.view.getMarkById(m) : m));\n            this.detach(prevMarks);\n        }\n        if (this.spec.target = mark, mark) {\n            const nextMarks = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.array)(mark).map((m => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(m) ? this.view.getMarkById(m) : m));\n            this.attach(nextMarks);\n        }\n        return this.commit(), this;\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b, _c, _d;\n                    const marks = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.array)(this.spec.target).map((m => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(m) ? this.view.getMarkById(m) : m)), groupGraphicItem = null === (_b = null === (_a = this.group) || void 0 === _a ? void 0 : _a.getGroupGraphicItem) || void 0 === _b ? void 0 : _b.call(_a);\n                    let size = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(this.spec.size, parameters);\n                    size || (size = groupGraphicItem ? {\n                        width: null !== (_c = groupGraphicItem.attribute.width) && void 0 !== _c ? _c : groupGraphicItem.AABBBounds.width(),\n                        height: null !== (_d = groupGraphicItem.attribute.height) && void 0 !== _d ? _d : groupGraphicItem.AABBBounds.height()\n                    } : {\n                        width: 1 / 0,\n                        height: 1 / 0\n                    });\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme();\n                    return generateLabelAttributes(marks, size, encoder, this.spec.labelStyle, parameters, theme);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n}\n\nLabel.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label;\n\nconst registerLabel = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.DataLabel(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label, Label);\n};\n//# sourceMappingURL=label.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2xhYmVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLFNBQUksSUFBSSxTQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGNBQWM7QUFDaEU7QUFDQTtBQUNBOztBQUVpRTs7QUFFUjs7QUFFTzs7QUFFbEI7O0FBRU87O0FBRUY7O0FBRVQ7O0FBRW5DLDhGQUE4RjtBQUNyRztBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQSxTQUFTLDZCQUE2QiwrREFBa0IsK0RBQStELEdBQUcsNkJBQTZCO0FBQ3ZKO0FBQ0E7QUFDQSxlQUFlLHlEQUFlO0FBQzlCLGVBQWUseURBQWU7QUFDOUI7QUFDQTs7QUFFQSxlQUFlLHlEQUFlO0FBQzlCLGVBQWUseURBQWU7QUFDOUIsZUFBZSx5REFBZTtBQUM5QjtBQUNBOztBQUVBLGVBQWUseURBQWU7QUFDOUIsZUFBZSx5REFBZTtBQUM5QixlQUFlLHlEQUFlO0FBQzlCO0FBQ0E7O0FBRUEsZUFBZSx5REFBZTtBQUM5QixlQUFlLHlEQUFlO0FBQzlCO0FBQ0E7O0FBRUEsZUFBZSx5REFBZTtBQUM5QixlQUFlLHlEQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxpRUFBYTtBQUNoRCxnQkFBZ0IsNERBQUs7QUFDckI7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBLHVCQUF1QixpQkFBaUI7QUFDeEMscURBQXFELEVBQUUsNERBQUssR0FBRztBQUMvRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxpRUFBYTtBQUN4RDtBQUNBLHFCQUFxQjtBQUNyQixrQkFBa0I7QUFDbEIsdUNBQXVDLGlFQUFhO0FBQ3BEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSwrR0FBK0csNERBQUssR0FBRztBQUN2SDtBQUNBO0FBQ0EsU0FBUyxrQ0FBa0M7QUFDM0M7QUFDQSxLQUFLLHFCQUFxQiw0REFBSyxvQkFBb0IsNERBQUssR0FBRztBQUMzRDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPLG9CQUFvQixzREFBUztBQUNwQztBQUNBLG9CQUFvQix1REFBYSwwQ0FBMEMsdURBQWE7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdURBQUssNkJBQTZCLDREQUFRO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1REFBSyxpQkFBaUIsNERBQVE7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsdURBQUssNkJBQTZCLDREQUFRO0FBQzVFLCtCQUErQiwrREFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsS0FBSztBQUNkO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsdURBQWE7O0FBRTVCO0FBQ1AsSUFBSSxrREFBTywwQkFBMEIsdURBQWEsc0JBQXNCLG1FQUFTO0FBQ2pGLElBQUksa0RBQU8sbUJBQW1CLHVEQUFhO0FBQzNDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2xhYmVsLmpzPzFhY2EiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24ocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCAmJiAodFtwXSA9IHNbcF0pO1xuICAgIGlmIChudWxsICE9IHMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgZm9yIChwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pICYmICh0W3BbaV1dID0gc1twW2ldXSk7XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcblxuaW1wb3J0IHsgYXJyYXksIGlzTmlsLCBpc1N0cmluZywgbWVyZ2UgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBEYXRhTGFiZWwgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRFbnVtLCBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL3ZpZXcvY29tcG9uZW50XCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTGFiZWxBdHRyaWJ1dGVzID0gKG1hcmtzLCBncm91cFNpemUsIGVuY29kZXIsIGxhYmVsU3R5bGUsIHBhcmFtZXRlcnMsIHRoZW1lID0ge30pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbGFiZWxUaGVtZSA9IG51bGwgPT09IChfYSA9IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5kYXRhTGFiZWwsIGRhdGFMYWJlbHMgPSBtYXJrcy5tYXAoKChtYXJrLCBpbmRleCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICBjb25zdCBsYWJlbFBhcmFtZXRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcmFtZXRlcnMpLCB7XG4gICAgICAgICAgICBsYWJlbEluZGV4OiBpbmRleFxuICAgICAgICB9KSwgYWRkaXRpb24gPSBudWxsICE9PSAoX2EgPSBpbnZva2VGdW5jdGlvblR5cGUobGFiZWxTdHlsZSwgbGFiZWxQYXJhbWV0ZXJzLCBtYXJrKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge30sIHtjb21wb25lbnRzOiBjb21wb25lbnRzID0ge319ID0gdGhlbWU7XG4gICAgICAgIGxldCBjdXJyZW50VGhlbWUgPSB7fTtcbiAgICAgICAgc3dpdGNoIChtYXJrLm1hcmtUeXBlKSB7XG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUubGluZTpcbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5hcmVhOlxuICAgICAgICAgICAgY3VycmVudFRoZW1lID0gXCJsaW5lXCIgPT09IGFkZGl0aW9uLnR5cGUgPyBjb21wb25lbnRzLmxpbmVMYWJlbCA6IFwiYXJlYVwiID09PSBhZGRpdGlvbi50eXBlID8gY29tcG9uZW50cy5hcmVhTGFiZWwgOiBjb21wb25lbnRzLmxpbmVEYXRhTGFiZWw7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnJlY3Q6XG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUucmVjdDNkOlxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmludGVydmFsOlxuICAgICAgICAgICAgY3VycmVudFRoZW1lID0gY29tcG9uZW50cy5yZWN0TGFiZWw7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnN5bWJvbDpcbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5jaXJjbGU6XG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuY2VsbDpcbiAgICAgICAgICAgIGN1cnJlbnRUaGVtZSA9IGNvbXBvbmVudHMuc3ltYm9sTGFiZWw7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmFyYzpcbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5hcmMzZDpcbiAgICAgICAgICAgIGN1cnJlbnRUaGVtZSA9IGNvbXBvbmVudHMuYXJjTGFiZWw7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnBvbHlnb246XG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUucGF0aDpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY3VycmVudFRoZW1lID0gY29tcG9uZW50cy5wb2ludExhYmVsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBudWxsICE9PSAoX2IgPSBhZGRpdGlvbi5kYXRhKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBbXSwgdGhlbWVEYXR1bSA9IG51bGwgIT09IChfZCA9IG51bGwgPT09IChfYyA9IG51bGwgPT0gY3VycmVudFRoZW1lID8gdm9pZCAwIDogY3VycmVudFRoZW1lLmRhdGEpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfY1swXSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDoge307XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkgZGF0YS5mb3JFYWNoKCgoZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXJrLmVsZW1lbnRzW2luZGV4XSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGQsIG1hcmsuZWxlbWVudHNbaW5kZXhdLCBsYWJlbFBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgIG1lcmdlKGQsIHRoZW1lRGF0dW0sIGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VBdHRyaWJ1dGVzID0gKGF0dHJpYnV0ZXMsIHRoZW1lRGF0dW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7ZGF0YTogbGFiZWxEYXRhfSA9IGF0dHJpYnV0ZXMsIHJlc3RBdHRyaWJ1dGUgPSBfX3Jlc3QoYXR0cmlidXRlcywgWyBcImRhdGFcIiBdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBtZXJnZSh7fSwgdGhlbWVEYXR1bSwgcmVzdEF0dHJpYnV0ZSkpLCB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGxhYmVsRGF0YVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFwid2lsbFJlbGVhc2VcIiAhPT0gZWxlbWVudC5nZXRHcmFwaGljSXRlbSgpLnJlbGVhc2VTdGF0dXMpIGlmIChtYXJrLmlzQ29sbGVjdGlvbk1hcmsoKSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmdldERhdHVtKCkuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGludm9rZUVuY29kZXIoZW5jb2RlciwgZW50cnksIGVsZW1lbnQsIGxhYmVsUGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2gobWVyZ2VBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMsIHRoZW1lRGF0dW0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGVsZW1lbnQuZ2V0RGF0dW0oKSwgZWxlbWVudCwgbGFiZWxQYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKG1lcmdlQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCB0aGVtZURhdHVtKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtTmFtZSA9IG51bGwgPT09IChfZSA9IG1hcmsuZ3JhcGhpY0l0ZW0pIHx8IHZvaWQgMCA9PT0gX2UgPyB2b2lkIDAgOiBfZS5uYW1lLCByZXN1bHQgPSBtZXJnZSh7fSwgY3VycmVudFRoZW1lLCB7XG4gICAgICAgICAgICBiYXNlTWFya0dyb3VwTmFtZTogZ3JhcGhpY0l0ZW1OYW1lLFxuICAgICAgICAgICAgZ2V0QmFzZU1hcmtzOiAoKSA9PiBtYXJrLmVsZW1lbnRzLm1hcCgoZWxlbWVudCA9PiBlbGVtZW50LmdldEdyYXBoaWNJdGVtKCkpKVxuICAgICAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuZGF0YSA9IG51bGwgIT0gZGF0YSA/IGRhdGEgOiBjdXJyZW50VGhlbWUuZGF0YSwgcmVzdWx0O1xuICAgIH0pKS5maWx0ZXIoKGxhYmVsID0+ICFpc05pbChsYWJlbCkpKSwgcmVzdWx0ID0gbWVyZ2Uoe30sIGxhYmVsVGhlbWUsIHtcbiAgICAgICAgc2l6ZTogZ3JvdXBTaXplXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdC5kYXRhTGFiZWxzID0gZGF0YUxhYmVscywgcmVzdWx0O1xufTtcblxuZXhwb3J0IGNsYXNzIExhYmVsIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBncm91cCkge1xuICAgICAgICBzdXBlcih2aWV3LCBDb21wb25lbnRFbnVtLmxhYmVsLCBncm91cCksIHRoaXMuc3BlYy5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5sYWJlbDtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZUFkZGl0aW9uKHNwZWMpLCB0aGlzLmxhYmVsU3R5bGUoc3BlYy5sYWJlbFN0eWxlKSwgdGhpcy5zaXplKHNwZWMuc2l6ZSksIFxuICAgICAgICB0aGlzLnRhcmdldChzcGVjLnRhcmdldCksIHRoaXM7XG4gICAgfVxuICAgIGxhYmVsU3R5bGUoc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKHN0eWxlLCBcImxhYmVsU3R5bGVcIik7XG4gICAgfVxuICAgIHNpemUoc2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMoc2l6ZSwgXCJzaXplXCIpO1xuICAgIH1cbiAgICB0YXJnZXQobWFyaykge1xuICAgICAgICBpZiAodGhpcy5zcGVjLnRhcmdldCkge1xuICAgICAgICAgICAgY29uc3QgcHJldk1hcmtzID0gYXJyYXkodGhpcy5zcGVjLnRhcmdldCkubWFwKChtID0+IGlzU3RyaW5nKG0pID8gdGhpcy52aWV3LmdldE1hcmtCeUlkKG0pIDogbSkpO1xuICAgICAgICAgICAgdGhpcy5kZXRhY2gocHJldk1hcmtzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zcGVjLnRhcmdldCA9IG1hcmssIG1hcmspIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRNYXJrcyA9IGFycmF5KG1hcmspLm1hcCgobSA9PiBpc1N0cmluZyhtKSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZChtKSA6IG0pKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKG5leHRNYXJrcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycygpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVwZGF0ZToge31cbiAgICAgICAgfSwgdGhpcy5zcGVjLmVuY29kZSksIGNvbXBvbmVudEVuY29kZXJzID0gT2JqZWN0LmtleXMoZW5jb2RlcnMpLnJlZHVjZSgoKHJlcywgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGVyc1tzdGF0ZV07XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAocmVzW3N0YXRlXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya3MgPSBhcnJheSh0aGlzLnNwZWMudGFyZ2V0KS5tYXAoKG0gPT4gaXNTdHJpbmcobSkgPyB0aGlzLnZpZXcuZ2V0TWFya0J5SWQobSkgOiBtKSksIGdyb3VwR3JhcGhpY0l0ZW0gPSBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSB0aGlzLmdyb3VwKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZ2V0R3JvdXBHcmFwaGljSXRlbSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWMuc2l6ZSwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgfHwgKHNpemUgPSBncm91cEdyYXBoaWNJdGVtID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG51bGwgIT09IChfYyA9IGdyb3VwR3JhcGhpY0l0ZW0uYXR0cmlidXRlLndpZHRoKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBncm91cEdyYXBoaWNJdGVtLkFBQkJCb3VuZHMud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogbnVsbCAhPT0gKF9kID0gZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUuaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBncm91cEdyYXBoaWNJdGVtLkFBQkJCb3VuZHMuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxIC8gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMSAvIDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy5zcGVjLnNraXBUaGVtZSA/IG51bGwgOiB0aGlzLnZpZXcuZ2V0Q3VycmVudFRoZW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUxhYmVsQXR0cmlidXRlcyhtYXJrcywgc2l6ZSwgZW5jb2RlciwgdGhpcy5zcGVjLmxhYmVsU3R5bGUsIHBhcmFtZXRlcnMsIHRoZW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgcmVzO1xuICAgICAgICB9KSwge30pO1xuICAgICAgICB0aGlzLl9lbmNvZGVycyA9IGNvbXBvbmVudEVuY29kZXJzO1xuICAgIH1cbn1cblxuTGFiZWwuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0ubGFiZWw7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckxhYmVsID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KENvbXBvbmVudEVudW0ubGFiZWwsIChhdHRycyA9PiBuZXcgRGF0YUxhYmVsKGF0dHJzKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0ubGFiZWwsIExhYmVsKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYWJlbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/label.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/legend.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/legend.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Legend: () => (/* binding */ Legend),\n/* harmony export */   generateColorLegendAttributes: () => (/* binding */ generateColorLegendAttributes),\n/* harmony export */   generateDiscreteLegendAttributes: () => (/* binding */ generateDiscreteLegendAttributes),\n/* harmony export */   generateSizeLegendAttributes: () => (/* binding */ generateSizeLegendAttributes),\n/* harmony export */   registerLegend: () => (/* binding */ registerLegend)\n/* harmony export */ });\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/legend/discrete/discrete.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/legend/color/color.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/legend/size/size.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scale.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _interactions_legend_filter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../interactions/legend-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/legend-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateDiscreteLegendAttributes = (scale, theme, addition, shapeScale) => {\n    var _a;\n    const legendTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.discreteLegend;\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, null != addition ? addition : {});\n    const items = Array.from(new Set((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(scale.domain()))).map(((item, index) => {\n        var _a, _b, _c, _d, _e, _f;\n        const value = scale.scale(item), color = (0,_parse_util__WEBPACK_IMPORTED_MODULE_2__.parseColor)(value), shape = color ? Object.assign(Object.assign({}, null !== (_c = null === (_b = null === (_a = null == legendTheme ? void 0 : legendTheme.items) || void 0 === _a ? void 0 : _a[0]) || void 0 === _b ? void 0 : _b.shape) && void 0 !== _c ? _c : {}), {\n            fill: color,\n            stroke: color\n        }) : null !== (_f = null === (_e = null === (_d = null == legendTheme ? void 0 : legendTheme.items) || void 0 === _d ? void 0 : _d[0]) || void 0 === _e ? void 0 : _e.shape) && void 0 !== _f ? _f : {};\n        return shapeScale && Object.assign(shape, {\n            symbolType: shapeScale.scale(item)\n        }), {\n            label: item.toString(),\n            id: item,\n            shape: shape,\n            index: index\n        };\n    }));\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nconst generateColorLegendAttributes = (scale, theme, addition) => {\n    var _a;\n    const legendTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.colorLegend;\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, null != addition ? addition : {});\n    const domain = scale.domain();\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, {\n        colors: scale.range().slice(),\n        min: domain[0],\n        max: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.last)(domain)\n    }, null != addition ? addition : {});\n};\n\nconst generateSizeLegendAttributes = (scale, theme, addition) => {\n    var _a;\n    const legendTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.sizeLegend;\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, null != addition ? addition : {});\n    const domain = scale.domain(), attributes = {\n        min: domain[0],\n        max: domain[domain.length - 1],\n        value: [ domain[0], domain[domain.length - 1] ]\n    };\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, attributes, null != addition ? addition : {});\n};\n\nclass Legend extends _scale__WEBPACK_IMPORTED_MODULE_3__.ScaleComponent {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_4__.ComponentEnum.legend, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.ComponentEnum.legend, \n        this.spec.legendType = \"auto\";\n    }\n    parseAddition(spec) {\n        return this.shapeScale(spec.shapeScale), super.parseAddition(spec), this.legendType(spec.legendType), \n        this;\n    }\n    scale(scale) {\n        return super.scale(scale), this._legendComponentType = null, this;\n    }\n    shapeScale(shapeScale) {\n        if (this.spec.shapeScale) {\n            const lastScaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec.shapeScale) ? this.view.getScaleById(this.spec.shapeScale) : this.spec.shapeScale;\n            this.detach(lastScaleGrammar), this.spec.shapeScale = void 0;\n        }\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(shapeScale) ? this.view.getScaleById(shapeScale) : shapeScale;\n        return this.spec.shapeScale = scaleGrammar, this.attach(scaleGrammar), this.commit(), \n        this;\n    }\n    legendType(legendType) {\n        return this.spec.legendType = legendType, this._legendComponentType = null, this._prepareRejoin(), \n        this.commit(), this;\n    }\n    isContinuousLegend() {\n        return this._getLegendComponentType() !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.discreteLegend;\n    }\n    setSelected(selectedValues) {\n        return this.getGroupGraphicItem().setSelected(selectedValues), this;\n    }\n    addGraphicItem(attrs, groupKey) {\n        const graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.createGraphicComponent(this._getLegendComponentType(), attrs, {\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(attrs, groupKey, graphicItem);\n    }\n    _updateComponentEncoders() {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale, shapeScaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec.shapeScale) ? this.view.getScaleById(this.spec.shapeScale) : this.spec.shapeScale, encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)(encoder, datum, element, parameters), scale = null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getScale) || void 0 === _a ? void 0 : _a.call(scaleGrammar);\n                    switch (this._getLegendComponentType()) {\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.discreteLegend:\n                        return generateDiscreteLegendAttributes(scale, theme, addition, null === (_b = null == shapeScaleGrammar ? void 0 : shapeScaleGrammar.getScale) || void 0 === _b ? void 0 : _b.call(shapeScaleGrammar));\n\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.colorLegend:\n                        return generateColorLegendAttributes(scale, theme, addition);\n\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.sizeLegend:\n                        return generateSizeLegendAttributes(scale, theme, addition);\n                    }\n                    return addition;\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    _getLegendComponentType() {\n        var _a;\n        if (this._legendComponentType) return this._legendComponentType;\n        if (this.spec.legendType && \"auto\" !== this.spec.legendType) this._legendComponentType = \"color\" === this.spec.legendType ? \"colorLegend\" : \"size\" === this.spec.legendType ? \"sizeLegend\" : \"discreteLegend\"; else {\n            const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale, scaleType = null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getScaleType) || void 0 === _a ? void 0 : _a.call(scaleGrammar);\n            if (scaleType && (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_8__.isContinuous)(scaleType)) {\n                const range = scaleGrammar.getScale().range();\n                (0,_parse_util__WEBPACK_IMPORTED_MODULE_2__.parseColor)(null == range ? void 0 : range[0]) ? this._legendComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.colorLegend : this._legendComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.sizeLegend;\n            } else this._legendComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.discreteLegend;\n        }\n        return this._legendComponentType;\n    }\n}\n\nLegend.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.ComponentEnum.legend;\n\nconst registerLegend = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.discreteLegend, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.DiscreteLegend(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.colorLegend, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_10__.ColorContinuousLegend(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.sizeLegend, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_11__.SizeContinuousLegend(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.ComponentEnum.legend, Legend), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_13__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_13__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerInteraction(_interactions_legend_filter__WEBPACK_IMPORTED_MODULE_14__.LegendFilter.type, _interactions_legend_filter__WEBPACK_IMPORTED_MODULE_14__.LegendFilter);\n};\n//# sourceMappingURL=legend.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2xlZ2VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDs7QUFFMkQ7O0FBRXBDOztBQUVaOztBQUVoQjs7QUFFRjs7QUFFWTs7QUFFWDs7QUFFbUI7O0FBRUE7O0FBRXREO0FBQ1A7QUFDQTtBQUNBLHVCQUF1Qiw0REFBSyxHQUFHLCtDQUErQztBQUM5RSxxQ0FBcUMsdURBQUs7QUFDMUM7QUFDQSxpREFBaUQsdURBQVUsdURBQXVELG9NQUFvTTtBQUN0VDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTztBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsNERBQUssR0FBRywrQ0FBK0M7QUFDOUU7QUFDQSxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBLGFBQWEsc0RBQUk7QUFDakIsS0FBSyxrQ0FBa0M7QUFDdkM7O0FBRU87QUFDUDtBQUNBO0FBQ0EsdUJBQXVCLDREQUFLLEdBQUcsK0NBQStDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFLLEdBQUcsMkRBQTJEO0FBQzlFOztBQUVPLHFCQUFxQixrREFBYztBQUMxQztBQUNBLG9CQUFvQix1REFBYSwyQ0FBMkMsdURBQWE7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw0REFBUTtBQUM3QztBQUNBO0FBQ0EsNkJBQTZCLDREQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0RBQVU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrREFBTztBQUNuQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNERBQVEsbUdBQW1HLDREQUFRO0FBQ2hKO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLGlFQUFhO0FBQ3BIO0FBQ0EsMkJBQTJCLG9EQUFVO0FBQ3JDOztBQUVBLDJCQUEyQixvREFBVTtBQUNyQzs7QUFFQSwyQkFBMkIsb0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVOQUF1TjtBQUN2TixpQ0FBaUMsNERBQVE7QUFDekMsNkJBQTZCLDhEQUFZO0FBQ3pDO0FBQ0EsZ0JBQWdCLHVEQUFVLGtFQUFrRSxvREFBVSwyQ0FBMkMsb0RBQVU7QUFDM0osY0FBYyxpQ0FBaUMsb0RBQVU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLHVEQUFhOztBQUU3QjtBQUNQLElBQUksa0RBQU8sMEJBQTBCLG9EQUFVLCtCQUErQix3RUFBYztBQUM1RixJQUFJLGtEQUFPLDBCQUEwQixvREFBVSw0QkFBNEIsZ0ZBQXFCO0FBQ2hHLElBQUksa0RBQU8sMEJBQTBCLG9EQUFVLDJCQUEyQiwrRUFBb0I7QUFDOUYsSUFBSSxrREFBTyxtQkFBbUIsdURBQWEsa0JBQWtCLHdEQUFLLENBQUMseURBQU0sRUFBRSw4REFBVztBQUN0RixJQUFJLGtEQUFPLHFCQUFxQixzRUFBWSxPQUFPLHNFQUFZO0FBQy9EO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2xlZ2VuZC5qcz8yM2M3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQ29udGludW91cyB9IGZyb20gXCJAdmlzYWN0b3IvdnNjYWxlXCI7XG5cbmltcG9ydCB7IERpc2NyZXRlTGVnZW5kLCBDb2xvckNvbnRpbnVvdXNMZWdlbmQsIFNpemVDb250aW51b3VzTGVnZW5kIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgYXJyYXksIGlzU3RyaW5nLCBtZXJnZSwgbGFzdCwgbWl4aW4gfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRFbnVtLCBMZWdlbmRFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IHBhcnNlQ29sb3IgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBTY2FsZUNvbXBvbmVudCB9IGZyb20gXCIuL3NjYWxlXCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgTGVnZW5kRmlsdGVyIH0gZnJvbSBcIi4uL2ludGVyYWN0aW9ucy9sZWdlbmQtZmlsdGVyXCI7XG5cbmltcG9ydCB7IEZpbHRlciwgRmlsdGVyTWl4aW4gfSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25zL2ZpbHRlclwiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVEaXNjcmV0ZUxlZ2VuZEF0dHJpYnV0ZXMgPSAoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbiwgc2hhcGVTY2FsZSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBsZWdlbmRUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGlzY3JldGVMZWdlbmQ7XG4gICAgaWYgKCFzY2FsZSkgcmV0dXJuIG1lcmdlKHt9LCBsZWdlbmRUaGVtZSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xuICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbShuZXcgU2V0KGFycmF5KHNjYWxlLmRvbWFpbigpKSkpLm1hcCgoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNjYWxlLnNjYWxlKGl0ZW0pLCBjb2xvciA9IHBhcnNlQ29sb3IodmFsdWUpLCBzaGFwZSA9IGNvbG9yID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBudWxsICE9PSAoX2MgPSBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBudWxsID09IGxlZ2VuZFRoZW1lID8gdm9pZCAwIDogbGVnZW5kVGhlbWUuaXRlbXMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVswXSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLnNoYXBlKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiB7fSksIHtcbiAgICAgICAgICAgIGZpbGw6IGNvbG9yLFxuICAgICAgICAgICAgc3Ryb2tlOiBjb2xvclxuICAgICAgICB9KSA6IG51bGwgIT09IChfZiA9IG51bGwgPT09IChfZSA9IG51bGwgPT09IChfZCA9IG51bGwgPT0gbGVnZW5kVGhlbWUgPyB2b2lkIDAgOiBsZWdlbmRUaGVtZS5pdGVtcykgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kWzBdKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2Uuc2hhcGUpICYmIHZvaWQgMCAhPT0gX2YgPyBfZiA6IHt9O1xuICAgICAgICByZXR1cm4gc2hhcGVTY2FsZSAmJiBPYmplY3QuYXNzaWduKHNoYXBlLCB7XG4gICAgICAgICAgICBzeW1ib2xUeXBlOiBzaGFwZVNjYWxlLnNjYWxlKGl0ZW0pXG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBsYWJlbDogaXRlbS50b1N0cmluZygpLFxuICAgICAgICAgICAgaWQ6IGl0ZW0sXG4gICAgICAgICAgICBzaGFwZTogc2hhcGUsXG4gICAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgfTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBsZWdlbmRUaGVtZSwge1xuICAgICAgICBpdGVtczogaXRlbXNcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVDb2xvckxlZ2VuZEF0dHJpYnV0ZXMgPSAoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBsZWdlbmRUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY29sb3JMZWdlbmQ7XG4gICAgaWYgKCFzY2FsZSkgcmV0dXJuIG1lcmdlKHt9LCBsZWdlbmRUaGVtZSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xuICAgIGNvbnN0IGRvbWFpbiA9IHNjYWxlLmRvbWFpbigpO1xuICAgIHJldHVybiBtZXJnZSh7fSwgbGVnZW5kVGhlbWUsIHtcbiAgICAgICAgY29sb3JzOiBzY2FsZS5yYW5nZSgpLnNsaWNlKCksXG4gICAgICAgIG1pbjogZG9tYWluWzBdLFxuICAgICAgICBtYXg6IGxhc3QoZG9tYWluKVxuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNpemVMZWdlbmRBdHRyaWJ1dGVzID0gKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbGVnZW5kVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnNpemVMZWdlbmQ7XG4gICAgaWYgKCFzY2FsZSkgcmV0dXJuIG1lcmdlKHt9LCBsZWdlbmRUaGVtZSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xuICAgIGNvbnN0IGRvbWFpbiA9IHNjYWxlLmRvbWFpbigpLCBhdHRyaWJ1dGVzID0ge1xuICAgICAgICBtaW46IGRvbWFpblswXSxcbiAgICAgICAgbWF4OiBkb21haW5bZG9tYWluLmxlbmd0aCAtIDFdLFxuICAgICAgICB2YWx1ZTogWyBkb21haW5bMF0sIGRvbWFpbltkb21haW4ubGVuZ3RoIC0gMV0gXVxuICAgIH07XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBsZWdlbmRUaGVtZSwgYXR0cmlidXRlcywgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNsYXNzIExlZ2VuZCBleHRlbmRzIFNjYWxlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBncm91cCkge1xuICAgICAgICBzdXBlcih2aWV3LCBDb21wb25lbnRFbnVtLmxlZ2VuZCwgZ3JvdXApLCB0aGlzLnNwZWMuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0ubGVnZW5kLCBcbiAgICAgICAgdGhpcy5zcGVjLmxlZ2VuZFR5cGUgPSBcImF1dG9cIjtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYXBlU2NhbGUoc3BlYy5zaGFwZVNjYWxlKSwgc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKSwgdGhpcy5sZWdlbmRUeXBlKHNwZWMubGVnZW5kVHlwZSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBzY2FsZShzY2FsZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuc2NhbGUoc2NhbGUpLCB0aGlzLl9sZWdlbmRDb21wb25lbnRUeXBlID0gbnVsbCwgdGhpcztcbiAgICB9XG4gICAgc2hhcGVTY2FsZShzaGFwZVNjYWxlKSB7XG4gICAgICAgIGlmICh0aGlzLnNwZWMuc2hhcGVTY2FsZSkge1xuICAgICAgICAgICAgY29uc3QgbGFzdFNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zaGFwZVNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5zcGVjLnNoYXBlU2NhbGUpIDogdGhpcy5zcGVjLnNoYXBlU2NhbGU7XG4gICAgICAgICAgICB0aGlzLmRldGFjaChsYXN0U2NhbGVHcmFtbWFyKSwgdGhpcy5zcGVjLnNoYXBlU2NhbGUgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NhbGVHcmFtbWFyID0gaXNTdHJpbmcoc2hhcGVTY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHNoYXBlU2NhbGUpIDogc2hhcGVTY2FsZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5zaGFwZVNjYWxlID0gc2NhbGVHcmFtbWFyLCB0aGlzLmF0dGFjaChzY2FsZUdyYW1tYXIpLCB0aGlzLmNvbW1pdCgpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgbGVnZW5kVHlwZShsZWdlbmRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMubGVnZW5kVHlwZSA9IGxlZ2VuZFR5cGUsIHRoaXMuX2xlZ2VuZENvbXBvbmVudFR5cGUgPSBudWxsLCB0aGlzLl9wcmVwYXJlUmVqb2luKCksIFxuICAgICAgICB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBpc0NvbnRpbnVvdXNMZWdlbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMZWdlbmRDb21wb25lbnRUeXBlKCkgIT09IExlZ2VuZEVudW0uZGlzY3JldGVMZWdlbmQ7XG4gICAgfVxuICAgIHNldFNlbGVjdGVkKHNlbGVjdGVkVmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKS5zZXRTZWxlY3RlZChzZWxlY3RlZFZhbHVlcyksIHRoaXM7XG4gICAgfVxuICAgIGFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSkge1xuICAgICAgICBjb25zdCBncmFwaGljSXRlbSA9IEZhY3RvcnkuY3JlYXRlR3JhcGhpY0NvbXBvbmVudCh0aGlzLl9nZXRMZWdlbmRDb21wb25lbnRUeXBlKCksIGF0dHJzLCB7XG4gICAgICAgICAgICBza2lwRGVmYXVsdDogdGhpcy5zcGVjLnNraXBUaGVtZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSwgZ3JhcGhpY0l0ZW0pO1xuICAgIH1cbiAgICBfdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGUsIHNoYXBlU2NhbGVHcmFtbWFyID0gaXNTdHJpbmcodGhpcy5zcGVjLnNoYXBlU2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0aGlzLnNwZWMuc2hhcGVTY2FsZSkgOiB0aGlzLnNwZWMuc2hhcGVTY2FsZSwgZW5jb2RlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVwZGF0ZToge31cbiAgICAgICAgfSwgdGhpcy5zcGVjLmVuY29kZSksIGNvbXBvbmVudEVuY29kZXJzID0gT2JqZWN0LmtleXMoZW5jb2RlcnMpLnJlZHVjZSgoKHJlcywgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGVyc1tzdGF0ZV07XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAocmVzW3N0YXRlXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy5zcGVjLnNraXBUaGVtZSA/IG51bGwgOiB0aGlzLnZpZXcuZ2V0Q3VycmVudFRoZW1lKCksIGFkZGl0aW9uID0gaW52b2tlRW5jb2RlcihlbmNvZGVyLCBkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycyksIHNjYWxlID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSBzY2FsZUdyYW1tYXIgPyB2b2lkIDAgOiBzY2FsZUdyYW1tYXIuZ2V0U2NhbGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jYWxsKHNjYWxlR3JhbW1hcik7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fZ2V0TGVnZW5kQ29tcG9uZW50VHlwZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBMZWdlbmRFbnVtLmRpc2NyZXRlTGVnZW5kOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlRGlzY3JldGVMZWdlbmRBdHRyaWJ1dGVzKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24sIG51bGwgPT09IChfYiA9IG51bGwgPT0gc2hhcGVTY2FsZUdyYW1tYXIgPyB2b2lkIDAgOiBzaGFwZVNjYWxlR3JhbW1hci5nZXRTY2FsZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoc2hhcGVTY2FsZUdyYW1tYXIpKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGVnZW5kRW51bS5jb2xvckxlZ2VuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUNvbG9yTGVnZW5kQXR0cmlidXRlcyhzY2FsZSwgdGhlbWUsIGFkZGl0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGVnZW5kRW51bS5zaXplTGVnZW5kOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlU2l6ZUxlZ2VuZEF0dHJpYnV0ZXMoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZGl0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCByZXM7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzID0gY29tcG9uZW50RW5jb2RlcnM7XG4gICAgfVxuICAgIF9nZXRMZWdlbmRDb21wb25lbnRUeXBlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLl9sZWdlbmRDb21wb25lbnRUeXBlKSByZXR1cm4gdGhpcy5fbGVnZW5kQ29tcG9uZW50VHlwZTtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy5sZWdlbmRUeXBlICYmIFwiYXV0b1wiICE9PSB0aGlzLnNwZWMubGVnZW5kVHlwZSkgdGhpcy5fbGVnZW5kQ29tcG9uZW50VHlwZSA9IFwiY29sb3JcIiA9PT0gdGhpcy5zcGVjLmxlZ2VuZFR5cGUgPyBcImNvbG9yTGVnZW5kXCIgOiBcInNpemVcIiA9PT0gdGhpcy5zcGVjLmxlZ2VuZFR5cGUgPyBcInNpemVMZWdlbmRcIiA6IFwiZGlzY3JldGVMZWdlbmRcIjsgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZUdyYW1tYXIgPSBpc1N0cmluZyh0aGlzLnNwZWMuc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0aGlzLnNwZWMuc2NhbGUpIDogdGhpcy5zcGVjLnNjYWxlLCBzY2FsZVR5cGUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHNjYWxlR3JhbW1hciA/IHZvaWQgMCA6IHNjYWxlR3JhbW1hci5nZXRTY2FsZVR5cGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jYWxsKHNjYWxlR3JhbW1hcik7XG4gICAgICAgICAgICBpZiAoc2NhbGVUeXBlICYmIGlzQ29udGludW91cyhzY2FsZVR5cGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBzY2FsZUdyYW1tYXIuZ2V0U2NhbGUoKS5yYW5nZSgpO1xuICAgICAgICAgICAgICAgIHBhcnNlQ29sb3IobnVsbCA9PSByYW5nZSA/IHZvaWQgMCA6IHJhbmdlWzBdKSA/IHRoaXMuX2xlZ2VuZENvbXBvbmVudFR5cGUgPSBMZWdlbmRFbnVtLmNvbG9yTGVnZW5kIDogdGhpcy5fbGVnZW5kQ29tcG9uZW50VHlwZSA9IExlZ2VuZEVudW0uc2l6ZUxlZ2VuZDtcbiAgICAgICAgICAgIH0gZWxzZSB0aGlzLl9sZWdlbmRDb21wb25lbnRUeXBlID0gTGVnZW5kRW51bS5kaXNjcmV0ZUxlZ2VuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbGVnZW5kQ29tcG9uZW50VHlwZTtcbiAgICB9XG59XG5cbkxlZ2VuZC5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5sZWdlbmQ7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckxlZ2VuZCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChMZWdlbmRFbnVtLmRpc2NyZXRlTGVnZW5kLCAoYXR0cnMgPT4gbmV3IERpc2NyZXRlTGVnZW5kKGF0dHJzKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChMZWdlbmRFbnVtLmNvbG9yTGVnZW5kLCAoYXR0cnMgPT4gbmV3IENvbG9yQ29udGludW91c0xlZ2VuZChhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoTGVnZW5kRW51bS5zaXplTGVnZW5kLCAoYXR0cnMgPT4gbmV3IFNpemVDb250aW51b3VzTGVnZW5kKGF0dHJzKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0ubGVnZW5kLCBMZWdlbmQpLCBtaXhpbihGaWx0ZXIsIEZpbHRlck1peGluKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKExlZ2VuZEZpbHRlci50eXBlLCBMZWdlbmRGaWx0ZXIpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxlZ2VuZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/legend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/player.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/player.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Player: () => (/* binding */ Player),\n/* harmony export */   generateContinuousPlayerAttributes: () => (/* binding */ generateContinuousPlayerAttributes),\n/* harmony export */   generateDiscretePlayerAttributes: () => (/* binding */ generateDiscretePlayerAttributes),\n/* harmony export */   registerPlayer: () => (/* binding */ registerPlayer)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/player/continuous-player.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/player/discrete-player.js\");\n/* harmony import */ var _graph__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _interactions_player_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../interactions/player-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/player-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateContinuousPlayerAttributes = (data, theme, addition) => {\n    var _a;\n    const playerTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.continuousPlayer;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, playerTheme, {\n        data: data,\n        dataIndex: 0\n    }, null != addition ? addition : {});\n};\n\nconst generateDiscretePlayerAttributes = (data, theme, addition) => {\n    var _a;\n    const playerTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.discretePlayer;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, playerTheme, {\n        data: data,\n        dataIndex: 0\n    }, null != addition ? addition : {});\n};\n\nclass Player extends _view_component__WEBPACK_IMPORTED_MODULE_1__.Component {\n    constructor(view, group) {\n        super(view, _graph__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.player, group), this.spec.componentType = _graph__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.player, \n        this.spec.playerType = \"auto\";\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.playerType(spec.playerType), this.source(spec.source), \n        this;\n    }\n    playerType(playerType) {\n        return this.spec.playerType = playerType, this._playerComponentType = null, this._prepareRejoin(), \n        this.commit(), this;\n    }\n    source(source) {\n        var _a;\n        if (this.spec.source) {\n            const lastSource = null === (_a = this.spec) || void 0 === _a ? void 0 : _a.source, lastSourceDataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(lastSource) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(lastSource) ? this.view.getDataById(lastSource) : lastSource;\n            this.detach(lastSourceDataGrammar);\n        }\n        this.spec.source = source;\n        const sourceDataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(source) ? this.view.getDataById(source) : source;\n        return this.attach(sourceDataGrammar), this.commit(), this;\n    }\n    play() {\n        return this.getGroupGraphicItem().play(), this;\n    }\n    pause() {\n        return this.getGroupGraphicItem().pause(), this;\n    }\n    backward() {\n        return this.getGroupGraphicItem().backward(), this;\n    }\n    forward() {\n        return this.getGroupGraphicItem().forward(), this;\n    }\n    addGraphicItem(attrs, groupKey, newGraphicItem) {\n        const initialAttributes = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            slider: {\n                handlerStyle: {\n                    size: 16\n                }\n            }\n        }, attrs), graphicItem = null != newGraphicItem ? newGraphicItem : _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.createGraphicComponent(this._getPlayerComponentType(), initialAttributes, {\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_6__.invokeEncoder)(encoder, datum, element, parameters), source = this.spec.source, sourceDataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(source) ? this.view.getDataById(source) : source, sourceData = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source) ? source : null !== (_a = null == sourceDataGrammar ? void 0 : sourceDataGrammar.getValue()) && void 0 !== _a ? _a : [];\n                    switch (this._getPlayerComponentType()) {\n                      case \"continuousPlayer\":\n                        return generateContinuousPlayerAttributes(sourceData, theme, addition);\n\n                      case \"discretePlayer\":\n                        return generateDiscretePlayerAttributes(sourceData, theme, addition);\n                    }\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    _getPlayerComponentType() {\n        return this._playerComponentType || (this.spec.playerType && \"auto\" !== this.spec.playerType ? this._playerComponentType = \"discrete\" === this.spec.playerType ? \"discretePlayer\" : \"continuous\" === this.spec.playerType ? \"continuousPlayer\" : \"discretePlayer\" : this._playerComponentType = \"discretePlayer\"), \n        this._playerComponentType;\n    }\n}\n\nPlayer.componentType = _graph__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.player;\n\nconst registerPlayer = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerGraphicComponent(_graph__WEBPACK_IMPORTED_MODULE_2__.PlayerEnum.continuousPlayer, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.ContinuousPlayer(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerGraphicComponent(_graph__WEBPACK_IMPORTED_MODULE_2__.PlayerEnum.discretePlayer, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.DiscretePlayer(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerComponent(_graph__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.player, Player), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_10__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_10__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerInteraction(_interactions_player_filter__WEBPACK_IMPORTED_MODULE_11__.PlayerFilter.type, _interactions_player_filter__WEBPACK_IMPORTED_MODULE_11__.PlayerFilter);\n};\n//# sourceMappingURL=player.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3BsYXllci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1FOztBQUVhOztBQUUzQjs7QUFFUDs7QUFFTzs7QUFFWDs7QUFFbUI7O0FBRUE7O0FBRXREO0FBQ1A7QUFDQTtBQUNBLFdBQVcsNERBQUssR0FBRztBQUNuQjtBQUNBO0FBQ0EsS0FBSyxrQ0FBa0M7QUFDdkM7O0FBRU87QUFDUDtBQUNBO0FBQ0EsV0FBVyw0REFBSyxHQUFHO0FBQ25CO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTyxxQkFBcUIsc0RBQVM7QUFDckM7QUFDQSxvQkFBb0IsaURBQWEsMkNBQTJDLGlEQUFhO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0hBQXdILDREQUFPLHNCQUFzQiw0REFBUTtBQUM3SjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQU8sa0JBQWtCLDREQUFRO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw0REFBSztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxrRUFBa0Usa0RBQU87QUFDbEY7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RyxpRUFBYSxzRkFBc0YsNERBQU8sa0JBQWtCLDREQUFRLGdFQUFnRSw0REFBTztBQUNsVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLGlEQUFhOztBQUU3QjtBQUNQLElBQUksa0RBQU8sMEJBQTBCLDhDQUFVLGlDQUFpQywwRUFBZ0I7QUFDaEcsSUFBSSxrREFBTywwQkFBMEIsOENBQVUsK0JBQStCLHdFQUFjO0FBQzVGLElBQUksa0RBQU8sbUJBQW1CLGlEQUFhLGtCQUFrQix1REFBSyxDQUFDLHlEQUFNLEVBQUUsOERBQVc7QUFDdEYsSUFBSSxrREFBTyxxQkFBcUIsc0VBQVksT0FBTyxzRUFBWTtBQUMvRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9wbGF5ZXIuanM/N2ZjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0FycmF5LCBpc1N0cmluZywgbWVyZ2UsIG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ29udGludW91c1BsYXllciwgRGlzY3JldGVQbGF5ZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRFbnVtLCBQbGF5ZXJFbnVtIH0gZnJvbSBcIi4uL2dyYXBoXCI7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi92aWV3L2NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IFBsYXllckZpbHRlciB9IGZyb20gXCIuLi9pbnRlcmFjdGlvbnMvcGxheWVyLWZpbHRlclwiO1xuXG5pbXBvcnQgeyBGaWx0ZXIsIEZpbHRlck1peGluIH0gZnJvbSBcIi4uL2ludGVyYWN0aW9ucy9maWx0ZXJcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQ29udGludW91c1BsYXllckF0dHJpYnV0ZXMgPSAoZGF0YSwgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHBsYXllclRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jb250aW51b3VzUGxheWVyO1xuICAgIHJldHVybiBtZXJnZSh7fSwgcGxheWVyVGhlbWUsIHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgZGF0YUluZGV4OiAwXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlRGlzY3JldGVQbGF5ZXJBdHRyaWJ1dGVzID0gKGRhdGEsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBwbGF5ZXJUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGlzY3JldGVQbGF5ZXI7XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBwbGF5ZXJUaGVtZSwge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBkYXRhSW5kZXg6IDBcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBncm91cCkge1xuICAgICAgICBzdXBlcih2aWV3LCBDb21wb25lbnRFbnVtLnBsYXllciwgZ3JvdXApLCB0aGlzLnNwZWMuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0ucGxheWVyLCBcbiAgICAgICAgdGhpcy5zcGVjLnBsYXllclR5cGUgPSBcImF1dG9cIjtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZUFkZGl0aW9uKHNwZWMpLCB0aGlzLnBsYXllclR5cGUoc3BlYy5wbGF5ZXJUeXBlKSwgdGhpcy5zb3VyY2Uoc3BlYy5zb3VyY2UpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgcGxheWVyVHlwZShwbGF5ZXJUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMucGxheWVyVHlwZSA9IHBsYXllclR5cGUsIHRoaXMuX3BsYXllckNvbXBvbmVudFR5cGUgPSBudWxsLCB0aGlzLl9wcmVwYXJlUmVqb2luKCksIFxuICAgICAgICB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBzb3VyY2Uoc291cmNlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy5zb3VyY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTb3VyY2UgPSBudWxsID09PSAoX2EgPSB0aGlzLnNwZWMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zb3VyY2UsIGxhc3RTb3VyY2VEYXRhR3JhbW1hciA9IGlzQXJyYXkobGFzdFNvdXJjZSkgPyBudWxsIDogaXNTdHJpbmcobGFzdFNvdXJjZSkgPyB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQobGFzdFNvdXJjZSkgOiBsYXN0U291cmNlO1xuICAgICAgICAgICAgdGhpcy5kZXRhY2gobGFzdFNvdXJjZURhdGFHcmFtbWFyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwZWMuc291cmNlID0gc291cmNlO1xuICAgICAgICBjb25zdCBzb3VyY2VEYXRhR3JhbW1hciA9IGlzQXJyYXkoc291cmNlKSA/IG51bGwgOiBpc1N0cmluZyhzb3VyY2UpID8gdGhpcy52aWV3LmdldERhdGFCeUlkKHNvdXJjZSkgOiBzb3VyY2U7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaChzb3VyY2VEYXRhR3JhbW1hciksIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIHBsYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKS5wbGF5KCksIHRoaXM7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCkucGF1c2UoKSwgdGhpcztcbiAgICB9XG4gICAgYmFja3dhcmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKS5iYWNrd2FyZCgpLCB0aGlzO1xuICAgIH1cbiAgICBmb3J3YXJkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCkuZm9yd2FyZCgpLCB0aGlzO1xuICAgIH1cbiAgICBhZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXksIG5ld0dyYXBoaWNJdGVtKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxBdHRyaWJ1dGVzID0gbWVyZ2Uoe1xuICAgICAgICAgICAgc2xpZGVyOiB7XG4gICAgICAgICAgICAgICAgaGFuZGxlclN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpemU6IDE2XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBhdHRycyksIGdyYXBoaWNJdGVtID0gbnVsbCAhPSBuZXdHcmFwaGljSXRlbSA/IG5ld0dyYXBoaWNJdGVtIDogRmFjdG9yeS5jcmVhdGVHcmFwaGljQ29tcG9uZW50KHRoaXMuX2dldFBsYXllckNvbXBvbmVudFR5cGUoKSwgaW5pdGlhbEF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHNraXBEZWZhdWx0OiB0aGlzLnNwZWMuc2tpcFRoZW1lXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3VwZXIuYWRkR3JhcGhpY0l0ZW0oaW5pdGlhbEF0dHJpYnV0ZXMsIGdyb3VwS2V5LCBncmFwaGljSXRlbSk7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycygpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVwZGF0ZToge31cbiAgICAgICAgfSwgdGhpcy5zcGVjLmVuY29kZSksIGNvbXBvbmVudEVuY29kZXJzID0gT2JqZWN0LmtleXMoZW5jb2RlcnMpLnJlZHVjZSgoKHJlcywgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGVyc1tzdGF0ZV07XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAocmVzW3N0YXRlXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLnNwZWMuc2tpcFRoZW1lID8gbnVsbCA6IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKSwgYWRkaXRpb24gPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSwgc291cmNlID0gdGhpcy5zcGVjLnNvdXJjZSwgc291cmNlRGF0YUdyYW1tYXIgPSBpc0FycmF5KHNvdXJjZSkgPyBudWxsIDogaXNTdHJpbmcoc291cmNlKSA/IHRoaXMudmlldy5nZXREYXRhQnlJZChzb3VyY2UpIDogc291cmNlLCBzb3VyY2VEYXRhID0gaXNBcnJheShzb3VyY2UpID8gc291cmNlIDogbnVsbCAhPT0gKF9hID0gbnVsbCA9PSBzb3VyY2VEYXRhR3JhbW1hciA/IHZvaWQgMCA6IHNvdXJjZURhdGFHcmFtbWFyLmdldFZhbHVlKCkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX2dldFBsYXllckNvbXBvbmVudFR5cGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb250aW51b3VzUGxheWVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVDb250aW51b3VzUGxheWVyQXR0cmlidXRlcyhzb3VyY2VEYXRhLCB0aGVtZSwgYWRkaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRpc2NyZXRlUGxheWVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVEaXNjcmV0ZVBsYXllckF0dHJpYnV0ZXMoc291cmNlRGF0YSwgdGhlbWUsIGFkZGl0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCByZXM7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzID0gY29tcG9uZW50RW5jb2RlcnM7XG4gICAgfVxuICAgIF9nZXRQbGF5ZXJDb21wb25lbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWVyQ29tcG9uZW50VHlwZSB8fCAodGhpcy5zcGVjLnBsYXllclR5cGUgJiYgXCJhdXRvXCIgIT09IHRoaXMuc3BlYy5wbGF5ZXJUeXBlID8gdGhpcy5fcGxheWVyQ29tcG9uZW50VHlwZSA9IFwiZGlzY3JldGVcIiA9PT0gdGhpcy5zcGVjLnBsYXllclR5cGUgPyBcImRpc2NyZXRlUGxheWVyXCIgOiBcImNvbnRpbnVvdXNcIiA9PT0gdGhpcy5zcGVjLnBsYXllclR5cGUgPyBcImNvbnRpbnVvdXNQbGF5ZXJcIiA6IFwiZGlzY3JldGVQbGF5ZXJcIiA6IHRoaXMuX3BsYXllckNvbXBvbmVudFR5cGUgPSBcImRpc2NyZXRlUGxheWVyXCIpLCBcbiAgICAgICAgdGhpcy5fcGxheWVyQ29tcG9uZW50VHlwZTtcbiAgICB9XG59XG5cblBsYXllci5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5wbGF5ZXI7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclBsYXllciA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChQbGF5ZXJFbnVtLmNvbnRpbnVvdXNQbGF5ZXIsIChhdHRycyA9PiBuZXcgQ29udGludW91c1BsYXllcihhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoUGxheWVyRW51bS5kaXNjcmV0ZVBsYXllciwgKGF0dHJzID0+IG5ldyBEaXNjcmV0ZVBsYXllcihhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLnBsYXllciwgUGxheWVyKSwgbWl4aW4oRmlsdGVyLCBGaWx0ZXJNaXhpbiksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihQbGF5ZXJGaWx0ZXIudHlwZSwgUGxheWVyRmlsdGVyKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbGF5ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/player.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scale.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scale.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScaleComponent: () => (/* binding */ ScaleComponent)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n\n\n\n\nclass ScaleComponent extends _view_component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.scale(spec.scale), this;\n    }\n    scale(scale) {\n        if (this.spec.scale) {\n            const lastScaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n            this.detach(lastScaleGrammar), this.spec.scale = void 0;\n        }\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(scale) ? this.view.getScaleById(scale) : scale;\n        return this.spec.scale = scaleGrammar, this.attach(scaleGrammar), this._updateComponentEncoders(), \n        this.commit(), this;\n    }\n    getScale() {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n    }\n}\n//# sourceMappingURL=scale.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3NjYWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qzs7QUFFRTs7QUFFdkMsNkJBQTZCLHNEQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNERBQVE7QUFDN0M7QUFDQTtBQUNBLDZCQUE2Qiw0REFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQVE7QUFDdkI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9zY2FsZS5qcz8xMmZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL3ZpZXcvY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBTY2FsZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZUFkZGl0aW9uKHNwZWMpLCB0aGlzLnNjYWxlKHNwZWMuc2NhbGUpLCB0aGlzO1xuICAgIH1cbiAgICBzY2FsZShzY2FsZSkge1xuICAgICAgICBpZiAodGhpcy5zcGVjLnNjYWxlKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0U2NhbGVHcmFtbWFyID0gaXNTdHJpbmcodGhpcy5zcGVjLnNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5zcGVjLnNjYWxlKSA6IHRoaXMuc3BlYy5zY2FsZTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKGxhc3RTY2FsZUdyYW1tYXIpLCB0aGlzLnNwZWMuc2NhbGUgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NhbGVHcmFtbWFyID0gaXNTdHJpbmcoc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZChzY2FsZSkgOiBzY2FsZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5zY2FsZSA9IHNjYWxlR3JhbW1hciwgdGhpcy5hdHRhY2goc2NhbGVHcmFtbWFyKSwgdGhpcy5fdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSwgXG4gICAgICAgIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGdldFNjYWxlKCkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodGhpcy5zcGVjLnNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5zcGVjLnNjYWxlKSA6IHRoaXMuc3BlYy5zY2FsZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scrollbar.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scrollbar.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scrollbar: () => (/* binding */ Scrollbar),\n/* harmony export */   generateScrollbarAttributes: () => (/* binding */ generateScrollbarAttributes),\n/* harmony export */   registerScrollbar: () => (/* binding */ registerScrollbar)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/scrollbar/scrollbar.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scale.js\");\n/* harmony import */ var _interactions_scrollbar_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../interactions/scrollbar-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/scrollbar-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/direction.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateScrollbarAttributes = (groupSize, direction, position, theme, addition) => {\n    var _a, _b, _c, _d, _e;\n    const scrollbarTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.scrollbar;\n    let finalDirection = \"horizontal\", finalPosition = \"bottom\";\n    (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidDirection)(direction) || (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidPosition)(position) ? !(0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidDirection)(direction) && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidPosition)(position) ? (finalDirection = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontalPosition)(position) ? \"horizontal\" : \"vertical\", \n    finalPosition = position) : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidDirection)(direction) && !(0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidPosition)(position) ? (finalDirection = direction, \n    finalPosition = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(direction) ? \"bottom\" : \"right\") : (finalDirection = direction, \n    finalPosition = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(direction) && !(0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontalPosition)(position) ? \"bottom\" : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isVertical)(direction) && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontalPosition)(position) ? \"right\" : position) : (finalDirection = \"horizontal\", \n    finalPosition = \"bottom\");\n    const attributes = {\n        direction: finalDirection\n    };\n    if ((0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(finalDirection)) {\n        const size = null !== (_c = null !== (_b = addition.height) && void 0 !== _b ? _b : null == scrollbarTheme ? void 0 : scrollbarTheme.height) && void 0 !== _c ? _c : 12;\n        \"top\" === finalPosition ? Object.assign(attributes, {\n            width: groupSize.width,\n            height: size,\n            x: 0,\n            y: 0\n        }) : Object.assign(attributes, {\n            width: groupSize.width,\n            height: size,\n            x: 0,\n            y: groupSize.height - size\n        });\n    } else {\n        const size = null !== (_e = null !== (_d = addition.width) && void 0 !== _d ? _d : null == scrollbarTheme ? void 0 : scrollbarTheme.width) && void 0 !== _e ? _e : 12;\n        \"left\" === finalPosition ? Object.assign(attributes, {\n            width: size,\n            height: groupSize.height,\n            x: 0,\n            y: 0\n        }) : Object.assign(attributes, {\n            width: size,\n            height: groupSize.height,\n            x: groupSize.width - size,\n            y: 0\n        });\n    }\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, scrollbarTheme, attributes, null != addition ? addition : {});\n};\n\nclass Scrollbar extends _scale__WEBPACK_IMPORTED_MODULE_2__.ScaleComponent {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.container(spec.container), this.direction(spec.direction), \n        this.position(spec.position), this;\n    }\n    container(container) {\n        if (this.spec.container) {\n            const prevContainer = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.container) ? this.view.getMarkById(this.spec.container) : this.spec.container;\n            this.detach(prevContainer);\n        }\n        if (this.spec.container = container, container) {\n            const nextContainer = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(container) ? this.view.getMarkById(container) : container;\n            this.attach(nextContainer);\n        }\n        return this.commit(), this;\n    }\n    direction(direction) {\n        return this.setFunctionSpec(direction, \"direction\");\n    }\n    position(position) {\n        return this.setFunctionSpec(position, \"position\");\n    }\n    setScrollStart(start) {\n        var _a;\n        const scrollbar = this.getGroupGraphicItem(), range = null === (_a = null == scrollbar ? void 0 : scrollbar.attribute) || void 0 === _a ? void 0 : _a.range;\n        if (scrollbar && range) {\n            const nextRange = [ start, range[1] - range[0] + start ];\n            scrollbar.setScrollRange(nextRange);\n        }\n        return this;\n    }\n    getScrollRange() {\n        const scrollbar = this.getGroupGraphicItem();\n        if (scrollbar) return scrollbar.getScrollRange();\n    }\n    addGraphicItem(attrs, groupKey) {\n        const initialAttributes = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            range: [ 0, 1 ]\n        }, attrs), graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.createGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar, initialAttributes, {\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), direction = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.direction, parameters, datum, element), position = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.position, parameters, datum, element), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)(encoder, datum, element, parameters), targetMark = this.spec.container ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.container) ? this.view.getMarkById(this.spec.container) : this.spec.container : null, groupGraphicItem = (targetMark && targetMark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.group ? targetMark : this.group).getGroupGraphicItem(), size = groupGraphicItem ? {\n                        width: null !== (_a = groupGraphicItem.attribute.width) && void 0 !== _a ? _a : groupGraphicItem.AABBBounds.width(),\n                        height: null !== (_b = groupGraphicItem.attribute.height) && void 0 !== _b ? _b : groupGraphicItem.AABBBounds.height()\n                    } : {\n                        width: this.view.width(),\n                        height: this.view.height()\n                    };\n                    return generateScrollbarAttributes(size, direction, position, theme, addition);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n}\n\nScrollbar.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar;\n\nconst registerScrollbar = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.ScrollBar(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar, Scrollbar), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_10__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_10__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerInteraction(_interactions_scrollbar_filter__WEBPACK_IMPORTED_MODULE_11__.ScrollbarFilter.type, _interactions_scrollbar_filter__WEBPACK_IMPORTED_MODULE_11__.ScrollbarFilter);\n};\n//# sourceMappingURL=scrollbar.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3Njcm9sbGJhci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7O0FBRXFCOztBQUVmOztBQUVYOztBQUVGOztBQUVUOztBQUVEOztBQUUwQjs7QUFFTjs7QUFFK0Q7O0FBRXJIO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5RUFBZ0IsZUFBZSx3RUFBZSxjQUFjLHlFQUFnQixlQUFlLHdFQUFlLCtCQUErQiw2RUFBb0I7QUFDakssZ0NBQWdDLHlFQUFnQixnQkFBZ0Isd0VBQWU7QUFDL0Usb0JBQW9CLHFFQUFZO0FBQ2hDLG9CQUFvQixxRUFBWSxnQkFBZ0IsNkVBQW9CLHdCQUF3QixtRUFBVSxlQUFlLDZFQUFvQjtBQUN6STtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscUVBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxXQUFXLDREQUFLLEdBQUcsOERBQThEO0FBQ2pGOztBQUVPLHdCQUF3QixrREFBYztBQUM3QztBQUNBLG9CQUFvQix1REFBYSw4Q0FBOEMsdURBQWE7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDREQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw0REFBSztBQUN2QztBQUNBLFNBQVMsd0JBQXdCLGtEQUFPLHdCQUF3Qix1REFBYTtBQUM3RTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLCtEQUFrQiw4REFBOEQsK0RBQWtCLDZEQUE2RCxpRUFBYSwwRUFBMEUsNERBQVEsMkpBQTJKLHlEQUFlO0FBQ2hoQjtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBOztBQUVBLDBCQUEwQix1REFBYTs7QUFFaEM7QUFDUCxJQUFJLGtEQUFPLDBCQUEwQix1REFBYSwwQkFBMEIsbUVBQWtCO0FBQzlGLElBQUksa0RBQU8sbUJBQW1CLHVEQUFhLHdCQUF3Qix1REFBSyxDQUFDLHlEQUFNLEVBQUUsOERBQVc7QUFDNUYsSUFBSSxrREFBTyxxQkFBcUIsNEVBQWUsT0FBTyw0RUFBZTtBQUNyRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9zY3JvbGxiYXIuanM/NDBkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1N0cmluZywgbWVyZ2UsIG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgU2Nyb2xsQmFyIGFzIFNjcm9sbGJhckNvbXBvbmVudCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IENvbXBvbmVudEVudW0sIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IFNjYWxlQ29tcG9uZW50IH0gZnJvbSBcIi4vc2NhbGVcIjtcblxuaW1wb3J0IHsgU2Nyb2xsYmFyRmlsdGVyIH0gZnJvbSBcIi4uL2ludGVyYWN0aW9ucy9zY3JvbGxiYXItZmlsdGVyXCI7XG5cbmltcG9ydCB7IEZpbHRlciwgRmlsdGVyTWl4aW4gfSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25zL2ZpbHRlclwiO1xuXG5pbXBvcnQgeyBpc0hvcml6b250YWwsIGlzSG9yaXpvbnRhbFBvc2l0aW9uLCBpc1ZhbGlkRGlyZWN0aW9uLCBpc1ZhbGlkUG9zaXRpb24sIGlzVmVydGljYWwgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlU2Nyb2xsYmFyQXR0cmlidXRlcyA9IChncm91cFNpemUsIGRpcmVjdGlvbiwgcG9zaXRpb24sIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3Qgc2Nyb2xsYmFyVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnNjcm9sbGJhcjtcbiAgICBsZXQgZmluYWxEaXJlY3Rpb24gPSBcImhvcml6b250YWxcIiwgZmluYWxQb3NpdGlvbiA9IFwiYm90dG9tXCI7XG4gICAgaXNWYWxpZERpcmVjdGlvbihkaXJlY3Rpb24pIHx8IGlzVmFsaWRQb3NpdGlvbihwb3NpdGlvbikgPyAhaXNWYWxpZERpcmVjdGlvbihkaXJlY3Rpb24pICYmIGlzVmFsaWRQb3NpdGlvbihwb3NpdGlvbikgPyAoZmluYWxEaXJlY3Rpb24gPSBpc0hvcml6b250YWxQb3NpdGlvbihwb3NpdGlvbikgPyBcImhvcml6b250YWxcIiA6IFwidmVydGljYWxcIiwgXG4gICAgZmluYWxQb3NpdGlvbiA9IHBvc2l0aW9uKSA6IGlzVmFsaWREaXJlY3Rpb24oZGlyZWN0aW9uKSAmJiAhaXNWYWxpZFBvc2l0aW9uKHBvc2l0aW9uKSA/IChmaW5hbERpcmVjdGlvbiA9IGRpcmVjdGlvbiwgXG4gICAgZmluYWxQb3NpdGlvbiA9IGlzSG9yaXpvbnRhbChkaXJlY3Rpb24pID8gXCJib3R0b21cIiA6IFwicmlnaHRcIikgOiAoZmluYWxEaXJlY3Rpb24gPSBkaXJlY3Rpb24sIFxuICAgIGZpbmFsUG9zaXRpb24gPSBpc0hvcml6b250YWwoZGlyZWN0aW9uKSAmJiAhaXNIb3Jpem9udGFsUG9zaXRpb24ocG9zaXRpb24pID8gXCJib3R0b21cIiA6IGlzVmVydGljYWwoZGlyZWN0aW9uKSAmJiBpc0hvcml6b250YWxQb3NpdGlvbihwb3NpdGlvbikgPyBcInJpZ2h0XCIgOiBwb3NpdGlvbikgOiAoZmluYWxEaXJlY3Rpb24gPSBcImhvcml6b250YWxcIiwgXG4gICAgZmluYWxQb3NpdGlvbiA9IFwiYm90dG9tXCIpO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIGRpcmVjdGlvbjogZmluYWxEaXJlY3Rpb25cbiAgICB9O1xuICAgIGlmIChpc0hvcml6b250YWwoZmluYWxEaXJlY3Rpb24pKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSBudWxsICE9PSAoX2MgPSBudWxsICE9PSAoX2IgPSBhZGRpdGlvbi5oZWlnaHQpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IG51bGwgPT0gc2Nyb2xsYmFyVGhlbWUgPyB2b2lkIDAgOiBzY3JvbGxiYXJUaGVtZS5oZWlnaHQpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IDEyO1xuICAgICAgICBcInRvcFwiID09PSBmaW5hbFBvc2l0aW9uID8gT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICB3aWR0aDogZ3JvdXBTaXplLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfSkgOiBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHdpZHRoOiBncm91cFNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogZ3JvdXBTaXplLmhlaWdodCAtIHNpemVcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG51bGwgIT09IChfZSA9IG51bGwgIT09IChfZCA9IGFkZGl0aW9uLndpZHRoKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBudWxsID09IHNjcm9sbGJhclRoZW1lID8gdm9pZCAwIDogc2Nyb2xsYmFyVGhlbWUud2lkdGgpICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IDEyO1xuICAgICAgICBcImxlZnRcIiA9PT0gZmluYWxQb3NpdGlvbiA/IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcywge1xuICAgICAgICAgICAgd2lkdGg6IHNpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IGdyb3VwU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMFxuICAgICAgICB9KSA6IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcywge1xuICAgICAgICAgICAgd2lkdGg6IHNpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IGdyb3VwU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB4OiBncm91cFNpemUud2lkdGggLSBzaXplLFxuICAgICAgICAgICAgeTogMFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBzY3JvbGxiYXJUaGVtZSwgYXR0cmlidXRlcywgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNsYXNzIFNjcm9sbGJhciBleHRlbmRzIFNjYWxlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBncm91cCkge1xuICAgICAgICBzdXBlcih2aWV3LCBDb21wb25lbnRFbnVtLnNjcm9sbGJhciwgZ3JvdXApLCB0aGlzLnNwZWMuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0uc2Nyb2xsYmFyO1xuICAgIH1cbiAgICBwYXJzZUFkZGl0aW9uKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnBhcnNlQWRkaXRpb24oc3BlYyksIHRoaXMuY29udGFpbmVyKHNwZWMuY29udGFpbmVyKSwgdGhpcy5kaXJlY3Rpb24oc3BlYy5kaXJlY3Rpb24pLCBcbiAgICAgICAgdGhpcy5wb3NpdGlvbihzcGVjLnBvc2l0aW9uKSwgdGhpcztcbiAgICB9XG4gICAgY29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgICAgICBpZiAodGhpcy5zcGVjLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgcHJldkNvbnRhaW5lciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5jb250YWluZXIpID8gdGhpcy52aWV3LmdldE1hcmtCeUlkKHRoaXMuc3BlYy5jb250YWluZXIpIDogdGhpcy5zcGVjLmNvbnRhaW5lcjtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKHByZXZDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNwZWMuY29udGFpbmVyID0gY29udGFpbmVyLCBjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRDb250YWluZXIgPSBpc1N0cmluZyhjb250YWluZXIpID8gdGhpcy52aWV3LmdldE1hcmtCeUlkKGNvbnRhaW5lcikgOiBjb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaChuZXh0Q29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgZGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMoZGlyZWN0aW9uLCBcImRpcmVjdGlvblwiKTtcbiAgICB9XG4gICAgcG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKHBvc2l0aW9uLCBcInBvc2l0aW9uXCIpO1xuICAgIH1cbiAgICBzZXRTY3JvbGxTdGFydChzdGFydCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHNjcm9sbGJhciA9IHRoaXMuZ2V0R3JvdXBHcmFwaGljSXRlbSgpLCByYW5nZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gc2Nyb2xsYmFyID8gdm9pZCAwIDogc2Nyb2xsYmFyLmF0dHJpYnV0ZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnJhbmdlO1xuICAgICAgICBpZiAoc2Nyb2xsYmFyICYmIHJhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0UmFuZ2UgPSBbIHN0YXJ0LCByYW5nZVsxXSAtIHJhbmdlWzBdICsgc3RhcnQgXTtcbiAgICAgICAgICAgIHNjcm9sbGJhci5zZXRTY3JvbGxSYW5nZShuZXh0UmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRTY3JvbGxSYW5nZSgpIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsYmFyID0gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCk7XG4gICAgICAgIGlmIChzY3JvbGxiYXIpIHJldHVybiBzY3JvbGxiYXIuZ2V0U2Nyb2xsUmFuZ2UoKTtcbiAgICB9XG4gICAgYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5KSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxBdHRyaWJ1dGVzID0gbWVyZ2Uoe1xuICAgICAgICAgICAgcmFuZ2U6IFsgMCwgMSBdXG4gICAgICAgIH0sIGF0dHJzKSwgZ3JhcGhpY0l0ZW0gPSBGYWN0b3J5LmNyZWF0ZUdyYXBoaWNDb21wb25lbnQoQ29tcG9uZW50RW51bS5zY3JvbGxiYXIsIGluaXRpYWxBdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBza2lwRGVmYXVsdDogdGhpcy5zcGVjLnNraXBUaGVtZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmFkZEdyYXBoaWNJdGVtKGluaXRpYWxBdHRyaWJ1dGVzLCBncm91cEtleSwgZ3JhcGhpY0l0ZW0pO1xuICAgIH1cbiAgICBfdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZXJzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB1cGRhdGU6IHt9XG4gICAgICAgIH0sIHRoaXMuc3BlYy5lbmNvZGUpLCBjb21wb25lbnRFbmNvZGVycyA9IE9iamVjdC5rZXlzKGVuY29kZXJzKS5yZWR1Y2UoKChyZXMsIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gZW5jb2RlcnNbc3RhdGVdO1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgKHJlc1tzdGF0ZV0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuc3BlYy5za2lwVGhlbWUgPyBudWxsIDogdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpLCBkaXJlY3Rpb24gPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLmRpcmVjdGlvbiwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpLCBwb3NpdGlvbiA9IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWMucG9zaXRpb24sIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KSwgYWRkaXRpb24gPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSwgdGFyZ2V0TWFyayA9IHRoaXMuc3BlYy5jb250YWluZXIgPyBpc1N0cmluZyh0aGlzLnNwZWMuY29udGFpbmVyKSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZCh0aGlzLnNwZWMuY29udGFpbmVyKSA6IHRoaXMuc3BlYy5jb250YWluZXIgOiBudWxsLCBncm91cEdyYXBoaWNJdGVtID0gKHRhcmdldE1hcmsgJiYgdGFyZ2V0TWFyay5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwID8gdGFyZ2V0TWFyayA6IHRoaXMuZ3JvdXApLmdldEdyb3VwR3JhcGhpY0l0ZW0oKSwgc2l6ZSA9IGdyb3VwR3JhcGhpY0l0ZW0gPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogbnVsbCAhPT0gKF9hID0gZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUud2lkdGgpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGdyb3VwR3JhcGhpY0l0ZW0uQUFCQkJvdW5kcy53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBudWxsICE9PSAoX2IgPSBncm91cEdyYXBoaWNJdGVtLmF0dHJpYnV0ZS5oZWlnaHQpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IGdyb3VwR3JhcGhpY0l0ZW0uQUFCQkJvdW5kcy5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMudmlldy53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnZpZXcuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlU2Nyb2xsYmFyQXR0cmlidXRlcyhzaXplLCBkaXJlY3Rpb24sIHBvc2l0aW9uLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCByZXM7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzID0gY29tcG9uZW50RW5jb2RlcnM7XG4gICAgfVxufVxuXG5TY3JvbGxiYXIuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0uc2Nyb2xsYmFyO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTY3JvbGxiYXIgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoQ29tcG9uZW50RW51bS5zY3JvbGxiYXIsIChhdHRycyA9PiBuZXcgU2Nyb2xsYmFyQ29tcG9uZW50KGF0dHJzKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0uc2Nyb2xsYmFyLCBTY3JvbGxiYXIpLCBtaXhpbihGaWx0ZXIsIEZpbHRlck1peGluKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKFNjcm9sbGJhckZpbHRlci50eXBlLCBTY3JvbGxiYXJGaWx0ZXIpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcm9sbGJhci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/scrollbar.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/slider.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/slider.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Slider: () => (/* binding */ Slider),\n/* harmony export */   generateSliderAttributes: () => (/* binding */ generateSliderAttributes),\n/* harmony export */   registerSlider: () => (/* binding */ registerSlider)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/slider/slider.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _interactions_slider_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interactions/slider-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/slider-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateSliderAttributes = (min, max, theme, addition) => {\n    var _a;\n    const sliderTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.slider;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, sliderTheme, {\n        min: min,\n        max: max,\n        value: [ min, max ]\n    }, null != addition ? addition : {});\n};\n\nclass Slider extends _view_component__WEBPACK_IMPORTED_MODULE_1__.Component {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.min(spec.min), this.max(spec.max), this;\n    }\n    min(min) {\n        return this.setFunctionSpec(min, \"min\");\n    }\n    max(max) {\n        return this.setFunctionSpec(max, \"max\");\n    }\n    setStartEndValue(start, end) {\n        return this.getGroupGraphicItem().setValue([ start, end ]), this;\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    const min = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.min) ? 0 : (0,_parse_util__WEBPACK_IMPORTED_MODULE_4__.invokeFunctionType)(this.spec.min, parameters, datum, element), max = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.max) ? 1 : (0,_parse_util__WEBPACK_IMPORTED_MODULE_4__.invokeFunctionType)(this.spec.max, parameters, datum, element), theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__.invokeEncoder)(encoder, datum, element, parameters);\n                    return generateSliderAttributes(min, max, theme, addition);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n}\n\nSlider.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider;\n\nconst registerSlider = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.Slider(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider, Slider), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_9__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_9__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerInteraction(_interactions_slider_filter__WEBPACK_IMPORTED_MODULE_10__.SliderFilter.type, _interactions_slider_filter__WEBPACK_IMPORTED_MODULE_10__.SliderFilter);\n};\n//# sourceMappingURL=slider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3NsaWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDs7QUFFa0I7O0FBRTFCOztBQUVEOztBQUVPOztBQUVGOztBQUVUOztBQUVtQjs7QUFFQTs7QUFFdEQ7QUFDUDtBQUNBO0FBQ0EsV0FBVyw0REFBSyxHQUFHO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDOztBQUVPLHFCQUFxQixzREFBUztBQUNyQztBQUNBLG9CQUFvQix1REFBYSwyQ0FBMkMsdURBQWE7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDREQUFLLHNCQUFzQiwrREFBa0IsbURBQW1ELDREQUFLLHNCQUFzQiwrREFBa0IsMEhBQTBILGlFQUFhO0FBQ3BUO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBOztBQUVBLHVCQUF1Qix1REFBYTs7QUFFN0I7QUFDUCxJQUFJLGtEQUFPLDBCQUEwQix1REFBYSx1QkFBdUIsZ0VBQWU7QUFDeEYsSUFBSSxrREFBTyxtQkFBbUIsdURBQWEsa0JBQWtCLHVEQUFLLENBQUMsd0RBQU0sRUFBRSw2REFBVztBQUN0RixJQUFJLGtEQUFPLHFCQUFxQixzRUFBWSxPQUFPLHNFQUFZO0FBQy9EO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3NsaWRlci5qcz80NWU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsLCBtZXJnZSwgbWl4aW4gfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBTbGlkZXIgYXMgU2xpZGVyQ29tcG9uZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vdmlldy9jb21wb25lbnRcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlciB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2VuY29kZVwiO1xuXG5pbXBvcnQgeyBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBTbGlkZXJGaWx0ZXIgfSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25zL3NsaWRlci1maWx0ZXJcIjtcblxuaW1wb3J0IHsgRmlsdGVyLCBGaWx0ZXJNaXhpbiB9IGZyb20gXCIuLi9pbnRlcmFjdGlvbnMvZmlsdGVyXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNsaWRlckF0dHJpYnV0ZXMgPSAobWluLCBtYXgsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBzbGlkZXJUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc2xpZGVyO1xuICAgIHJldHVybiBtZXJnZSh7fSwgc2xpZGVyVGhlbWUsIHtcbiAgICAgICAgbWluOiBtaW4sXG4gICAgICAgIG1heDogbWF4LFxuICAgICAgICB2YWx1ZTogWyBtaW4sIG1heCBdXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNsYXNzIFNsaWRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldywgQ29tcG9uZW50RW51bS5zbGlkZXIsIGdyb3VwKSwgdGhpcy5zcGVjLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLnNsaWRlcjtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZUFkZGl0aW9uKHNwZWMpLCB0aGlzLm1pbihzcGVjLm1pbiksIHRoaXMubWF4KHNwZWMubWF4KSwgdGhpcztcbiAgICB9XG4gICAgbWluKG1pbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMobWluLCBcIm1pblwiKTtcbiAgICB9XG4gICAgbWF4KG1heCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMobWF4LCBcIm1heFwiKTtcbiAgICB9XG4gICAgc2V0U3RhcnRFbmRWYWx1ZShzdGFydCwgZW5kKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKS5zZXRWYWx1ZShbIHN0YXJ0LCBlbmQgXSksIHRoaXM7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycygpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVwZGF0ZToge31cbiAgICAgICAgfSwgdGhpcy5zcGVjLmVuY29kZSksIGNvbXBvbmVudEVuY29kZXJzID0gT2JqZWN0LmtleXMoZW5jb2RlcnMpLnJlZHVjZSgoKHJlcywgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGVyc1tzdGF0ZV07XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAocmVzW3N0YXRlXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IGlzTmlsKHRoaXMuc3BlYy5taW4pID8gMCA6IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWMubWluLCBwYXJhbWV0ZXJzLCBkYXR1bSwgZWxlbWVudCksIG1heCA9IGlzTmlsKHRoaXMuc3BlYy5tYXgpID8gMSA6IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWMubWF4LCBwYXJhbWV0ZXJzLCBkYXR1bSwgZWxlbWVudCksIHRoZW1lID0gdGhpcy5zcGVjLnNraXBUaGVtZSA/IG51bGwgOiB0aGlzLnZpZXcuZ2V0Q3VycmVudFRoZW1lKCksIGFkZGl0aW9uID0gaW52b2tlRW5jb2RlcihlbmNvZGVyLCBkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVNsaWRlckF0dHJpYnV0ZXMobWluLCBtYXgsIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHJlcztcbiAgICAgICAgfSksIHt9KTtcbiAgICAgICAgdGhpcy5fZW5jb2RlcnMgPSBjb21wb25lbnRFbmNvZGVycztcbiAgICB9XG59XG5cblNsaWRlci5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5zbGlkZXI7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclNsaWRlciA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChDb21wb25lbnRFbnVtLnNsaWRlciwgKGF0dHJzID0+IG5ldyBTbGlkZXJDb21wb25lbnQoYXR0cnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50RW51bS5zbGlkZXIsIFNsaWRlciksIG1peGluKEZpbHRlciwgRmlsdGVyTWl4aW4pLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oU2xpZGVyRmlsdGVyLnR5cGUsIFNsaWRlckZpbHRlcik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2xpZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/slider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/title.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/title.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Title: () => (/* binding */ Title),\n/* harmony export */   generateTitleAttributes: () => (/* binding */ generateTitleAttributes),\n/* harmony export */   registerTitle: () => (/* binding */ registerTitle)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/title/title.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateTitleAttributes = (title, subTitle, theme, addition) => {\n    var _a;\n    const titleTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.title, attributes = {};\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(title) && (attributes.text = title), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(subTitle) && (attributes.subtext = subTitle), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, titleTheme, attributes, null != addition ? addition : {});\n};\n\nclass Title extends _view_component__WEBPACK_IMPORTED_MODULE_2__.Component {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.title(spec.title), this.subTitle(spec.subTitle), \n        this;\n    }\n    title(text) {\n        return this.setFunctionSpec(text, \"title\");\n    }\n    subTitle(text) {\n        return this.setFunctionSpec(text, \"subTitle\");\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), title = (0,_parse_util__WEBPACK_IMPORTED_MODULE_4__.invokeFunctionType)(this.spec.title, parameters, datum, element), subTitle = (0,_parse_util__WEBPACK_IMPORTED_MODULE_4__.invokeFunctionType)(this.spec.subTitle, parameters, datum, element), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__.invokeEncoder)(encoder, datum, element, parameters);\n                    return generateTitleAttributes(title, subTitle, theme, addition);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n}\n\nTitle.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title;\n\nconst registerTitle = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.Title(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title, Title);\n};\n//# sourceMappingURL=title.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3RpdGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQWtEOztBQUVxQjs7QUFFeEI7O0FBRUQ7O0FBRU87O0FBRUY7O0FBRVQ7O0FBRW5DO0FBQ1A7QUFDQTtBQUNBLFdBQVcsNERBQU8sc0NBQXNDLDREQUFPO0FBQy9ELElBQUksNERBQUssR0FBRywwREFBMEQ7QUFDdEU7O0FBRU8sb0JBQW9CLHNEQUFTO0FBQ3BDO0FBQ0Esb0JBQW9CLHVEQUFhLDBDQUEwQyx1REFBYTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRywrREFBa0IsMERBQTBELCtEQUFrQiw2REFBNkQsaUVBQWE7QUFDNVE7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTLEtBQUs7QUFDZDtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLHVEQUFhOztBQUU1QjtBQUNQLElBQUksa0RBQU8sMEJBQTBCLHVEQUFhLHNCQUFzQiwrREFBYztBQUN0RixJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC90aXRsZS5qcz9mYTZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVmFsaWQsIG1lcmdlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgVGl0bGUgYXMgVGl0bGVDb21wb25lbnQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi92aWV3L2NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRpdGxlQXR0cmlidXRlcyA9ICh0aXRsZSwgc3ViVGl0bGUsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB0aXRsZVRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS50aXRsZSwgYXR0cmlidXRlcyA9IHt9O1xuICAgIHJldHVybiBpc1ZhbGlkKHRpdGxlKSAmJiAoYXR0cmlidXRlcy50ZXh0ID0gdGl0bGUpLCBpc1ZhbGlkKHN1YlRpdGxlKSAmJiAoYXR0cmlidXRlcy5zdWJ0ZXh0ID0gc3ViVGl0bGUpLCBcbiAgICBtZXJnZSh7fSwgdGl0bGVUaGVtZSwgYXR0cmlidXRlcywgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNsYXNzIFRpdGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBncm91cCkge1xuICAgICAgICBzdXBlcih2aWV3LCBDb21wb25lbnRFbnVtLnRpdGxlLCBncm91cCksIHRoaXMuc3BlYy5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS50aXRsZTtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZUFkZGl0aW9uKHNwZWMpLCB0aGlzLnRpdGxlKHNwZWMudGl0bGUpLCB0aGlzLnN1YlRpdGxlKHNwZWMuc3ViVGl0bGUpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgdGl0bGUodGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWModGV4dCwgXCJ0aXRsZVwiKTtcbiAgICB9XG4gICAgc3ViVGl0bGUodGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWModGV4dCwgXCJzdWJUaXRsZVwiKTtcbiAgICB9XG4gICAgX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCkge1xuICAgICAgICBjb25zdCBlbmNvZGVycyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdXBkYXRlOiB7fVxuICAgICAgICB9LCB0aGlzLnNwZWMuZW5jb2RlKSwgY29tcG9uZW50RW5jb2RlcnMgPSBPYmplY3Qua2V5cyhlbmNvZGVycykucmVkdWNlKCgocmVzLCBzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IGVuY29kZXJzW3N0YXRlXTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmIChyZXNbc3RhdGVdID0ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLnNwZWMuc2tpcFRoZW1lID8gbnVsbCA6IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKSwgdGl0bGUgPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLnRpdGxlLCBwYXJhbWV0ZXJzLCBkYXR1bSwgZWxlbWVudCksIHN1YlRpdGxlID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy5zdWJUaXRsZSwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpLCBhZGRpdGlvbiA9IGludm9rZUVuY29kZXIoZW5jb2RlciwgZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVUaXRsZUF0dHJpYnV0ZXModGl0bGUsIHN1YlRpdGxlLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCByZXM7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzID0gY29tcG9uZW50RW5jb2RlcnM7XG4gICAgfVxufVxuXG5UaXRsZS5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS50aXRsZTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVGl0bGUgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoQ29tcG9uZW50RW51bS50aXRsZSwgKGF0dHJzID0+IG5ldyBUaXRsZUNvbXBvbmVudChhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLnRpdGxlLCBUaXRsZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGl0bGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/title.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Factory: () => (/* binding */ Factory)\n/* harmony export */ });\n/* harmony import */ var _view_glyph_meta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/glyph-meta */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph-meta.js\");\n\n\nclass Factory {\n    static registerPlotMarks(key, mark) {\n        Factory._plotMarks[key] = mark;\n    }\n    static createPlotMark(type, id) {\n        if (!Factory._plotMarks[type]) return null;\n        return new (0, Factory._plotMarks[type])(id);\n    }\n    static registerMark(key, mark) {\n        Factory._marks[key] = mark;\n    }\n    static createMark(type, view, group) {\n        if (!Factory._marks[type]) return null;\n        return new (0, Factory._marks[type])(view, type, group);\n    }\n    static hasMark(type) {\n        return !!Factory._marks[type];\n    }\n    static getMark(type) {\n        return Factory._marks[type];\n    }\n    static registerComponent(key, component) {\n        Factory._components[key] = component;\n    }\n    static createComponent(componentType, view, group, mode) {\n        const Ctor = Factory._components[componentType];\n        return Ctor ? new Ctor(view, group, mode) : null;\n    }\n    static hasComponent(componentType) {\n        return !!Factory._components[componentType];\n    }\n    static registerGraphicComponent(key, creator) {\n        Factory._graphicComponents[key] = creator;\n    }\n    static createGraphicComponent(componentType, attrs, options) {\n        const compCreator = Factory._graphicComponents[componentType];\n        return compCreator ? compCreator(attrs, options) : null;\n    }\n    static registerTransform(type, transform, isBuiltIn) {\n        Factory._transforms[type] = Object.assign(transform, {\n            type: type,\n            isBuiltIn: !!isBuiltIn\n        });\n    }\n    static getTransform(type) {\n        return Factory._transforms[type];\n    }\n    static unregisterRuntimeTransforms() {\n        Object.keys(Factory._transforms).forEach((type => {\n            Factory._transforms[type] && !Factory._transforms[type].isBuiltIn && (Factory._transforms[type] = null);\n        }));\n    }\n    static registerGrammar(type, grammarClass, specKey) {\n        Factory._grammars[type] = {\n            grammarClass: grammarClass,\n            specKey: null != specKey ? specKey : type\n        };\n    }\n    static createGrammar(type, view, grammarType) {\n        var _a;\n        const Ctor = null === (_a = Factory._grammars[type]) || void 0 === _a ? void 0 : _a.grammarClass;\n        return Ctor ? new Ctor(view, grammarType) : null;\n    }\n    static getGrammars() {\n        return this._grammars;\n    }\n    static getGlyph(glyphType) {\n        return Factory._glyphs[glyphType];\n    }\n    static createInteraction(interactionType, view, options) {\n        const Ctor = Factory._interactions[interactionType];\n        return Ctor ? new Ctor(view, options) : null;\n    }\n    static hasInteraction(interactionType) {\n        return !!Factory._interactions[interactionType];\n    }\n}\n\nFactory._plotMarks = {}, Factory._marks = {}, Factory._components = {}, Factory._graphicComponents = {}, \nFactory._transforms = {}, Factory._grammars = {}, Factory._glyphs = {}, Factory._animations = {}, \nFactory._interactions = {}, Factory._graphics = {}, Factory._stageEventPlugins = {}, \nFactory.registerGlyph = (glyphType, marks, encoders, defaultEncoder, progressiveChannels) => (Factory._glyphs[glyphType] = new _view_glyph_meta__WEBPACK_IMPORTED_MODULE_0__.GlyphMeta(marks, encoders, defaultEncoder, progressiveChannels), \nFactory._glyphs[glyphType]), Factory.registerAnimationType = (animationType, animation) => {\n    Factory._animations[animationType] = animation;\n}, Factory.getAnimationType = animationType => Factory._animations[animationType], \nFactory.registerInteraction = (interactionType, interaction) => {\n    Factory._interactions[interactionType] = interaction;\n}, Factory.registerGraphic = (graphicType, creator) => {\n    Factory._graphics[graphicType] = creator;\n}, Factory.getGraphicType = graphicType => Factory._graphics[graphicType], Factory.createGraphic = (graphicType, attributes) => {\n    const creator = Factory._graphics[graphicType];\n    return creator ? creator(attributes) : null;\n}, Factory.registerDefaultLayout = layout => {\n    Factory.defaultLayout = layout;\n}, Factory.getDefaultLayout = () => Factory.defaultLayout, Factory.registerStageEventPlugin = (type, Plugin) => {\n    Factory._stageEventPlugins[type] = Plugin;\n}, Factory.getStageEventPlugin = type => Factory._stageEventPlugins[type];\n//# sourceMappingURL=factory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29yZS9mYWN0b3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStDOztBQUV4QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIscUJBQXFCLDBCQUEwQixpQ0FBaUM7QUFDdkcsd0JBQXdCLHdCQUF3QixzQkFBc0IsMEJBQTBCO0FBQ2hHLDBCQUEwQix3QkFBd0IsaUNBQWlDO0FBQ25GLCtIQUErSCx1REFBUztBQUN4STtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9jb3JlL2ZhY3RvcnkuanM/ZTQzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHbHlwaE1ldGEgfSBmcm9tIFwiLi4vdmlldy9nbHlwaC1tZXRhXCI7XG5cbmV4cG9ydCBjbGFzcyBGYWN0b3J5IHtcbiAgICBzdGF0aWMgcmVnaXN0ZXJQbG90TWFya3Moa2V5LCBtYXJrKSB7XG4gICAgICAgIEZhY3RvcnkuX3Bsb3RNYXJrc1trZXldID0gbWFyaztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVBsb3RNYXJrKHR5cGUsIGlkKSB7XG4gICAgICAgIGlmICghRmFjdG9yeS5fcGxvdE1hcmtzW3R5cGVdKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyAoMCwgRmFjdG9yeS5fcGxvdE1hcmtzW3R5cGVdKShpZCk7XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3Rlck1hcmsoa2V5LCBtYXJrKSB7XG4gICAgICAgIEZhY3RvcnkuX21hcmtzW2tleV0gPSBtYXJrO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlTWFyayh0eXBlLCB2aWV3LCBncm91cCkge1xuICAgICAgICBpZiAoIUZhY3RvcnkuX21hcmtzW3R5cGVdKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyAoMCwgRmFjdG9yeS5fbWFya3NbdHlwZV0pKHZpZXcsIHR5cGUsIGdyb3VwKTtcbiAgICB9XG4gICAgc3RhdGljIGhhc01hcmsodHlwZSkge1xuICAgICAgICByZXR1cm4gISFGYWN0b3J5Ll9tYXJrc1t0eXBlXTtcbiAgICB9XG4gICAgc3RhdGljIGdldE1hcmsodHlwZSkge1xuICAgICAgICByZXR1cm4gRmFjdG9yeS5fbWFya3NbdHlwZV07XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3RlckNvbXBvbmVudChrZXksIGNvbXBvbmVudCkge1xuICAgICAgICBGYWN0b3J5Ll9jb21wb25lbnRzW2tleV0gPSBjb21wb25lbnQ7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVDb21wb25lbnQoY29tcG9uZW50VHlwZSwgdmlldywgZ3JvdXAsIG1vZGUpIHtcbiAgICAgICAgY29uc3QgQ3RvciA9IEZhY3RvcnkuX2NvbXBvbmVudHNbY29tcG9uZW50VHlwZV07XG4gICAgICAgIHJldHVybiBDdG9yID8gbmV3IEN0b3IodmlldywgZ3JvdXAsIG1vZGUpIDogbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIGhhc0NvbXBvbmVudChjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiAhIUZhY3RvcnkuX2NvbXBvbmVudHNbY29tcG9uZW50VHlwZV07XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3RlckdyYXBoaWNDb21wb25lbnQoa2V5LCBjcmVhdG9yKSB7XG4gICAgICAgIEZhY3RvcnkuX2dyYXBoaWNDb21wb25lbnRzW2tleV0gPSBjcmVhdG9yO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlR3JhcGhpY0NvbXBvbmVudChjb21wb25lbnRUeXBlLCBhdHRycywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjb21wQ3JlYXRvciA9IEZhY3RvcnkuX2dyYXBoaWNDb21wb25lbnRzW2NvbXBvbmVudFR5cGVdO1xuICAgICAgICByZXR1cm4gY29tcENyZWF0b3IgPyBjb21wQ3JlYXRvcihhdHRycywgb3B0aW9ucykgOiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXJUcmFuc2Zvcm0odHlwZSwgdHJhbnNmb3JtLCBpc0J1aWx0SW4pIHtcbiAgICAgICAgRmFjdG9yeS5fdHJhbnNmb3Jtc1t0eXBlXSA9IE9iamVjdC5hc3NpZ24odHJhbnNmb3JtLCB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgaXNCdWlsdEluOiAhIWlzQnVpbHRJblxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGdldFRyYW5zZm9ybSh0eXBlKSB7XG4gICAgICAgIHJldHVybiBGYWN0b3J5Ll90cmFuc2Zvcm1zW3R5cGVdO1xuICAgIH1cbiAgICBzdGF0aWMgdW5yZWdpc3RlclJ1bnRpbWVUcmFuc2Zvcm1zKCkge1xuICAgICAgICBPYmplY3Qua2V5cyhGYWN0b3J5Ll90cmFuc2Zvcm1zKS5mb3JFYWNoKCh0eXBlID0+IHtcbiAgICAgICAgICAgIEZhY3RvcnkuX3RyYW5zZm9ybXNbdHlwZV0gJiYgIUZhY3RvcnkuX3RyYW5zZm9ybXNbdHlwZV0uaXNCdWlsdEluICYmIChGYWN0b3J5Ll90cmFuc2Zvcm1zW3R5cGVdID0gbnVsbCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIHJlZ2lzdGVyR3JhbW1hcih0eXBlLCBncmFtbWFyQ2xhc3MsIHNwZWNLZXkpIHtcbiAgICAgICAgRmFjdG9yeS5fZ3JhbW1hcnNbdHlwZV0gPSB7XG4gICAgICAgICAgICBncmFtbWFyQ2xhc3M6IGdyYW1tYXJDbGFzcyxcbiAgICAgICAgICAgIHNwZWNLZXk6IG51bGwgIT0gc3BlY0tleSA/IHNwZWNLZXkgOiB0eXBlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVHcmFtbWFyKHR5cGUsIHZpZXcsIGdyYW1tYXJUeXBlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgQ3RvciA9IG51bGwgPT09IChfYSA9IEZhY3RvcnkuX2dyYW1tYXJzW3R5cGVdKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZ3JhbW1hckNsYXNzO1xuICAgICAgICByZXR1cm4gQ3RvciA/IG5ldyBDdG9yKHZpZXcsIGdyYW1tYXJUeXBlKSA6IG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRHcmFtbWFycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJzO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0R2x5cGgoZ2x5cGhUeXBlKSB7XG4gICAgICAgIHJldHVybiBGYWN0b3J5Ll9nbHlwaHNbZ2x5cGhUeXBlXTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUludGVyYWN0aW9uKGludGVyYWN0aW9uVHlwZSwgdmlldywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBDdG9yID0gRmFjdG9yeS5faW50ZXJhY3Rpb25zW2ludGVyYWN0aW9uVHlwZV07XG4gICAgICAgIHJldHVybiBDdG9yID8gbmV3IEN0b3Iodmlldywgb3B0aW9ucykgOiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgaGFzSW50ZXJhY3Rpb24oaW50ZXJhY3Rpb25UeXBlKSB7XG4gICAgICAgIHJldHVybiAhIUZhY3RvcnkuX2ludGVyYWN0aW9uc1tpbnRlcmFjdGlvblR5cGVdO1xuICAgIH1cbn1cblxuRmFjdG9yeS5fcGxvdE1hcmtzID0ge30sIEZhY3RvcnkuX21hcmtzID0ge30sIEZhY3RvcnkuX2NvbXBvbmVudHMgPSB7fSwgRmFjdG9yeS5fZ3JhcGhpY0NvbXBvbmVudHMgPSB7fSwgXG5GYWN0b3J5Ll90cmFuc2Zvcm1zID0ge30sIEZhY3RvcnkuX2dyYW1tYXJzID0ge30sIEZhY3RvcnkuX2dseXBocyA9IHt9LCBGYWN0b3J5Ll9hbmltYXRpb25zID0ge30sIFxuRmFjdG9yeS5faW50ZXJhY3Rpb25zID0ge30sIEZhY3RvcnkuX2dyYXBoaWNzID0ge30sIEZhY3RvcnkuX3N0YWdlRXZlbnRQbHVnaW5zID0ge30sIFxuRmFjdG9yeS5yZWdpc3RlckdseXBoID0gKGdseXBoVHlwZSwgbWFya3MsIGVuY29kZXJzLCBkZWZhdWx0RW5jb2RlciwgcHJvZ3Jlc3NpdmVDaGFubmVscykgPT4gKEZhY3RvcnkuX2dseXBoc1tnbHlwaFR5cGVdID0gbmV3IEdseXBoTWV0YShtYXJrcywgZW5jb2RlcnMsIGRlZmF1bHRFbmNvZGVyLCBwcm9ncmVzc2l2ZUNoYW5uZWxzKSwgXG5GYWN0b3J5Ll9nbHlwaHNbZ2x5cGhUeXBlXSksIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlID0gKGFuaW1hdGlvblR5cGUsIGFuaW1hdGlvbikgPT4ge1xuICAgIEZhY3RvcnkuX2FuaW1hdGlvbnNbYW5pbWF0aW9uVHlwZV0gPSBhbmltYXRpb247XG59LCBGYWN0b3J5LmdldEFuaW1hdGlvblR5cGUgPSBhbmltYXRpb25UeXBlID0+IEZhY3RvcnkuX2FuaW1hdGlvbnNbYW5pbWF0aW9uVHlwZV0sIFxuRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uID0gKGludGVyYWN0aW9uVHlwZSwgaW50ZXJhY3Rpb24pID0+IHtcbiAgICBGYWN0b3J5Ll9pbnRlcmFjdGlvbnNbaW50ZXJhY3Rpb25UeXBlXSA9IGludGVyYWN0aW9uO1xufSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMgPSAoZ3JhcGhpY1R5cGUsIGNyZWF0b3IpID0+IHtcbiAgICBGYWN0b3J5Ll9ncmFwaGljc1tncmFwaGljVHlwZV0gPSBjcmVhdG9yO1xufSwgRmFjdG9yeS5nZXRHcmFwaGljVHlwZSA9IGdyYXBoaWNUeXBlID0+IEZhY3RvcnkuX2dyYXBoaWNzW2dyYXBoaWNUeXBlXSwgRmFjdG9yeS5jcmVhdGVHcmFwaGljID0gKGdyYXBoaWNUeXBlLCBhdHRyaWJ1dGVzKSA9PiB7XG4gICAgY29uc3QgY3JlYXRvciA9IEZhY3RvcnkuX2dyYXBoaWNzW2dyYXBoaWNUeXBlXTtcbiAgICByZXR1cm4gY3JlYXRvciA/IGNyZWF0b3IoYXR0cmlidXRlcykgOiBudWxsO1xufSwgRmFjdG9yeS5yZWdpc3RlckRlZmF1bHRMYXlvdXQgPSBsYXlvdXQgPT4ge1xuICAgIEZhY3RvcnkuZGVmYXVsdExheW91dCA9IGxheW91dDtcbn0sIEZhY3RvcnkuZ2V0RGVmYXVsdExheW91dCA9ICgpID0+IEZhY3RvcnkuZGVmYXVsdExheW91dCwgRmFjdG9yeS5yZWdpc3RlclN0YWdlRXZlbnRQbHVnaW4gPSAodHlwZSwgUGx1Z2luKSA9PiB7XG4gICAgRmFjdG9yeS5fc3RhZ2VFdmVudFBsdWdpbnNbdHlwZV0gPSBQbHVnaW47XG59LCBGYWN0b3J5LmdldFN0YWdlRXZlbnRQbHVnaW4gPSB0eXBlID0+IEZhY3RvcnkuX3N0YWdlRXZlbnRQbHVnaW5zW3R5cGVdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFjdG9yeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/env.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/env.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initAutoEnv: () => (/* binding */ initAutoEnv),\n/* harmony export */   initBrowserEnv: () => (/* reexport safe */ _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__.initBrowserEnv),\n/* harmony export */   initNodeEnv: () => (/* reexport safe */ _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_2__.initNodeEnv)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/env/browser.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/env/node.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/env-check.js\");\n\n\n\n\nconst initAutoEnv = () => {\n    (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.isBrowserEnv)() ? (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__.initBrowserEnv)() : (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.isNodeEnv)() && (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_2__.initNodeEnv)();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZW52LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxRTs7QUFFSjs7QUFFMUQ7QUFDUCxJQUFJLG9FQUFZLEtBQUssc0VBQWMsS0FBSyxpRUFBUyxNQUFNLG1FQUFXO0FBQ2xFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2Vudi5qcz9jMzA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRCcm93c2VyRW52LCBpbml0Tm9kZUVudiB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1raXRzXCI7XG5cbmltcG9ydCB7IGlzQnJvd3NlckVudiwgaXNOb2RlRW52IH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuZXhwb3J0IGNvbnN0IGluaXRBdXRvRW52ID0gKCkgPT4ge1xuICAgIGlzQnJvd3NlckVudigpID8gaW5pdEJyb3dzZXJFbnYoKSA6IGlzTm9kZUVudigpICYmIGluaXROb2RlRW52KCk7XG59O1xuXG5leHBvcnQgeyBpbml0QnJvd3NlckVudiwgaW5pdE5vZGVFbnYgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/boxplot.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/boxplot.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   barBoxplotScaleIn: () => (/* binding */ barBoxplotScaleIn),\n/* harmony export */   barBoxplotScaleOut: () => (/* binding */ barBoxplotScaleOut),\n/* harmony export */   boxplotScaleIn: () => (/* binding */ boxplotScaleIn),\n/* harmony export */   boxplotScaleOut: () => (/* binding */ boxplotScaleOut),\n/* harmony export */   registerBarBoxplotGlyph: () => (/* binding */ registerBarBoxplotGlyph),\n/* harmony export */   registerBoxplotGlyph: () => (/* binding */ registerBoxplotGlyph)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/direction.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\n\n\n\n\nconst scaleIn = computeCenter => (element, options, animationParameters) => {\n    var _a, _b, _c;\n    const direction = null !== (_c = null !== (_a = element.getGraphicAttribute(\"direction\", !1)) && void 0 !== _a ? _a : null === (_b = element.mark.getGlyphConfig()) || void 0 === _b ? void 0 : _b.direction) && void 0 !== _c ? _c : \"vertical\", center = computeCenter(element, direction, options);\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(center)) return {};\n    const x = element.getGraphicAttribute(\"x\", !1), y = element.getGraphicAttribute(\"y\", !1), min = element.getGraphicAttribute(\"min\", !1), max = element.getGraphicAttribute(\"max\", !1), q1 = element.getGraphicAttribute(\"q1\", !1), q3 = element.getGraphicAttribute(\"q3\", !1), median = element.getGraphicAttribute(\"median\", !1), animateAttributes = {\n        from: {\n            x: x,\n            y: y\n        },\n        to: {\n            x: x,\n            y: y\n        }\n    };\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) && (animateAttributes.from.min = center, animateAttributes.to.min = min), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) && (animateAttributes.from.max = center, animateAttributes.to.max = max), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1) && (animateAttributes.from.q1 = center, animateAttributes.to.q1 = q1), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q3) && (animateAttributes.from.q3 = center, animateAttributes.to.q3 = q3), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(median) && (animateAttributes.from.median = center, animateAttributes.to.median = median), \n    animateAttributes;\n}, scaleOut = computeCenter => (element, options, animationParameters) => {\n    var _a, _b, _c;\n    const direction = null !== (_c = null !== (_a = element.getGraphicAttribute(\"direction\", !1)) && void 0 !== _a ? _a : null === (_b = element.mark.getGlyphConfig()) || void 0 === _b ? void 0 : _b.direction) && void 0 !== _c ? _c : \"vertical\", center = computeCenter(element, direction, options);\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(center)) return {};\n    const x = element.getGraphicAttribute(\"x\", !0), y = element.getGraphicAttribute(\"y\", !0), min = element.getGraphicAttribute(\"min\", !0), max = element.getGraphicAttribute(\"max\", !0), q1 = element.getGraphicAttribute(\"q1\", !0), q3 = element.getGraphicAttribute(\"q3\", !0), median = element.getGraphicAttribute(\"median\", !0), animateAttributes = {\n        from: {\n            x: x,\n            y: y\n        },\n        to: {\n            x: x,\n            y: y\n        }\n    };\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) && (animateAttributes.to.min = center, animateAttributes.from.min = min), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) && (animateAttributes.to.max = center, animateAttributes.from.max = max), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1) && (animateAttributes.to.q1 = center, animateAttributes.from.q1 = q1), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q3) && (animateAttributes.to.q3 = center, animateAttributes.from.q3 = q3), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(median) && (animateAttributes.to.median = center, animateAttributes.from.median = median), \n    animateAttributes;\n}, computeBoxplotCenter = (glyphElement, direction, options) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    if (options && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.center)) return options.center;\n    let median, max, min, q1, q3;\n    if ((0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(direction)) {\n        median = null === (_b = null === (_a = glyphElement.getGraphicAttribute(\"points\", !1, \"median\")) || void 0 === _a ? void 0 : _a[0]) || void 0 === _b ? void 0 : _b.x, \n        max = null === (_d = null === (_c = glyphElement.getGraphicAttribute(\"points\", !1, \"max\")) || void 0 === _c ? void 0 : _c[0]) || void 0 === _d ? void 0 : _d.x, \n        min = null === (_f = null === (_e = glyphElement.getGraphicAttribute(\"points\", !1, \"min\")) || void 0 === _e ? void 0 : _e[0]) || void 0 === _f ? void 0 : _f.x;\n        const boxWidth = glyphElement.getGraphicAttribute(\"width\", !1, \"box\"), boxX = glyphElement.getGraphicAttribute(\"x\", !1, \"box\");\n        q1 = boxX, q3 = boxX + boxWidth;\n    } else {\n        median = null === (_h = null === (_g = glyphElement.getGraphicAttribute(\"points\", !1, \"median\")) || void 0 === _g ? void 0 : _g[0]) || void 0 === _h ? void 0 : _h.y, \n        max = null === (_k = null === (_j = glyphElement.getGraphicAttribute(\"points\", !1, \"max\")) || void 0 === _j ? void 0 : _j[0]) || void 0 === _k ? void 0 : _k.y, \n        min = null === (_m = null === (_l = glyphElement.getGraphicAttribute(\"points\", !1, \"min\")) || void 0 === _l ? void 0 : _l[0]) || void 0 === _m ? void 0 : _m.y;\n        const boxHeight = glyphElement.getGraphicAttribute(\"height\", !1, \"box\"), boxY = glyphElement.getGraphicAttribute(\"y\", !1, \"box\");\n        q1 = boxY, q3 = boxY + boxHeight;\n    }\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(median) ? median : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q3) ? (q1 + q3) / 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) ? (max + min) / 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) ? min : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) ? max : NaN;\n}, encodeBoxplotSize = (encodeValues, datum, element, config) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const attributes = {\n        shaft: {},\n        box: {},\n        max: {},\n        min: {},\n        median: {}\n    }, x = null !== (_a = encodeValues.x) && void 0 !== _a ? _a : element.getGraphicAttribute(\"x\", !1), y = null !== (_b = encodeValues.y) && void 0 !== _b ? _b : element.getGraphicAttribute(\"y\", !1), width = null !== (_c = encodeValues.width) && void 0 !== _c ? _c : element.getGraphicAttribute(\"width\", !1), height = null !== (_d = encodeValues.height) && void 0 !== _d ? _d : element.getGraphicAttribute(\"height\", !1), boxWidth = null !== (_e = encodeValues.boxWidth) && void 0 !== _e ? _e : element.getGraphicAttribute(\"boxWidth\", !1), boxHeight = null !== (_f = encodeValues.boxHeight) && void 0 !== _f ? _f : element.getGraphicAttribute(\"boxHeight\", !1), ruleWidth = null !== (_g = encodeValues.ruleWidth) && void 0 !== _g ? _g : element.getGraphicAttribute(\"ruleWidth\", !1), ruleHeight = null !== (_h = encodeValues.ruleHeight) && void 0 !== _h ? _h : element.getGraphicAttribute(\"ruleHeight\", !1);\n    return config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(boxHeight) ? (Object.assign(attributes.box, {\n        y: y - boxHeight / 2,\n        y1: y + boxHeight / 2\n    }), Object.assign(attributes.median, {\n        y: y - boxHeight / 2,\n        y1: y + boxHeight / 2\n    })) : (Object.assign(attributes.box, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }), Object.assign(attributes.median, {\n        y: y - height / 2,\n        y1: y + height / 2\n    })), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ruleHeight) ? (Object.assign(attributes.max, {\n        y: y - ruleHeight / 2,\n        y1: y + ruleHeight / 2\n    }), Object.assign(attributes.min, {\n        y: y - ruleHeight / 2,\n        y1: y + ruleHeight / 2\n    })) : (Object.assign(attributes.max, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }), Object.assign(attributes.min, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }))) : ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(boxWidth) ? (Object.assign(attributes.box, {\n        x: x - boxWidth / 2,\n        x1: x + boxWidth / 2\n    }), Object.assign(attributes.median, {\n        x: x - boxWidth / 2,\n        x1: x + boxWidth / 2\n    })) : (Object.assign(attributes.box, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), Object.assign(attributes.median, {\n        x: x - width / 2,\n        x1: x + width / 2\n    })), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ruleWidth) ? (Object.assign(attributes.max, {\n        x: x - ruleWidth / 2,\n        x1: x + ruleWidth / 2\n    }), Object.assign(attributes.min, {\n        x: x - ruleWidth / 2,\n        x1: x + ruleWidth / 2\n    })) : (Object.assign(attributes.max, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), Object.assign(attributes.min, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }))), attributes;\n};\n\nconst boxplotScaleIn = scaleIn(computeBoxplotCenter);\n\nconst boxplotScaleOut = scaleOut(computeBoxplotCenter);\n\nfunction registerBoxplotGlyph() {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGlyph(\"boxplot\", {\n        shaft: \"rule\",\n        box: \"rect\",\n        max: \"rule\",\n        min: \"rule\",\n        median: \"rule\"\n    }).registerProgressiveChannels([ \"x\", \"y\", \"q1\", \"q3\", \"min\", \"max\", \"median\", \"angle\", \"width\", \"height\", \"boxWidth\", \"boxHeight\", \"ruleWidth\", \"ruleHeight\" ]).registerFunctionEncoder(encodeBoxplotSize).registerChannelEncoder(\"x\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? null : {\n        shaft: {\n            x: encodeValue,\n            x1: encodeValue\n        }\n    })).registerChannelEncoder(\"y\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        shaft: {\n            y: encodeValue,\n            y1: encodeValue\n        }\n    } : null)).registerChannelEncoder(\"q1\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        box: {\n            x: encodeValue\n        }\n    } : {\n        box: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"q3\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        box: {\n            x1: encodeValue\n        }\n    } : {\n        box: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"min\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        shaft: {\n            x: encodeValue\n        },\n        min: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        shaft: {\n            y: encodeValue\n        },\n        min: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"max\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        shaft: {\n            x1: encodeValue\n        },\n        max: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        shaft: {\n            y1: encodeValue\n        },\n        max: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"median\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        median: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        median: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"angle\", ((channel, encodeValue, encodeValues, datum, element, config) => {\n        var _a;\n        const defaultAnchor = config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? [ (encodeValues.min + encodeValues.max) / 2, encodeValues.y ] : [ encodeValues.x, (encodeValues.min + encodeValues.max) / 2 ], anchor = null !== (_a = encodeValues.anchor) && void 0 !== _a ? _a : defaultAnchor;\n        return {\n            shaft: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            box: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            max: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            min: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            median: {\n                angle: encodeValue,\n                anchor: anchor\n            }\n        };\n    })).registerDefaultEncoder((() => ({\n        max: {\n            visible: !1\n        },\n        min: {\n            visible: !1\n        },\n        median: {\n            visible: !1\n        }\n    }))), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerAnimationType(\"boxplotScaleIn\", boxplotScaleIn), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerAnimationType(\"boxplotScaleOut\", boxplotScaleOut), \n    (0,_view_glyph__WEBPACK_IMPORTED_MODULE_3__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRectGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRuleGraphic)();\n}\n\nconst computeBarBoxplotCenter = (glyphElement, direction, options) => {\n    var _a, _b, _c, _d;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.center)) return options.center;\n    let median, max, min, q1, q3;\n    if ((0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(direction)) {\n        median = null === (_b = null === (_a = glyphElement.getGraphicAttribute(\"points\", !1, \"median\")) || void 0 === _a ? void 0 : _a[0]) || void 0 === _b ? void 0 : _b.x;\n        const minMaxBoxWidth = glyphElement.getGraphicAttribute(\"width\", !1, \"minMaxBox\"), minMaxBoxBoxX = glyphElement.getGraphicAttribute(\"x\", !1, \"minMaxBox\");\n        min = minMaxBoxBoxX, max = minMaxBoxBoxX + minMaxBoxWidth;\n        const q1q3BoxWidth = glyphElement.getGraphicAttribute(\"width\", !1, \"q1q3Box\"), q1q3BoxX = glyphElement.getGraphicAttribute(\"x\", !1, \"q1q3Box\");\n        q1 = q1q3BoxX, q3 = q1q3BoxX + q1q3BoxWidth;\n    } else {\n        median = null === (_d = null === (_c = glyphElement.getGraphicAttribute(\"points\", !1, \"median\")) || void 0 === _c ? void 0 : _c[0]) || void 0 === _d ? void 0 : _d.y;\n        const minMaxBoxHeight = glyphElement.getGraphicAttribute(\"height\", !1, \"minMaxBox\"), minMaxBoxBoxY = glyphElement.getGraphicAttribute(\"y\", !1, \"minMaxBox\");\n        min = minMaxBoxBoxY, max = minMaxBoxBoxY + minMaxBoxHeight;\n        const q1q3BoxHeight = glyphElement.getGraphicAttribute(\"height\", !1, \"q1q3Box\"), q1q3BoxY = glyphElement.getGraphicAttribute(\"y\", !1, \"q1q3Box\");\n        q1 = q1q3BoxY, q3 = q1q3BoxY + q1q3BoxHeight;\n    }\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(median) ? median : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q3) ? (q1 + q3) / 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) ? (max + min) / 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) ? min : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) ? max : NaN;\n}, encodeBarBoxplotSize = (encodeValues, datum, element, config) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const attributes = {\n        minMaxBox: {},\n        q1q3Box: {},\n        median: {}\n    }, x = null !== (_a = encodeValues.x) && void 0 !== _a ? _a : element.getGraphicAttribute(\"x\", !1), y = null !== (_b = encodeValues.y) && void 0 !== _b ? _b : element.getGraphicAttribute(\"y\", !1), width = null !== (_c = encodeValues.width) && void 0 !== _c ? _c : element.getGraphicAttribute(\"width\", !1), minMaxWidth = null !== (_d = encodeValues.minMaxWidth) && void 0 !== _d ? _d : element.getGraphicAttribute(\"minMaxWidth\", !1), q1q3Width = null !== (_e = encodeValues.q1q3Width) && void 0 !== _e ? _e : element.getGraphicAttribute(\"q1q3Width\", !1), height = null !== (_f = encodeValues.height) && void 0 !== _f ? _f : element.getGraphicAttribute(\"height\", !1), minMaxHeight = null !== (_g = encodeValues.minMaxHeight) && void 0 !== _g ? _g : element.getGraphicAttribute(\"minMaxHeight\", !1), q1q3Height = null !== (_h = encodeValues.q1q3Height) && void 0 !== _h ? _h : element.getGraphicAttribute(\"q1q3Height\", !1);\n    return config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(minMaxHeight) ? Object.assign(attributes.minMaxBox, {\n        y: y - minMaxHeight / 2,\n        y1: y + minMaxHeight / 2\n    }) : Object.assign(attributes.minMaxBox, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1q3Height) ? (Object.assign(attributes.q1q3Box, {\n        y: y - q1q3Height / 2,\n        y1: y + q1q3Height / 2\n    }), Object.assign(attributes.median, {\n        y: y - q1q3Height / 2,\n        y1: y + q1q3Height / 2\n    })) : (Object.assign(attributes.q1q3Box, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }), Object.assign(attributes.median, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }))) : ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(minMaxWidth) ? Object.assign(attributes.minMaxBox, {\n        x: x - minMaxWidth / 2,\n        x1: x + minMaxWidth / 2\n    }) : Object.assign(attributes.minMaxBox, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1q3Width) ? (Object.assign(attributes.q1q3Box, {\n        x: x - q1q3Width / 2,\n        x1: x + q1q3Width / 2\n    }), Object.assign(attributes.median, {\n        x: x - q1q3Width / 2,\n        x1: x + q1q3Width / 2\n    })) : (Object.assign(attributes.q1q3Box, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), Object.assign(attributes.median, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }))), attributes;\n};\n\nconst barBoxplotScaleIn = scaleIn(computeBarBoxplotCenter);\n\nconst barBoxplotScaleOut = scaleOut(computeBarBoxplotCenter);\n\nfunction registerBarBoxplotGlyph() {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGlyph(\"barBoxplot\", {\n        minMaxBox: \"rect\",\n        q1q3Box: \"rect\",\n        median: \"rule\"\n    }).registerProgressiveChannels([ \"x\", \"y\", \"q1\", \"q3\", \"min\", \"max\", \"median\", \"angle\", \"width\", \"height\", \"minMaxWidth\", \"q1q3Width\", \"minMaxHeight\", \"q1q3Height\" ]).registerFunctionEncoder(encodeBarBoxplotSize).registerChannelEncoder(\"q1\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        q1q3Box: {\n            x: encodeValue\n        }\n    } : {\n        q1q3Box: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"q3\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        q1q3Box: {\n            x1: encodeValue\n        }\n    } : {\n        q1q3Box: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"min\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        minMaxBox: {\n            x: encodeValue\n        }\n    } : {\n        minMaxBox: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"max\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        minMaxBox: {\n            x1: encodeValue\n        }\n    } : {\n        minMaxBox: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"median\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        median: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        median: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"angle\", ((channel, encodeValue, encodeValues, datum, element, config) => {\n        var _a;\n        const anchor = null !== (_a = encodeValues.anchor) && void 0 !== _a ? _a : [ encodeValues.x, (encodeValues.min + encodeValues.max) / 2 ];\n        return {\n            minMaxBox: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            q1q3Box: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            median: {\n                angle: encodeValue,\n                anchor: anchor\n            }\n        };\n    })).registerChannelEncoder(\"lineWidth\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        minMaxBox: {\n            lineWidth: 0\n        },\n        q1q3Box: {\n            lineWidth: 0\n        }\n    }))).registerChannelEncoder(\"minMaxFillOpacity\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        minMaxBox: {\n            fillOpacity: encodeValue\n        }\n    }))).registerChannelEncoder(\"stroke\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        minMaxBox: {\n            stroke: !1\n        },\n        q1q3Box: {\n            stroke: !1\n        }\n    }))).registerDefaultEncoder((() => ({\n        minMaxBox: {\n            lineWidth: 0\n        },\n        q1q3Box: {\n            lineWidth: 0\n        },\n        median: {\n            visible: !1\n        }\n    }))), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerAnimationType(\"barBoxplotScaleIn\", barBoxplotScaleIn), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerAnimationType(\"barBoxplotScaleOut\", barBoxplotScaleOut), \n    (0,_view_glyph__WEBPACK_IMPORTED_MODULE_3__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRectGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRuleGraphic)();\n}\n//# sourceMappingURL=boxplot.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvYm94cGxvdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFpRDs7QUFFUDs7QUFFNkQ7O0FBRWhEOztBQUVMOztBQUVsRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFhO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFhO0FBQ3hCLElBQUksNERBQWE7QUFDakIsSUFBSSw0REFBYTtBQUNqQixJQUFJLDREQUFhO0FBQ2pCLElBQUksNERBQWE7QUFDakI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFNBQVMsNERBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNERBQWE7QUFDeEIsSUFBSSw0REFBYTtBQUNqQixJQUFJLDREQUFhO0FBQ2pCLElBQUksNERBQWE7QUFDakIsSUFBSSw0REFBYTtBQUNqQjtBQUNBLENBQUM7QUFDRDtBQUNBLG1CQUFtQiw0REFBYTtBQUNoQztBQUNBLFFBQVEscUVBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFhLG9CQUFvQiw0REFBYSxRQUFRLDREQUFhLHVCQUF1Qiw0REFBYSxTQUFTLDREQUFhLDBCQUEwQiw0REFBYSxjQUFjLDREQUFhO0FBQzFNLENBQUM7QUFDRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZixlQUFlO0FBQ2YsZUFBZTtBQUNmO0FBQ0EsS0FBSztBQUNMLHFCQUFxQixxRUFBWSxzQkFBc0IsNERBQWE7QUFDcEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUssSUFBSSw0REFBYTtBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSyxPQUFPLDREQUFhO0FBQ3pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLLElBQUksNERBQWE7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFTzs7QUFFQTs7QUFFQTtBQUNQLElBQUksa0RBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxrVEFBa1QscUVBQVk7QUFDblU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBHQUEwRyxxRUFBWTtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUhBQWlILHFFQUFZO0FBQ25JO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJHQUEyRyxxRUFBWTtBQUM1SDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsS0FBSyw0R0FBNEcscUVBQVk7QUFDN0g7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEdBQTRHLHFFQUFZO0FBQzdIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtHQUErRyxxRUFBWTtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3Q0FBd0MscUVBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLGtEQUFPLDBEQUEwRCxrREFBTztBQUNsRixJQUFJLDhEQUFpQixJQUFJLHlFQUFvQixJQUFJLHdFQUFtQixJQUFJLHdFQUFtQjtBQUMzRjs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw0REFBYTtBQUNyQjtBQUNBLFFBQVEscUVBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFhLG9CQUFvQiw0REFBYSxRQUFRLDREQUFhLHVCQUF1Qiw0REFBYSxTQUFTLDREQUFhLDBCQUEwQiw0REFBYSxjQUFjLDREQUFhO0FBQzFNLENBQUM7QUFDRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLG1CQUFtQjtBQUNuQjtBQUNBLEtBQUs7QUFDTCxxQkFBcUIscUVBQVksc0JBQXNCLDREQUFhO0FBQ3BFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUssR0FBRyw0REFBYTtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSyxPQUFPLDREQUFhO0FBQ3pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUssR0FBRyw0REFBYTtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPOztBQUVBOztBQUVBO0FBQ1AsSUFBSSxrREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUssNFRBQTRULHFFQUFZO0FBQzdVO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJHQUEyRyxxRUFBWTtBQUM1SDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsS0FBSyw0R0FBNEcscUVBQVk7QUFDN0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEdBQTRHLHFFQUFZO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtHQUErRyxxRUFBWTtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLGtEQUFPLGdFQUFnRSxrREFBTztBQUN4RixJQUFJLDhEQUFpQixJQUFJLHlFQUFvQixJQUFJLHdFQUFtQixJQUFJLHdFQUFtQjtBQUMzRjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dseXBoL2JveHBsb3QuanM/NTUzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1ZhbGlkTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJHbHlwaEdyYXBoaWMsIHJlZ2lzdGVyUmVjdEdyYXBoaWMsIHJlZ2lzdGVyUnVsZUdyYXBoaWMgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9ncmFwaGljXCI7XG5cbmltcG9ydCB7IGlzSG9yaXpvbnRhbCB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5pbXBvcnQgeyByZWdpc3RlckdseXBoTWFyayB9IGZyb20gXCIuLi92aWV3L2dseXBoXCI7XG5cbmNvbnN0IHNjYWxlSW4gPSBjb21wdXRlQ2VudGVyID0+IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gbnVsbCAhPT0gKF9jID0gbnVsbCAhPT0gKF9hID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZGlyZWN0aW9uXCIsICExKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbCA9PT0gKF9iID0gZWxlbWVudC5tYXJrLmdldEdseXBoQ29uZmlnKCkpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5kaXJlY3Rpb24pICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IFwidmVydGljYWxcIiwgY2VudGVyID0gY29tcHV0ZUNlbnRlcihlbGVtZW50LCBkaXJlY3Rpb24sIG9wdGlvbnMpO1xuICAgIGlmICghaXNWYWxpZE51bWJlcihjZW50ZXIpKSByZXR1cm4ge307XG4gICAgY29uc3QgeCA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITEpLCB5ID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMSksIG1pbiA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm1pblwiLCAhMSksIG1heCA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm1heFwiLCAhMSksIHExID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicTFcIiwgITEpLCBxMyA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInEzXCIsICExKSwgbWVkaWFuID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwibWVkaWFuXCIsICExKSwgYW5pbWF0ZUF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaXNWYWxpZE51bWJlcihtaW4pICYmIChhbmltYXRlQXR0cmlidXRlcy5mcm9tLm1pbiA9IGNlbnRlciwgYW5pbWF0ZUF0dHJpYnV0ZXMudG8ubWluID0gbWluKSwgXG4gICAgaXNWYWxpZE51bWJlcihtYXgpICYmIChhbmltYXRlQXR0cmlidXRlcy5mcm9tLm1heCA9IGNlbnRlciwgYW5pbWF0ZUF0dHJpYnV0ZXMudG8ubWF4ID0gbWF4KSwgXG4gICAgaXNWYWxpZE51bWJlcihxMSkgJiYgKGFuaW1hdGVBdHRyaWJ1dGVzLmZyb20ucTEgPSBjZW50ZXIsIGFuaW1hdGVBdHRyaWJ1dGVzLnRvLnExID0gcTEpLCBcbiAgICBpc1ZhbGlkTnVtYmVyKHEzKSAmJiAoYW5pbWF0ZUF0dHJpYnV0ZXMuZnJvbS5xMyA9IGNlbnRlciwgYW5pbWF0ZUF0dHJpYnV0ZXMudG8ucTMgPSBxMyksIFxuICAgIGlzVmFsaWROdW1iZXIobWVkaWFuKSAmJiAoYW5pbWF0ZUF0dHJpYnV0ZXMuZnJvbS5tZWRpYW4gPSBjZW50ZXIsIGFuaW1hdGVBdHRyaWJ1dGVzLnRvLm1lZGlhbiA9IG1lZGlhbiksIFxuICAgIGFuaW1hdGVBdHRyaWJ1dGVzO1xufSwgc2NhbGVPdXQgPSBjb21wdXRlQ2VudGVyID0+IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gbnVsbCAhPT0gKF9jID0gbnVsbCAhPT0gKF9hID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZGlyZWN0aW9uXCIsICExKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbCA9PT0gKF9iID0gZWxlbWVudC5tYXJrLmdldEdseXBoQ29uZmlnKCkpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5kaXJlY3Rpb24pICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IFwidmVydGljYWxcIiwgY2VudGVyID0gY29tcHV0ZUNlbnRlcihlbGVtZW50LCBkaXJlY3Rpb24sIG9wdGlvbnMpO1xuICAgIGlmICghaXNWYWxpZE51bWJlcihjZW50ZXIpKSByZXR1cm4ge307XG4gICAgY29uc3QgeCA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITApLCB5ID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMCksIG1pbiA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm1pblwiLCAhMCksIG1heCA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm1heFwiLCAhMCksIHExID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicTFcIiwgITApLCBxMyA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInEzXCIsICEwKSwgbWVkaWFuID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwibWVkaWFuXCIsICEwKSwgYW5pbWF0ZUF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaXNWYWxpZE51bWJlcihtaW4pICYmIChhbmltYXRlQXR0cmlidXRlcy50by5taW4gPSBjZW50ZXIsIGFuaW1hdGVBdHRyaWJ1dGVzLmZyb20ubWluID0gbWluKSwgXG4gICAgaXNWYWxpZE51bWJlcihtYXgpICYmIChhbmltYXRlQXR0cmlidXRlcy50by5tYXggPSBjZW50ZXIsIGFuaW1hdGVBdHRyaWJ1dGVzLmZyb20ubWF4ID0gbWF4KSwgXG4gICAgaXNWYWxpZE51bWJlcihxMSkgJiYgKGFuaW1hdGVBdHRyaWJ1dGVzLnRvLnExID0gY2VudGVyLCBhbmltYXRlQXR0cmlidXRlcy5mcm9tLnExID0gcTEpLCBcbiAgICBpc1ZhbGlkTnVtYmVyKHEzKSAmJiAoYW5pbWF0ZUF0dHJpYnV0ZXMudG8ucTMgPSBjZW50ZXIsIGFuaW1hdGVBdHRyaWJ1dGVzLmZyb20ucTMgPSBxMyksIFxuICAgIGlzVmFsaWROdW1iZXIobWVkaWFuKSAmJiAoYW5pbWF0ZUF0dHJpYnV0ZXMudG8ubWVkaWFuID0gY2VudGVyLCBhbmltYXRlQXR0cmlidXRlcy5mcm9tLm1lZGlhbiA9IG1lZGlhbiksIFxuICAgIGFuaW1hdGVBdHRyaWJ1dGVzO1xufSwgY29tcHV0ZUJveHBsb3RDZW50ZXIgPSAoZ2x5cGhFbGVtZW50LCBkaXJlY3Rpb24sIG9wdGlvbnMpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbTtcbiAgICBpZiAob3B0aW9ucyAmJiBpc1ZhbGlkTnVtYmVyKG9wdGlvbnMuY2VudGVyKSkgcmV0dXJuIG9wdGlvbnMuY2VudGVyO1xuICAgIGxldCBtZWRpYW4sIG1heCwgbWluLCBxMSwgcTM7XG4gICAgaWYgKGlzSG9yaXpvbnRhbChkaXJlY3Rpb24pKSB7XG4gICAgICAgIG1lZGlhbiA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExLCBcIm1lZGlhblwiKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hWzBdKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IueCwgXG4gICAgICAgIG1heCA9IG51bGwgPT09IChfZCA9IG51bGwgPT09IChfYyA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExLCBcIm1heFwiKSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jWzBdKSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2QueCwgXG4gICAgICAgIG1pbiA9IG51bGwgPT09IChfZiA9IG51bGwgPT09IChfZSA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExLCBcIm1pblwiKSkgfHwgdm9pZCAwID09PSBfZSA/IHZvaWQgMCA6IF9lWzBdKSB8fCB2b2lkIDAgPT09IF9mID8gdm9pZCAwIDogX2YueDtcbiAgICAgICAgY29uc3QgYm94V2lkdGggPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIndpZHRoXCIsICExLCBcImJveFwiKSwgYm94WCA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiLCAhMSwgXCJib3hcIik7XG4gICAgICAgIHExID0gYm94WCwgcTMgPSBib3hYICsgYm94V2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVkaWFuID0gbnVsbCA9PT0gKF9oID0gbnVsbCA9PT0gKF9nID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITEsIFwibWVkaWFuXCIpKSB8fCB2b2lkIDAgPT09IF9nID8gdm9pZCAwIDogX2dbMF0pIHx8IHZvaWQgMCA9PT0gX2ggPyB2b2lkIDAgOiBfaC55LCBcbiAgICAgICAgbWF4ID0gbnVsbCA9PT0gKF9rID0gbnVsbCA9PT0gKF9qID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITEsIFwibWF4XCIpKSB8fCB2b2lkIDAgPT09IF9qID8gdm9pZCAwIDogX2pbMF0pIHx8IHZvaWQgMCA9PT0gX2sgPyB2b2lkIDAgOiBfay55LCBcbiAgICAgICAgbWluID0gbnVsbCA9PT0gKF9tID0gbnVsbCA9PT0gKF9sID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITEsIFwibWluXCIpKSB8fCB2b2lkIDAgPT09IF9sID8gdm9pZCAwIDogX2xbMF0pIHx8IHZvaWQgMCA9PT0gX20gPyB2b2lkIDAgOiBfbS55O1xuICAgICAgICBjb25zdCBib3hIZWlnaHQgPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImhlaWdodFwiLCAhMSwgXCJib3hcIiksIGJveFkgPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITEsIFwiYm94XCIpO1xuICAgICAgICBxMSA9IGJveFksIHEzID0gYm94WSArIGJveEhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIGlzVmFsaWROdW1iZXIobWVkaWFuKSA/IG1lZGlhbiA6IGlzVmFsaWROdW1iZXIocTEpICYmIGlzVmFsaWROdW1iZXIocTMpID8gKHExICsgcTMpIC8gMiA6IGlzVmFsaWROdW1iZXIobWF4KSAmJiBpc1ZhbGlkTnVtYmVyKG1pbikgPyAobWF4ICsgbWluKSAvIDIgOiBpc1ZhbGlkTnVtYmVyKG1pbikgPyBtaW4gOiBpc1ZhbGlkTnVtYmVyKG1heCkgPyBtYXggOiBOYU47XG59LCBlbmNvZGVCb3hwbG90U2l6ZSA9IChlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIHNoYWZ0OiB7fSxcbiAgICAgICAgYm94OiB7fSxcbiAgICAgICAgbWF4OiB7fSxcbiAgICAgICAgbWluOiB7fSxcbiAgICAgICAgbWVkaWFuOiB7fVxuICAgIH0sIHggPSBudWxsICE9PSAoX2EgPSBlbmNvZGVWYWx1ZXMueCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiLCAhMSksIHkgPSBudWxsICE9PSAoX2IgPSBlbmNvZGVWYWx1ZXMueSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMSksIHdpZHRoID0gbnVsbCAhPT0gKF9jID0gZW5jb2RlVmFsdWVzLndpZHRoKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ3aWR0aFwiLCAhMSksIGhlaWdodCA9IG51bGwgIT09IChfZCA9IGVuY29kZVZhbHVlcy5oZWlnaHQpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImhlaWdodFwiLCAhMSksIGJveFdpZHRoID0gbnVsbCAhPT0gKF9lID0gZW5jb2RlVmFsdWVzLmJveFdpZHRoKSAmJiB2b2lkIDAgIT09IF9lID8gX2UgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJib3hXaWR0aFwiLCAhMSksIGJveEhlaWdodCA9IG51bGwgIT09IChfZiA9IGVuY29kZVZhbHVlcy5ib3hIZWlnaHQpICYmIHZvaWQgMCAhPT0gX2YgPyBfZiA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImJveEhlaWdodFwiLCAhMSksIHJ1bGVXaWR0aCA9IG51bGwgIT09IChfZyA9IGVuY29kZVZhbHVlcy5ydWxlV2lkdGgpICYmIHZvaWQgMCAhPT0gX2cgPyBfZyA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInJ1bGVXaWR0aFwiLCAhMSksIHJ1bGVIZWlnaHQgPSBudWxsICE9PSAoX2ggPSBlbmNvZGVWYWx1ZXMucnVsZUhlaWdodCkgJiYgdm9pZCAwICE9PSBfaCA/IF9oIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicnVsZUhlaWdodFwiLCAhMSk7XG4gICAgcmV0dXJuIGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyAoaXNWYWxpZE51bWJlcihib3hIZWlnaHQpID8gKE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5ib3gsIHtcbiAgICAgICAgeTogeSAtIGJveEhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgYm94SGVpZ2h0IC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWVkaWFuLCB7XG4gICAgICAgIHk6IHkgLSBib3hIZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIGJveEhlaWdodCAvIDJcbiAgICB9KSkgOiAoT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLmJveCwge1xuICAgICAgICB5OiB5IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBoZWlnaHQgLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5tZWRpYW4sIHtcbiAgICAgICAgeTogeSAtIGhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgaGVpZ2h0IC8gMlxuICAgIH0pKSwgaXNWYWxpZE51bWJlcihydWxlSGVpZ2h0KSA/IChPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWF4LCB7XG4gICAgICAgIHk6IHkgLSBydWxlSGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBydWxlSGVpZ2h0IC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWluLCB7XG4gICAgICAgIHk6IHkgLSBydWxlSGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBydWxlSGVpZ2h0IC8gMlxuICAgIH0pKSA6IChPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWF4LCB7XG4gICAgICAgIHk6IHkgLSBoZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIGhlaWdodCAvIDJcbiAgICB9KSwgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1pbiwge1xuICAgICAgICB5OiB5IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBoZWlnaHQgLyAyXG4gICAgfSkpKSA6IChpc1ZhbGlkTnVtYmVyKGJveFdpZHRoKSA/IChPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMuYm94LCB7XG4gICAgICAgIHg6IHggLSBib3hXaWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgYm94V2lkdGggLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5tZWRpYW4sIHtcbiAgICAgICAgeDogeCAtIGJveFdpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyBib3hXaWR0aCAvIDJcbiAgICB9KSkgOiAoT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLmJveCwge1xuICAgICAgICB4OiB4IC0gd2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIHdpZHRoIC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWVkaWFuLCB7XG4gICAgICAgIHg6IHggLSB3aWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgd2lkdGggLyAyXG4gICAgfSkpLCBpc1ZhbGlkTnVtYmVyKHJ1bGVXaWR0aCkgPyAoT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1heCwge1xuICAgICAgICB4OiB4IC0gcnVsZVdpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyBydWxlV2lkdGggLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5taW4sIHtcbiAgICAgICAgeDogeCAtIHJ1bGVXaWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgcnVsZVdpZHRoIC8gMlxuICAgIH0pKSA6IChPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWF4LCB7XG4gICAgICAgIHg6IHggLSB3aWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgd2lkdGggLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5taW4sIHtcbiAgICAgICAgeDogeCAtIHdpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyB3aWR0aCAvIDJcbiAgICB9KSkpLCBhdHRyaWJ1dGVzO1xufTtcblxuZXhwb3J0IGNvbnN0IGJveHBsb3RTY2FsZUluID0gc2NhbGVJbihjb21wdXRlQm94cGxvdENlbnRlcik7XG5cbmV4cG9ydCBjb25zdCBib3hwbG90U2NhbGVPdXQgPSBzY2FsZU91dChjb21wdXRlQm94cGxvdENlbnRlcik7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckJveHBsb3RHbHlwaCgpIHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR2x5cGgoXCJib3hwbG90XCIsIHtcbiAgICAgICAgc2hhZnQ6IFwicnVsZVwiLFxuICAgICAgICBib3g6IFwicmVjdFwiLFxuICAgICAgICBtYXg6IFwicnVsZVwiLFxuICAgICAgICBtaW46IFwicnVsZVwiLFxuICAgICAgICBtZWRpYW46IFwicnVsZVwiXG4gICAgfSkucmVnaXN0ZXJQcm9ncmVzc2l2ZUNoYW5uZWxzKFsgXCJ4XCIsIFwieVwiLCBcInExXCIsIFwicTNcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJtZWRpYW5cIiwgXCJhbmdsZVwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwiYm94V2lkdGhcIiwgXCJib3hIZWlnaHRcIiwgXCJydWxlV2lkdGhcIiwgXCJydWxlSGVpZ2h0XCIgXSkucmVnaXN0ZXJGdW5jdGlvbkVuY29kZXIoZW5jb2RlQm94cGxvdFNpemUpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJ4XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IG51bGwgOiB7XG4gICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICB4OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJ5XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9IDogbnVsbCkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJxMVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIGJveDoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIGJveDoge1xuICAgICAgICAgICAgeTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwicTNcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBib3g6IHtcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgYm94OiB7XG4gICAgICAgICAgICB5MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWluXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHg6IGVuY29kZVZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIG1pbjoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB4MTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB2aXNpYmxlOiAhMFxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIG1pbjoge1xuICAgICAgICAgICAgeTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB5MTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB2aXNpYmxlOiAhMFxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJtYXhcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgeDE6IGVuY29kZVZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIG1heDoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB4MTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB2aXNpYmxlOiAhMFxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHkxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9LFxuICAgICAgICBtYXg6IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgdmlzaWJsZTogITBcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWVkaWFuXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICB4OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHZpc2libGU6ICEwXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgdmlzaWJsZTogITBcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwiYW5nbGVcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZGVmYXVsdEFuY2hvciA9IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyBbIChlbmNvZGVWYWx1ZXMubWluICsgZW5jb2RlVmFsdWVzLm1heCkgLyAyLCBlbmNvZGVWYWx1ZXMueSBdIDogWyBlbmNvZGVWYWx1ZXMueCwgKGVuY29kZVZhbHVlcy5taW4gKyBlbmNvZGVWYWx1ZXMubWF4KSAvIDIgXSwgYW5jaG9yID0gbnVsbCAhPT0gKF9hID0gZW5jb2RlVmFsdWVzLmFuY2hvcikgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogZGVmYXVsdEFuY2hvcjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm94OiB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWF4OiB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWluOiB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkpLnJlZ2lzdGVyRGVmYXVsdEVuY29kZXIoKCgpID0+ICh7XG4gICAgICAgIG1heDoge1xuICAgICAgICAgICAgdmlzaWJsZTogITFcbiAgICAgICAgfSxcbiAgICAgICAgbWluOiB7XG4gICAgICAgICAgICB2aXNpYmxlOiAhMVxuICAgICAgICB9LFxuICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgIHZpc2libGU6ICExXG4gICAgICAgIH1cbiAgICB9KSkpLCBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImJveHBsb3RTY2FsZUluXCIsIGJveHBsb3RTY2FsZUluKSwgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJib3hwbG90U2NhbGVPdXRcIiwgYm94cGxvdFNjYWxlT3V0KSwgXG4gICAgcmVnaXN0ZXJHbHlwaE1hcmsoKSwgcmVnaXN0ZXJHbHlwaEdyYXBoaWMoKSwgcmVnaXN0ZXJSZWN0R3JhcGhpYygpLCByZWdpc3RlclJ1bGVHcmFwaGljKCk7XG59XG5cbmNvbnN0IGNvbXB1dGVCYXJCb3hwbG90Q2VudGVyID0gKGdseXBoRWxlbWVudCwgZGlyZWN0aW9uLCBvcHRpb25zKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGlmIChpc1ZhbGlkTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMuY2VudGVyKSkgcmV0dXJuIG9wdGlvbnMuY2VudGVyO1xuICAgIGxldCBtZWRpYW4sIG1heCwgbWluLCBxMSwgcTM7XG4gICAgaWYgKGlzSG9yaXpvbnRhbChkaXJlY3Rpb24pKSB7XG4gICAgICAgIG1lZGlhbiA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExLCBcIm1lZGlhblwiKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hWzBdKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IueDtcbiAgICAgICAgY29uc3QgbWluTWF4Qm94V2lkdGggPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIndpZHRoXCIsICExLCBcIm1pbk1heEJveFwiKSwgbWluTWF4Qm94Qm94WCA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiLCAhMSwgXCJtaW5NYXhCb3hcIik7XG4gICAgICAgIG1pbiA9IG1pbk1heEJveEJveFgsIG1heCA9IG1pbk1heEJveEJveFggKyBtaW5NYXhCb3hXaWR0aDtcbiAgICAgICAgY29uc3QgcTFxM0JveFdpZHRoID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ3aWR0aFwiLCAhMSwgXCJxMXEzQm94XCIpLCBxMXEzQm94WCA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiLCAhMSwgXCJxMXEzQm94XCIpO1xuICAgICAgICBxMSA9IHExcTNCb3hYLCBxMyA9IHExcTNCb3hYICsgcTFxM0JveFdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lZGlhbiA9IG51bGwgPT09IChfZCA9IG51bGwgPT09IChfYyA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExLCBcIm1lZGlhblwiKSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jWzBdKSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2QueTtcbiAgICAgICAgY29uc3QgbWluTWF4Qm94SGVpZ2h0ID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgITEsIFwibWluTWF4Qm94XCIpLCBtaW5NYXhCb3hCb3hZID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIsICExLCBcIm1pbk1heEJveFwiKTtcbiAgICAgICAgbWluID0gbWluTWF4Qm94Qm94WSwgbWF4ID0gbWluTWF4Qm94Qm94WSArIG1pbk1heEJveEhlaWdodDtcbiAgICAgICAgY29uc3QgcTFxM0JveEhlaWdodCA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiaGVpZ2h0XCIsICExLCBcInExcTNCb3hcIiksIHExcTNCb3hZID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIsICExLCBcInExcTNCb3hcIik7XG4gICAgICAgIHExID0gcTFxM0JveFksIHEzID0gcTFxM0JveFkgKyBxMXEzQm94SGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gaXNWYWxpZE51bWJlcihtZWRpYW4pID8gbWVkaWFuIDogaXNWYWxpZE51bWJlcihxMSkgJiYgaXNWYWxpZE51bWJlcihxMykgPyAocTEgKyBxMykgLyAyIDogaXNWYWxpZE51bWJlcihtYXgpICYmIGlzVmFsaWROdW1iZXIobWluKSA/IChtYXggKyBtaW4pIC8gMiA6IGlzVmFsaWROdW1iZXIobWluKSA/IG1pbiA6IGlzVmFsaWROdW1iZXIobWF4KSA/IG1heCA6IE5hTjtcbn0sIGVuY29kZUJhckJveHBsb3RTaXplID0gKGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2g7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IHtcbiAgICAgICAgbWluTWF4Qm94OiB7fSxcbiAgICAgICAgcTFxM0JveDoge30sXG4gICAgICAgIG1lZGlhbjoge31cbiAgICB9LCB4ID0gbnVsbCAhPT0gKF9hID0gZW5jb2RlVmFsdWVzLngpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITEpLCB5ID0gbnVsbCAhPT0gKF9iID0gZW5jb2RlVmFsdWVzLnkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITEpLCB3aWR0aCA9IG51bGwgIT09IChfYyA9IGVuY29kZVZhbHVlcy53aWR0aCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwid2lkdGhcIiwgITEpLCBtaW5NYXhXaWR0aCA9IG51bGwgIT09IChfZCA9IGVuY29kZVZhbHVlcy5taW5NYXhXaWR0aCkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwibWluTWF4V2lkdGhcIiwgITEpLCBxMXEzV2lkdGggPSBudWxsICE9PSAoX2UgPSBlbmNvZGVWYWx1ZXMucTFxM1dpZHRoKSAmJiB2b2lkIDAgIT09IF9lID8gX2UgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJxMXEzV2lkdGhcIiwgITEpLCBoZWlnaHQgPSBudWxsICE9PSAoX2YgPSBlbmNvZGVWYWx1ZXMuaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9mID8gX2YgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgITEpLCBtaW5NYXhIZWlnaHQgPSBudWxsICE9PSAoX2cgPSBlbmNvZGVWYWx1ZXMubWluTWF4SGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9nID8gX2cgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJtaW5NYXhIZWlnaHRcIiwgITEpLCBxMXEzSGVpZ2h0ID0gbnVsbCAhPT0gKF9oID0gZW5jb2RlVmFsdWVzLnExcTNIZWlnaHQpICYmIHZvaWQgMCAhPT0gX2ggPyBfaCA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInExcTNIZWlnaHRcIiwgITEpO1xuICAgIHJldHVybiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8gKGlzVmFsaWROdW1iZXIobWluTWF4SGVpZ2h0KSA/IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5taW5NYXhCb3gsIHtcbiAgICAgICAgeTogeSAtIG1pbk1heEhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgbWluTWF4SGVpZ2h0IC8gMlxuICAgIH0pIDogT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1pbk1heEJveCwge1xuICAgICAgICB5OiB5IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBoZWlnaHQgLyAyXG4gICAgfSksIGlzVmFsaWROdW1iZXIocTFxM0hlaWdodCkgPyAoT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLnExcTNCb3gsIHtcbiAgICAgICAgeTogeSAtIHExcTNIZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIHExcTNIZWlnaHQgLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5tZWRpYW4sIHtcbiAgICAgICAgeTogeSAtIHExcTNIZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIHExcTNIZWlnaHQgLyAyXG4gICAgfSkpIDogKE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5xMXEzQm94LCB7XG4gICAgICAgIHk6IHkgLSBoZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIGhlaWdodCAvIDJcbiAgICB9KSwgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1lZGlhbiwge1xuICAgICAgICB5OiB5IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBoZWlnaHQgLyAyXG4gICAgfSkpKSA6IChpc1ZhbGlkTnVtYmVyKG1pbk1heFdpZHRoKSA/IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5taW5NYXhCb3gsIHtcbiAgICAgICAgeDogeCAtIG1pbk1heFdpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyBtaW5NYXhXaWR0aCAvIDJcbiAgICB9KSA6IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5taW5NYXhCb3gsIHtcbiAgICAgICAgeDogeCAtIHdpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyB3aWR0aCAvIDJcbiAgICB9KSwgaXNWYWxpZE51bWJlcihxMXEzV2lkdGgpID8gKE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5xMXEzQm94LCB7XG4gICAgICAgIHg6IHggLSBxMXEzV2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIHExcTNXaWR0aCAvIDJcbiAgICB9KSwgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1lZGlhbiwge1xuICAgICAgICB4OiB4IC0gcTFxM1dpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyBxMXEzV2lkdGggLyAyXG4gICAgfSkpIDogKE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5xMXEzQm94LCB7XG4gICAgICAgIHg6IHggLSB3aWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgd2lkdGggLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5tZWRpYW4sIHtcbiAgICAgICAgeDogeCAtIHdpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyB3aWR0aCAvIDJcbiAgICB9KSkpLCBhdHRyaWJ1dGVzO1xufTtcblxuZXhwb3J0IGNvbnN0IGJhckJveHBsb3RTY2FsZUluID0gc2NhbGVJbihjb21wdXRlQmFyQm94cGxvdENlbnRlcik7XG5cbmV4cG9ydCBjb25zdCBiYXJCb3hwbG90U2NhbGVPdXQgPSBzY2FsZU91dChjb21wdXRlQmFyQm94cGxvdENlbnRlcik7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckJhckJveHBsb3RHbHlwaCgpIHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR2x5cGgoXCJiYXJCb3hwbG90XCIsIHtcbiAgICAgICAgbWluTWF4Qm94OiBcInJlY3RcIixcbiAgICAgICAgcTFxM0JveDogXCJyZWN0XCIsXG4gICAgICAgIG1lZGlhbjogXCJydWxlXCJcbiAgICB9KS5yZWdpc3RlclByb2dyZXNzaXZlQ2hhbm5lbHMoWyBcInhcIiwgXCJ5XCIsIFwicTFcIiwgXCJxM1wiLCBcIm1pblwiLCBcIm1heFwiLCBcIm1lZGlhblwiLCBcImFuZ2xlXCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJtaW5NYXhXaWR0aFwiLCBcInExcTNXaWR0aFwiLCBcIm1pbk1heEhlaWdodFwiLCBcInExcTNIZWlnaHRcIiBdKS5yZWdpc3RlckZ1bmN0aW9uRW5jb2RlcihlbmNvZGVCYXJCb3hwbG90U2l6ZSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInExXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgcTFxM0JveDoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIHExcTNCb3g6IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInEzXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgcTFxM0JveDoge1xuICAgICAgICAgICAgeDE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBxMXEzQm94OiB7XG4gICAgICAgICAgICB5MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWluXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgbWluTWF4Qm94OiB7XG4gICAgICAgICAgICB4OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgbWluTWF4Qm94OiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJtYXhcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBtaW5NYXhCb3g6IHtcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgbWluTWF4Qm94OiB7XG4gICAgICAgICAgICB5MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWVkaWFuXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICB4OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHZpc2libGU6ICEwXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgdmlzaWJsZTogITBcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwiYW5nbGVcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gbnVsbCAhPT0gKF9hID0gZW5jb2RlVmFsdWVzLmFuY2hvcikgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogWyBlbmNvZGVWYWx1ZXMueCwgKGVuY29kZVZhbHVlcy5taW4gKyBlbmNvZGVWYWx1ZXMubWF4KSAvIDIgXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbk1heEJveDoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHExcTNCb3g6IHtcbiAgICAgICAgICAgICAgICBhbmdsZTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhbmNob3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgICAgICBhbmdsZTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhbmNob3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcImxpbmVXaWR0aFwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+ICh7XG4gICAgICAgIG1pbk1heEJveDoge1xuICAgICAgICAgICAgbGluZVdpZHRoOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHExcTNCb3g6IHtcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMFxuICAgICAgICB9XG4gICAgfSkpKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWluTWF4RmlsbE9wYWNpdHlcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiAoe1xuICAgICAgICBtaW5NYXhCb3g6IHtcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwic3Ryb2tlXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gKHtcbiAgICAgICAgbWluTWF4Qm94OiB7XG4gICAgICAgICAgICBzdHJva2U6ICExXG4gICAgICAgIH0sXG4gICAgICAgIHExcTNCb3g6IHtcbiAgICAgICAgICAgIHN0cm9rZTogITFcbiAgICAgICAgfVxuICAgIH0pKSkucmVnaXN0ZXJEZWZhdWx0RW5jb2RlcigoKCkgPT4gKHtcbiAgICAgICAgbWluTWF4Qm94OiB7XG4gICAgICAgICAgICBsaW5lV2lkdGg6IDBcbiAgICAgICAgfSxcbiAgICAgICAgcTFxM0JveDoge1xuICAgICAgICAgICAgbGluZVdpZHRoOiAwXG4gICAgICAgIH0sXG4gICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgdmlzaWJsZTogITFcbiAgICAgICAgfVxuICAgIH0pKSksIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiYmFyQm94cGxvdFNjYWxlSW5cIiwgYmFyQm94cGxvdFNjYWxlSW4pLCBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImJhckJveHBsb3RTY2FsZU91dFwiLCBiYXJCb3hwbG90U2NhbGVPdXQpLCBcbiAgICByZWdpc3RlckdseXBoTWFyaygpLCByZWdpc3RlckdseXBoR3JhcGhpYygpLCByZWdpc3RlclJlY3RHcmFwaGljKCksIHJlZ2lzdGVyUnVsZUdyYXBoaWMoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJveHBsb3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/boxplot.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/index.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/index.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerBarBoxplotGlyph: () => (/* reexport safe */ _boxplot__WEBPACK_IMPORTED_MODULE_0__.registerBarBoxplotGlyph),\n/* harmony export */   registerBoxplotGlyph: () => (/* reexport safe */ _boxplot__WEBPACK_IMPORTED_MODULE_0__.registerBoxplotGlyph),\n/* harmony export */   registerLinkPathGlyph: () => (/* reexport safe */ _link_path__WEBPACK_IMPORTED_MODULE_3__.registerLinkPathGlyph),\n/* harmony export */   registerRippleGlyph: () => (/* reexport safe */ _ripple__WEBPACK_IMPORTED_MODULE_1__.registerRippleGlyph),\n/* harmony export */   registerTreePathGlyph: () => (/* reexport safe */ _tree_path__WEBPACK_IMPORTED_MODULE_4__.registerTreePathGlyph),\n/* harmony export */   registerViolinGlyph: () => (/* reexport safe */ _violin__WEBPACK_IMPORTED_MODULE_5__.registerViolinGlyph),\n/* harmony export */   registerWaveGlyph: () => (/* reexport safe */ _wave__WEBPACK_IMPORTED_MODULE_2__.registerWaveGlyph)\n/* harmony export */ });\n/* harmony import */ var _boxplot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boxplot */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/boxplot.js\");\n/* harmony import */ var _ripple__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ripple */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/ripple.js\");\n/* harmony import */ var _wave__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wave */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/wave.js\");\n/* harmony import */ var _link_path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./link-path */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/link-path.js\");\n/* harmony import */ var _tree_path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tree-path */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/tree-path.js\");\n/* harmony import */ var _violin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./violin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/violin.js\");\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUEwRTs7QUFFM0I7O0FBRUo7O0FBRVM7O0FBRUE7O0FBRUw7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvaW5kZXguanM/ZjE1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyByZWdpc3RlckJveHBsb3RHbHlwaCwgcmVnaXN0ZXJCYXJCb3hwbG90R2x5cGggfSBmcm9tIFwiLi9ib3hwbG90XCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyUmlwcGxlR2x5cGggfSBmcm9tIFwiLi9yaXBwbGVcIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJXYXZlR2x5cGggfSBmcm9tIFwiLi93YXZlXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyTGlua1BhdGhHbHlwaCB9IGZyb20gXCIuL2xpbmstcGF0aFwiO1xuXG5leHBvcnQgeyByZWdpc3RlclRyZWVQYXRoR2x5cGggfSBmcm9tIFwiLi90cmVlLXBhdGhcIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJWaW9saW5HbHlwaCB9IGZyb20gXCIuL3Zpb2xpblwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/link-path.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/link-path.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getHorizontalPath: () => (/* binding */ getHorizontalPath),\n/* harmony export */   getVerticalPath: () => (/* binding */ getVerticalPath),\n/* harmony export */   registerLinkPathGlyph: () => (/* binding */ registerLinkPathGlyph)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\n\n\nconst getHorizontalPath = (options, ratio) => {\n    var _a;\n    const curvature = null !== (_a = options.curvature) && void 0 !== _a ? _a : .5, thickness = \"number\" == typeof ratio ? options.thickness * ratio : options.thickness;\n    let x0 = options.x0, x1 = options.x1, y00 = options.y0, y10 = options.y1, cpx0 = x0 + curvature * (x1 - x0), cpx1 = x1 + curvature * (x0 - x1), formatter = v => v;\n    !1 !== options.round && (x0 = Math.round(x0), x1 = Math.round(x1), y00 = Math.round(y00), \n    y10 = Math.round(y10), cpx0 = Math.round(cpx0), cpx1 = Math.round(cpx1), formatter = Math.round);\n    \"line\" === options.pathType || options.pathType;\n    \"center\" === options.align ? (y00 = formatter(options.y0 - thickness / 2), y10 = formatter(options.y1 - thickness / 2)) : \"end\" === options.align ? (y00 = formatter(options.y0 + options.thickness / 2 - thickness), \n    y10 = formatter(options.y1 + options.thickness / 2 - thickness)) : (y00 = formatter(options.y0 - options.thickness / 2), \n    y10 = formatter(options.y1 - options.thickness / 2));\n    const y01 = formatter(y00 + thickness), y11 = formatter(y10 + thickness), hasLength = Math.abs(x1 - x0) > 1e-6, endArrowPath = options.endArrow && hasLength ? `L${x1},${formatter(y10 - thickness / 2)}L${formatter(x1 + thickness)},${formatter((y10 + y11) / 2)}L${x1},${formatter(y11 + thickness / 2)}` : \"\", startArrowPath = options.startArrow && hasLength ? `L${x0},${formatter(y01 + thickness / 2)}L${formatter(x0 - thickness)},${formatter((y00 + y01) / 2)}L${x0},${formatter(y00 - thickness / 2)}` : \"\";\n    return \"line\" === options.pathType ? `M${x0},${y00}L${x1},${y10}${endArrowPath}L${x1},${y11}L${x0},${y01}${startArrowPath}Z` : \"polyline\" === options.pathType ? `M${x0},${y00}L${cpx0},${y00}L${cpx0},${y10}L${x1},${y10}\\n    ${endArrowPath}L${x1},${y11}L${cpx0},${y11}L${cpx0},${y01}L${x0},${y01}${startArrowPath}Z` : `M${x0},${y00}C${cpx0},${y00},${cpx1},${y10},${x1},${y10}\\n  ${endArrowPath}L${x1},${y11}C${cpx1},${y11},${cpx0},${y01},${x0},${y01}${startArrowPath}Z`;\n};\n\nconst getVerticalPath = (options, ratio) => {\n    var _a;\n    const curvature = null !== (_a = options.curvature) && void 0 !== _a ? _a : .5, thickness = \"number\" == typeof ratio ? options.thickness * ratio : options.thickness;\n    let y0 = options.y0, y1 = options.y1, x00 = options.x0, x10 = options.x1, cpy0 = y0 + curvature * (y1 - y0), cpy1 = y1 + curvature * (y0 - y1), formatter = v => v;\n    !1 !== options.round && (formatter = Math.round, y0 = Math.round(y0), y1 = Math.round(y1), \n    x00 = Math.round(x00), x10 = Math.round(x10), cpy0 = Math.round(cpy0), cpy1 = Math.round(cpy1));\n    \"line\" === options.pathType || options.pathType;\n    \"center\" === options.align ? (x00 = formatter(options.x0 - thickness / 2), x10 = formatter(options.x1 - thickness / 2)) : \"end\" === options.align ? (x00 = formatter(options.x0 + options.thickness / 2 - thickness), \n    x10 = formatter(options.x1 + options.thickness / 2 - thickness)) : (x00 = formatter(options.x0 - options.thickness / 2), \n    x10 = formatter(options.x1 - options.thickness / 2));\n    const x01 = formatter(x00 + thickness), x11 = formatter(x10 + thickness), hasLength = Math.abs(y1 - y0) > 1e-6, endArrowPath = options.endArrow && hasLength ? `L${formatter(x10 - thickness / 2)},${y1}L${formatter((x10 + x11) / 2)},${formatter(y1 + thickness)}L${formatter(x11 + thickness / 2)},${y1}` : \"\", startArrowPath = options.startArrow && hasLength ? `L${formatter(x01 + thickness / 2)},${y0}L${formatter((x01 + x00) / 2)},${formatter(y0 - thickness)}L${formatter(x00 - thickness / 2)},${y0}` : \"\";\n    return \"line\" === options.pathType ? `M${x00},${y0}L${x10},${y1}${endArrowPath}L${x11},${y1}L${x01},${y0}${startArrowPath}Z` : \"polyline\" === options.pathType ? `M${x00},${y0}L${x00},${cpy0}L${x10},${cpy0}L${x10},${y1}\\n    ${endArrowPath}L${x11},${y1}L${x11},${cpy0}L${x01},${cpy0}L${x01},${y0}${startArrowPath}Z` : `M${x00},${y0}C${x00},${cpy0},${x10},${cpy1},${x10},${y1}\\n  ${endArrowPath}L${x11},${y1}C${x11},${cpy1},${x01},${cpy0},${x01},${y0}${startArrowPath}Z`;\n};\n\nconst encoder = (encodeValues, datum, element, config) => {\n    var _a;\n    const direction = null !== (_a = encodeValues.direction) && void 0 !== _a ? _a : null == config ? void 0 : config.direction, parsePath = [ \"vertical\", \"TB\", \"BT\" ].includes(direction) ? getVerticalPath : getHorizontalPath, isRatioShow = \"number\" == typeof encodeValues.ratio && encodeValues.ratio >= 0 && encodeValues.ratio <= 1, encodeChannels = Object.keys(encodeValues);\n    return [ \"x0\", \"y0\", \"x1\", \"y1\" ].every((channel => encodeChannels.includes(channel))) ? {\n        back: {\n            path: isRatioShow ? parsePath(encodeValues, 1) : \"\"\n        },\n        front: {\n            path: parsePath(encodeValues, isRatioShow ? encodeValues.ratio : 1)\n        }\n    } : {};\n}, linkPathGrowIn = (element, options, animationParameters) => {\n    const linkValues = {\n        x0: element.getGraphicAttribute(\"x0\", !1),\n        x1: element.getGraphicAttribute(\"x1\", !1),\n        y0: element.getGraphicAttribute(\"y0\", !1),\n        y1: element.getGraphicAttribute(\"y1\", !1),\n        thickness: element.getGraphicAttribute(\"thickness\", !1),\n        round: element.getGraphicAttribute(\"round\", !1),\n        align: element.getGraphicAttribute(\"align\", !1),\n        pathType: element.getGraphicAttribute(\"pathType\", !1),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !1),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !1)\n    };\n    return Object.keys(linkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(linkValues[key]) && delete linkValues[key];\n    })), {\n        from: Object.assign({}, linkValues, {\n            x1: linkValues.x0,\n            y1: linkValues.y0\n        }),\n        to: linkValues\n    };\n}, linkPathGrowOut = (element, options, animationParameters) => {\n    const linkValues = {\n        x0: element.getGraphicAttribute(\"x0\", !0),\n        x1: element.getGraphicAttribute(\"x1\", !0),\n        y0: element.getGraphicAttribute(\"y0\", !0),\n        y1: element.getGraphicAttribute(\"y1\", !0),\n        thickness: element.getGraphicAttribute(\"thickness\", !0),\n        round: element.getGraphicAttribute(\"round\", !0),\n        align: element.getGraphicAttribute(\"align\", !0),\n        pathType: element.getGraphicAttribute(\"pathType\", !0),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !0),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !0)\n    };\n    return Object.keys(linkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(linkValues[key]) && delete linkValues[key];\n    })), {\n        from: linkValues,\n        to: Object.assign({}, linkValues, {\n            x1: linkValues.x0,\n            y1: linkValues.y0\n        })\n    };\n}, linkPathUpdate = (element, options, animationParameters) => {\n    const bassLinkValues = {\n        thickness: element.getGraphicAttribute(\"thickness\", !1),\n        round: element.getGraphicAttribute(\"round\", !1),\n        align: element.getGraphicAttribute(\"align\", !1),\n        pathType: element.getGraphicAttribute(\"pathType\", !1),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !1),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !1)\n    };\n    Object.keys(bassLinkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(bassLinkValues[key]) && delete bassLinkValues[key];\n    }));\n    return {\n        from: Object.assign(Object.assign({\n            x0: element.getGraphicAttribute(\"x0\", !0),\n            x1: element.getGraphicAttribute(\"x1\", !0),\n            y0: element.getGraphicAttribute(\"y0\", !0),\n            y1: element.getGraphicAttribute(\"y1\", !0)\n        }, bassLinkValues), bassLinkValues),\n        to: Object.assign({\n            x0: element.getGraphicAttribute(\"x0\", !1),\n            x1: element.getGraphicAttribute(\"x1\", !1),\n            y0: element.getGraphicAttribute(\"y0\", !1),\n            y1: element.getGraphicAttribute(\"y1\", !1)\n        }, bassLinkValues)\n    };\n};\n\nconst registerLinkPathGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerGlyph(\"linkPath\", {\n        back: \"path\",\n        front: \"path\"\n    }).registerFunctionEncoder(encoder).registerChannelEncoder(\"backgroundStyle\", ((channel, encodeValue) => ({\n        back: encodeValue\n    }))).registerDefaultEncoder((() => ({\n        back: {\n            zIndex: 0\n        },\n        front: {\n            zIndex: 1\n        }\n    }))), _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"linkPathGrowIn\", linkPathGrowIn), _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"linkPathGrowOut\", linkPathGrowOut), \n    _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"linkPathUpdate\", linkPathUpdate), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_2__.registerGlyphMark)(), \n    (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__.registerPathGraphic)();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvbGluay1wYXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEM7O0FBRUQ7O0FBRXlDOztBQUVoQzs7QUFFM0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1S0FBdUssR0FBRyxHQUFHLCtCQUErQixHQUFHLDBCQUEwQixHQUFHLDJCQUEyQixHQUFHLEdBQUcsR0FBRywrQkFBK0IsK0RBQStELEdBQUcsR0FBRywrQkFBK0IsR0FBRywwQkFBMEIsR0FBRywyQkFBMkIsR0FBRyxHQUFHLEdBQUcsK0JBQStCO0FBQ3RmLDZDQUE2QyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLEVBQUUsYUFBYSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksRUFBRSxlQUFlLDJDQUEyQyxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxRQUFRLGFBQWEsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxFQUFFLGVBQWUsU0FBUyxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxNQUFNLGFBQWEsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxFQUFFLGVBQWU7QUFDdGQ7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1S0FBdUssK0JBQStCLEdBQUcsR0FBRyxHQUFHLDJCQUEyQixHQUFHLDBCQUEwQixHQUFHLCtCQUErQixHQUFHLEdBQUcsK0RBQStELCtCQUErQixHQUFHLEdBQUcsR0FBRywyQkFBMkIsR0FBRywwQkFBMEIsR0FBRywrQkFBK0IsR0FBRyxHQUFHO0FBQ3RmLDZDQUE2QyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEVBQUUsYUFBYSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsRUFBRSxlQUFlLDJDQUEyQyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxRQUFRLGFBQWEsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxFQUFFLGVBQWUsU0FBUyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxFQUFFLGVBQWU7QUFDdGQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFLO0FBQ2IsS0FBSztBQUNMLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFLO0FBQ2IsS0FBSztBQUNMO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUssa0RBQU8sMERBQTBELGtEQUFPO0FBQ2xGLElBQUksa0RBQU8sMERBQTBELDhEQUFpQjtBQUN0RixJQUFJLHlFQUFvQixJQUFJLHdFQUFtQjtBQUMvQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9nbHlwaC9saW5rLXBhdGguanM/MTg0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyR2x5cGhHcmFwaGljLCByZWdpc3RlclBhdGhHcmFwaGljIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyByZWdpc3RlckdseXBoTWFyayB9IGZyb20gXCIuLi92aWV3L2dseXBoXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRIb3Jpem9udGFsUGF0aCA9IChvcHRpb25zLCByYXRpbykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBjdXJ2YXR1cmUgPSBudWxsICE9PSAoX2EgPSBvcHRpb25zLmN1cnZhdHVyZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogLjUsIHRoaWNrbmVzcyA9IFwibnVtYmVyXCIgPT0gdHlwZW9mIHJhdGlvID8gb3B0aW9ucy50aGlja25lc3MgKiByYXRpbyA6IG9wdGlvbnMudGhpY2tuZXNzO1xuICAgIGxldCB4MCA9IG9wdGlvbnMueDAsIHgxID0gb3B0aW9ucy54MSwgeTAwID0gb3B0aW9ucy55MCwgeTEwID0gb3B0aW9ucy55MSwgY3B4MCA9IHgwICsgY3VydmF0dXJlICogKHgxIC0geDApLCBjcHgxID0geDEgKyBjdXJ2YXR1cmUgKiAoeDAgLSB4MSksIGZvcm1hdHRlciA9IHYgPT4gdjtcbiAgICAhMSAhPT0gb3B0aW9ucy5yb3VuZCAmJiAoeDAgPSBNYXRoLnJvdW5kKHgwKSwgeDEgPSBNYXRoLnJvdW5kKHgxKSwgeTAwID0gTWF0aC5yb3VuZCh5MDApLCBcbiAgICB5MTAgPSBNYXRoLnJvdW5kKHkxMCksIGNweDAgPSBNYXRoLnJvdW5kKGNweDApLCBjcHgxID0gTWF0aC5yb3VuZChjcHgxKSwgZm9ybWF0dGVyID0gTWF0aC5yb3VuZCk7XG4gICAgXCJsaW5lXCIgPT09IG9wdGlvbnMucGF0aFR5cGUgfHwgb3B0aW9ucy5wYXRoVHlwZTtcbiAgICBcImNlbnRlclwiID09PSBvcHRpb25zLmFsaWduID8gKHkwMCA9IGZvcm1hdHRlcihvcHRpb25zLnkwIC0gdGhpY2tuZXNzIC8gMiksIHkxMCA9IGZvcm1hdHRlcihvcHRpb25zLnkxIC0gdGhpY2tuZXNzIC8gMikpIDogXCJlbmRcIiA9PT0gb3B0aW9ucy5hbGlnbiA/ICh5MDAgPSBmb3JtYXR0ZXIob3B0aW9ucy55MCArIG9wdGlvbnMudGhpY2tuZXNzIC8gMiAtIHRoaWNrbmVzcyksIFxuICAgIHkxMCA9IGZvcm1hdHRlcihvcHRpb25zLnkxICsgb3B0aW9ucy50aGlja25lc3MgLyAyIC0gdGhpY2tuZXNzKSkgOiAoeTAwID0gZm9ybWF0dGVyKG9wdGlvbnMueTAgLSBvcHRpb25zLnRoaWNrbmVzcyAvIDIpLCBcbiAgICB5MTAgPSBmb3JtYXR0ZXIob3B0aW9ucy55MSAtIG9wdGlvbnMudGhpY2tuZXNzIC8gMikpO1xuICAgIGNvbnN0IHkwMSA9IGZvcm1hdHRlcih5MDAgKyB0aGlja25lc3MpLCB5MTEgPSBmb3JtYXR0ZXIoeTEwICsgdGhpY2tuZXNzKSwgaGFzTGVuZ3RoID0gTWF0aC5hYnMoeDEgLSB4MCkgPiAxZS02LCBlbmRBcnJvd1BhdGggPSBvcHRpb25zLmVuZEFycm93ICYmIGhhc0xlbmd0aCA/IGBMJHt4MX0sJHtmb3JtYXR0ZXIoeTEwIC0gdGhpY2tuZXNzIC8gMil9TCR7Zm9ybWF0dGVyKHgxICsgdGhpY2tuZXNzKX0sJHtmb3JtYXR0ZXIoKHkxMCArIHkxMSkgLyAyKX1MJHt4MX0sJHtmb3JtYXR0ZXIoeTExICsgdGhpY2tuZXNzIC8gMil9YCA6IFwiXCIsIHN0YXJ0QXJyb3dQYXRoID0gb3B0aW9ucy5zdGFydEFycm93ICYmIGhhc0xlbmd0aCA/IGBMJHt4MH0sJHtmb3JtYXR0ZXIoeTAxICsgdGhpY2tuZXNzIC8gMil9TCR7Zm9ybWF0dGVyKHgwIC0gdGhpY2tuZXNzKX0sJHtmb3JtYXR0ZXIoKHkwMCArIHkwMSkgLyAyKX1MJHt4MH0sJHtmb3JtYXR0ZXIoeTAwIC0gdGhpY2tuZXNzIC8gMil9YCA6IFwiXCI7XG4gICAgcmV0dXJuIFwibGluZVwiID09PSBvcHRpb25zLnBhdGhUeXBlID8gYE0ke3gwfSwke3kwMH1MJHt4MX0sJHt5MTB9JHtlbmRBcnJvd1BhdGh9TCR7eDF9LCR7eTExfUwke3gwfSwke3kwMX0ke3N0YXJ0QXJyb3dQYXRofVpgIDogXCJwb2x5bGluZVwiID09PSBvcHRpb25zLnBhdGhUeXBlID8gYE0ke3gwfSwke3kwMH1MJHtjcHgwfSwke3kwMH1MJHtjcHgwfSwke3kxMH1MJHt4MX0sJHt5MTB9XFxuICAgICR7ZW5kQXJyb3dQYXRofUwke3gxfSwke3kxMX1MJHtjcHgwfSwke3kxMX1MJHtjcHgwfSwke3kwMX1MJHt4MH0sJHt5MDF9JHtzdGFydEFycm93UGF0aH1aYCA6IGBNJHt4MH0sJHt5MDB9QyR7Y3B4MH0sJHt5MDB9LCR7Y3B4MX0sJHt5MTB9LCR7eDF9LCR7eTEwfVxcbiAgJHtlbmRBcnJvd1BhdGh9TCR7eDF9LCR7eTExfUMke2NweDF9LCR7eTExfSwke2NweDB9LCR7eTAxfSwke3gwfSwke3kwMX0ke3N0YXJ0QXJyb3dQYXRofVpgO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFZlcnRpY2FsUGF0aCA9IChvcHRpb25zLCByYXRpbykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBjdXJ2YXR1cmUgPSBudWxsICE9PSAoX2EgPSBvcHRpb25zLmN1cnZhdHVyZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogLjUsIHRoaWNrbmVzcyA9IFwibnVtYmVyXCIgPT0gdHlwZW9mIHJhdGlvID8gb3B0aW9ucy50aGlja25lc3MgKiByYXRpbyA6IG9wdGlvbnMudGhpY2tuZXNzO1xuICAgIGxldCB5MCA9IG9wdGlvbnMueTAsIHkxID0gb3B0aW9ucy55MSwgeDAwID0gb3B0aW9ucy54MCwgeDEwID0gb3B0aW9ucy54MSwgY3B5MCA9IHkwICsgY3VydmF0dXJlICogKHkxIC0geTApLCBjcHkxID0geTEgKyBjdXJ2YXR1cmUgKiAoeTAgLSB5MSksIGZvcm1hdHRlciA9IHYgPT4gdjtcbiAgICAhMSAhPT0gb3B0aW9ucy5yb3VuZCAmJiAoZm9ybWF0dGVyID0gTWF0aC5yb3VuZCwgeTAgPSBNYXRoLnJvdW5kKHkwKSwgeTEgPSBNYXRoLnJvdW5kKHkxKSwgXG4gICAgeDAwID0gTWF0aC5yb3VuZCh4MDApLCB4MTAgPSBNYXRoLnJvdW5kKHgxMCksIGNweTAgPSBNYXRoLnJvdW5kKGNweTApLCBjcHkxID0gTWF0aC5yb3VuZChjcHkxKSk7XG4gICAgXCJsaW5lXCIgPT09IG9wdGlvbnMucGF0aFR5cGUgfHwgb3B0aW9ucy5wYXRoVHlwZTtcbiAgICBcImNlbnRlclwiID09PSBvcHRpb25zLmFsaWduID8gKHgwMCA9IGZvcm1hdHRlcihvcHRpb25zLngwIC0gdGhpY2tuZXNzIC8gMiksIHgxMCA9IGZvcm1hdHRlcihvcHRpb25zLngxIC0gdGhpY2tuZXNzIC8gMikpIDogXCJlbmRcIiA9PT0gb3B0aW9ucy5hbGlnbiA/ICh4MDAgPSBmb3JtYXR0ZXIob3B0aW9ucy54MCArIG9wdGlvbnMudGhpY2tuZXNzIC8gMiAtIHRoaWNrbmVzcyksIFxuICAgIHgxMCA9IGZvcm1hdHRlcihvcHRpb25zLngxICsgb3B0aW9ucy50aGlja25lc3MgLyAyIC0gdGhpY2tuZXNzKSkgOiAoeDAwID0gZm9ybWF0dGVyKG9wdGlvbnMueDAgLSBvcHRpb25zLnRoaWNrbmVzcyAvIDIpLCBcbiAgICB4MTAgPSBmb3JtYXR0ZXIob3B0aW9ucy54MSAtIG9wdGlvbnMudGhpY2tuZXNzIC8gMikpO1xuICAgIGNvbnN0IHgwMSA9IGZvcm1hdHRlcih4MDAgKyB0aGlja25lc3MpLCB4MTEgPSBmb3JtYXR0ZXIoeDEwICsgdGhpY2tuZXNzKSwgaGFzTGVuZ3RoID0gTWF0aC5hYnMoeTEgLSB5MCkgPiAxZS02LCBlbmRBcnJvd1BhdGggPSBvcHRpb25zLmVuZEFycm93ICYmIGhhc0xlbmd0aCA/IGBMJHtmb3JtYXR0ZXIoeDEwIC0gdGhpY2tuZXNzIC8gMil9LCR7eTF9TCR7Zm9ybWF0dGVyKCh4MTAgKyB4MTEpIC8gMil9LCR7Zm9ybWF0dGVyKHkxICsgdGhpY2tuZXNzKX1MJHtmb3JtYXR0ZXIoeDExICsgdGhpY2tuZXNzIC8gMil9LCR7eTF9YCA6IFwiXCIsIHN0YXJ0QXJyb3dQYXRoID0gb3B0aW9ucy5zdGFydEFycm93ICYmIGhhc0xlbmd0aCA/IGBMJHtmb3JtYXR0ZXIoeDAxICsgdGhpY2tuZXNzIC8gMil9LCR7eTB9TCR7Zm9ybWF0dGVyKCh4MDEgKyB4MDApIC8gMil9LCR7Zm9ybWF0dGVyKHkwIC0gdGhpY2tuZXNzKX1MJHtmb3JtYXR0ZXIoeDAwIC0gdGhpY2tuZXNzIC8gMil9LCR7eTB9YCA6IFwiXCI7XG4gICAgcmV0dXJuIFwibGluZVwiID09PSBvcHRpb25zLnBhdGhUeXBlID8gYE0ke3gwMH0sJHt5MH1MJHt4MTB9LCR7eTF9JHtlbmRBcnJvd1BhdGh9TCR7eDExfSwke3kxfUwke3gwMX0sJHt5MH0ke3N0YXJ0QXJyb3dQYXRofVpgIDogXCJwb2x5bGluZVwiID09PSBvcHRpb25zLnBhdGhUeXBlID8gYE0ke3gwMH0sJHt5MH1MJHt4MDB9LCR7Y3B5MH1MJHt4MTB9LCR7Y3B5MH1MJHt4MTB9LCR7eTF9XFxuICAgICR7ZW5kQXJyb3dQYXRofUwke3gxMX0sJHt5MX1MJHt4MTF9LCR7Y3B5MH1MJHt4MDF9LCR7Y3B5MH1MJHt4MDF9LCR7eTB9JHtzdGFydEFycm93UGF0aH1aYCA6IGBNJHt4MDB9LCR7eTB9QyR7eDAwfSwke2NweTB9LCR7eDEwfSwke2NweTF9LCR7eDEwfSwke3kxfVxcbiAgJHtlbmRBcnJvd1BhdGh9TCR7eDExfSwke3kxfUMke3gxMX0sJHtjcHkxfSwke3gwMX0sJHtjcHkwfSwke3gwMX0sJHt5MH0ke3N0YXJ0QXJyb3dQYXRofVpgO1xufTtcblxuY29uc3QgZW5jb2RlciA9IChlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gbnVsbCAhPT0gKF9hID0gZW5jb2RlVmFsdWVzLmRpcmVjdGlvbikgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbCA9PSBjb25maWcgPyB2b2lkIDAgOiBjb25maWcuZGlyZWN0aW9uLCBwYXJzZVBhdGggPSBbIFwidmVydGljYWxcIiwgXCJUQlwiLCBcIkJUXCIgXS5pbmNsdWRlcyhkaXJlY3Rpb24pID8gZ2V0VmVydGljYWxQYXRoIDogZ2V0SG9yaXpvbnRhbFBhdGgsIGlzUmF0aW9TaG93ID0gXCJudW1iZXJcIiA9PSB0eXBlb2YgZW5jb2RlVmFsdWVzLnJhdGlvICYmIGVuY29kZVZhbHVlcy5yYXRpbyA+PSAwICYmIGVuY29kZVZhbHVlcy5yYXRpbyA8PSAxLCBlbmNvZGVDaGFubmVscyA9IE9iamVjdC5rZXlzKGVuY29kZVZhbHVlcyk7XG4gICAgcmV0dXJuIFsgXCJ4MFwiLCBcInkwXCIsIFwieDFcIiwgXCJ5MVwiIF0uZXZlcnkoKGNoYW5uZWwgPT4gZW5jb2RlQ2hhbm5lbHMuaW5jbHVkZXMoY2hhbm5lbCkpKSA/IHtcbiAgICAgICAgYmFjazoge1xuICAgICAgICAgICAgcGF0aDogaXNSYXRpb1Nob3cgPyBwYXJzZVBhdGgoZW5jb2RlVmFsdWVzLCAxKSA6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbnQ6IHtcbiAgICAgICAgICAgIHBhdGg6IHBhcnNlUGF0aChlbmNvZGVWYWx1ZXMsIGlzUmF0aW9TaG93ID8gZW5jb2RlVmFsdWVzLnJhdGlvIDogMSlcbiAgICAgICAgfVxuICAgIH0gOiB7fTtcbn0sIGxpbmtQYXRoR3Jvd0luID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBsaW5rVmFsdWVzID0ge1xuICAgICAgICB4MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDBcIiwgITEpLFxuICAgICAgICB4MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDFcIiwgITEpLFxuICAgICAgICB5MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTBcIiwgITEpLFxuICAgICAgICB5MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTFcIiwgITEpLFxuICAgICAgICB0aGlja25lc3M6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInRoaWNrbmVzc1wiLCAhMSksXG4gICAgICAgIHJvdW5kOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJyb3VuZFwiLCAhMSksXG4gICAgICAgIGFsaWduOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJhbGlnblwiLCAhMSksXG4gICAgICAgIHBhdGhUeXBlOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwYXRoVHlwZVwiLCAhMSksXG4gICAgICAgIGVuZEFycm93OiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJlbmRBcnJvd1wiLCAhMSksXG4gICAgICAgIHN0YXJ0QXJyb3c6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInN0YXJ0QXJyb3dcIiwgITEpXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobGlua1ZhbHVlcykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgaXNOaWwobGlua1ZhbHVlc1trZXldKSAmJiBkZWxldGUgbGlua1ZhbHVlc1trZXldO1xuICAgIH0pKSwge1xuICAgICAgICBmcm9tOiBPYmplY3QuYXNzaWduKHt9LCBsaW5rVmFsdWVzLCB7XG4gICAgICAgICAgICB4MTogbGlua1ZhbHVlcy54MCxcbiAgICAgICAgICAgIHkxOiBsaW5rVmFsdWVzLnkwXG4gICAgICAgIH0pLFxuICAgICAgICB0bzogbGlua1ZhbHVlc1xuICAgIH07XG59LCBsaW5rUGF0aEdyb3dPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIGNvbnN0IGxpbmtWYWx1ZXMgPSB7XG4gICAgICAgIHgwOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MFwiLCAhMCksXG4gICAgICAgIHgxOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MVwiLCAhMCksXG4gICAgICAgIHkwOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5MFwiLCAhMCksXG4gICAgICAgIHkxOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5MVwiLCAhMCksXG4gICAgICAgIHRoaWNrbmVzczogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwidGhpY2tuZXNzXCIsICEwKSxcbiAgICAgICAgcm91bmQ6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInJvdW5kXCIsICEwKSxcbiAgICAgICAgYWxpZ246IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImFsaWduXCIsICEwKSxcbiAgICAgICAgcGF0aFR5cGU6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBhdGhUeXBlXCIsICEwKSxcbiAgICAgICAgZW5kQXJyb3c6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImVuZEFycm93XCIsICEwKSxcbiAgICAgICAgc3RhcnRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic3RhcnRBcnJvd1wiLCAhMClcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhsaW5rVmFsdWVzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBpc05pbChsaW5rVmFsdWVzW2tleV0pICYmIGRlbGV0ZSBsaW5rVmFsdWVzW2tleV07XG4gICAgfSkpLCB7XG4gICAgICAgIGZyb206IGxpbmtWYWx1ZXMsXG4gICAgICAgIHRvOiBPYmplY3QuYXNzaWduKHt9LCBsaW5rVmFsdWVzLCB7XG4gICAgICAgICAgICB4MTogbGlua1ZhbHVlcy54MCxcbiAgICAgICAgICAgIHkxOiBsaW5rVmFsdWVzLnkwXG4gICAgICAgIH0pXG4gICAgfTtcbn0sIGxpbmtQYXRoVXBkYXRlID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBiYXNzTGlua1ZhbHVlcyA9IHtcbiAgICAgICAgdGhpY2tuZXNzOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ0aGlja25lc3NcIiwgITEpLFxuICAgICAgICByb3VuZDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicm91bmRcIiwgITEpLFxuICAgICAgICBhbGlnbjogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiYWxpZ25cIiwgITEpLFxuICAgICAgICBwYXRoVHlwZTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicGF0aFR5cGVcIiwgITEpLFxuICAgICAgICBlbmRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kQXJyb3dcIiwgITEpLFxuICAgICAgICBzdGFydEFycm93OiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFycm93XCIsICExKVxuICAgIH07XG4gICAgT2JqZWN0LmtleXMoYmFzc0xpbmtWYWx1ZXMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGlzTmlsKGJhc3NMaW5rVmFsdWVzW2tleV0pICYmIGRlbGV0ZSBiYXNzTGlua1ZhbHVlc1trZXldO1xuICAgIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgeDA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngwXCIsICEwKSxcbiAgICAgICAgICAgIHgxOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MVwiLCAhMCksXG4gICAgICAgICAgICB5MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTBcIiwgITApLFxuICAgICAgICAgICAgeTE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICEwKVxuICAgICAgICB9LCBiYXNzTGlua1ZhbHVlcyksIGJhc3NMaW5rVmFsdWVzKSxcbiAgICAgICAgdG86IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgeDA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngwXCIsICExKSxcbiAgICAgICAgICAgIHgxOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MVwiLCAhMSksXG4gICAgICAgICAgICB5MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTBcIiwgITEpLFxuICAgICAgICAgICAgeTE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICExKVxuICAgICAgICB9LCBiYXNzTGlua1ZhbHVlcylcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTGlua1BhdGhHbHlwaCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR2x5cGgoXCJsaW5rUGF0aFwiLCB7XG4gICAgICAgIGJhY2s6IFwicGF0aFwiLFxuICAgICAgICBmcm9udDogXCJwYXRoXCJcbiAgICB9KS5yZWdpc3RlckZ1bmN0aW9uRW5jb2RlcihlbmNvZGVyKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwiYmFja2dyb3VuZFN0eWxlXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUpID0+ICh7XG4gICAgICAgIGJhY2s6IGVuY29kZVZhbHVlXG4gICAgfSkpKS5yZWdpc3RlckRlZmF1bHRFbmNvZGVyKCgoKSA9PiAoe1xuICAgICAgICBiYWNrOiB7XG4gICAgICAgICAgICB6SW5kZXg6IDBcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbnQ6IHtcbiAgICAgICAgICAgIHpJbmRleDogMVxuICAgICAgICB9XG4gICAgfSkpKSwgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJsaW5rUGF0aEdyb3dJblwiLCBsaW5rUGF0aEdyb3dJbiksIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwibGlua1BhdGhHcm93T3V0XCIsIGxpbmtQYXRoR3Jvd091dCksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwibGlua1BhdGhVcGRhdGVcIiwgbGlua1BhdGhVcGRhdGUpLCByZWdpc3RlckdseXBoTWFyaygpLCBcbiAgICByZWdpc3RlckdseXBoR3JhcGhpYygpLCByZWdpc3RlclBhdGhHcmFwaGljKCk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/link-path.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/ripple.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/ripple.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerRippleGlyph: () => (/* binding */ registerRippleGlyph)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\nconst registerRippleGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerGlyph(\"ripplePoint\", {\n        symbol: \"symbol\",\n        ripple0: \"symbol\",\n        ripple1: \"symbol\",\n        ripple2: \"symbol\"\n    }).registerFunctionEncoder(((encodeValues, datum, element, config) => {\n        var _a;\n        const ripple = Math.max(0, Math.min(encodeValues.ripple, 1)), size = null !== (_a = encodeValues.size) && void 0 !== _a ? _a : element.getGraphicAttribute(\"size\"), rippleSize = .5 * size;\n        return {\n            ripple0: {\n                size: size + rippleSize * ripple,\n                fillOpacity: .75 - .25 * ripple\n            },\n            ripple1: {\n                size: size + rippleSize * (1 + ripple),\n                fillOpacity: .5 - .25 * ripple\n            },\n            ripple2: {\n                size: size + rippleSize * (2 + ripple),\n                fillOpacity: .25 - .25 * ripple\n            }\n        };\n    })).registerDefaultEncoder((() => ({\n        ripple0: {\n            fillOpacity: .75\n        },\n        ripple1: {\n            fillOpacity: .5\n        },\n        ripple2: {\n            fillOpacity: .25\n        }\n    }))), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_1__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__.registerSymbolGraphic)();\n};\n//# sourceMappingURL=ripple.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvcmlwcGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEM7O0FBRTBDOztBQUVsQzs7QUFFM0M7QUFDUCxJQUFJLGtEQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUssOERBQWlCLElBQUkseUVBQW9CLElBQUksMEVBQXFCO0FBQzVFO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvcmlwcGxlLmpzP2EwNzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJHbHlwaEdyYXBoaWMsIHJlZ2lzdGVyU3ltYm9sR3JhcGhpYyB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJHbHlwaE1hcmsgfSBmcm9tIFwiLi4vdmlldy9nbHlwaFwiO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSaXBwbGVHbHlwaCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR2x5cGgoXCJyaXBwbGVQb2ludFwiLCB7XG4gICAgICAgIHN5bWJvbDogXCJzeW1ib2xcIixcbiAgICAgICAgcmlwcGxlMDogXCJzeW1ib2xcIixcbiAgICAgICAgcmlwcGxlMTogXCJzeW1ib2xcIixcbiAgICAgICAgcmlwcGxlMjogXCJzeW1ib2xcIlxuICAgIH0pLnJlZ2lzdGVyRnVuY3Rpb25FbmNvZGVyKCgoZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcmlwcGxlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZW5jb2RlVmFsdWVzLnJpcHBsZSwgMSkpLCBzaXplID0gbnVsbCAhPT0gKF9hID0gZW5jb2RlVmFsdWVzLnNpemUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInNpemVcIiksIHJpcHBsZVNpemUgPSAuNSAqIHNpemU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByaXBwbGUwOiB7XG4gICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSArIHJpcHBsZVNpemUgKiByaXBwbGUsXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC43NSAtIC4yNSAqIHJpcHBsZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJpcHBsZTE6IHtcbiAgICAgICAgICAgICAgICBzaXplOiBzaXplICsgcmlwcGxlU2l6ZSAqICgxICsgcmlwcGxlKSxcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogLjUgLSAuMjUgKiByaXBwbGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByaXBwbGUyOiB7XG4gICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSArIHJpcHBsZVNpemUgKiAoMiArIHJpcHBsZSksXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC4yNSAtIC4yNSAqIHJpcHBsZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKS5yZWdpc3RlckRlZmF1bHRFbmNvZGVyKCgoKSA9PiAoe1xuICAgICAgICByaXBwbGUwOiB7XG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogLjc1XG4gICAgICAgIH0sXG4gICAgICAgIHJpcHBsZTE6IHtcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuNVxuICAgICAgICB9LFxuICAgICAgICByaXBwbGUyOiB7XG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogLjI1XG4gICAgICAgIH1cbiAgICB9KSkpLCByZWdpc3RlckdseXBoTWFyaygpLCByZWdpc3RlckdseXBoR3JhcGhpYygpLCByZWdpc3RlclN5bWJvbEdyYXBoaWMoKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yaXBwbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/ripple.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/tree-path.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/tree-path.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getHorizontalPath: () => (/* binding */ getHorizontalPath),\n/* harmony export */   getVerticalPath: () => (/* binding */ getVerticalPath),\n/* harmony export */   registerTreePathGlyph: () => (/* binding */ registerTreePathGlyph)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\n\n\nconst getHorizontalPath = options => {\n    var _a, _b;\n    const curvature = null !== (_a = options.curvature) && void 0 !== _a ? _a : .5;\n    let x0 = options.x0, x1 = options.x1, y0 = options.y0, y1 = options.y1, cpx0 = x0 + curvature * (x1 - x0), cpx1 = x1 + curvature * (x0 - x1), formatter = v => v;\n    !1 !== options.round && (x0 = Math.round(x0), x1 = Math.round(x1), y0 = Math.round(y0), \n    y1 = Math.round(y1), cpx0 = Math.round(cpx0), cpx1 = Math.round(cpx1), formatter = Math.round);\n    const mainPath = \"line\" === options.pathType ? `M${x0},${y0}L${x1},${y1}` : \"polyline\" === options.pathType ? `M${x0},${y0}L${cpx0},${y0}L${cpx0},${y1}L${x1},${y1}` : `M${x0},${y0}C${cpx0},${y0},${cpx1},${y1},${x1},${y1}`;\n    if (options.startArrow || options.endArrow) {\n        const delta = x1 - x0;\n        if (Math.abs(delta) > 1e-6) {\n            const arrowSize = null !== (_b = options.arrowSize) && void 0 !== _b ? _b : 3, sign = delta > 0 ? 1 : -1, endArrowPath = options.endArrow ? `M${formatter(x1 - sign * arrowSize)},${formatter(y1 - arrowSize)}L${x1},${y1}L${formatter(x1 - sign * arrowSize)},${formatter(y1 + arrowSize)}` : \"\";\n            return [ options.startArrow ? `M${formatter(x0 + sign * arrowSize)},${formatter(y0 - arrowSize)}L${x0},${y0}L${formatter(x0 + sign * arrowSize)},${formatter(y0 + arrowSize)}` : \"\", mainPath, endArrowPath ];\n        }\n    }\n    return [ \"\", mainPath, \"\" ];\n};\n\nconst getVerticalPath = options => {\n    var _a, _b;\n    const curvature = null !== (_a = options.curvature) && void 0 !== _a ? _a : .5;\n    let y0 = options.y0, y1 = options.y1, x0 = options.x0, x1 = options.x1, cpy0 = y0 + curvature * (y1 - y0), cpy1 = y1 + curvature * (y0 - y1), formatter = v => v;\n    !1 !== options.round && (formatter = Math.round, y0 = Math.round(y0), y1 = Math.round(y1), \n    x0 = Math.round(x0), x1 = Math.round(x1), cpy0 = Math.round(cpy0), cpy1 = Math.round(cpy1));\n    const mainPath = \"line\" === options.pathType ? `M${x0},${y0}L${x1},${y1}` : \"polyline\" === options.pathType ? `M${x0},${y0}L${x0},${cpy0}L${x1},${cpy0}L${x1},${y1}` : `M${x0},${y0}C${x0},${cpy0},${x1},${cpy1},${x1},${y1}`;\n    if (options.startArrow || options.endArrow) {\n        const delta = y1 - y0;\n        if (Math.abs(delta) > 1e-6) {\n            const arrowSize = null !== (_b = options.arrowSize) && void 0 !== _b ? _b : 3, sign = delta > 0 ? 1 : -1, endArrowPath = options.endArrow ? `M${formatter(x1 - arrowSize)},${formatter(y1 - sign * arrowSize)}L${x1},${formatter(y1)}L${formatter(x1 + arrowSize)},${formatter(y1 - sign * arrowSize)}` : \"\";\n            return [ options.startArrow ? `M${formatter(x0 + arrowSize)},${formatter(y0 + sign * arrowSize)}L${x0},${formatter(y0)}L${formatter(x0 + arrowSize)},${formatter(y0 + sign * arrowSize)}` : \"\", mainPath, endArrowPath ];\n        }\n    }\n    return [ \"\", mainPath, \"\" ];\n};\n\nconst encoder = (encodeValues, datum, element, config) => {\n    var _a;\n    const direction = null !== (_a = encodeValues.direction) && void 0 !== _a ? _a : null == config ? void 0 : config.direction, parsePath = [ \"vertical\", \"TB\", \"BT\" ].includes(direction) ? getVerticalPath : getHorizontalPath, encodeChannels = Object.keys(encodeValues);\n    if ([ \"x0\", \"y0\", \"x1\", \"y1\" ].every((channel => encodeChannels.includes(channel)))) {\n        const [startArrowPath, mainPath, endArrowPath] = parsePath(encodeValues);\n        return {\n            main: {\n                path: mainPath\n            },\n            startArrow: {\n                path: startArrowPath\n            },\n            endArrow: {\n                path: endArrowPath\n            }\n        };\n    }\n    return {};\n}, treePathGrowIn = (element, options, animationParameters) => {\n    const linkValues = {\n        x0: element.getGraphicAttribute(\"x0\", !1),\n        x1: element.getGraphicAttribute(\"x1\", !1),\n        y0: element.getGraphicAttribute(\"y0\", !1),\n        y1: element.getGraphicAttribute(\"y1\", !1),\n        round: element.getGraphicAttribute(\"round\", !1),\n        align: element.getGraphicAttribute(\"align\", !1),\n        pathType: element.getGraphicAttribute(\"pathType\", !1),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !1),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !1)\n    };\n    return Object.keys(linkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(linkValues[key]) && delete linkValues[key];\n    })), {\n        from: Object.assign({}, linkValues, {\n            x1: linkValues.x0,\n            y1: linkValues.y0\n        }),\n        to: linkValues\n    };\n}, treePathGrowOut = (element, options, animationParameters) => {\n    const linkValues = {\n        x0: element.getGraphicAttribute(\"x0\", !0),\n        x1: element.getGraphicAttribute(\"x1\", !0),\n        y0: element.getGraphicAttribute(\"y0\", !0),\n        y1: element.getGraphicAttribute(\"y1\", !0),\n        round: element.getGraphicAttribute(\"round\", !0),\n        align: element.getGraphicAttribute(\"align\", !0),\n        pathType: element.getGraphicAttribute(\"pathType\", !0),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !0),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !0)\n    };\n    return Object.keys(linkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(linkValues[key]) && delete linkValues[key];\n    })), {\n        from: linkValues,\n        to: Object.assign({}, linkValues, {\n            x1: linkValues.x0,\n            y1: linkValues.y0\n        })\n    };\n}, treePathUpdate = (element, options, animationParameters) => {\n    const bassLinkValues = {\n        thickness: element.getGraphicAttribute(\"thickness\", !1),\n        round: element.getGraphicAttribute(\"round\", !1),\n        align: element.getGraphicAttribute(\"align\", !1),\n        pathType: element.getGraphicAttribute(\"pathType\", !1),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !1),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !1)\n    };\n    Object.keys(bassLinkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(bassLinkValues[key]) && delete bassLinkValues[key];\n    }));\n    return {\n        from: Object.assign(Object.assign({\n            x0: element.getGraphicAttribute(\"x0\", !0),\n            x1: element.getGraphicAttribute(\"x1\", !0),\n            y0: element.getGraphicAttribute(\"y0\", !0),\n            y1: element.getGraphicAttribute(\"y1\", !0)\n        }, bassLinkValues), bassLinkValues),\n        to: Object.assign({\n            x0: element.getGraphicAttribute(\"x0\", !1),\n            x1: element.getGraphicAttribute(\"x1\", !1),\n            y0: element.getGraphicAttribute(\"y0\", !1),\n            y1: element.getGraphicAttribute(\"y1\", !1)\n        }, bassLinkValues)\n    };\n};\n\nconst registerTreePathGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerGlyph(\"treePath\", {\n        main: \"path\",\n        startArrow: \"path\",\n        endArrow: \"path\"\n    }).registerFunctionEncoder(encoder).registerChannelEncoder(\"startArrowStyle\", ((channel, encodeValue) => ({\n        startArrow: encodeValue\n    }))).registerChannelEncoder(\"endArrowStyle\", ((channel, encodeValue) => ({\n        endArrow: encodeValue\n    }))).registerDefaultEncoder((() => ({\n        startArrow: {\n            zIndex: 1\n        },\n        endArrow: {\n            zIndex: 2\n        }\n    }))), _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"treePathGrowIn\", treePathGrowIn), _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"treePathGrowOut\", treePathGrowOut), \n    _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"treePathUpdate\", treePathUpdate), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_2__.registerGlyphMark)(), \n    (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__.registerPathGraphic)();\n};\n//# sourceMappingURL=tree-path.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvdHJlZS1wYXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEM7O0FBRUQ7O0FBRXlDOztBQUVoQzs7QUFFM0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsMENBQTBDLEdBQUcsR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLFFBQVEsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7QUFDaE87QUFDQTtBQUNBO0FBQ0EsNEpBQTRKLGlDQUFpQyxHQUFHLDBCQUEwQixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsaUNBQWlDLEdBQUcsMEJBQTBCO0FBQ3ZTLDhDQUE4QyxpQ0FBaUMsR0FBRywwQkFBMEIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLGlDQUFpQyxHQUFHLDBCQUEwQjtBQUN6TDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRywwQ0FBMEMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsUUFBUSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRztBQUNoTztBQUNBO0FBQ0E7QUFDQSw0SkFBNEosMEJBQTBCLEdBQUcsaUNBQWlDLEdBQUcsR0FBRyxHQUFHLGNBQWMsR0FBRywwQkFBMEIsR0FBRyxpQ0FBaUM7QUFDbFQsOENBQThDLDBCQUEwQixHQUFHLGlDQUFpQyxHQUFHLEdBQUcsR0FBRyxjQUFjLEdBQUcsMEJBQTBCLEdBQUcsaUNBQWlDO0FBQ3BNO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiLEtBQUs7QUFDTCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQUs7QUFDYixLQUFLO0FBQ0w7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFLO0FBQ2IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLGtEQUFPLDBEQUEwRCxrREFBTztBQUNsRixJQUFJLGtEQUFPLDBEQUEwRCw4REFBaUI7QUFDdEYsSUFBSSx5RUFBb0IsSUFBSSx3RUFBbUI7QUFDL0M7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9nbHlwaC90cmVlLXBhdGguanM/ZjY2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyR2x5cGhHcmFwaGljLCByZWdpc3RlclBhdGhHcmFwaGljIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyByZWdpc3RlckdseXBoTWFyayB9IGZyb20gXCIuLi92aWV3L2dseXBoXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRIb3Jpem9udGFsUGF0aCA9IG9wdGlvbnMgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgY3VydmF0dXJlID0gbnVsbCAhPT0gKF9hID0gb3B0aW9ucy5jdXJ2YXR1cmUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IC41O1xuICAgIGxldCB4MCA9IG9wdGlvbnMueDAsIHgxID0gb3B0aW9ucy54MSwgeTAgPSBvcHRpb25zLnkwLCB5MSA9IG9wdGlvbnMueTEsIGNweDAgPSB4MCArIGN1cnZhdHVyZSAqICh4MSAtIHgwKSwgY3B4MSA9IHgxICsgY3VydmF0dXJlICogKHgwIC0geDEpLCBmb3JtYXR0ZXIgPSB2ID0+IHY7XG4gICAgITEgIT09IG9wdGlvbnMucm91bmQgJiYgKHgwID0gTWF0aC5yb3VuZCh4MCksIHgxID0gTWF0aC5yb3VuZCh4MSksIHkwID0gTWF0aC5yb3VuZCh5MCksIFxuICAgIHkxID0gTWF0aC5yb3VuZCh5MSksIGNweDAgPSBNYXRoLnJvdW5kKGNweDApLCBjcHgxID0gTWF0aC5yb3VuZChjcHgxKSwgZm9ybWF0dGVyID0gTWF0aC5yb3VuZCk7XG4gICAgY29uc3QgbWFpblBhdGggPSBcImxpbmVcIiA9PT0gb3B0aW9ucy5wYXRoVHlwZSA/IGBNJHt4MH0sJHt5MH1MJHt4MX0sJHt5MX1gIDogXCJwb2x5bGluZVwiID09PSBvcHRpb25zLnBhdGhUeXBlID8gYE0ke3gwfSwke3kwfUwke2NweDB9LCR7eTB9TCR7Y3B4MH0sJHt5MX1MJHt4MX0sJHt5MX1gIDogYE0ke3gwfSwke3kwfUMke2NweDB9LCR7eTB9LCR7Y3B4MX0sJHt5MX0sJHt4MX0sJHt5MX1gO1xuICAgIGlmIChvcHRpb25zLnN0YXJ0QXJyb3cgfHwgb3B0aW9ucy5lbmRBcnJvdykge1xuICAgICAgICBjb25zdCBkZWx0YSA9IHgxIC0geDA7XG4gICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiAxZS02KSB7XG4gICAgICAgICAgICBjb25zdCBhcnJvd1NpemUgPSBudWxsICE9PSAoX2IgPSBvcHRpb25zLmFycm93U2l6ZSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMywgc2lnbiA9IGRlbHRhID4gMCA/IDEgOiAtMSwgZW5kQXJyb3dQYXRoID0gb3B0aW9ucy5lbmRBcnJvdyA/IGBNJHtmb3JtYXR0ZXIoeDEgLSBzaWduICogYXJyb3dTaXplKX0sJHtmb3JtYXR0ZXIoeTEgLSBhcnJvd1NpemUpfUwke3gxfSwke3kxfUwke2Zvcm1hdHRlcih4MSAtIHNpZ24gKiBhcnJvd1NpemUpfSwke2Zvcm1hdHRlcih5MSArIGFycm93U2l6ZSl9YCA6IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gWyBvcHRpb25zLnN0YXJ0QXJyb3cgPyBgTSR7Zm9ybWF0dGVyKHgwICsgc2lnbiAqIGFycm93U2l6ZSl9LCR7Zm9ybWF0dGVyKHkwIC0gYXJyb3dTaXplKX1MJHt4MH0sJHt5MH1MJHtmb3JtYXR0ZXIoeDAgKyBzaWduICogYXJyb3dTaXplKX0sJHtmb3JtYXR0ZXIoeTAgKyBhcnJvd1NpemUpfWAgOiBcIlwiLCBtYWluUGF0aCwgZW5kQXJyb3dQYXRoIF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFsgXCJcIiwgbWFpblBhdGgsIFwiXCIgXTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRWZXJ0aWNhbFBhdGggPSBvcHRpb25zID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGN1cnZhdHVyZSA9IG51bGwgIT09IChfYSA9IG9wdGlvbnMuY3VydmF0dXJlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAuNTtcbiAgICBsZXQgeTAgPSBvcHRpb25zLnkwLCB5MSA9IG9wdGlvbnMueTEsIHgwID0gb3B0aW9ucy54MCwgeDEgPSBvcHRpb25zLngxLCBjcHkwID0geTAgKyBjdXJ2YXR1cmUgKiAoeTEgLSB5MCksIGNweTEgPSB5MSArIGN1cnZhdHVyZSAqICh5MCAtIHkxKSwgZm9ybWF0dGVyID0gdiA9PiB2O1xuICAgICExICE9PSBvcHRpb25zLnJvdW5kICYmIChmb3JtYXR0ZXIgPSBNYXRoLnJvdW5kLCB5MCA9IE1hdGgucm91bmQoeTApLCB5MSA9IE1hdGgucm91bmQoeTEpLCBcbiAgICB4MCA9IE1hdGgucm91bmQoeDApLCB4MSA9IE1hdGgucm91bmQoeDEpLCBjcHkwID0gTWF0aC5yb3VuZChjcHkwKSwgY3B5MSA9IE1hdGgucm91bmQoY3B5MSkpO1xuICAgIGNvbnN0IG1haW5QYXRoID0gXCJsaW5lXCIgPT09IG9wdGlvbnMucGF0aFR5cGUgPyBgTSR7eDB9LCR7eTB9TCR7eDF9LCR7eTF9YCA6IFwicG9seWxpbmVcIiA9PT0gb3B0aW9ucy5wYXRoVHlwZSA/IGBNJHt4MH0sJHt5MH1MJHt4MH0sJHtjcHkwfUwke3gxfSwke2NweTB9TCR7eDF9LCR7eTF9YCA6IGBNJHt4MH0sJHt5MH1DJHt4MH0sJHtjcHkwfSwke3gxfSwke2NweTF9LCR7eDF9LCR7eTF9YDtcbiAgICBpZiAob3B0aW9ucy5zdGFydEFycm93IHx8IG9wdGlvbnMuZW5kQXJyb3cpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB5MSAtIHkwO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gMWUtNikge1xuICAgICAgICAgICAgY29uc3QgYXJyb3dTaXplID0gbnVsbCAhPT0gKF9iID0gb3B0aW9ucy5hcnJvd1NpemUpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDMsIHNpZ24gPSBkZWx0YSA+IDAgPyAxIDogLTEsIGVuZEFycm93UGF0aCA9IG9wdGlvbnMuZW5kQXJyb3cgPyBgTSR7Zm9ybWF0dGVyKHgxIC0gYXJyb3dTaXplKX0sJHtmb3JtYXR0ZXIoeTEgLSBzaWduICogYXJyb3dTaXplKX1MJHt4MX0sJHtmb3JtYXR0ZXIoeTEpfUwke2Zvcm1hdHRlcih4MSArIGFycm93U2l6ZSl9LCR7Zm9ybWF0dGVyKHkxIC0gc2lnbiAqIGFycm93U2l6ZSl9YCA6IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gWyBvcHRpb25zLnN0YXJ0QXJyb3cgPyBgTSR7Zm9ybWF0dGVyKHgwICsgYXJyb3dTaXplKX0sJHtmb3JtYXR0ZXIoeTAgKyBzaWduICogYXJyb3dTaXplKX1MJHt4MH0sJHtmb3JtYXR0ZXIoeTApfUwke2Zvcm1hdHRlcih4MCArIGFycm93U2l6ZSl9LCR7Zm9ybWF0dGVyKHkwICsgc2lnbiAqIGFycm93U2l6ZSl9YCA6IFwiXCIsIG1haW5QYXRoLCBlbmRBcnJvd1BhdGggXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gWyBcIlwiLCBtYWluUGF0aCwgXCJcIiBdO1xufTtcblxuY29uc3QgZW5jb2RlciA9IChlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gbnVsbCAhPT0gKF9hID0gZW5jb2RlVmFsdWVzLmRpcmVjdGlvbikgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbCA9PSBjb25maWcgPyB2b2lkIDAgOiBjb25maWcuZGlyZWN0aW9uLCBwYXJzZVBhdGggPSBbIFwidmVydGljYWxcIiwgXCJUQlwiLCBcIkJUXCIgXS5pbmNsdWRlcyhkaXJlY3Rpb24pID8gZ2V0VmVydGljYWxQYXRoIDogZ2V0SG9yaXpvbnRhbFBhdGgsIGVuY29kZUNoYW5uZWxzID0gT2JqZWN0LmtleXMoZW5jb2RlVmFsdWVzKTtcbiAgICBpZiAoWyBcIngwXCIsIFwieTBcIiwgXCJ4MVwiLCBcInkxXCIgXS5ldmVyeSgoY2hhbm5lbCA9PiBlbmNvZGVDaGFubmVscy5pbmNsdWRlcyhjaGFubmVsKSkpKSB7XG4gICAgICAgIGNvbnN0IFtzdGFydEFycm93UGF0aCwgbWFpblBhdGgsIGVuZEFycm93UGF0aF0gPSBwYXJzZVBhdGgoZW5jb2RlVmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1haW46IHtcbiAgICAgICAgICAgICAgICBwYXRoOiBtYWluUGF0aFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXJ0QXJyb3c6IHtcbiAgICAgICAgICAgICAgICBwYXRoOiBzdGFydEFycm93UGF0aFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZEFycm93OiB7XG4gICAgICAgICAgICAgICAgcGF0aDogZW5kQXJyb3dQYXRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0sIHRyZWVQYXRoR3Jvd0luID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBsaW5rVmFsdWVzID0ge1xuICAgICAgICB4MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDBcIiwgITEpLFxuICAgICAgICB4MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDFcIiwgITEpLFxuICAgICAgICB5MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTBcIiwgITEpLFxuICAgICAgICB5MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTFcIiwgITEpLFxuICAgICAgICByb3VuZDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicm91bmRcIiwgITEpLFxuICAgICAgICBhbGlnbjogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiYWxpZ25cIiwgITEpLFxuICAgICAgICBwYXRoVHlwZTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicGF0aFR5cGVcIiwgITEpLFxuICAgICAgICBlbmRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kQXJyb3dcIiwgITEpLFxuICAgICAgICBzdGFydEFycm93OiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFycm93XCIsICExKVxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGxpbmtWYWx1ZXMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGlzTmlsKGxpbmtWYWx1ZXNba2V5XSkgJiYgZGVsZXRlIGxpbmtWYWx1ZXNba2V5XTtcbiAgICB9KSksIHtcbiAgICAgICAgZnJvbTogT2JqZWN0LmFzc2lnbih7fSwgbGlua1ZhbHVlcywge1xuICAgICAgICAgICAgeDE6IGxpbmtWYWx1ZXMueDAsXG4gICAgICAgICAgICB5MTogbGlua1ZhbHVlcy55MFxuICAgICAgICB9KSxcbiAgICAgICAgdG86IGxpbmtWYWx1ZXNcbiAgICB9O1xufSwgdHJlZVBhdGhHcm93T3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBsaW5rVmFsdWVzID0ge1xuICAgICAgICB4MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDBcIiwgITApLFxuICAgICAgICB4MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDFcIiwgITApLFxuICAgICAgICB5MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTBcIiwgITApLFxuICAgICAgICB5MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTFcIiwgITApLFxuICAgICAgICByb3VuZDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicm91bmRcIiwgITApLFxuICAgICAgICBhbGlnbjogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiYWxpZ25cIiwgITApLFxuICAgICAgICBwYXRoVHlwZTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicGF0aFR5cGVcIiwgITApLFxuICAgICAgICBlbmRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kQXJyb3dcIiwgITApLFxuICAgICAgICBzdGFydEFycm93OiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFycm93XCIsICEwKVxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGxpbmtWYWx1ZXMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGlzTmlsKGxpbmtWYWx1ZXNba2V5XSkgJiYgZGVsZXRlIGxpbmtWYWx1ZXNba2V5XTtcbiAgICB9KSksIHtcbiAgICAgICAgZnJvbTogbGlua1ZhbHVlcyxcbiAgICAgICAgdG86IE9iamVjdC5hc3NpZ24oe30sIGxpbmtWYWx1ZXMsIHtcbiAgICAgICAgICAgIHgxOiBsaW5rVmFsdWVzLngwLFxuICAgICAgICAgICAgeTE6IGxpbmtWYWx1ZXMueTBcbiAgICAgICAgfSlcbiAgICB9O1xufSwgdHJlZVBhdGhVcGRhdGUgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIGNvbnN0IGJhc3NMaW5rVmFsdWVzID0ge1xuICAgICAgICB0aGlja25lc3M6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInRoaWNrbmVzc1wiLCAhMSksXG4gICAgICAgIHJvdW5kOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJyb3VuZFwiLCAhMSksXG4gICAgICAgIGFsaWduOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJhbGlnblwiLCAhMSksXG4gICAgICAgIHBhdGhUeXBlOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwYXRoVHlwZVwiLCAhMSksXG4gICAgICAgIGVuZEFycm93OiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJlbmRBcnJvd1wiLCAhMSksXG4gICAgICAgIHN0YXJ0QXJyb3c6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInN0YXJ0QXJyb3dcIiwgITEpXG4gICAgfTtcbiAgICBPYmplY3Qua2V5cyhiYXNzTGlua1ZhbHVlcykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgaXNOaWwoYmFzc0xpbmtWYWx1ZXNba2V5XSkgJiYgZGVsZXRlIGJhc3NMaW5rVmFsdWVzW2tleV07XG4gICAgfSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB4MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDBcIiwgITApLFxuICAgICAgICAgICAgeDE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngxXCIsICEwKSxcbiAgICAgICAgICAgIHkwOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5MFwiLCAhMCksXG4gICAgICAgICAgICB5MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTFcIiwgITApXG4gICAgICAgIH0sIGJhc3NMaW5rVmFsdWVzKSwgYmFzc0xpbmtWYWx1ZXMpLFxuICAgICAgICB0bzogT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB4MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDBcIiwgITEpLFxuICAgICAgICAgICAgeDE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngxXCIsICExKSxcbiAgICAgICAgICAgIHkwOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5MFwiLCAhMSksXG4gICAgICAgICAgICB5MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTFcIiwgITEpXG4gICAgICAgIH0sIGJhc3NMaW5rVmFsdWVzKVxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJUcmVlUGF0aEdseXBoID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHbHlwaChcInRyZWVQYXRoXCIsIHtcbiAgICAgICAgbWFpbjogXCJwYXRoXCIsXG4gICAgICAgIHN0YXJ0QXJyb3c6IFwicGF0aFwiLFxuICAgICAgICBlbmRBcnJvdzogXCJwYXRoXCJcbiAgICB9KS5yZWdpc3RlckZ1bmN0aW9uRW5jb2RlcihlbmNvZGVyKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwic3RhcnRBcnJvd1N0eWxlXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUpID0+ICh7XG4gICAgICAgIHN0YXJ0QXJyb3c6IGVuY29kZVZhbHVlXG4gICAgfSkpKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwiZW5kQXJyb3dTdHlsZVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlKSA9PiAoe1xuICAgICAgICBlbmRBcnJvdzogZW5jb2RlVmFsdWVcbiAgICB9KSkpLnJlZ2lzdGVyRGVmYXVsdEVuY29kZXIoKCgpID0+ICh7XG4gICAgICAgIHN0YXJ0QXJyb3c6IHtcbiAgICAgICAgICAgIHpJbmRleDogMVxuICAgICAgICB9LFxuICAgICAgICBlbmRBcnJvdzoge1xuICAgICAgICAgICAgekluZGV4OiAyXG4gICAgICAgIH1cbiAgICB9KSkpLCBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcInRyZWVQYXRoR3Jvd0luXCIsIHRyZWVQYXRoR3Jvd0luKSwgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJ0cmVlUGF0aEdyb3dPdXRcIiwgdHJlZVBhdGhHcm93T3V0KSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJ0cmVlUGF0aFVwZGF0ZVwiLCB0cmVlUGF0aFVwZGF0ZSksIHJlZ2lzdGVyR2x5cGhNYXJrKCksIFxuICAgIHJlZ2lzdGVyR2x5cGhHcmFwaGljKCksIHJlZ2lzdGVyUGF0aEdyYXBoaWMoKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmVlLXBhdGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/tree-path.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/violin.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/violin.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerViolinGlyph: () => (/* binding */ registerViolinGlyph)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/direction.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\n\n\n\n\nconst defaultDensitySize = 30, computeViolinPoints = (density, densitySize, scale, config) => {\n    if (!density || 0 === density.length) return [];\n    const maxDensity = density.reduce(((max, d) => Math.max(max, d[1])), 0);\n    if (config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction)) {\n        return [ ...density.map((d => ({\n            y: 1 / maxDensity * -densitySize * d[1],\n            x: scale.scale(d[0])\n        }))), ...density.map((d => ({\n            y: densitySize * (1 / maxDensity) * d[1],\n            x: scale.scale(d[0])\n        }))).reverse() ];\n    }\n    return [ ...density.map((d => ({\n        x: 1 / maxDensity * -densitySize * d[1],\n        y: scale.scale(d[0])\n    }))), ...density.map((d => ({\n        x: densitySize * (1 / maxDensity) * d[1],\n        y: scale.scale(d[0])\n    }))).reverse() ];\n}, encodeViolin = (encodeValues, datum, element, config) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const attributes = {\n        violin: {},\n        shaft: {},\n        box: {},\n        median: {}\n    }, x = null !== (_a = encodeValues.x) && void 0 !== _a ? _a : element.getGraphicAttribute(\"x\", !1), y = null !== (_b = encodeValues.y) && void 0 !== _b ? _b : element.getGraphicAttribute(\"y\", !1), width = null !== (_c = encodeValues.width) && void 0 !== _c ? _c : element.getGraphicAttribute(\"width\", !1), height = null !== (_d = encodeValues.height) && void 0 !== _d ? _d : element.getGraphicAttribute(\"height\", !1), boxWidth = null !== (_e = encodeValues.boxWidth) && void 0 !== _e ? _e : element.getGraphicAttribute(\"boxWidth\", !1), boxHeight = null !== (_f = encodeValues.boxHeight) && void 0 !== _f ? _f : element.getGraphicAttribute(\"boxHeight\", !1), densitySize = null !== (_h = null !== (_g = encodeValues.densitySize) && void 0 !== _g ? _g : element.getGraphicAttribute(\"densitySize\", !1)) && void 0 !== _h ? _h : 30, densityScale = element.mark.getScalesByChannel().density, densityField = element.mark.getFieldsByChannel().density;\n    if (densityField && densityScale) {\n        const points = computeViolinPoints(datum[densityField], densitySize, densityScale, config);\n        Object.assign(attributes.violin, {\n            points: points\n        });\n    }\n    return config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(boxHeight) ? Object.assign(attributes.box, {\n        y: y - boxHeight / 2,\n        y1: y + boxHeight / 2\n    }) : Object.assign(attributes.box, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(boxWidth) ? Object.assign(attributes.box, {\n        x: x - boxWidth / 2,\n        x1: x + boxWidth / 2\n    }) : Object.assign(attributes.box, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), attributes;\n};\n\nconst registerViolinGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGlyph(\"violin\", {\n        violin: \"polygon\",\n        shaft: \"rule\",\n        box: \"rect\",\n        median: \"symbol\"\n    }).registerFunctionEncoder(encodeViolin).registerChannelEncoder(\"x\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? null : {\n        shaft: {\n            x: encodeValue,\n            x1: encodeValue\n        }\n    })).registerChannelEncoder(\"y\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        shaft: {\n            y: encodeValue,\n            y1: encodeValue\n        }\n    } : null)).registerChannelEncoder(\"q1\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        box: {\n            x: encodeValue\n        }\n    } : {\n        box: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"q3\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        box: {\n            x1: encodeValue\n        }\n    } : {\n        box: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"min\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        shaft: {\n            x: encodeValue\n        }\n    } : {\n        shaft: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"max\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        shaft: {\n            x1: encodeValue\n        }\n    } : {\n        shaft: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"median\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        median: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        median: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"angle\", ((channel, encodeValue, encodeValues, datum, element, config) => {\n        var _a;\n        const defaultAnchor = config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? [ (encodeValues.min + encodeValues.max) / 2, encodeValues.y ] : [ encodeValues.x, (encodeValues.min + encodeValues.max) / 2 ], anchor = null !== (_a = encodeValues.anchor) && void 0 !== _a ? _a : defaultAnchor;\n        return {\n            shaft: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            box: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            median: {\n                angle: encodeValue,\n                anchor: anchor\n            }\n        };\n    })).registerChannelEncoder(\"medianFill\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        median: {\n            fill: encodeValue\n        }\n    }))).registerChannelEncoder(\"violinFill\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        violin: {\n            fill: encodeValue\n        }\n    }))).registerChannelEncoder(\"violinStroke\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        violin: {\n            stroke: encodeValue\n        }\n    }))).registerChannelEncoder(\"density\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        violin: {\n            points: encodeValue\n        }\n    }))).registerDefaultEncoder((() => ({\n        violin: {\n            fill: \"#ff807f\",\n            stroke: \"#ff0000\"\n        },\n        shaft: {\n            stroke: \"#000000\"\n        },\n        box: {\n            fill: \"#000000\"\n        },\n        median: {\n            fill: \"#FFFFFF\",\n            visible: !1\n        }\n    }))), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_3__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerPolygonGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRuleGraphic)(), \n    (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRectGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerSymbolGraphic)();\n};\n//# sourceMappingURL=violin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvdmlvbGluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpRDs7QUFFUDs7QUFFNEc7O0FBRS9GOztBQUVMOztBQUVsRDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUVBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixpQkFBaUI7QUFDakIsZUFBZTtBQUNmO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EscUJBQXFCLHFFQUFZLHFCQUFxQiw0REFBYTtBQUNuRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLLElBQUksNERBQWE7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywrSUFBK0kscUVBQVk7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBHQUEwRyxxRUFBWTtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUhBQWlILHFFQUFZO0FBQ25JO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJHQUEyRyxxRUFBWTtBQUM1SDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsS0FBSyw0R0FBNEcscUVBQVk7QUFDN0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEdBQTRHLHFFQUFZO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtHQUErRyxxRUFBWTtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3Q0FBd0MscUVBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUssOERBQWlCLElBQUkseUVBQW9CLElBQUksMkVBQXNCLElBQUksd0VBQW1CO0FBQ3BHLElBQUksd0VBQW1CLElBQUksMEVBQXFCO0FBQ2hEO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvdmlvbGluLmpzPzNmZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyR2x5cGhHcmFwaGljLCByZWdpc3RlclBvbHlnb25HcmFwaGljLCByZWdpc3RlclJlY3RHcmFwaGljLCByZWdpc3RlclJ1bGVHcmFwaGljLCByZWdpc3RlclN5bWJvbEdyYXBoaWMgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9ncmFwaGljXCI7XG5cbmltcG9ydCB7IGlzSG9yaXpvbnRhbCB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5pbXBvcnQgeyByZWdpc3RlckdseXBoTWFyayB9IGZyb20gXCIuLi92aWV3L2dseXBoXCI7XG5cbmNvbnN0IGRlZmF1bHREZW5zaXR5U2l6ZSA9IDMwLCBjb21wdXRlVmlvbGluUG9pbnRzID0gKGRlbnNpdHksIGRlbnNpdHlTaXplLCBzY2FsZSwgY29uZmlnKSA9PiB7XG4gICAgaWYgKCFkZW5zaXR5IHx8IDAgPT09IGRlbnNpdHkubGVuZ3RoKSByZXR1cm4gW107XG4gICAgY29uc3QgbWF4RGVuc2l0eSA9IGRlbnNpdHkucmVkdWNlKCgobWF4LCBkKSA9PiBNYXRoLm1heChtYXgsIGRbMV0pKSwgMCk7XG4gICAgaWYgKGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIFsgLi4uZGVuc2l0eS5tYXAoKGQgPT4gKHtcbiAgICAgICAgICAgIHk6IDEgLyBtYXhEZW5zaXR5ICogLWRlbnNpdHlTaXplICogZFsxXSxcbiAgICAgICAgICAgIHg6IHNjYWxlLnNjYWxlKGRbMF0pXG4gICAgICAgIH0pKSksIC4uLmRlbnNpdHkubWFwKChkID0+ICh7XG4gICAgICAgICAgICB5OiBkZW5zaXR5U2l6ZSAqICgxIC8gbWF4RGVuc2l0eSkgKiBkWzFdLFxuICAgICAgICAgICAgeDogc2NhbGUuc2NhbGUoZFswXSlcbiAgICAgICAgfSkpKS5yZXZlcnNlKCkgXTtcbiAgICB9XG4gICAgcmV0dXJuIFsgLi4uZGVuc2l0eS5tYXAoKGQgPT4gKHtcbiAgICAgICAgeDogMSAvIG1heERlbnNpdHkgKiAtZGVuc2l0eVNpemUgKiBkWzFdLFxuICAgICAgICB5OiBzY2FsZS5zY2FsZShkWzBdKVxuICAgIH0pKSksIC4uLmRlbnNpdHkubWFwKChkID0+ICh7XG4gICAgICAgIHg6IGRlbnNpdHlTaXplICogKDEgLyBtYXhEZW5zaXR5KSAqIGRbMV0sXG4gICAgICAgIHk6IHNjYWxlLnNjYWxlKGRbMF0pXG4gICAgfSkpKS5yZXZlcnNlKCkgXTtcbn0sIGVuY29kZVZpb2xpbiA9IChlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIHZpb2xpbjoge30sXG4gICAgICAgIHNoYWZ0OiB7fSxcbiAgICAgICAgYm94OiB7fSxcbiAgICAgICAgbWVkaWFuOiB7fVxuICAgIH0sIHggPSBudWxsICE9PSAoX2EgPSBlbmNvZGVWYWx1ZXMueCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiLCAhMSksIHkgPSBudWxsICE9PSAoX2IgPSBlbmNvZGVWYWx1ZXMueSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMSksIHdpZHRoID0gbnVsbCAhPT0gKF9jID0gZW5jb2RlVmFsdWVzLndpZHRoKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ3aWR0aFwiLCAhMSksIGhlaWdodCA9IG51bGwgIT09IChfZCA9IGVuY29kZVZhbHVlcy5oZWlnaHQpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImhlaWdodFwiLCAhMSksIGJveFdpZHRoID0gbnVsbCAhPT0gKF9lID0gZW5jb2RlVmFsdWVzLmJveFdpZHRoKSAmJiB2b2lkIDAgIT09IF9lID8gX2UgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJib3hXaWR0aFwiLCAhMSksIGJveEhlaWdodCA9IG51bGwgIT09IChfZiA9IGVuY29kZVZhbHVlcy5ib3hIZWlnaHQpICYmIHZvaWQgMCAhPT0gX2YgPyBfZiA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImJveEhlaWdodFwiLCAhMSksIGRlbnNpdHlTaXplID0gbnVsbCAhPT0gKF9oID0gbnVsbCAhPT0gKF9nID0gZW5jb2RlVmFsdWVzLmRlbnNpdHlTaXplKSAmJiB2b2lkIDAgIT09IF9nID8gX2cgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJkZW5zaXR5U2l6ZVwiLCAhMSkpICYmIHZvaWQgMCAhPT0gX2ggPyBfaCA6IDMwLCBkZW5zaXR5U2NhbGUgPSBlbGVtZW50Lm1hcmsuZ2V0U2NhbGVzQnlDaGFubmVsKCkuZGVuc2l0eSwgZGVuc2l0eUZpZWxkID0gZWxlbWVudC5tYXJrLmdldEZpZWxkc0J5Q2hhbm5lbCgpLmRlbnNpdHk7XG4gICAgaWYgKGRlbnNpdHlGaWVsZCAmJiBkZW5zaXR5U2NhbGUpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gY29tcHV0ZVZpb2xpblBvaW50cyhkYXR1bVtkZW5zaXR5RmllbGRdLCBkZW5zaXR5U2l6ZSwgZGVuc2l0eVNjYWxlLCBjb25maWcpO1xuICAgICAgICBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMudmlvbGluLCB7XG4gICAgICAgICAgICBwb2ludHM6IHBvaW50c1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyBpc1ZhbGlkTnVtYmVyKGJveEhlaWdodCkgPyBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMuYm94LCB7XG4gICAgICAgIHk6IHkgLSBib3hIZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIGJveEhlaWdodCAvIDJcbiAgICB9KSA6IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5ib3gsIHtcbiAgICAgICAgeTogeSAtIGhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgaGVpZ2h0IC8gMlxuICAgIH0pIDogaXNWYWxpZE51bWJlcihib3hXaWR0aCkgPyBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMuYm94LCB7XG4gICAgICAgIHg6IHggLSBib3hXaWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgYm94V2lkdGggLyAyXG4gICAgfSkgOiBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMuYm94LCB7XG4gICAgICAgIHg6IHggLSB3aWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgd2lkdGggLyAyXG4gICAgfSksIGF0dHJpYnV0ZXM7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWaW9saW5HbHlwaCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR2x5cGgoXCJ2aW9saW5cIiwge1xuICAgICAgICB2aW9saW46IFwicG9seWdvblwiLFxuICAgICAgICBzaGFmdDogXCJydWxlXCIsXG4gICAgICAgIGJveDogXCJyZWN0XCIsXG4gICAgICAgIG1lZGlhbjogXCJzeW1ib2xcIlxuICAgIH0pLnJlZ2lzdGVyRnVuY3Rpb25FbmNvZGVyKGVuY29kZVZpb2xpbikucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInhcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8gbnVsbCA6IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHg6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeDE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInlcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgeTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB5MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0gOiBudWxsKSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInExXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgYm94OiB7XG4gICAgICAgICAgICB4OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgYm94OiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJxM1wiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIGJveDoge1xuICAgICAgICAgICAgeDE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBib3g6IHtcbiAgICAgICAgICAgIHkxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJtaW5cIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJtYXhcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgeDE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcIm1lZGlhblwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB4MTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB2aXNpYmxlOiAhMFxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHkxOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHZpc2libGU6ICEwXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcImFuZ2xlXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRBbmNob3IgPSBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8gWyAoZW5jb2RlVmFsdWVzLm1pbiArIGVuY29kZVZhbHVlcy5tYXgpIC8gMiwgZW5jb2RlVmFsdWVzLnkgXSA6IFsgZW5jb2RlVmFsdWVzLngsIChlbmNvZGVWYWx1ZXMubWluICsgZW5jb2RlVmFsdWVzLm1heCkgLyAyIF0sIGFuY2hvciA9IG51bGwgIT09IChfYSA9IGVuY29kZVZhbHVlcy5hbmNob3IpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGRlZmF1bHRBbmNob3I7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJveDoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWVkaWFuRmlsbFwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+ICh7XG4gICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgZmlsbDogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInZpb2xpbkZpbGxcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiAoe1xuICAgICAgICB2aW9saW46IHtcbiAgICAgICAgICAgIGZpbGw6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJ2aW9saW5TdHJva2VcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiAoe1xuICAgICAgICB2aW9saW46IHtcbiAgICAgICAgICAgIHN0cm9rZTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcImRlbnNpdHlcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiAoe1xuICAgICAgICB2aW9saW46IHtcbiAgICAgICAgICAgIHBvaW50czogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKSkucmVnaXN0ZXJEZWZhdWx0RW5jb2RlcigoKCkgPT4gKHtcbiAgICAgICAgdmlvbGluOiB7XG4gICAgICAgICAgICBmaWxsOiBcIiNmZjgwN2ZcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCIjZmYwMDAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHN0cm9rZTogXCIjMDAwMDAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm94OiB7XG4gICAgICAgICAgICBmaWxsOiBcIiMwMDAwMDBcIlxuICAgICAgICB9LFxuICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgIGZpbGw6IFwiI0ZGRkZGRlwiLFxuICAgICAgICAgICAgdmlzaWJsZTogITFcbiAgICAgICAgfVxuICAgIH0pKSksIHJlZ2lzdGVyR2x5cGhNYXJrKCksIHJlZ2lzdGVyR2x5cGhHcmFwaGljKCksIHJlZ2lzdGVyUG9seWdvbkdyYXBoaWMoKSwgcmVnaXN0ZXJSdWxlR3JhcGhpYygpLCBcbiAgICByZWdpc3RlclJlY3RHcmFwaGljKCksIHJlZ2lzdGVyU3ltYm9sR3JhcGhpYygpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpb2xpbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/violin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/wave.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/wave.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerWaveGlyph: () => (/* binding */ registerWaveGlyph)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\nconst registerWaveGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerGlyph(\"wave\", {\n        wave0: \"area\",\n        wave1: \"area\",\n        wave2: \"area\"\n    }).registerChannelEncoder(\"wave\", ((channel, encodeValue, encodeValues, datum, element) => {\n        const originPoints = new Array(21).fill(0).map(((v, index) => {\n            const waveHeight = index % 2 == 0 ? 20 : 0;\n            return {\n                x: 50 * index - 500,\n                y: encodeValues.y + waveHeight,\n                y1: encodeValues.y + encodeValues.height\n            };\n        }));\n        return {\n            wave0: {\n                points: originPoints.map((point => ({\n                    x: point.x + 100 * encodeValue,\n                    y: point.y,\n                    y1: point.y1\n                }))),\n                x: 0,\n                y: 0\n            },\n            wave1: {\n                points: originPoints.map((point => ({\n                    x: point.x + 200 * encodeValue - 40,\n                    y: point.y,\n                    y1: point.y1\n                }))),\n                x: 0,\n                y: 0\n            },\n            wave2: {\n                points: originPoints.map((point => ({\n                    x: point.x + 300 * encodeValue - 20,\n                    y: point.y,\n                    y1: point.y1\n                }))),\n                x: 0,\n                y: 0\n            }\n        };\n    })).registerDefaultEncoder((() => ({\n        wave0: {\n            curveType: \"monotoneX\",\n            fillOpacity: 1\n        },\n        wave1: {\n            curveType: \"monotoneX\",\n            fillOpacity: .66\n        },\n        wave2: {\n            curveType: \"monotoneX\",\n            fillOpacity: .33\n        }\n    }))), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_1__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__.registerAreaGraphic)();\n};\n//# sourceMappingURL=wave.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvd2F2ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBDOztBQUV3Qzs7QUFFaEM7O0FBRTNDO0FBQ1AsSUFBSSxrREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLDhEQUFpQixJQUFJLHlFQUFvQixJQUFJLHdFQUFtQjtBQUMxRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dseXBoL3dhdmUuanM/Njc2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyByZWdpc3RlckFyZWFHcmFwaGljLCByZWdpc3RlckdseXBoR3JhcGhpYyB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJHbHlwaE1hcmsgfSBmcm9tIFwiLi4vdmlldy9nbHlwaFwiO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJXYXZlR2x5cGggPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdseXBoKFwid2F2ZVwiLCB7XG4gICAgICAgIHdhdmUwOiBcImFyZWFcIixcbiAgICAgICAgd2F2ZTE6IFwiYXJlYVwiLFxuICAgICAgICB3YXZlMjogXCJhcmVhXCJcbiAgICB9KS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwid2F2ZVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdpblBvaW50cyA9IG5ldyBBcnJheSgyMSkuZmlsbCgwKS5tYXAoKCh2LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2F2ZUhlaWdodCA9IGluZGV4ICUgMiA9PSAwID8gMjAgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiA1MCAqIGluZGV4IC0gNTAwLFxuICAgICAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlcy55ICsgd2F2ZUhlaWdodCxcbiAgICAgICAgICAgICAgICB5MTogZW5jb2RlVmFsdWVzLnkgKyBlbmNvZGVWYWx1ZXMuaGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3YXZlMDoge1xuICAgICAgICAgICAgICAgIHBvaW50czogb3JpZ2luUG9pbnRzLm1hcCgocG9pbnQgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgeDogcG9pbnQueCArIDEwMCAqIGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgICAgICAgICAgICB5MTogcG9pbnQueTFcbiAgICAgICAgICAgICAgICB9KSkpLFxuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdhdmUxOiB7XG4gICAgICAgICAgICAgICAgcG9pbnRzOiBvcmlnaW5Qb2ludHMubWFwKChwb2ludCA9PiAoe1xuICAgICAgICAgICAgICAgICAgICB4OiBwb2ludC54ICsgMjAwICogZW5jb2RlVmFsdWUgLSA0MCxcbiAgICAgICAgICAgICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgICAgICAgICAgICAgeTE6IHBvaW50LnkxXG4gICAgICAgICAgICAgICAgfSkpKSxcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3YXZlMjoge1xuICAgICAgICAgICAgICAgIHBvaW50czogb3JpZ2luUG9pbnRzLm1hcCgocG9pbnQgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgeDogcG9pbnQueCArIDMwMCAqIGVuY29kZVZhbHVlIC0gMjAsXG4gICAgICAgICAgICAgICAgICAgIHk6IHBvaW50LnksXG4gICAgICAgICAgICAgICAgICAgIHkxOiBwb2ludC55MVxuICAgICAgICAgICAgICAgIH0pKSksXG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkpLnJlZ2lzdGVyRGVmYXVsdEVuY29kZXIoKCgpID0+ICh7XG4gICAgICAgIHdhdmUwOiB7XG4gICAgICAgICAgICBjdXJ2ZVR5cGU6IFwibW9ub3RvbmVYXCIsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMVxuICAgICAgICB9LFxuICAgICAgICB3YXZlMToge1xuICAgICAgICAgICAgY3VydmVUeXBlOiBcIm1vbm90b25lWFwiLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC42NlxuICAgICAgICB9LFxuICAgICAgICB3YXZlMjoge1xuICAgICAgICAgICAgY3VydmVUeXBlOiBcIm1vbm90b25lWFwiLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC4zM1xuICAgICAgICB9XG4gICAgfSkpKSwgcmVnaXN0ZXJHbHlwaE1hcmsoKSwgcmVnaXN0ZXJHbHlwaEdyYXBoaWMoKSwgcmVnaXN0ZXJBcmVhR3JhcGhpYygpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhdmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/wave.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animate.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animate.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Animate: () => (/* binding */ Animate)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _animator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./animator */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animator.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/config.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _arranger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./arranger */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/arranger.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Animate {\n    constructor(mark, config) {\n        this.state = null, this.immediateConfigs = [], this.isEnabled = !0, this.disabledStates = [], \n        this.animators = new Map, this.elementRecorder = new WeakMap, this.timelineCount = {}, \n        this.mark = mark, this.configs = (0,_config__WEBPACK_IMPORTED_MODULE_0__.normalizeAnimationConfig)(null != config ? config : {});\n    }\n    getAnimationConfigs(animationState) {\n        var _a;\n        return this.isEnabled ? (null !== (_a = this.configs) && void 0 !== _a ? _a : []).filter((config => config.state === animationState)) : [];\n    }\n    updateConfig(config) {\n        this.configs = (0,_config__WEBPACK_IMPORTED_MODULE_0__.normalizeAnimationConfig)(null != config ? config : {});\n    }\n    updateState(state) {\n        this.state = state;\n    }\n    animate() {\n        if (!this.isEnabled || !this.configs || !this.configs.length) return;\n        const elements = this.mark.getAllElements(), parameters = this.mark.parameters();\n        return elements.forEach((element => {\n            var _a;\n            element.isReserved && element.diffState !== _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && (element.isReserved = !1);\n            const prevElementState = null === (_a = this.elementRecorder.get(element)) || void 0 === _a ? void 0 : _a.prevState;\n            this.configs.some((config => prevElementState !== element.diffState && config.state === prevElementState && config.timeline.controlOptions.stopWhenStateChange)) && this.clearElementAnimation(element, !1);\n        })), this.configs.forEach((config => {\n            this.animateByTimeline(config, elements, parameters);\n        })), this.mark.cleanExitElements(), this;\n    }\n    runAnimationByState(animationState) {\n        if (!this.isEnabled) return;\n        const stateConfigs = this.configs.filter((config => config.state === animationState)), elements = this.mark.getAllElements(), parameters = this.mark.parameters(), animators = stateConfigs.reduce(((animators, config) => animators.concat(this.animateByTimeline(config, elements, parameters, !0))), []);\n        return new _arranger__WEBPACK_IMPORTED_MODULE_2__.Arranger(animators);\n    }\n    stopAnimationByState(animationState) {\n        const animators = this.animators.get(animationState);\n        return animators && animators.forEach((animator => animator.stop())), this;\n    }\n    pauseAnimationByState(animationState) {\n        const animators = this.animators.get(animationState);\n        return animators && animators.forEach((animator => animator.pause())), this;\n    }\n    resumeAnimationByState(animationState) {\n        const animators = this.animators.get(animationState);\n        return animators && animators.forEach((animator => animator.resume())), this;\n    }\n    run(config) {\n        if (!this.isEnabled) return;\n        const parsedConfigs = (0,_config__WEBPACK_IMPORTED_MODULE_0__.normalizeStateAnimationConfig)(_constants__WEBPACK_IMPORTED_MODULE_3__.ImmediateAnimationState, config, this.immediateConfigs.length);\n        this.immediateConfigs = this.immediateConfigs.concat(parsedConfigs);\n        const elements = this.mark.getAllElements(), parameters = this.mark.parameters(), animators = parsedConfigs.reduce(((animators, config) => animators.concat(this.animateByTimeline(config, elements, parameters, !0))), []);\n        return new _arranger__WEBPACK_IMPORTED_MODULE_2__.Arranger(animators);\n    }\n    stop() {\n        return this.animators.forEach((animators => {\n            animators.forEach((animator => animator.stop()));\n        })), this;\n    }\n    pause() {\n        return this.animators.forEach((stateAnimators => stateAnimators.forEach((animator => animator.pause())))), \n        this;\n    }\n    resume() {\n        return this.animators.forEach((stateAnimators => stateAnimators.forEach((animator => animator.resume())))), \n        this;\n    }\n    reverse() {\n        return this;\n    }\n    restart() {\n        return this;\n    }\n    record() {\n        return this;\n    }\n    recordEnd() {\n        return this;\n    }\n    isAnimating() {\n        let isAnimating = !1;\n        return this.animators.forEach((animators => {\n            isAnimating = isAnimating || animators.some((animator => animator.isAnimating));\n        })), isAnimating;\n    }\n    isElementAnimating(element) {\n        var _a;\n        const stateAnimationCounts = null === (_a = this.elementRecorder.get(element)) || void 0 === _a ? void 0 : _a.count;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(stateAnimationCounts) || Object.values(stateAnimationCounts).every((count => 0 === count));\n    }\n    getAnimatorCount() {\n        let count = 0;\n        return this.animators.forEach((animators => count += animators.length)), count;\n    }\n    getAllAnimators() {\n        const allAnimators = [];\n        return this.animators.forEach((animators => {\n            allAnimators.push(...animators);\n        })), allAnimators;\n    }\n    getElementAnimators(element, animationState) {\n        var _a;\n        const elements = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.array)(element);\n        let animators = [];\n        return animationState ? animators = null !== (_a = this.animators.get(animationState)) && void 0 !== _a ? _a : [] : this.animators.forEach((stateAnimators => {\n            animators = animators.concat(stateAnimators);\n        })), animators.filter((animator => elements.includes(animator.element)));\n    }\n    enable() {\n        return this.isEnabled = !0, this;\n    }\n    disable() {\n        return this.isEnabled = !1, this.stop(), this.animators.clear(), this;\n    }\n    enableAnimationState(state) {\n        const states = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.array)(state);\n        return this.disabledStates = this.disabledStates.filter((state => !states.includes(state))), \n        this;\n    }\n    disableAnimationState(state) {\n        const states = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.array)(state);\n        return this.disabledStates = this.disabledStates.concat(states), this;\n    }\n    release() {\n        this.stop(), this.animators.clear(), this.configs = null, this.animators = null, \n        this.elementRecorder = null, this.timelineCount = null;\n    }\n    animateByTimeline(config, elements, parameters, forceState = !1) {\n        var _a;\n        const animators = [], animatedElements = elements.filter((element => {\n            const checkExit = !(element.isReserved && element.diffState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit), state = this.getAnimationState(element), checkDisabled = !this.disabledStates.includes(state), checkState = forceState || state === config.state, checkPartitioner = !config.timeline.partitioner || config.timeline.partitioner(element.getDatum(), element, parameters);\n            return checkExit && checkDisabled && checkState && checkPartitioner;\n        }));\n        if (animatedElements.length) {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.timelineCount[config.id]) && (this.timelineCount[config.id] = 0), config.timeline.sort && animatedElements.sort(((elementA, elementB) => config.timeline.sort(elementA.getDatum(), elementB.getDatum(), elementA, elementB, parameters)));\n            const animationParameters = {\n                width: this.mark.view.width(),\n                height: this.mark.view.height(),\n                group: null !== (_a = this.mark.group) && void 0 !== _a ? _a : null,\n                mark: this.mark,\n                view: this.mark.view,\n                elementCount: animatedElements.length,\n                elementIndex: 0\n            };\n            animatedElements.forEach(((element, index) => {\n                animationParameters.elementIndex = index;\n                const mergedParameters = Object.assign({\n                    [_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationParameters]: animationParameters\n                }, parameters), animationUnit = this.getAnimationUnit(config.timeline, element, index, animatedElements.length, mergedParameters);\n                animators.push(this.animateElement(config, animationUnit, element, animationParameters, mergedParameters));\n            }));\n        }\n        return animators;\n    }\n    animateElement(config, animationUnit, element, animationParameters, parameters) {\n        var _a, _b;\n        const animator = new _animator__WEBPACK_IMPORTED_MODULE_6__.Animator(element, animationUnit, config);\n        if (animator.animate(animationParameters, parameters), !animator.isAnimating) return;\n        element.diffState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && (element.isReserved = !0);\n        const isFirstAnimator = 0 === this.timelineCount[config.id];\n        this.timelineCount[config.id] += 1;\n        const elementRecord = null !== (_a = this.elementRecorder.get(element)) && void 0 !== _a ? _a : {\n            prevState: config.state,\n            count: {}\n        };\n        elementRecord.prevState = config.state, elementRecord.count[config.state] = (null !== (_b = elementRecord.count[config.state]) && void 0 !== _b ? _b : 0) + 1, \n        this.elementRecorder.set(element, elementRecord);\n        const stateData = this.animators.get(config.state);\n        stateData ? stateData.push(animator) : this.animators.set(config.state, [ animator ]), \n        animator.callback((() => {\n            this.handleAnimatorEnd(animator);\n        }));\n        const animationEvent = {\n            mark: this.mark,\n            animationState: config.state,\n            animationConfig: config.originConfig\n        };\n        return isFirstAnimator && this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.ANIMATION_START, animationEvent), \n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.ELEMENT_ANIMATION_START, animationEvent, element), animator;\n    }\n    getAnimationState(element) {\n        const customState = (0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.invokeFunctionType)(this.state, this.mark.parameters(), element.getDatum(), element);\n        return null != customState ? customState : element.diffState;\n    }\n    getAnimationUnit(timeline, element, index, elementCount, parameters) {\n        const timeSlices = [], startTime = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeline.startTime, element, parameters), totalTime = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeline.totalTime, element, parameters), oneByOne = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeline.oneByOne, element, parameters), loop = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeline.loop, element, parameters);\n        let loopTime = 0;\n        timeline.timeSlices.forEach((timeSlice => {\n            var _a;\n            const delay = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeSlice.delay, element, parameters), delayAfter = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeSlice.delayAfter, element, parameters), duration = null !== (_a = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeSlice.duration, element, parameters)) && void 0 !== _a ? _a : totalTime / elementCount, effects = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.array)(timeSlice.effects).map((effect => Object.assign({}, effect, {\n                customParameters: (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(effect.customParameters, element, parameters)\n            })));\n            timeSlices.push({\n                effects: effects,\n                duration: duration,\n                delay: delay,\n                delayAfter: delayAfter\n            }), loopTime += delay + duration + delayAfter;\n        }));\n        const oneByOneDelay = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(oneByOne) ? oneByOne : !0 === oneByOne ? loopTime : 0;\n        return {\n            initialDelay: startTime,\n            loopCount: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(loop) ? loop : !0 === loop ? 1 / 0 : 1,\n            loopDelay: oneByOneDelay * index,\n            loopDelayAfter: oneByOneDelay * (elementCount - index - 1),\n            loopAnimateDuration: loopTime,\n            loopDuration: loopTime + oneByOneDelay * (elementCount - 1),\n            totalTime: totalTime,\n            timeSlices: timeSlices\n        };\n    }\n    clearElementAnimation(element, clearElement = !0) {\n        this.animators.forEach((animators => {\n            animators.forEach((animator => {\n                animator.element === element && (animator.animationOptions.state === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit ? animator.stop(\"start\", !1) : animator.stop(\"end\", !1), \n                this.handleAnimatorEnd(animator, clearElement));\n            }));\n        })), this.elementRecorder.delete(element);\n    }\n    clearAllElements() {\n        const elements = this.mark.getAllElements();\n        elements && elements.forEach(((element, i) => {\n            this.clearElement(element, i === elements.length - 1);\n        }));\n    }\n    clearElement(element, updateMark = !0) {\n        this.clearElementAnimation(element), element.getGraphicItem() && (element.clearGraphicAttributes(), \n        element.diffState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && (element.isReserved = !1), updateMark && this.mark.cleanExitElements());\n    }\n    handleAnimatorEnd(animator, clearElement = !0) {\n        const element = animator.element, animationOptions = animator.animationOptions, animationState = animationOptions.state, isImmediateAnimation = animationState === _constants__WEBPACK_IMPORTED_MODULE_3__.ImmediateAnimationState, stateAnimationCounts = this.elementRecorder.get(element).count;\n        stateAnimationCounts[animationState] -= 1, this.animators.set(animationState, this.animators.get(animationState).filter((ani => ani !== animator))), \n        0 === this.animators.get(animationState).length && this.animators.delete(animationState), \n        this.timelineCount[animationOptions.id] -= 1;\n        const isLastAnimator = 0 === this.timelineCount[animationOptions.id], originAnimationConfig = isImmediateAnimation ? this.immediateConfigs.find((config => config.id === animationOptions.id)).originConfig : this.configs.find((config => config.id === animationOptions.id)).originConfig;\n        isLastAnimator && (delete this.timelineCount[animationOptions.id], isImmediateAnimation && (this.immediateConfigs = this.immediateConfigs.filter((config => config.id !== animationOptions.id)))), \n        clearElement && (0 === Object.keys(this.timelineCount).length ? this.clearAllElements() : animationState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && 0 === stateAnimationCounts[_enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit] && this.clearElement(element));\n        const animationEvent = {\n            mark: this.mark,\n            animationState: animationState,\n            animationConfig: originAnimationConfig\n        };\n        isLastAnimator && this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.ANIMATION_END, animationEvent), this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.ELEMENT_ANIMATION_END, animationEvent, element);\n    }\n}\n//# sourceMappingURL=animate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwRDs7QUFFcEI7O0FBRWdFOztBQUVuQjs7QUFFN0I7O0FBRWhCOztBQUVXOztBQUUxQztBQUNQO0FBQ0E7QUFDQSw2RkFBNkY7QUFDN0YseUNBQXlDLGlFQUF3Qiw2QkFBNkI7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGlFQUF3Qiw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELDZDQUFTO0FBQ2pFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0NBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNFQUE2QixDQUFDLCtEQUF1QjtBQUNuRjtBQUNBO0FBQ0EsbUJBQW1CLCtDQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFLO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVEQUFLO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVEQUFLO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSw2Q0FBUztBQUNyRjtBQUNBLFNBQVM7QUFDVDtBQUNBLFlBQVksNERBQUs7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtFQUEwQjtBQUMvQyxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrQ0FBUTtBQUNyQztBQUNBLDhCQUE4Qiw2Q0FBUztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCw4Q0FBVTtBQUMzRCx1QkFBdUIsOENBQVU7QUFDakM7QUFDQTtBQUNBLDRCQUE0QiwrREFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDBEQUFpQix1REFBdUQsMERBQWlCLHNEQUFzRCwwREFBaUIsaURBQWlELDBEQUFpQjtBQUM3UTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMERBQWlCLHFEQUFxRCwwREFBaUIsdUVBQXVFLDBEQUFpQix1R0FBdUcsdURBQUssbURBQW1EO0FBQ3hXLGtDQUFrQywwREFBaUI7QUFDbkQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULDhCQUE4Qiw0REFBUTtBQUN0QztBQUNBO0FBQ0EsdUJBQXVCLDREQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsNkNBQVM7QUFDOUY7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDZDQUFTO0FBQ3ZDO0FBQ0E7QUFDQSwyS0FBMkssK0RBQXVCO0FBQ2xNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSEFBcUgsNkNBQVMsb0NBQW9DLDZDQUFTO0FBQzNLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsOENBQVUsZ0RBQWdELDhDQUFVO0FBQzdHO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0ZS5qcz9hYTY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5LCBpc05pbCwgaXNOdW1iZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBBbmltYXRvciB9IGZyb20gXCIuL2FuaW1hdG9yXCI7XG5cbmltcG9ydCB7IGludm9rZUFuaW1hdGVTcGVjLCBub3JtYWxpemVBbmltYXRpb25Db25maWcsIG5vcm1hbGl6ZVN0YXRlQW5pbWF0aW9uQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5cbmltcG9ydCB7IERlZmF1bHRBbmltYXRpb25QYXJhbWV0ZXJzLCBJbW1lZGlhdGVBbmltYXRpb25TdGF0ZSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uLy4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgQXJyYW5nZXIgfSBmcm9tIFwiLi9hcnJhbmdlclwiO1xuXG5pbXBvcnQgeyBEaWZmU3RhdGUsIEhPT0tfRVZFTlQgfSBmcm9tIFwiLi4vZW51bXNcIjtcblxuZXhwb3J0IGNsYXNzIEFuaW1hdGUge1xuICAgIGNvbnN0cnVjdG9yKG1hcmssIGNvbmZpZykge1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbCwgdGhpcy5pbW1lZGlhdGVDb25maWdzID0gW10sIHRoaXMuaXNFbmFibGVkID0gITAsIHRoaXMuZGlzYWJsZWRTdGF0ZXMgPSBbXSwgXG4gICAgICAgIHRoaXMuYW5pbWF0b3JzID0gbmV3IE1hcCwgdGhpcy5lbGVtZW50UmVjb3JkZXIgPSBuZXcgV2Vha01hcCwgdGhpcy50aW1lbGluZUNvdW50ID0ge30sIFxuICAgICAgICB0aGlzLm1hcmsgPSBtYXJrLCB0aGlzLmNvbmZpZ3MgPSBub3JtYWxpemVBbmltYXRpb25Db25maWcobnVsbCAhPSBjb25maWcgPyBjb25maWcgOiB7fSk7XG4gICAgfVxuICAgIGdldEFuaW1hdGlvbkNvbmZpZ3MoYW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgPyAobnVsbCAhPT0gKF9hID0gdGhpcy5jb25maWdzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXSkuZmlsdGVyKChjb25maWcgPT4gY29uZmlnLnN0YXRlID09PSBhbmltYXRpb25TdGF0ZSkpIDogW107XG4gICAgfVxuICAgIHVwZGF0ZUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWdzID0gbm9ybWFsaXplQW5pbWF0aW9uQ29uZmlnKG51bGwgIT0gY29uZmlnID8gY29uZmlnIDoge30pO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIGFuaW1hdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQgfHwgIXRoaXMuY29uZmlncyB8fCAhdGhpcy5jb25maWdzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMubWFyay5nZXRBbGxFbGVtZW50cygpLCBwYXJhbWV0ZXJzID0gdGhpcy5tYXJrLnBhcmFtZXRlcnMoKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgZWxlbWVudC5pc1Jlc2VydmVkICYmIGVsZW1lbnQuZGlmZlN0YXRlICE9PSBEaWZmU3RhdGUuZXhpdCAmJiAoZWxlbWVudC5pc1Jlc2VydmVkID0gITEpO1xuICAgICAgICAgICAgY29uc3QgcHJldkVsZW1lbnRTdGF0ZSA9IG51bGwgPT09IChfYSA9IHRoaXMuZWxlbWVudFJlY29yZGVyLmdldChlbGVtZW50KSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnByZXZTdGF0ZTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlncy5zb21lKChjb25maWcgPT4gcHJldkVsZW1lbnRTdGF0ZSAhPT0gZWxlbWVudC5kaWZmU3RhdGUgJiYgY29uZmlnLnN0YXRlID09PSBwcmV2RWxlbWVudFN0YXRlICYmIGNvbmZpZy50aW1lbGluZS5jb250cm9sT3B0aW9ucy5zdG9wV2hlblN0YXRlQ2hhbmdlKSkgJiYgdGhpcy5jbGVhckVsZW1lbnRBbmltYXRpb24oZWxlbWVudCwgITEpO1xuICAgICAgICB9KSksIHRoaXMuY29uZmlncy5mb3JFYWNoKChjb25maWcgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlQnlUaW1lbGluZShjb25maWcsIGVsZW1lbnRzLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgfSkpLCB0aGlzLm1hcmsuY2xlYW5FeGl0RWxlbWVudHMoKSwgdGhpcztcbiAgICB9XG4gICAgcnVuQW5pbWF0aW9uQnlTdGF0ZShhbmltYXRpb25TdGF0ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHN0YXRlQ29uZmlncyA9IHRoaXMuY29uZmlncy5maWx0ZXIoKGNvbmZpZyA9PiBjb25maWcuc3RhdGUgPT09IGFuaW1hdGlvblN0YXRlKSksIGVsZW1lbnRzID0gdGhpcy5tYXJrLmdldEFsbEVsZW1lbnRzKCksIHBhcmFtZXRlcnMgPSB0aGlzLm1hcmsucGFyYW1ldGVycygpLCBhbmltYXRvcnMgPSBzdGF0ZUNvbmZpZ3MucmVkdWNlKCgoYW5pbWF0b3JzLCBjb25maWcpID0+IGFuaW1hdG9ycy5jb25jYXQodGhpcy5hbmltYXRlQnlUaW1lbGluZShjb25maWcsIGVsZW1lbnRzLCBwYXJhbWV0ZXJzLCAhMCkpKSwgW10pO1xuICAgICAgICByZXR1cm4gbmV3IEFycmFuZ2VyKGFuaW1hdG9ycyk7XG4gICAgfVxuICAgIHN0b3BBbmltYXRpb25CeVN0YXRlKGFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdG9ycyA9IHRoaXMuYW5pbWF0b3JzLmdldChhbmltYXRpb25TdGF0ZSk7XG4gICAgICAgIHJldHVybiBhbmltYXRvcnMgJiYgYW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9yID0+IGFuaW1hdG9yLnN0b3AoKSkpLCB0aGlzO1xuICAgIH1cbiAgICBwYXVzZUFuaW1hdGlvbkJ5U3RhdGUoYW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgY29uc3QgYW5pbWF0b3JzID0gdGhpcy5hbmltYXRvcnMuZ2V0KGFuaW1hdGlvblN0YXRlKTtcbiAgICAgICAgcmV0dXJuIGFuaW1hdG9ycyAmJiBhbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3IgPT4gYW5pbWF0b3IucGF1c2UoKSkpLCB0aGlzO1xuICAgIH1cbiAgICByZXN1bWVBbmltYXRpb25CeVN0YXRlKGFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdG9ycyA9IHRoaXMuYW5pbWF0b3JzLmdldChhbmltYXRpb25TdGF0ZSk7XG4gICAgICAgIHJldHVybiBhbmltYXRvcnMgJiYgYW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9yID0+IGFuaW1hdG9yLnJlc3VtZSgpKSksIHRoaXM7XG4gICAgfVxuICAgIHJ1bihjb25maWcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYXJzZWRDb25maWdzID0gbm9ybWFsaXplU3RhdGVBbmltYXRpb25Db25maWcoSW1tZWRpYXRlQW5pbWF0aW9uU3RhdGUsIGNvbmZpZywgdGhpcy5pbW1lZGlhdGVDb25maWdzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuaW1tZWRpYXRlQ29uZmlncyA9IHRoaXMuaW1tZWRpYXRlQ29uZmlncy5jb25jYXQocGFyc2VkQ29uZmlncyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5tYXJrLmdldEFsbEVsZW1lbnRzKCksIHBhcmFtZXRlcnMgPSB0aGlzLm1hcmsucGFyYW1ldGVycygpLCBhbmltYXRvcnMgPSBwYXJzZWRDb25maWdzLnJlZHVjZSgoKGFuaW1hdG9ycywgY29uZmlnKSA9PiBhbmltYXRvcnMuY29uY2F0KHRoaXMuYW5pbWF0ZUJ5VGltZWxpbmUoY29uZmlnLCBlbGVtZW50cywgcGFyYW1ldGVycywgITApKSksIFtdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJhbmdlcihhbmltYXRvcnMpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3JzID0+IHtcbiAgICAgICAgICAgIGFuaW1hdG9ycy5mb3JFYWNoKChhbmltYXRvciA9PiBhbmltYXRvci5zdG9wKCkpKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0b3JzLmZvckVhY2goKHN0YXRlQW5pbWF0b3JzID0+IHN0YXRlQW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9yID0+IGFuaW1hdG9yLnBhdXNlKCkpKSkpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgcmVzdW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvcnMuZm9yRWFjaCgoc3RhdGVBbmltYXRvcnMgPT4gc3RhdGVBbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3IgPT4gYW5pbWF0b3IucmVzdW1lKCkpKSkpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgcmV2ZXJzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlc3RhcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWNvcmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWNvcmRFbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpc0FuaW1hdGluZygpIHtcbiAgICAgICAgbGV0IGlzQW5pbWF0aW5nID0gITE7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdG9ycy5mb3JFYWNoKChhbmltYXRvcnMgPT4ge1xuICAgICAgICAgICAgaXNBbmltYXRpbmcgPSBpc0FuaW1hdGluZyB8fCBhbmltYXRvcnMuc29tZSgoYW5pbWF0b3IgPT4gYW5pbWF0b3IuaXNBbmltYXRpbmcpKTtcbiAgICAgICAgfSkpLCBpc0FuaW1hdGluZztcbiAgICB9XG4gICAgaXNFbGVtZW50QW5pbWF0aW5nKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBzdGF0ZUFuaW1hdGlvbkNvdW50cyA9IG51bGwgPT09IChfYSA9IHRoaXMuZWxlbWVudFJlY29yZGVyLmdldChlbGVtZW50KSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmNvdW50O1xuICAgICAgICByZXR1cm4gaXNOaWwoc3RhdGVBbmltYXRpb25Db3VudHMpIHx8IE9iamVjdC52YWx1ZXMoc3RhdGVBbmltYXRpb25Db3VudHMpLmV2ZXJ5KChjb3VudCA9PiAwID09PSBjb3VudCkpO1xuICAgIH1cbiAgICBnZXRBbmltYXRvckNvdW50KCkge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3JzID0+IGNvdW50ICs9IGFuaW1hdG9ycy5sZW5ndGgpKSwgY291bnQ7XG4gICAgfVxuICAgIGdldEFsbEFuaW1hdG9ycygpIHtcbiAgICAgICAgY29uc3QgYWxsQW5pbWF0b3JzID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdG9ycy5mb3JFYWNoKChhbmltYXRvcnMgPT4ge1xuICAgICAgICAgICAgYWxsQW5pbWF0b3JzLnB1c2goLi4uYW5pbWF0b3JzKTtcbiAgICAgICAgfSkpLCBhbGxBbmltYXRvcnM7XG4gICAgfVxuICAgIGdldEVsZW1lbnRBbmltYXRvcnMoZWxlbWVudCwgYW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGFycmF5KGVsZW1lbnQpO1xuICAgICAgICBsZXQgYW5pbWF0b3JzID0gW107XG4gICAgICAgIHJldHVybiBhbmltYXRpb25TdGF0ZSA/IGFuaW1hdG9ycyA9IG51bGwgIT09IChfYSA9IHRoaXMuYW5pbWF0b3JzLmdldChhbmltYXRpb25TdGF0ZSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFtdIDogdGhpcy5hbmltYXRvcnMuZm9yRWFjaCgoc3RhdGVBbmltYXRvcnMgPT4ge1xuICAgICAgICAgICAgYW5pbWF0b3JzID0gYW5pbWF0b3JzLmNvbmNhdChzdGF0ZUFuaW1hdG9ycyk7XG4gICAgICAgIH0pKSwgYW5pbWF0b3JzLmZpbHRlcigoYW5pbWF0b3IgPT4gZWxlbWVudHMuaW5jbHVkZXMoYW5pbWF0b3IuZWxlbWVudCkpKTtcbiAgICB9XG4gICAgZW5hYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgPSAhMCwgdGhpcztcbiAgICB9XG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkID0gITEsIHRoaXMuc3RvcCgpLCB0aGlzLmFuaW1hdG9ycy5jbGVhcigpLCB0aGlzO1xuICAgIH1cbiAgICBlbmFibGVBbmltYXRpb25TdGF0ZShzdGF0ZSkge1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBhcnJheShzdGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc2FibGVkU3RhdGVzID0gdGhpcy5kaXNhYmxlZFN0YXRlcy5maWx0ZXIoKHN0YXRlID0+ICFzdGF0ZXMuaW5jbHVkZXMoc3RhdGUpKSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBkaXNhYmxlQW5pbWF0aW9uU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gYXJyYXkoc3RhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNhYmxlZFN0YXRlcyA9IHRoaXMuZGlzYWJsZWRTdGF0ZXMuY29uY2F0KHN0YXRlcyksIHRoaXM7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpLCB0aGlzLmFuaW1hdG9ycy5jbGVhcigpLCB0aGlzLmNvbmZpZ3MgPSBudWxsLCB0aGlzLmFuaW1hdG9ycyA9IG51bGwsIFxuICAgICAgICB0aGlzLmVsZW1lbnRSZWNvcmRlciA9IG51bGwsIHRoaXMudGltZWxpbmVDb3VudCA9IG51bGw7XG4gICAgfVxuICAgIGFuaW1hdGVCeVRpbWVsaW5lKGNvbmZpZywgZWxlbWVudHMsIHBhcmFtZXRlcnMsIGZvcmNlU3RhdGUgPSAhMSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGFuaW1hdG9ycyA9IFtdLCBhbmltYXRlZEVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrRXhpdCA9ICEoZWxlbWVudC5pc1Jlc2VydmVkICYmIGVsZW1lbnQuZGlmZlN0YXRlID09PSBEaWZmU3RhdGUuZXhpdCksIHN0YXRlID0gdGhpcy5nZXRBbmltYXRpb25TdGF0ZShlbGVtZW50KSwgY2hlY2tEaXNhYmxlZCA9ICF0aGlzLmRpc2FibGVkU3RhdGVzLmluY2x1ZGVzKHN0YXRlKSwgY2hlY2tTdGF0ZSA9IGZvcmNlU3RhdGUgfHwgc3RhdGUgPT09IGNvbmZpZy5zdGF0ZSwgY2hlY2tQYXJ0aXRpb25lciA9ICFjb25maWcudGltZWxpbmUucGFydGl0aW9uZXIgfHwgY29uZmlnLnRpbWVsaW5lLnBhcnRpdGlvbmVyKGVsZW1lbnQuZ2V0RGF0dW0oKSwgZWxlbWVudCwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tFeGl0ICYmIGNoZWNrRGlzYWJsZWQgJiYgY2hlY2tTdGF0ZSAmJiBjaGVja1BhcnRpdGlvbmVyO1xuICAgICAgICB9KSk7XG4gICAgICAgIGlmIChhbmltYXRlZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgaXNOaWwodGhpcy50aW1lbGluZUNvdW50W2NvbmZpZy5pZF0pICYmICh0aGlzLnRpbWVsaW5lQ291bnRbY29uZmlnLmlkXSA9IDApLCBjb25maWcudGltZWxpbmUuc29ydCAmJiBhbmltYXRlZEVsZW1lbnRzLnNvcnQoKChlbGVtZW50QSwgZWxlbWVudEIpID0+IGNvbmZpZy50aW1lbGluZS5zb3J0KGVsZW1lbnRBLmdldERhdHVtKCksIGVsZW1lbnRCLmdldERhdHVtKCksIGVsZW1lbnRBLCBlbGVtZW50QiwgcGFyYW1ldGVycykpKTtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvblBhcmFtZXRlcnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMubWFyay52aWV3LndpZHRoKCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1hcmsudmlldy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBncm91cDogbnVsbCAhPT0gKF9hID0gdGhpcy5tYXJrLmdyb3VwKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBudWxsLFxuICAgICAgICAgICAgICAgIG1hcms6IHRoaXMubWFyayxcbiAgICAgICAgICAgICAgICB2aWV3OiB0aGlzLm1hcmsudmlldyxcbiAgICAgICAgICAgICAgICBlbGVtZW50Q291bnQ6IGFuaW1hdGVkRWxlbWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGVsZW1lbnRJbmRleDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFuaW1hdGVkRWxlbWVudHMuZm9yRWFjaCgoKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uUGFyYW1ldGVycy5lbGVtZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWRQYXJhbWV0ZXJzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIFtEZWZhdWx0QW5pbWF0aW9uUGFyYW1ldGVyc106IGFuaW1hdGlvblBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgICB9LCBwYXJhbWV0ZXJzKSwgYW5pbWF0aW9uVW5pdCA9IHRoaXMuZ2V0QW5pbWF0aW9uVW5pdChjb25maWcudGltZWxpbmUsIGVsZW1lbnQsIGluZGV4LCBhbmltYXRlZEVsZW1lbnRzLmxlbmd0aCwgbWVyZ2VkUGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgYW5pbWF0b3JzLnB1c2godGhpcy5hbmltYXRlRWxlbWVudChjb25maWcsIGFuaW1hdGlvblVuaXQsIGVsZW1lbnQsIGFuaW1hdGlvblBhcmFtZXRlcnMsIG1lcmdlZFBhcmFtZXRlcnMpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pbWF0b3JzO1xuICAgIH1cbiAgICBhbmltYXRlRWxlbWVudChjb25maWcsIGFuaW1hdGlvblVuaXQsIGVsZW1lbnQsIGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IoZWxlbWVudCwgYW5pbWF0aW9uVW5pdCwgY29uZmlnKTtcbiAgICAgICAgaWYgKGFuaW1hdG9yLmFuaW1hdGUoYW5pbWF0aW9uUGFyYW1ldGVycywgcGFyYW1ldGVycyksICFhbmltYXRvci5pc0FuaW1hdGluZykgcmV0dXJuO1xuICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSA9PT0gRGlmZlN0YXRlLmV4aXQgJiYgKGVsZW1lbnQuaXNSZXNlcnZlZCA9ICEwKTtcbiAgICAgICAgY29uc3QgaXNGaXJzdEFuaW1hdG9yID0gMCA9PT0gdGhpcy50aW1lbGluZUNvdW50W2NvbmZpZy5pZF07XG4gICAgICAgIHRoaXMudGltZWxpbmVDb3VudFtjb25maWcuaWRdICs9IDE7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRSZWNvcmQgPSBudWxsICE9PSAoX2EgPSB0aGlzLmVsZW1lbnRSZWNvcmRlci5nZXQoZWxlbWVudCkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHtcbiAgICAgICAgICAgIHByZXZTdGF0ZTogY29uZmlnLnN0YXRlLFxuICAgICAgICAgICAgY291bnQ6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnRSZWNvcmQucHJldlN0YXRlID0gY29uZmlnLnN0YXRlLCBlbGVtZW50UmVjb3JkLmNvdW50W2NvbmZpZy5zdGF0ZV0gPSAobnVsbCAhPT0gKF9iID0gZWxlbWVudFJlY29yZC5jb3VudFtjb25maWcuc3RhdGVdKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAwKSArIDEsIFxuICAgICAgICB0aGlzLmVsZW1lbnRSZWNvcmRlci5zZXQoZWxlbWVudCwgZWxlbWVudFJlY29yZCk7XG4gICAgICAgIGNvbnN0IHN0YXRlRGF0YSA9IHRoaXMuYW5pbWF0b3JzLmdldChjb25maWcuc3RhdGUpO1xuICAgICAgICBzdGF0ZURhdGEgPyBzdGF0ZURhdGEucHVzaChhbmltYXRvcikgOiB0aGlzLmFuaW1hdG9ycy5zZXQoY29uZmlnLnN0YXRlLCBbIGFuaW1hdG9yIF0pLCBcbiAgICAgICAgYW5pbWF0b3IuY2FsbGJhY2soKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQW5pbWF0b3JFbmQoYW5pbWF0b3IpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbkV2ZW50ID0ge1xuICAgICAgICAgICAgbWFyazogdGhpcy5tYXJrLFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RhdGU6IGNvbmZpZy5zdGF0ZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbkNvbmZpZzogY29uZmlnLm9yaWdpbkNvbmZpZ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaXNGaXJzdEFuaW1hdG9yICYmIHRoaXMubWFyay5lbWl0KEhPT0tfRVZFTlQuQU5JTUFUSU9OX1NUQVJULCBhbmltYXRpb25FdmVudCksIFxuICAgICAgICB0aGlzLm1hcmsuZW1pdChIT09LX0VWRU5ULkVMRU1FTlRfQU5JTUFUSU9OX1NUQVJULCBhbmltYXRpb25FdmVudCwgZWxlbWVudCksIGFuaW1hdG9yO1xuICAgIH1cbiAgICBnZXRBbmltYXRpb25TdGF0ZShlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVN0YXRlID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3RhdGUsIHRoaXMubWFyay5wYXJhbWV0ZXJzKCksIGVsZW1lbnQuZ2V0RGF0dW0oKSwgZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBudWxsICE9IGN1c3RvbVN0YXRlID8gY3VzdG9tU3RhdGUgOiBlbGVtZW50LmRpZmZTdGF0ZTtcbiAgICB9XG4gICAgZ2V0QW5pbWF0aW9uVW5pdCh0aW1lbGluZSwgZWxlbWVudCwgaW5kZXgsIGVsZW1lbnRDb3VudCwgcGFyYW1ldGVycykge1xuICAgICAgICBjb25zdCB0aW1lU2xpY2VzID0gW10sIHN0YXJ0VGltZSA9IGludm9rZUFuaW1hdGVTcGVjKHRpbWVsaW5lLnN0YXJ0VGltZSwgZWxlbWVudCwgcGFyYW1ldGVycyksIHRvdGFsVGltZSA9IGludm9rZUFuaW1hdGVTcGVjKHRpbWVsaW5lLnRvdGFsVGltZSwgZWxlbWVudCwgcGFyYW1ldGVycyksIG9uZUJ5T25lID0gaW52b2tlQW5pbWF0ZVNwZWModGltZWxpbmUub25lQnlPbmUsIGVsZW1lbnQsIHBhcmFtZXRlcnMpLCBsb29wID0gaW52b2tlQW5pbWF0ZVNwZWModGltZWxpbmUubG9vcCwgZWxlbWVudCwgcGFyYW1ldGVycyk7XG4gICAgICAgIGxldCBsb29wVGltZSA9IDA7XG4gICAgICAgIHRpbWVsaW5lLnRpbWVTbGljZXMuZm9yRWFjaCgodGltZVNsaWNlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gaW52b2tlQW5pbWF0ZVNwZWModGltZVNsaWNlLmRlbGF5LCBlbGVtZW50LCBwYXJhbWV0ZXJzKSwgZGVsYXlBZnRlciA9IGludm9rZUFuaW1hdGVTcGVjKHRpbWVTbGljZS5kZWxheUFmdGVyLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSwgZHVyYXRpb24gPSBudWxsICE9PSAoX2EgPSBpbnZva2VBbmltYXRlU3BlYyh0aW1lU2xpY2UuZHVyYXRpb24sIGVsZW1lbnQsIHBhcmFtZXRlcnMpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB0b3RhbFRpbWUgLyBlbGVtZW50Q291bnQsIGVmZmVjdHMgPSBhcnJheSh0aW1lU2xpY2UuZWZmZWN0cykubWFwKChlZmZlY3QgPT4gT2JqZWN0LmFzc2lnbih7fSwgZWZmZWN0LCB7XG4gICAgICAgICAgICAgICAgY3VzdG9tUGFyYW1ldGVyczogaW52b2tlQW5pbWF0ZVNwZWMoZWZmZWN0LmN1c3RvbVBhcmFtZXRlcnMsIGVsZW1lbnQsIHBhcmFtZXRlcnMpXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgdGltZVNsaWNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBlZmZlY3RzLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgICAgICAgICAgZGVsYXlBZnRlcjogZGVsYXlBZnRlclxuICAgICAgICAgICAgfSksIGxvb3BUaW1lICs9IGRlbGF5ICsgZHVyYXRpb24gKyBkZWxheUFmdGVyO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IG9uZUJ5T25lRGVsYXkgPSBpc051bWJlcihvbmVCeU9uZSkgPyBvbmVCeU9uZSA6ICEwID09PSBvbmVCeU9uZSA/IGxvb3BUaW1lIDogMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXRpYWxEZWxheTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgbG9vcENvdW50OiBpc051bWJlcihsb29wKSA/IGxvb3AgOiAhMCA9PT0gbG9vcCA/IDEgLyAwIDogMSxcbiAgICAgICAgICAgIGxvb3BEZWxheTogb25lQnlPbmVEZWxheSAqIGluZGV4LFxuICAgICAgICAgICAgbG9vcERlbGF5QWZ0ZXI6IG9uZUJ5T25lRGVsYXkgKiAoZWxlbWVudENvdW50IC0gaW5kZXggLSAxKSxcbiAgICAgICAgICAgIGxvb3BBbmltYXRlRHVyYXRpb246IGxvb3BUaW1lLFxuICAgICAgICAgICAgbG9vcER1cmF0aW9uOiBsb29wVGltZSArIG9uZUJ5T25lRGVsYXkgKiAoZWxlbWVudENvdW50IC0gMSksXG4gICAgICAgICAgICB0b3RhbFRpbWU6IHRvdGFsVGltZSxcbiAgICAgICAgICAgIHRpbWVTbGljZXM6IHRpbWVTbGljZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2xlYXJFbGVtZW50QW5pbWF0aW9uKGVsZW1lbnQsIGNsZWFyRWxlbWVudCA9ICEwKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9ycyA9PiB7XG4gICAgICAgICAgICBhbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3IgPT4ge1xuICAgICAgICAgICAgICAgIGFuaW1hdG9yLmVsZW1lbnQgPT09IGVsZW1lbnQgJiYgKGFuaW1hdG9yLmFuaW1hdGlvbk9wdGlvbnMuc3RhdGUgPT09IERpZmZTdGF0ZS5leGl0ID8gYW5pbWF0b3Iuc3RvcChcInN0YXJ0XCIsICExKSA6IGFuaW1hdG9yLnN0b3AoXCJlbmRcIiwgITEpLCBcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUFuaW1hdG9yRW5kKGFuaW1hdG9yLCBjbGVhckVsZW1lbnQpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLCB0aGlzLmVsZW1lbnRSZWNvcmRlci5kZWxldGUoZWxlbWVudCk7XG4gICAgfVxuICAgIGNsZWFyQWxsRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5tYXJrLmdldEFsbEVsZW1lbnRzKCk7XG4gICAgICAgIGVsZW1lbnRzICYmIGVsZW1lbnRzLmZvckVhY2goKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRWxlbWVudChlbGVtZW50LCBpID09PSBlbGVtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjbGVhckVsZW1lbnQoZWxlbWVudCwgdXBkYXRlTWFyayA9ICEwKSB7XG4gICAgICAgIHRoaXMuY2xlYXJFbGVtZW50QW5pbWF0aW9uKGVsZW1lbnQpLCBlbGVtZW50LmdldEdyYXBoaWNJdGVtKCkgJiYgKGVsZW1lbnQuY2xlYXJHcmFwaGljQXR0cmlidXRlcygpLCBcbiAgICAgICAgZWxlbWVudC5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS5leGl0ICYmIChlbGVtZW50LmlzUmVzZXJ2ZWQgPSAhMSksIHVwZGF0ZU1hcmsgJiYgdGhpcy5tYXJrLmNsZWFuRXhpdEVsZW1lbnRzKCkpO1xuICAgIH1cbiAgICBoYW5kbGVBbmltYXRvckVuZChhbmltYXRvciwgY2xlYXJFbGVtZW50ID0gITApIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGFuaW1hdG9yLmVsZW1lbnQsIGFuaW1hdGlvbk9wdGlvbnMgPSBhbmltYXRvci5hbmltYXRpb25PcHRpb25zLCBhbmltYXRpb25TdGF0ZSA9IGFuaW1hdGlvbk9wdGlvbnMuc3RhdGUsIGlzSW1tZWRpYXRlQW5pbWF0aW9uID0gYW5pbWF0aW9uU3RhdGUgPT09IEltbWVkaWF0ZUFuaW1hdGlvblN0YXRlLCBzdGF0ZUFuaW1hdGlvbkNvdW50cyA9IHRoaXMuZWxlbWVudFJlY29yZGVyLmdldChlbGVtZW50KS5jb3VudDtcbiAgICAgICAgc3RhdGVBbmltYXRpb25Db3VudHNbYW5pbWF0aW9uU3RhdGVdIC09IDEsIHRoaXMuYW5pbWF0b3JzLnNldChhbmltYXRpb25TdGF0ZSwgdGhpcy5hbmltYXRvcnMuZ2V0KGFuaW1hdGlvblN0YXRlKS5maWx0ZXIoKGFuaSA9PiBhbmkgIT09IGFuaW1hdG9yKSkpLCBcbiAgICAgICAgMCA9PT0gdGhpcy5hbmltYXRvcnMuZ2V0KGFuaW1hdGlvblN0YXRlKS5sZW5ndGggJiYgdGhpcy5hbmltYXRvcnMuZGVsZXRlKGFuaW1hdGlvblN0YXRlKSwgXG4gICAgICAgIHRoaXMudGltZWxpbmVDb3VudFthbmltYXRpb25PcHRpb25zLmlkXSAtPSAxO1xuICAgICAgICBjb25zdCBpc0xhc3RBbmltYXRvciA9IDAgPT09IHRoaXMudGltZWxpbmVDb3VudFthbmltYXRpb25PcHRpb25zLmlkXSwgb3JpZ2luQW5pbWF0aW9uQ29uZmlnID0gaXNJbW1lZGlhdGVBbmltYXRpb24gPyB0aGlzLmltbWVkaWF0ZUNvbmZpZ3MuZmluZCgoY29uZmlnID0+IGNvbmZpZy5pZCA9PT0gYW5pbWF0aW9uT3B0aW9ucy5pZCkpLm9yaWdpbkNvbmZpZyA6IHRoaXMuY29uZmlncy5maW5kKChjb25maWcgPT4gY29uZmlnLmlkID09PSBhbmltYXRpb25PcHRpb25zLmlkKSkub3JpZ2luQ29uZmlnO1xuICAgICAgICBpc0xhc3RBbmltYXRvciAmJiAoZGVsZXRlIHRoaXMudGltZWxpbmVDb3VudFthbmltYXRpb25PcHRpb25zLmlkXSwgaXNJbW1lZGlhdGVBbmltYXRpb24gJiYgKHRoaXMuaW1tZWRpYXRlQ29uZmlncyA9IHRoaXMuaW1tZWRpYXRlQ29uZmlncy5maWx0ZXIoKGNvbmZpZyA9PiBjb25maWcuaWQgIT09IGFuaW1hdGlvbk9wdGlvbnMuaWQpKSkpLCBcbiAgICAgICAgY2xlYXJFbGVtZW50ICYmICgwID09PSBPYmplY3Qua2V5cyh0aGlzLnRpbWVsaW5lQ291bnQpLmxlbmd0aCA/IHRoaXMuY2xlYXJBbGxFbGVtZW50cygpIDogYW5pbWF0aW9uU3RhdGUgPT09IERpZmZTdGF0ZS5leGl0ICYmIDAgPT09IHN0YXRlQW5pbWF0aW9uQ291bnRzW0RpZmZTdGF0ZS5leGl0XSAmJiB0aGlzLmNsZWFyRWxlbWVudChlbGVtZW50KSk7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbkV2ZW50ID0ge1xuICAgICAgICAgICAgbWFyazogdGhpcy5tYXJrLFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RhdGU6IGFuaW1hdGlvblN0YXRlLFxuICAgICAgICAgICAgYW5pbWF0aW9uQ29uZmlnOiBvcmlnaW5BbmltYXRpb25Db25maWdcbiAgICAgICAgfTtcbiAgICAgICAgaXNMYXN0QW5pbWF0b3IgJiYgdGhpcy5tYXJrLmVtaXQoSE9PS19FVkVOVC5BTklNQVRJT05fRU5ELCBhbmltYXRpb25FdmVudCksIHRoaXMubWFyay5lbWl0KEhPT0tfRVZFTlQuRUxFTUVOVF9BTklNQVRJT05fRU5ELCBhbmltYXRpb25FdmVudCwgZWxlbWVudCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/clip.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/clip.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clipIn: () => (/* binding */ clipIn),\n/* harmony export */   clipOut: () => (/* binding */ clipOut)\n/* harmony export */ });\nconst clipIn = (element, options, animationParameters) => {\n    var _a;\n    const clipDimension = element.getGraphicAttribute(\"clipRangeByDimension\", !1), clipRange = null !== (_a = element.getGraphicAttribute(\"clipRange\", !1)) && void 0 !== _a ? _a : 1;\n    return options && options.clipDimension ? {\n        from: {\n            clipRange: 0,\n            clipRangeByDimension: options.clipDimension\n        },\n        to: {\n            clipRange: clipRange,\n            clipRangeByDimension: clipDimension\n        }\n    } : {\n        from: {\n            clipRange: 0\n        },\n        to: {\n            clipRange: clipRange\n        }\n    };\n};\n\nconst clipOut = (element, options, animationParameters) => {\n    var _a;\n    const clipDimension = element.getGraphicAttribute(\"clipRangeByDimension\", !0), clipRange = null !== (_a = element.getGraphicAttribute(\"clipRange\", !0)) && void 0 !== _a ? _a : 1;\n    return options && options.clipDimension ? {\n        from: {\n            clipRange: clipRange,\n            clipRangeByDimension: options.clipDimension\n        },\n        to: {\n            clipRange: 0,\n            clipRangeByDimension: clipDimension\n        }\n    } : {\n        from: {\n            clipRange: clipRange\n        },\n        to: {\n            clipRange: 0\n        }\n    };\n};\n//# sourceMappingURL=clip.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9jbGlwLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vY2xpcC5qcz9lNmIxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjbGlwSW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBjbGlwRGltZW5zaW9uID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiY2xpcFJhbmdlQnlEaW1lbnNpb25cIiwgITEpLCBjbGlwUmFuZ2UgPSBudWxsICE9PSAoX2EgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJjbGlwUmFuZ2VcIiwgITEpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAxO1xuICAgIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMuY2xpcERpbWVuc2lvbiA/IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgY2xpcFJhbmdlOiAwLFxuICAgICAgICAgICAgY2xpcFJhbmdlQnlEaW1lbnNpb246IG9wdGlvbnMuY2xpcERpbWVuc2lvblxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgY2xpcFJhbmdlOiBjbGlwUmFuZ2UsXG4gICAgICAgICAgICBjbGlwUmFuZ2VCeURpbWVuc2lvbjogY2xpcERpbWVuc2lvblxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgY2xpcFJhbmdlOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBjbGlwUmFuZ2U6IGNsaXBSYW5nZVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjbGlwT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY2xpcERpbWVuc2lvbiA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImNsaXBSYW5nZUJ5RGltZW5zaW9uXCIsICEwKSwgY2xpcFJhbmdlID0gbnVsbCAhPT0gKF9hID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiY2xpcFJhbmdlXCIsICEwKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBvcHRpb25zLmNsaXBEaW1lbnNpb24gPyB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIGNsaXBSYW5nZTogY2xpcFJhbmdlLFxuICAgICAgICAgICAgY2xpcFJhbmdlQnlEaW1lbnNpb246IG9wdGlvbnMuY2xpcERpbWVuc2lvblxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgY2xpcFJhbmdlOiAwLFxuICAgICAgICAgICAgY2xpcFJhbmdlQnlEaW1lbnNpb246IGNsaXBEaW1lbnNpb25cbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIGNsaXBSYW5nZTogY2xpcFJhbmdlXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBjbGlwUmFuZ2U6IDBcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpcC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/clip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/fade.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/fade.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fadeIn: () => (/* binding */ fadeIn),\n/* harmony export */   fadeOut: () => (/* binding */ fadeOut)\n/* harmony export */ });\nconst fadeIn = (element, options, animationParameters) => {\n    var _a, _b, _c, _d;\n    const attrs = null !== (_a = element.getFinalAnimationAttributes()) && void 0 !== _a ? _a : {};\n    return {\n        from: {\n            opacity: 0,\n            fillOpacity: 0,\n            strokeOpacity: 0\n        },\n        to: {\n            opacity: null !== (_b = attrs.opacity) && void 0 !== _b ? _b : 1,\n            fillOpacity: null !== (_c = attrs.fillOpacity) && void 0 !== _c ? _c : 1,\n            strokeOpacity: null !== (_d = attrs.strokeOpacity) && void 0 !== _d ? _d : 1\n        }\n    };\n};\n\nconst fadeOut = (element, options, animationParameters) => {\n    var _a, _b, _c;\n    return {\n        from: {\n            opacity: null !== (_a = element.getGraphicAttribute(\"opacity\", !0)) && void 0 !== _a ? _a : 1,\n            fillOpacity: null !== (_b = element.getGraphicAttribute(\"fillOpacity\", !0)) && void 0 !== _b ? _b : 1,\n            strokeOpacity: null !== (_c = element.getGraphicAttribute(\"strokeOpacity\", !0)) && void 0 !== _c ? _c : 1\n        },\n        to: {\n            opacity: 0,\n            fillOpacity: 0,\n            strokeOpacity: 0\n        }\n    };\n};\n//# sourceMappingURL=fade.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9mYWRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vZmFkZS5qcz8zNmU3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBmYWRlSW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCBhdHRycyA9IG51bGwgIT09IChfYSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMCxcbiAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDBcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IG51bGwgIT09IChfYiA9IGF0dHJzLm9wYWNpdHkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDEsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogbnVsbCAhPT0gKF9jID0gYXR0cnMuZmlsbE9wYWNpdHkpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IDEsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiBudWxsICE9PSAoX2QgPSBhdHRycy5zdHJva2VPcGFjaXR5KSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAxXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGZhZGVPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IG51bGwgIT09IChfYSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm9wYWNpdHlcIiwgITApKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAxLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IG51bGwgIT09IChfYiA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImZpbGxPcGFjaXR5XCIsICEwKSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMSxcbiAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IG51bGwgIT09IChfYyA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInN0cm9rZU9wYWNpdHlcIiwgITApKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAxXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwXG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZhZGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/fade.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-cartesian.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-cartesian.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   growCenterIn: () => (/* binding */ growCenterIn),\n/* harmony export */   growCenterOut: () => (/* binding */ growCenterOut),\n/* harmony export */   growHeightIn: () => (/* binding */ growHeightIn),\n/* harmony export */   growHeightOut: () => (/* binding */ growHeightOut),\n/* harmony export */   growWidthIn: () => (/* binding */ growWidthIn),\n/* harmony export */   growWidthOut: () => (/* binding */ growWidthOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nconst growCenterIn = (element, options, animationParameters) => {\n    switch (null == options ? void 0 : options.direction) {\n      case \"x\":\n        {\n            const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n            return {\n                from: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? {\n                    x: x + width / 2,\n                    x1: void 0,\n                    width: 0\n                } : {\n                    x: (x + x1) / 2,\n                    x1: (x + x1) / 2,\n                    width: void 0\n                },\n                to: {\n                    x: x,\n                    x1: x1,\n                    width: width\n                }\n            };\n        }\n\n      case \"y\":\n        {\n            const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n            return {\n                from: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? {\n                    y: y + height / 2,\n                    y1: void 0,\n                    height: 0\n                } : {\n                    y: (y + y1) / 2,\n                    y1: (y + y1) / 2,\n                    height: void 0\n                },\n                to: {\n                    y: y,\n                    y1: y1,\n                    height: height\n                }\n            };\n        }\n\n      default:\n        {\n            const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\"), y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\"), from = {};\n            return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? (from.x = x + width / 2, from.width = 0, from.x1 = void 0) : (from.x = (x + x1) / 2, \n            from.x1 = (x + x1) / 2, from.width = void 0), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? (from.y = y + height / 2, \n            from.height = 0, from.y1 = void 0) : (from.y = (y + y1) / 2, from.y1 = (y + y1) / 2, \n            from.height = void 0), {\n                from: from,\n                to: {\n                    x: x,\n                    y: y,\n                    x1: x1,\n                    y1: y1,\n                    width: width,\n                    height: height\n                }\n            };\n        }\n    }\n};\n\nconst growCenterOut = (element, options, animationParameters) => {\n    switch (null == options ? void 0 : options.direction) {\n      case \"x\":\n        {\n            const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n            return {\n                to: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? {\n                    x: x + width / 2,\n                    x1: void 0,\n                    width: 0\n                } : {\n                    x: (x + x1) / 2,\n                    x1: (x + x1) / 2,\n                    width: void 0\n                }\n            };\n        }\n\n      case \"y\":\n        {\n            const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n            return {\n                to: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? {\n                    y: y + height / 2,\n                    y1: void 0,\n                    height: 0\n                } : {\n                    y: (y + y1) / 2,\n                    y1: (y + y1) / 2,\n                    height: void 0\n                }\n            };\n        }\n\n      default:\n        {\n            const x = element.getFinalAnimationAttribute(\"x\"), y = element.getFinalAnimationAttribute(\"y\"), x1 = element.getFinalAnimationAttribute(\"x1\"), y1 = element.getFinalAnimationAttribute(\"y1\"), width = element.getFinalAnimationAttribute(\"width\"), height = element.getFinalAnimationAttribute(\"height\"), to = {};\n            return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? (to.x = x + width / 2, to.width = 0, to.x1 = void 0) : (to.x = (x + x1) / 2, \n            to.x1 = (x + x1) / 2, to.width = void 0), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? (to.y = y + height / 2, \n            to.height = 0, to.y1 = void 0) : (to.y = (y + y1) / 2, to.y1 = (y + y1) / 2, to.height = void 0), \n            {\n                to: to\n            };\n        }\n    }\n};\n\nfunction growWidthInIndividual(element, options, animationParameters) {\n    const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n    if (options && \"negative\" === options.orient) {\n        const computedX1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? Math.max(x, x + width) : Math.max(x, x1);\n        return {\n            from: {\n                x: computedX1,\n                x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : computedX1,\n                width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n            },\n            to: {\n                x: x,\n                x1: x1,\n                width: width\n            }\n        };\n    }\n    const computedX = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? Math.min(x, x + width) : Math.min(x, x1);\n    return {\n        from: {\n            x: computedX,\n            x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : computedX,\n            width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n        },\n        to: {\n            x: x,\n            x1: x1,\n            width: width\n        }\n    };\n}\n\nfunction growWidthInOverall(element, options, animationParameters) {\n    var _a;\n    const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n    animationParameters.groupWidth = overallValue) : overallValue = animationParameters.width : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null == options ? void 0 : options.overall) ? null == options ? void 0 : options.overall : 0, \n    {\n        from: {\n            x: overallValue,\n            x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : overallValue,\n            width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n        },\n        to: {\n            x: x,\n            x1: x1,\n            width: width\n        }\n    };\n}\n\nconst growWidthIn = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growWidthInOverall(element, options, animationParameters) : growWidthInIndividual(element, options, animationParameters);\n};\n\nfunction growWidthOutIndividual(element, options, animationParameters) {\n    const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n    if (options && \"negative\" === options.orient) {\n        const computedX1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? Math.max(x, x + width) : Math.max(x, x1);\n        return {\n            to: {\n                x: computedX1,\n                x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : computedX1,\n                width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n            }\n        };\n    }\n    const computedX = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? Math.min(x, x + width) : Math.min(x, x1);\n    return {\n        to: {\n            x: computedX,\n            x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : computedX,\n            width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n        }\n    };\n}\n\nfunction growWidthOutOverall(element, options, animationParameters) {\n    var _a;\n    const x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n    animationParameters.groupWidth = overallValue) : overallValue = animationParameters.width : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        to: {\n            x: overallValue,\n            x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : overallValue,\n            width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n        }\n    };\n}\n\nconst growWidthOut = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growWidthOutOverall(element, options, animationParameters) : growWidthOutIndividual(element, options, animationParameters);\n};\n\nfunction growHeightInIndividual(element, options, animationParameters) {\n    const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n    if (options && \"negative\" === options.orient) {\n        const computedY1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? Math.max(y, y + height) : Math.max(y, y1);\n        return {\n            from: {\n                y: computedY1,\n                y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : computedY1,\n                height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n            },\n            to: {\n                y: y,\n                y1: y1,\n                height: height\n            }\n        };\n    }\n    const computedY = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? Math.min(y, y + height) : Math.min(y, y1);\n    return {\n        from: {\n            y: computedY,\n            y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : computedY,\n            height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n        },\n        to: {\n            y: y,\n            y1: y1,\n            height: height\n        }\n    };\n}\n\nfunction growHeightInOverall(element, options, animationParameters) {\n    var _a;\n    const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupHeight) && void 0 !== _a ? _a : animationParameters.group.getBounds().height(), \n    animationParameters.groupHeight = overallValue) : overallValue = animationParameters.height : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        from: {\n            y: overallValue,\n            y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : overallValue,\n            height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n        },\n        to: {\n            y: y,\n            y1: y1,\n            height: height\n        }\n    };\n}\n\nconst growHeightIn = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growHeightInOverall(element, options, animationParameters) : growHeightInIndividual(element, options, animationParameters);\n};\n\nfunction growHeightOutIndividual(element, options, animationParameters) {\n    const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n    if (options && \"negative\" === options.orient) {\n        const computedY1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? Math.max(y, y + height) : Math.max(y, y1);\n        return {\n            to: {\n                y: computedY1,\n                y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : computedY1,\n                height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n            }\n        };\n    }\n    const computedY = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? Math.min(y, y + height) : Math.min(y, y1);\n    return {\n        to: {\n            y: computedY,\n            y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : computedY,\n            height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n        }\n    };\n}\n\nfunction growHeightOutOverall(element, options, animationParameters) {\n    var _a;\n    const y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupHeight) && void 0 !== _a ? _a : animationParameters.group.getBounds().height(), \n    animationParameters.groupHeight = overallValue) : overallValue = animationParameters.height : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        to: {\n            y: overallValue,\n            y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : overallValue,\n            height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n        }\n    };\n}\n\nconst growHeightOut = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growHeightOutOverall(element, options, animationParameters) : growHeightOutIndividual(element, options, animationParameters);\n};\n//# sourceMappingURL=grow-cartesian.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LWNhcnRlc2lhbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNEQ7O0FBRXJEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDREQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDREQUFPO0FBQzFCLDBEQUEwRCw0REFBTztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQU87QUFDMUIsc0RBQXNELDREQUFPO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0REFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQUs7QUFDekIsdUJBQXVCLDREQUFLO0FBQzVCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckIsbUJBQW1CLDREQUFLO0FBQ3hCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCw0REFBUTtBQUM5RCwrR0FBK0csNERBQVE7QUFDdkg7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCLG1CQUFtQiw0REFBSztBQUN4QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDREQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBSztBQUN6Qix1QkFBdUIsNERBQUs7QUFDNUI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDREQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSztBQUNyQixtQkFBbUIsNERBQUs7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDREQUFRO0FBQzlELCtHQUErRyw0REFBUTtBQUN2SDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckIsbUJBQW1CLDREQUFLO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNERBQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFLO0FBQ3pCLHdCQUF3Qiw0REFBSztBQUM3QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNERBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCLG9CQUFvQiw0REFBSztBQUN6QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsNERBQVE7QUFDOUQsaUhBQWlILDREQUFRO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSztBQUNyQixvQkFBb0IsNERBQUs7QUFDekIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0REFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQUs7QUFDekIsd0JBQXdCLDREQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckIsb0JBQW9CLDREQUFLO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCw0REFBUTtBQUM5RCxpSEFBaUgsNERBQVE7QUFDekg7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCLG9CQUFvQiw0REFBSztBQUN6QjtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL2dyb3ctY2FydGVzaWFuLmpzPzRlODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzTnVtYmVyLCBpc1ZhbGlkIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IGdyb3dDZW50ZXJJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgc3dpdGNoIChudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLmRpcmVjdGlvbikge1xuICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4XCIpLCB4MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4MVwiKSwgd2lkdGggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZyb206IGlzVmFsaWQod2lkdGgpID8ge1xuICAgICAgICAgICAgICAgICAgICB4OiB4ICsgd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgICAgICB4MTogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMFxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6ICh4ICsgeDEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeDE6ICh4ICsgeDEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZvaWQgMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICAgICAgeDE6IHgxLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieVwiKSwgeTEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieTFcIiksIGhlaWdodCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZyb206IGlzVmFsaWQoaGVpZ2h0KSA/IHtcbiAgICAgICAgICAgICAgICAgICAgeTogeSArIGhlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHkxOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHk6ICh5ICsgeTEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeTE6ICh5ICsgeTEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2b2lkIDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgICAgIHkxOiB5MSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieFwiKSwgeDEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieDFcIiksIHdpZHRoID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIndpZHRoXCIpLCB5ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInlcIiksIHkxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInkxXCIpLCBoZWlnaHQgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwiaGVpZ2h0XCIpLCBmcm9tID0ge307XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZCh3aWR0aCkgPyAoZnJvbS54ID0geCArIHdpZHRoIC8gMiwgZnJvbS53aWR0aCA9IDAsIGZyb20ueDEgPSB2b2lkIDApIDogKGZyb20ueCA9ICh4ICsgeDEpIC8gMiwgXG4gICAgICAgICAgICBmcm9tLngxID0gKHggKyB4MSkgLyAyLCBmcm9tLndpZHRoID0gdm9pZCAwKSwgaXNWYWxpZChoZWlnaHQpID8gKGZyb20ueSA9IHkgKyBoZWlnaHQgLyAyLCBcbiAgICAgICAgICAgIGZyb20uaGVpZ2h0ID0gMCwgZnJvbS55MSA9IHZvaWQgMCkgOiAoZnJvbS55ID0gKHkgKyB5MSkgLyAyLCBmcm9tLnkxID0gKHkgKyB5MSkgLyAyLCBcbiAgICAgICAgICAgIGZyb20uaGVpZ2h0ID0gdm9pZCAwKSwge1xuICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICAgICAgeDE6IHgxLFxuICAgICAgICAgICAgICAgICAgICB5MTogeTEsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdyb3dDZW50ZXJPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHN3aXRjaCAobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5kaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieFwiKSwgeDEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieDFcIiksIHdpZHRoID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIndpZHRoXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0bzogaXNWYWxpZCh3aWR0aCkgPyB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHggKyB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHgxOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwXG4gICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogKHggKyB4MSkgLyAyLFxuICAgICAgICAgICAgICAgICAgICB4MTogKHggKyB4MSkgLyAyLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdm9pZCAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFwieVwiOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB5ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInlcIiksIHkxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInkxXCIpLCBoZWlnaHQgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwiaGVpZ2h0XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0bzogaXNWYWxpZChoZWlnaHQpID8ge1xuICAgICAgICAgICAgICAgICAgICB5OiB5ICsgaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICAgICAgeTE6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgeTogKHkgKyB5MSkgLyAyLFxuICAgICAgICAgICAgICAgICAgICB5MTogKHkgKyB5MSkgLyAyLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZvaWQgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4XCIpLCB5ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInlcIiksIHgxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIngxXCIpLCB5MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5MVwiKSwgd2lkdGggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwid2lkdGhcIiksIGhlaWdodCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJoZWlnaHRcIiksIHRvID0ge307XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZCh3aWR0aCkgPyAodG8ueCA9IHggKyB3aWR0aCAvIDIsIHRvLndpZHRoID0gMCwgdG8ueDEgPSB2b2lkIDApIDogKHRvLnggPSAoeCArIHgxKSAvIDIsIFxuICAgICAgICAgICAgdG8ueDEgPSAoeCArIHgxKSAvIDIsIHRvLndpZHRoID0gdm9pZCAwKSwgaXNWYWxpZChoZWlnaHQpID8gKHRvLnkgPSB5ICsgaGVpZ2h0IC8gMiwgXG4gICAgICAgICAgICB0by5oZWlnaHQgPSAwLCB0by55MSA9IHZvaWQgMCkgOiAodG8ueSA9ICh5ICsgeTEpIC8gMiwgdG8ueTEgPSAoeSArIHkxKSAvIDIsIHRvLmhlaWdodCA9IHZvaWQgMCksIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRvOiB0b1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGdyb3dXaWR0aEluSW5kaXZpZHVhbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgeCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4XCIpLCB4MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4MVwiKSwgd2lkdGggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFgxID0gaXNWYWxpZCh3aWR0aCkgPyBNYXRoLm1heCh4LCB4ICsgd2lkdGgpIDogTWF0aC5tYXgoeCwgeDEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IGNvbXB1dGVkWDEsXG4gICAgICAgICAgICAgICAgeDE6IGlzTmlsKHgxKSA/IHZvaWQgMCA6IGNvbXB1dGVkWDEsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGlzTmlsKHdpZHRoKSA/IHZvaWQgMCA6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeDE6IHgxLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFggPSBpc1ZhbGlkKHdpZHRoKSA/IE1hdGgubWluKHgsIHggKyB3aWR0aCkgOiBNYXRoLm1pbih4LCB4MSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgeDogY29tcHV0ZWRYLFxuICAgICAgICAgICAgeDE6IGlzTmlsKHgxKSA/IHZvaWQgMCA6IGNvbXB1dGVkWCxcbiAgICAgICAgICAgIHdpZHRoOiBpc05pbCh3aWR0aCkgPyB2b2lkIDAgOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeDE6IHgxLFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBncm93V2lkdGhJbk92ZXJhbGwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB4ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInhcIiksIHgxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIngxXCIpLCB3aWR0aCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ3aWR0aFwiKTtcbiAgICBsZXQgb3ZlcmFsbFZhbHVlO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyBpc051bWJlcihvcHRpb25zLm92ZXJhbGwpID8gb3ZlcmFsbFZhbHVlID0gb3B0aW9ucy5vdmVyYWxsIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cCA/IChvdmVyYWxsVmFsdWUgPSBudWxsICE9PSAoX2EgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGgpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAuZ2V0Qm91bmRzKCkud2lkdGgoKSwgXG4gICAgYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoID0gb3ZlcmFsbFZhbHVlKSA6IG92ZXJhbGxWYWx1ZSA9IGFuaW1hdGlvblBhcmFtZXRlcnMud2lkdGggOiBvdmVyYWxsVmFsdWUgPSBpc051bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpID8gbnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsIDogMCwgXG4gICAge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICB4OiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICB4MTogaXNOaWwoeDEpID8gdm9pZCAwIDogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgd2lkdGg6IGlzTmlsKHdpZHRoKSA/IHZvaWQgMCA6IDBcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB4MTogeDEsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBjb25zdCBncm93V2lkdGhJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAhMSAhPT0gKG51bGwgIT09IChfYSA9IG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgJiYgdm9pZCAwICE9PSBfYSAmJiBfYSkgPyBncm93V2lkdGhJbk92ZXJhbGwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgOiBncm93V2lkdGhJbkluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycyk7XG59O1xuXG5mdW5jdGlvbiBncm93V2lkdGhPdXRJbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCB4ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInhcIiksIHgxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIngxXCIpLCB3aWR0aCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ3aWR0aFwiKTtcbiAgICBpZiAob3B0aW9ucyAmJiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkWDEgPSBpc1ZhbGlkKHdpZHRoKSA/IE1hdGgubWF4KHgsIHggKyB3aWR0aCkgOiBNYXRoLm1heCh4LCB4MSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IGNvbXB1dGVkWDEsXG4gICAgICAgICAgICAgICAgeDE6IGlzTmlsKHgxKSA/IHZvaWQgMCA6IGNvbXB1dGVkWDEsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGlzTmlsKHdpZHRoKSA/IHZvaWQgMCA6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWRYID0gaXNWYWxpZCh3aWR0aCkgPyBNYXRoLm1pbih4LCB4ICsgd2lkdGgpIDogTWF0aC5taW4oeCwgeDEpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB4OiBjb21wdXRlZFgsXG4gICAgICAgICAgICB4MTogaXNOaWwoeDEpID8gdm9pZCAwIDogY29tcHV0ZWRYLFxuICAgICAgICAgICAgd2lkdGg6IGlzTmlsKHdpZHRoKSA/IHZvaWQgMCA6IDBcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdyb3dXaWR0aE91dE92ZXJhbGwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB4MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4MVwiKSwgd2lkdGggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgbGV0IG92ZXJhbGxWYWx1ZTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG92ZXJhbGxWYWx1ZSA9IG9wdGlvbnMub3ZlcmFsbCA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyAob3ZlcmFsbFZhbHVlID0gbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLndpZHRoKCksIFxuICAgIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBXaWR0aCA9IG92ZXJhbGxWYWx1ZSkgOiBvdmVyYWxsVmFsdWUgPSBhbmltYXRpb25QYXJhbWV0ZXJzLndpZHRoIDogb3ZlcmFsbFZhbHVlID0gaXNOdW1iZXIobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSA/IG9wdGlvbnMub3ZlcmFsbCA6IDAsIFxuICAgIHtcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHg6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIHgxOiBpc05pbCh4MSkgPyB2b2lkIDAgOiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICB3aWR0aDogaXNOaWwod2lkdGgpID8gdm9pZCAwIDogMFxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdyb3dXaWR0aE91dCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAhMSAhPT0gKG51bGwgIT09IChfYSA9IG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgJiYgdm9pZCAwICE9PSBfYSAmJiBfYSkgPyBncm93V2lkdGhPdXRPdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIDogZ3Jvd1dpZHRoT3V0SW5kaXZpZHVhbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKTtcbn07XG5cbmZ1bmN0aW9uIGdyb3dIZWlnaHRJbkluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykge1xuICAgIGNvbnN0IHkgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieVwiKSwgeTEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieTFcIiksIGhlaWdodCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFkxID0gaXNWYWxpZChoZWlnaHQpID8gTWF0aC5tYXgoeSwgeSArIGhlaWdodCkgOiBNYXRoLm1heCh5LCB5MSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeTogY29tcHV0ZWRZMSxcbiAgICAgICAgICAgICAgICB5MTogaXNOaWwoeTEpID8gdm9pZCAwIDogY29tcHV0ZWRZMSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGlzTmlsKGhlaWdodCkgPyB2b2lkIDAgOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgICAgIHkxOiB5MSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFkgPSBpc1ZhbGlkKGhlaWdodCkgPyBNYXRoLm1pbih5LCB5ICsgaGVpZ2h0KSA6IE1hdGgubWluKHksIHkxKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICB5OiBjb21wdXRlZFksXG4gICAgICAgICAgICB5MTogaXNOaWwoeTEpID8gdm9pZCAwIDogY29tcHV0ZWRZLFxuICAgICAgICAgICAgaGVpZ2h0OiBpc05pbChoZWlnaHQpID8gdm9pZCAwIDogMFxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHkxOiB5MSxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBncm93SGVpZ2h0SW5PdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5XCIpLCB5MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5MVwiKSwgaGVpZ2h0ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICBsZXQgb3ZlcmFsbFZhbHVlO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyBpc051bWJlcihvcHRpb25zLm92ZXJhbGwpID8gb3ZlcmFsbFZhbHVlID0gb3B0aW9ucy5vdmVyYWxsIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cCA/IChvdmVyYWxsVmFsdWUgPSBudWxsICE9PSAoX2EgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwSGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLmhlaWdodCgpLCBcbiAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwSGVpZ2h0ID0gb3ZlcmFsbFZhbHVlKSA6IG92ZXJhbGxWYWx1ZSA9IGFuaW1hdGlvblBhcmFtZXRlcnMuaGVpZ2h0IDogb3ZlcmFsbFZhbHVlID0gaXNOdW1iZXIobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSA/IG9wdGlvbnMub3ZlcmFsbCA6IDAsIFxuICAgIHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgeTogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgeTE6IGlzTmlsKHkxKSA/IHZvaWQgMCA6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIGhlaWdodDogaXNOaWwoaGVpZ2h0KSA/IHZvaWQgMCA6IDBcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB5MTogeTEsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdyb3dIZWlnaHRJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAhMSAhPT0gKG51bGwgIT09IChfYSA9IG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgJiYgdm9pZCAwICE9PSBfYSAmJiBfYSkgPyBncm93SGVpZ2h0SW5PdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIDogZ3Jvd0hlaWdodEluSW5kaXZpZHVhbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKTtcbn07XG5cbmZ1bmN0aW9uIGdyb3dIZWlnaHRPdXRJbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCB5ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInlcIiksIHkxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInkxXCIpLCBoZWlnaHQgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwiaGVpZ2h0XCIpO1xuICAgIGlmIChvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRZMSA9IGlzVmFsaWQoaGVpZ2h0KSA/IE1hdGgubWF4KHksIHkgKyBoZWlnaHQpIDogTWF0aC5tYXgoeSwgeTEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB5OiBjb21wdXRlZFkxLFxuICAgICAgICAgICAgICAgIHkxOiBpc05pbCh5MSkgPyB2b2lkIDAgOiBjb21wdXRlZFkxLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaXNOaWwoaGVpZ2h0KSA/IHZvaWQgMCA6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWRZID0gaXNWYWxpZChoZWlnaHQpID8gTWF0aC5taW4oeSwgeSArIGhlaWdodCkgOiBNYXRoLm1pbih5LCB5MSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IGNvbXB1dGVkWSxcbiAgICAgICAgICAgIHkxOiBpc05pbCh5MSkgPyB2b2lkIDAgOiBjb21wdXRlZFksXG4gICAgICAgICAgICBoZWlnaHQ6IGlzTmlsKGhlaWdodCkgPyB2b2lkIDAgOiAwXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBncm93SGVpZ2h0T3V0T3ZlcmFsbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHkxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInkxXCIpLCBoZWlnaHQgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwiaGVpZ2h0XCIpO1xuICAgIGxldCBvdmVyYWxsVmFsdWU7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCA/IGlzTnVtYmVyKG9wdGlvbnMub3ZlcmFsbCkgPyBvdmVyYWxsVmFsdWUgPSBvcHRpb25zLm92ZXJhbGwgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwID8gKG92ZXJhbGxWYWx1ZSA9IG51bGwgIT09IChfYSA9IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBIZWlnaHQpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAuZ2V0Qm91bmRzKCkuaGVpZ2h0KCksIFxuICAgIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBIZWlnaHQgPSBvdmVyYWxsVmFsdWUpIDogb3ZlcmFsbFZhbHVlID0gYW5pbWF0aW9uUGFyYW1ldGVycy5oZWlnaHQgOiBvdmVyYWxsVmFsdWUgPSBpc051bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpID8gb3B0aW9ucy5vdmVyYWxsIDogMCwgXG4gICAge1xuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeTogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgeTE6IGlzTmlsKHkxKSA/IHZvaWQgMCA6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIGhlaWdodDogaXNOaWwoaGVpZ2h0KSA/IHZvaWQgMCA6IDBcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBjb25zdCBncm93SGVpZ2h0T3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICExICE9PSAobnVsbCAhPT0gKF9hID0gbnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSAmJiB2b2lkIDAgIT09IF9hICYmIF9hKSA/IGdyb3dIZWlnaHRPdXRPdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIDogZ3Jvd0hlaWdodE91dEluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3Jvdy1jYXJ0ZXNpYW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-cartesian.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-interval.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-interval.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   growIntervalIn: () => (/* binding */ growIntervalIn),\n/* harmony export */   growIntervalOut: () => (/* binding */ growIntervalOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nfunction growIntervalInIndividual(element, options, animationParameters) {\n    const attrs = element.getFinalAnimationAttributes();\n    if (options && \"x\" === options.direction) {\n        const x = null == attrs ? void 0 : attrs.x, x1 = null == attrs ? void 0 : attrs.x1;\n        return \"negative\" === options.orient ? {\n            from: {\n                x: x1,\n                x1: x1\n            },\n            to: {\n                x: x,\n                x1: x1\n            }\n        } : {\n            from: {\n                x: x,\n                x1: x\n            },\n            to: {\n                x: x,\n                y1: x1\n            }\n        };\n    }\n    const y = null == attrs ? void 0 : attrs.y, y1 = null == attrs ? void 0 : attrs.y1;\n    return options && \"negative\" === options.orient ? {\n        from: {\n            y: y1,\n            y1: y1\n        },\n        to: {\n            y: y,\n            y1: y1\n        }\n    } : {\n        from: {\n            y: y,\n            y1: y\n        },\n        to: {\n            y: y,\n            y1: y1\n        }\n    };\n}\n\nfunction growIntervalInOverall(element, options, animationParameters) {\n    var _a, _b;\n    const attrs = element.getFinalAnimationAttributes();\n    if (options && \"x\" === options.direction) {\n        const x = null == attrs ? void 0 : attrs.x, x1 = null == attrs ? void 0 : attrs.x1;\n        let overallValue;\n        return \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n        animationParameters.groupWidth = overallValue) : overallValue = animationParameters.width : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n        {\n            from: {\n                x: overallValue,\n                x1: overallValue\n            },\n            to: {\n                x: x,\n                y1: x1\n            }\n        };\n    }\n    const y = null == attrs ? void 0 : attrs.y, y1 = null == attrs ? void 0 : attrs.y1;\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_b = animationParameters.groupHeight) && void 0 !== _b ? _b : animationParameters.group.getBounds().height(), \n    animationParameters.groupHeight = overallValue) : overallValue = animationParameters.height : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        from: {\n            y: overallValue,\n            y1: overallValue\n        },\n        to: {\n            y: y,\n            y1: y1\n        }\n    };\n}\n\nconst growIntervalIn = (element, options, animationParameters) => {\n    var _a, _b;\n    const coord = null === (_b = null === (_a = element.mark) || void 0 === _a ? void 0 : _a.coord) || void 0 === _b ? void 0 : _b.output(), isTransposed = coord.isTransposed(), isPolar = \"polar\" === coord.type, newOptions = {\n        orient: \"negative\",\n        direction: isTransposed && !isPolar ? \"x\" : \"y\"\n    };\n    return options && !0 !== options.overall ? growIntervalInIndividual(element, newOptions, animationParameters) : growIntervalInOverall(element, newOptions, animationParameters);\n};\n\nfunction growIntervalOutIndividual(element, options, animationParameters) {\n    const attrs = element.getFinalAnimationAttributes();\n    if (options && \"x\" === options.direction) {\n        const x = null == attrs ? void 0 : attrs.x, x1 = null == attrs ? void 0 : attrs.x1, prevX = element.getGraphicAttribute(\"x\", !0), prevX1 = element.getGraphicAttribute(\"x1\", !0);\n        return \"negative\" === options.orient ? {\n            from: {\n                x: prevX,\n                x1: prevX1\n            },\n            to: {\n                x: x1,\n                x1: x1\n            }\n        } : {\n            from: {\n                x: prevX,\n                x1: prevX1\n            },\n            to: {\n                x: x,\n                x1: x\n            }\n        };\n    }\n    const y = null == attrs ? void 0 : attrs.y, y1 = null == attrs ? void 0 : attrs.y1, prevY = element.getGraphicAttribute(\"y\", !0), prevY1 = element.getGraphicAttribute(\"y1\", !0);\n    return options && \"negative\" === options.orient ? {\n        from: {\n            y: prevY,\n            y1: prevY1\n        },\n        to: {\n            y: y1,\n            y1: y1\n        }\n    } : {\n        from: {\n            y: prevY,\n            y1: prevY1\n        },\n        to: {\n            y: y,\n            y1: y\n        }\n    };\n}\n\nfunction growIntervalOutOverall(element, options, animationParameters) {\n    var _a, _b;\n    if (options && \"x\" === options.direction) {\n        const prevX = element.getGraphicAttribute(\"x\", !0), prevX1 = element.getGraphicAttribute(\"x1\", !0);\n        let overallValue;\n        return \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n        animationParameters.groupWidth = overallValue) : overallValue = animationParameters.width : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n        {\n            from: {\n                x: prevX,\n                x1: prevX1\n            },\n            to: {\n                x: overallValue,\n                x1: overallValue\n            }\n        };\n    }\n    const prevY = element.getGraphicAttribute(\"y\", !0), prevY1 = element.getGraphicAttribute(\"y1\", !0);\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_b = animationParameters.groupHeight) && void 0 !== _b ? _b : animationParameters.group.getBounds().height(), \n    animationParameters.groupHeight = overallValue) : overallValue = animationParameters.height : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        from: {\n            y: prevY,\n            y1: prevY1\n        },\n        to: {\n            y: overallValue,\n            y1: overallValue\n        }\n    };\n}\n\nconst growIntervalOut = (element, options, animationParameters) => {\n    var _a, _b;\n    const coord = null === (_b = null === (_a = element.mark) || void 0 === _a ? void 0 : _a.coord) || void 0 === _b ? void 0 : _b.output(), isTransposed = coord.isTransposed(), isPolar = \"polar\" === coord.type, newOptions = {\n        orient: \"negative\",\n        direction: isTransposed && !isPolar ? \"x\" : \"y\"\n    };\n    return options && !0 !== options.overall ? growIntervalOutIndividual(element, newOptions, animationParameters) : growIntervalOutOverall(element, newOptions, animationParameters);\n};\n//# sourceMappingURL=grow-interval.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LWludGVydmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw0REFBUTtBQUN2RCxtSEFBbUgsNERBQVE7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCw0REFBUTtBQUM5RCxpSEFBaUgsNERBQVE7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsNERBQVE7QUFDdkQsbUhBQW1ILDREQUFRO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsNERBQVE7QUFDOUQsaUhBQWlILDREQUFRO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LWludGVydmFsLmpzP2E0OGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5mdW5jdGlvbiBncm93SW50ZXJ2YWxJbkluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykge1xuICAgIGNvbnN0IGF0dHJzID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZXMoKTtcbiAgICBpZiAob3B0aW9ucyAmJiBcInhcIiA9PT0gb3B0aW9ucy5kaXJlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgeCA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy54LCB4MSA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy54MTtcbiAgICAgICAgcmV0dXJuIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeDogeDEsXG4gICAgICAgICAgICAgICAgeDE6IHgxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHgxOiB4MVxuICAgICAgICAgICAgfVxuICAgICAgICB9IDoge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeDE6IHhcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTE6IHgxXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHkgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueSwgeTEgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueTE7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCA/IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgeTogeTEsXG4gICAgICAgICAgICB5MTogeTFcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB5MTogeTFcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB5MTogeVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHkxOiB5MVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ3Jvd0ludGVydmFsSW5PdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGF0dHJzID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZXMoKTtcbiAgICBpZiAob3B0aW9ucyAmJiBcInhcIiA9PT0gb3B0aW9ucy5kaXJlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgeCA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy54LCB4MSA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy54MTtcbiAgICAgICAgbGV0IG92ZXJhbGxWYWx1ZTtcbiAgICAgICAgcmV0dXJuIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyBpc051bWJlcihvcHRpb25zLm92ZXJhbGwpID8gb3ZlcmFsbFZhbHVlID0gb3B0aW9ucy5vdmVyYWxsIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cCA/IChvdmVyYWxsVmFsdWUgPSBudWxsICE9PSAoX2EgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGgpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAuZ2V0Qm91bmRzKCkud2lkdGgoKSwgXG4gICAgICAgIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBXaWR0aCA9IG92ZXJhbGxWYWx1ZSkgOiBvdmVyYWxsVmFsdWUgPSBhbmltYXRpb25QYXJhbWV0ZXJzLndpZHRoIDogb3ZlcmFsbFZhbHVlID0gaXNOdW1iZXIobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSA/IG9wdGlvbnMub3ZlcmFsbCA6IDAsIFxuICAgICAgICB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeDogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgICAgIHgxOiBvdmVyYWxsVmFsdWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTE6IHgxXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHkgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueSwgeTEgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueTE7XG4gICAgbGV0IG92ZXJhbGxWYWx1ZTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG92ZXJhbGxWYWx1ZSA9IG9wdGlvbnMub3ZlcmFsbCA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyAob3ZlcmFsbFZhbHVlID0gbnVsbCAhPT0gKF9iID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cC5nZXRCb3VuZHMoKS5oZWlnaHQoKSwgXG4gICAgYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCA9IG92ZXJhbGxWYWx1ZSkgOiBvdmVyYWxsVmFsdWUgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmhlaWdodCA6IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwLCBcbiAgICB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHk6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIHkxOiBvdmVyYWxsVmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB5MTogeTFcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBjb25zdCBncm93SW50ZXJ2YWxJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBjb29yZCA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IGVsZW1lbnQubWFyaykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmNvb3JkKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2Iub3V0cHV0KCksIGlzVHJhbnNwb3NlZCA9IGNvb3JkLmlzVHJhbnNwb3NlZCgpLCBpc1BvbGFyID0gXCJwb2xhclwiID09PSBjb29yZC50eXBlLCBuZXdPcHRpb25zID0ge1xuICAgICAgICBvcmllbnQ6IFwibmVnYXRpdmVcIixcbiAgICAgICAgZGlyZWN0aW9uOiBpc1RyYW5zcG9zZWQgJiYgIWlzUG9sYXIgPyBcInhcIiA6IFwieVwiXG4gICAgfTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiAhMCAhPT0gb3B0aW9ucy5vdmVyYWxsID8gZ3Jvd0ludGVydmFsSW5JbmRpdmlkdWFsKGVsZW1lbnQsIG5ld09wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIDogZ3Jvd0ludGVydmFsSW5PdmVyYWxsKGVsZW1lbnQsIG5ld09wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpO1xufTtcblxuZnVuY3Rpb24gZ3Jvd0ludGVydmFsT3V0SW5kaXZpZHVhbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlcygpO1xuICAgIGlmIChvcHRpb25zICYmIFwieFwiID09PSBvcHRpb25zLmRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCB4ID0gbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLngsIHgxID0gbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLngxLCBwcmV2WCA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITApLCBwcmV2WDEgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MVwiLCAhMCk7XG4gICAgICAgIHJldHVybiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IHByZXZYLFxuICAgICAgICAgICAgICAgIHgxOiBwcmV2WDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IHgxLFxuICAgICAgICAgICAgICAgIHgxOiB4MVxuICAgICAgICAgICAgfVxuICAgICAgICB9IDoge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IHByZXZYLFxuICAgICAgICAgICAgICAgIHgxOiBwcmV2WDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeDE6IHhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgeSA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy55LCB5MSA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy55MSwgcHJldlkgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIsICEwKSwgcHJldlkxID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTFcIiwgITApO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHk6IHByZXZZLFxuICAgICAgICAgICAgeTE6IHByZXZZMVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeTogeTEsXG4gICAgICAgICAgICB5MTogeTFcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHk6IHByZXZZLFxuICAgICAgICAgICAgeTE6IHByZXZZMVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHkxOiB5XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBncm93SW50ZXJ2YWxPdXRPdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChvcHRpb25zICYmIFwieFwiID09PSBvcHRpb25zLmRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCBwcmV2WCA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITApLCBwcmV2WDEgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MVwiLCAhMCk7XG4gICAgICAgIGxldCBvdmVyYWxsVmFsdWU7XG4gICAgICAgIHJldHVybiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG92ZXJhbGxWYWx1ZSA9IG9wdGlvbnMub3ZlcmFsbCA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyAob3ZlcmFsbFZhbHVlID0gbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLndpZHRoKCksIFxuICAgICAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGggPSBvdmVyYWxsVmFsdWUpIDogb3ZlcmFsbFZhbHVlID0gYW5pbWF0aW9uUGFyYW1ldGVycy53aWR0aCA6IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwLCBcbiAgICAgICAge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IHByZXZYLFxuICAgICAgICAgICAgICAgIHgxOiBwcmV2WDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgICAgICB4MTogb3ZlcmFsbFZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHByZXZZID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMCksIHByZXZZMSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICEwKTtcbiAgICBsZXQgb3ZlcmFsbFZhbHVlO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyBpc051bWJlcihvcHRpb25zLm92ZXJhbGwpID8gb3ZlcmFsbFZhbHVlID0gb3B0aW9ucy5vdmVyYWxsIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cCA/IChvdmVyYWxsVmFsdWUgPSBudWxsICE9PSAoX2IgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwSGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLmhlaWdodCgpLCBcbiAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwSGVpZ2h0ID0gb3ZlcmFsbFZhbHVlKSA6IG92ZXJhbGxWYWx1ZSA9IGFuaW1hdGlvblBhcmFtZXRlcnMuaGVpZ2h0IDogb3ZlcmFsbFZhbHVlID0gaXNOdW1iZXIobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSA/IG9wdGlvbnMub3ZlcmFsbCA6IDAsIFxuICAgIHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgeTogcHJldlksXG4gICAgICAgICAgICB5MTogcHJldlkxXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB5OiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICB5MTogb3ZlcmFsbFZhbHVlXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgY29uc3QgZ3Jvd0ludGVydmFsT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGNvb3JkID0gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gZWxlbWVudC5tYXJrKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY29vcmQpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5vdXRwdXQoKSwgaXNUcmFuc3Bvc2VkID0gY29vcmQuaXNUcmFuc3Bvc2VkKCksIGlzUG9sYXIgPSBcInBvbGFyXCIgPT09IGNvb3JkLnR5cGUsIG5ld09wdGlvbnMgPSB7XG4gICAgICAgIG9yaWVudDogXCJuZWdhdGl2ZVwiLFxuICAgICAgICBkaXJlY3Rpb246IGlzVHJhbnNwb3NlZCAmJiAhaXNQb2xhciA/IFwieFwiIDogXCJ5XCJcbiAgICB9O1xuICAgIHJldHVybiBvcHRpb25zICYmICEwICE9PSBvcHRpb25zLm92ZXJhbGwgPyBncm93SW50ZXJ2YWxPdXRJbmRpdmlkdWFsKGVsZW1lbnQsIG5ld09wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIDogZ3Jvd0ludGVydmFsT3V0T3ZlcmFsbChlbGVtZW50LCBuZXdPcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncm93LWludGVydmFsLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-interval.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-points.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-points.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   growPointsIn: () => (/* binding */ growPointsIn),\n/* harmony export */   growPointsOut: () => (/* binding */ growPointsOut),\n/* harmony export */   growPointsXIn: () => (/* binding */ growPointsXIn),\n/* harmony export */   growPointsXOut: () => (/* binding */ growPointsXOut),\n/* harmony export */   growPointsYIn: () => (/* binding */ growPointsYIn),\n/* harmony export */   growPointsYOut: () => (/* binding */ growPointsYOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst getCenterPoints = (element, options, animationParameters) => {\n    const points = element.getGraphicAttribute(\"points\", !1), center = {\n        x: 0,\n        y: 0\n    };\n    return points.forEach((point => {\n        center.x += point.x, center.y += point.y;\n    })), center.x /= points.length, center.y /= points.length, options && options.center && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.center.x) && (center.x = options.center.x), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.center.y) && (center.y = options.center.y)), \"area\" === element.mark.markType && (center.x1 = center.x, \n    center.y1 = center.y), points.map((point => Object.assign({}, point, center)));\n};\n\nconst growPointsIn = (element, options, animationParameters) => ({\n    from: {\n        points: getCenterPoints(element, options)\n    },\n    to: {\n        points: element.getGraphicAttribute(\"points\", !1)\n    }\n});\n\nconst growPointsOut = (element, options, animationParameters) => ({\n    from: {\n        points: element.getGraphicAttribute(\"points\", !0)\n    },\n    to: {\n        points: getCenterPoints(element, options)\n    }\n});\n\nconst changePointsX = (element, options, animationParameters) => element.getGraphicAttribute(\"points\", !1).map((point => {\n    var _a;\n    if (options && \"negative\" === options.orient) {\n        let groupRight = animationParameters.width;\n        return animationParameters.group && (groupRight = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n        animationParameters.groupWidth = groupRight), Object.assign(Object.assign({}, point), {\n            x: groupRight,\n            y: point.y,\n            x1: groupRight,\n            y1: point.y1,\n            defined: !1 !== point.defined\n        });\n    }\n    return Object.assign(Object.assign({}, point), {\n        x: 0,\n        y: point.y,\n        x1: 0,\n        y1: point.y1,\n        defined: !1 !== point.defined\n    });\n}));\n\nconst growPointsXIn = (element, options, animationParameters) => ({\n    from: {\n        points: changePointsX(element, options, animationParameters)\n    },\n    to: {\n        points: element.getGraphicAttribute(\"points\", !1)\n    }\n});\n\nconst growPointsXOut = (element, options, animationParameters) => ({\n    from: {\n        points: element.getGraphicAttribute(\"points\", !0)\n    },\n    to: {\n        points: changePointsX(element, options, animationParameters)\n    }\n});\n\nconst changePointsY = (element, options, animationParameters) => element.getGraphicAttribute(\"points\", !1).map((point => {\n    var _a;\n    if (options && \"negative\" === options.orient) {\n        let groupBottom = animationParameters.height;\n        return animationParameters.group && (groupBottom = null !== (_a = animationParameters.groupHeight) && void 0 !== _a ? _a : animationParameters.group.getBounds().height(), \n        animationParameters.groupHeight = groupBottom), Object.assign(Object.assign({}, point), {\n            x: point.x,\n            y: groupBottom,\n            x1: point.x1,\n            y1: groupBottom,\n            defined: !1 !== point.defined\n        });\n    }\n    return Object.assign(Object.assign({}, point), {\n        x: point.x,\n        y: 0,\n        x1: point.x1,\n        y1: 0,\n        defined: !1 !== point.defined\n    });\n}));\n\nconst growPointsYIn = (element, options, animationParameters) => ({\n    from: {\n        points: changePointsY(element, options, animationParameters)\n    },\n    to: {\n        points: element.getGraphicAttribute(\"points\", !1)\n    }\n});\n\nconst growPointsYOut = (element, options, animationParameters) => ({\n    from: {\n        points: element.getGraphicAttribute(\"points\", !0)\n    },\n    to: {\n        points: changePointsY(element, options, animationParameters)\n    }\n});\n//# sourceMappingURL=grow-points.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LXBvaW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssd0ZBQXdGLDREQUFhO0FBQzFHLElBQUksNERBQWE7QUFDakIsZ0VBQWdFO0FBQ2hFOztBQUVPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVNO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0Y7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7O0FBRU07QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRU07QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNGQUFzRjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQzs7QUFFTTtBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFTTtBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vZ3Jvdy1wb2ludHMuanM/NGMzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1ZhbGlkTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuY29uc3QgZ2V0Q2VudGVyUG9pbnRzID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBwb2ludHMgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITEpLCBjZW50ZXIgPSB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICB9O1xuICAgIHJldHVybiBwb2ludHMuZm9yRWFjaCgocG9pbnQgPT4ge1xuICAgICAgICBjZW50ZXIueCArPSBwb2ludC54LCBjZW50ZXIueSArPSBwb2ludC55O1xuICAgIH0pKSwgY2VudGVyLnggLz0gcG9pbnRzLmxlbmd0aCwgY2VudGVyLnkgLz0gcG9pbnRzLmxlbmd0aCwgb3B0aW9ucyAmJiBvcHRpb25zLmNlbnRlciAmJiAoaXNWYWxpZE51bWJlcihvcHRpb25zLmNlbnRlci54KSAmJiAoY2VudGVyLnggPSBvcHRpb25zLmNlbnRlci54KSwgXG4gICAgaXNWYWxpZE51bWJlcihvcHRpb25zLmNlbnRlci55KSAmJiAoY2VudGVyLnkgPSBvcHRpb25zLmNlbnRlci55KSksIFwiYXJlYVwiID09PSBlbGVtZW50Lm1hcmsubWFya1R5cGUgJiYgKGNlbnRlci54MSA9IGNlbnRlci54LCBcbiAgICBjZW50ZXIueTEgPSBjZW50ZXIueSksIHBvaW50cy5tYXAoKHBvaW50ID0+IE9iamVjdC5hc3NpZ24oe30sIHBvaW50LCBjZW50ZXIpKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ3Jvd1BvaW50c0luID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+ICh7XG4gICAgZnJvbToge1xuICAgICAgICBwb2ludHM6IGdldENlbnRlclBvaW50cyhlbGVtZW50LCBvcHRpb25zKVxuICAgIH0sXG4gICAgdG86IHtcbiAgICAgICAgcG9pbnRzOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITEpXG4gICAgfVxufSk7XG5cbmV4cG9ydCBjb25zdCBncm93UG9pbnRzT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+ICh7XG4gICAgZnJvbToge1xuICAgICAgICBwb2ludHM6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMClcbiAgICB9LFxuICAgIHRvOiB7XG4gICAgICAgIHBvaW50czogZ2V0Q2VudGVyUG9pbnRzKGVsZW1lbnQsIG9wdGlvbnMpXG4gICAgfVxufSk7XG5cbmNvbnN0IGNoYW5nZVBvaW50c1ggPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExKS5tYXAoKHBvaW50ID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCkge1xuICAgICAgICBsZXQgZ3JvdXBSaWdodCA9IGFuaW1hdGlvblBhcmFtZXRlcnMud2lkdGg7XG4gICAgICAgIHJldHVybiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwICYmIChncm91cFJpZ2h0ID0gbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLndpZHRoKCksIFxuICAgICAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGggPSBncm91cFJpZ2h0KSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwb2ludCksIHtcbiAgICAgICAgICAgIHg6IGdyb3VwUmlnaHQsXG4gICAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgICAgeDE6IGdyb3VwUmlnaHQsXG4gICAgICAgICAgICB5MTogcG9pbnQueTEsXG4gICAgICAgICAgICBkZWZpbmVkOiAhMSAhPT0gcG9pbnQuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcG9pbnQpLCB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IHBvaW50LnksXG4gICAgICAgIHgxOiAwLFxuICAgICAgICB5MTogcG9pbnQueTEsXG4gICAgICAgIGRlZmluZWQ6ICExICE9PSBwb2ludC5kZWZpbmVkXG4gICAgfSk7XG59KSk7XG5cbmV4cG9ydCBjb25zdCBncm93UG9pbnRzWEluID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+ICh7XG4gICAgZnJvbToge1xuICAgICAgICBwb2ludHM6IGNoYW5nZVBvaW50c1goZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycylcbiAgICB9LFxuICAgIHRvOiB7XG4gICAgICAgIHBvaW50czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExKVxuICAgIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgZ3Jvd1BvaW50c1hPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4gKHtcbiAgICBmcm9tOiB7XG4gICAgICAgIHBvaW50czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICEwKVxuICAgIH0sXG4gICAgdG86IHtcbiAgICAgICAgcG9pbnRzOiBjaGFuZ2VQb2ludHNYKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpXG4gICAgfVxufSk7XG5cbmNvbnN0IGNoYW5nZVBvaW50c1kgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExKS5tYXAoKHBvaW50ID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCkge1xuICAgICAgICBsZXQgZ3JvdXBCb3R0b20gPSBhbmltYXRpb25QYXJhbWV0ZXJzLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgJiYgKGdyb3VwQm90dG9tID0gbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cC5nZXRCb3VuZHMoKS5oZWlnaHQoKSwgXG4gICAgICAgIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBIZWlnaHQgPSBncm91cEJvdHRvbSksIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcG9pbnQpLCB7XG4gICAgICAgICAgICB4OiBwb2ludC54LFxuICAgICAgICAgICAgeTogZ3JvdXBCb3R0b20sXG4gICAgICAgICAgICB4MTogcG9pbnQueDEsXG4gICAgICAgICAgICB5MTogZ3JvdXBCb3R0b20sXG4gICAgICAgICAgICBkZWZpbmVkOiAhMSAhPT0gcG9pbnQuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcG9pbnQpLCB7XG4gICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgIHk6IDAsXG4gICAgICAgIHgxOiBwb2ludC54MSxcbiAgICAgICAgeTE6IDAsXG4gICAgICAgIGRlZmluZWQ6ICExICE9PSBwb2ludC5kZWZpbmVkXG4gICAgfSk7XG59KSk7XG5cbmV4cG9ydCBjb25zdCBncm93UG9pbnRzWUluID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+ICh7XG4gICAgZnJvbToge1xuICAgICAgICBwb2ludHM6IGNoYW5nZVBvaW50c1koZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycylcbiAgICB9LFxuICAgIHRvOiB7XG4gICAgICAgIHBvaW50czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExKVxuICAgIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgZ3Jvd1BvaW50c1lPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4gKHtcbiAgICBmcm9tOiB7XG4gICAgICAgIHBvaW50czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICEwKVxuICAgIH0sXG4gICAgdG86IHtcbiAgICAgICAgcG9pbnRzOiBjaGFuZ2VQb2ludHNZKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpXG4gICAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncm93LXBvaW50cy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-points.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-polar.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-polar.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   growAngleIn: () => (/* binding */ growAngleIn),\n/* harmony export */   growAngleOut: () => (/* binding */ growAngleOut),\n/* harmony export */   growRadiusIn: () => (/* binding */ growRadiusIn),\n/* harmony export */   growRadiusOut: () => (/* binding */ growRadiusOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nconst growAngleInIndividual = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    return options && \"anticlockwise\" === options.orient ? {\n        from: {\n            startAngle: null == attrs ? void 0 : attrs.endAngle\n        },\n        to: {\n            startAngle: null == attrs ? void 0 : attrs.startAngle\n        }\n    } : {\n        from: {\n            endAngle: null == attrs ? void 0 : attrs.startAngle\n        },\n        to: {\n            endAngle: null == attrs ? void 0 : attrs.endAngle\n        }\n    };\n}, growAngleInOverall = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    if (options && \"anticlockwise\" === options.orient) {\n        const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? options.overall : 2 * Math.PI;\n        return {\n            from: {\n                startAngle: overallValue,\n                endAngle: overallValue\n            },\n            to: {\n                startAngle: null == attrs ? void 0 : attrs.startAngle,\n                endAngle: null == attrs ? void 0 : attrs.endAngle\n            }\n        };\n    }\n    const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0;\n    return {\n        from: {\n            startAngle: overallValue,\n            endAngle: overallValue\n        },\n        to: {\n            startAngle: null == attrs ? void 0 : attrs.startAngle,\n            endAngle: null == attrs ? void 0 : attrs.endAngle\n        }\n    };\n};\n\nconst growAngleIn = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growAngleInOverall(element, options) : growAngleInIndividual(element, options);\n};\n\nconst growAngleOutIndividual = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    return options && \"anticlockwise\" === options.orient ? {\n        from: {\n            startAngle: element.getGraphicAttribute(\"startAngle\", !0)\n        },\n        to: {\n            startAngle: null == attrs ? void 0 : attrs.endAngle\n        }\n    } : {\n        from: {\n            endAngle: element.getGraphicAttribute(\"endAngle\", !0)\n        },\n        to: {\n            endAngle: null == attrs ? void 0 : attrs.startAngle\n        }\n    };\n}, growAngleOutOverall = (element, options, animationParameters) => {\n    if (options && \"anticlockwise\" === options.orient) {\n        const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? options.overall : 2 * Math.PI;\n        return {\n            from: {\n                startAngle: element.getGraphicAttribute(\"startAngle\", !0),\n                endAngle: element.getGraphicAttribute(\"endAngle\", !0)\n            },\n            to: {\n                startAngle: overallValue,\n                endAngle: overallValue\n            }\n        };\n    }\n    const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0;\n    return {\n        from: {\n            startAngle: element.getGraphicAttribute(\"startAngle\", !0),\n            endAngle: element.getGraphicAttribute(\"endAngle\", !0)\n        },\n        to: {\n            startAngle: overallValue,\n            endAngle: overallValue\n        }\n    };\n};\n\nconst growAngleOut = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growAngleOutOverall(element, options) : growAngleOutIndividual(element, options);\n};\n\nconst growRadiusInIndividual = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    return options && \"inside\" === options.orient ? {\n        from: {\n            innerRadius: null == attrs ? void 0 : attrs.outerRadius\n        },\n        to: {\n            innerRadius: null == attrs ? void 0 : attrs.innerRadius\n        }\n    } : {\n        from: {\n            outerRadius: null == attrs ? void 0 : attrs.innerRadius\n        },\n        to: {\n            outerRadius: null == attrs ? void 0 : attrs.outerRadius\n        }\n    };\n}, growRadiusInOverall = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes(), overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0;\n    return {\n        from: {\n            innerRadius: overallValue,\n            outerRadius: overallValue\n        },\n        to: {\n            innerRadius: null == attrs ? void 0 : attrs.innerRadius,\n            outerRadius: null == attrs ? void 0 : attrs.outerRadius\n        }\n    };\n};\n\nconst growRadiusIn = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growRadiusInOverall(element, options) : growRadiusInIndividual(element, options);\n};\n\nconst growRadiusOutIndividual = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    return options && \"inside\" === options.orient ? {\n        from: {\n            innerRadius: element.getGraphicAttribute(\"innerRadius\", !0)\n        },\n        to: {\n            innerRadius: null == attrs ? void 0 : attrs.outerRadius\n        }\n    } : {\n        from: {\n            outerRadius: element.getGraphicAttribute(\"outerRadius\", !0)\n        },\n        to: {\n            outerRadius: null == attrs ? void 0 : attrs.innerRadius\n        }\n    };\n}, growRadiusOutOverall = (element, options, animationParameters) => {\n    const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0;\n    return {\n        from: {\n            innerRadius: element.getGraphicAttribute(\"innerRadius\", !0),\n            outerRadius: element.getGraphicAttribute(\"outerRadius\", !0)\n        },\n        to: {\n            innerRadius: overallValue,\n            outerRadius: overallValue\n        }\n    };\n};\n\nconst growRadiusOut = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growRadiusOutOverall(element, options) : growRadiusOutIndividual(element, options);\n};\n//# sourceMappingURL=grow-polar.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LXBvbGFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTRDOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSw2QkFBNkIsNERBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDREQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsNkJBQTZCLDREQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw0REFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx3RUFBd0UsNERBQVE7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QseUJBQXlCLDREQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vZ3Jvdy1wb2xhci5qcz80ZjUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuY29uc3QgZ3Jvd0FuZ2xlSW5JbmRpdmlkdWFsID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBhdHRycyA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCk7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgXCJhbnRpY2xvY2t3aXNlXCIgPT09IG9wdGlvbnMub3JpZW50ID8ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuZW5kQW5nbGVcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5zdGFydEFuZ2xlXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBlbmRBbmdsZTogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnN0YXJ0QW5nbGVcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuZW5kQW5nbGVcbiAgICAgICAgfVxuICAgIH07XG59LCBncm93QW5nbGVJbk92ZXJhbGwgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIGNvbnN0IGF0dHJzID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZXMoKTtcbiAgICBpZiAob3B0aW9ucyAmJiBcImFudGljbG9ja3dpc2VcIiA9PT0gb3B0aW9ucy5vcmllbnQpIHtcbiAgICAgICAgY29uc3Qgb3ZlcmFsbFZhbHVlID0gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG9wdGlvbnMub3ZlcmFsbCA6IDIgKiBNYXRoLlBJO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogb3ZlcmFsbFZhbHVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLmVuZEFuZ2xlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBvdmVyYWxsVmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5zdGFydEFuZ2xlLFxuICAgICAgICAgICAgZW5kQW5nbGU6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5lbmRBbmdsZVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBncm93QW5nbGVJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAhMSAhPT0gKG51bGwgIT09IChfYSA9IG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgJiYgdm9pZCAwICE9PSBfYSAmJiBfYSkgPyBncm93QW5nbGVJbk92ZXJhbGwoZWxlbWVudCwgb3B0aW9ucykgOiBncm93QW5nbGVJbkluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucyk7XG59O1xuXG5jb25zdCBncm93QW5nbGVPdXRJbmRpdmlkdWFsID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBhdHRycyA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCk7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgXCJhbnRpY2xvY2t3aXNlXCIgPT09IG9wdGlvbnMub3JpZW50ID8ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFuZ2xlXCIsICEwKVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLmVuZEFuZ2xlXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBlbmRBbmdsZTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kQW5nbGVcIiwgITApXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBlbmRBbmdsZTogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnN0YXJ0QW5nbGVcbiAgICAgICAgfVxuICAgIH07XG59LCBncm93QW5nbGVPdXRPdmVyYWxsID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBpZiAob3B0aW9ucyAmJiBcImFudGljbG9ja3dpc2VcIiA9PT0gb3B0aW9ucy5vcmllbnQpIHtcbiAgICAgICAgY29uc3Qgb3ZlcmFsbFZhbHVlID0gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG9wdGlvbnMub3ZlcmFsbCA6IDIgKiBNYXRoLlBJO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInN0YXJ0QW5nbGVcIiwgITApLFxuICAgICAgICAgICAgICAgIGVuZEFuZ2xlOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJlbmRBbmdsZVwiLCAhMClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogb3ZlcmFsbFZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInN0YXJ0QW5nbGVcIiwgITApLFxuICAgICAgICAgICAgZW5kQW5nbGU6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImVuZEFuZ2xlXCIsICEwKVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgZW5kQW5nbGU6IG92ZXJhbGxWYWx1ZVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBncm93QW5nbGVPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gITEgIT09IChudWxsICE9PSAoX2EgPSBudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpICYmIHZvaWQgMCAhPT0gX2EgJiYgX2EpID8gZ3Jvd0FuZ2xlT3V0T3ZlcmFsbChlbGVtZW50LCBvcHRpb25zKSA6IGdyb3dBbmdsZU91dEluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucyk7XG59O1xuXG5jb25zdCBncm93UmFkaXVzSW5JbmRpdmlkdWFsID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBhdHRycyA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCk7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgXCJpbnNpZGVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIGlubmVyUmFkaXVzOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMub3V0ZXJSYWRpdXNcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIGlubmVyUmFkaXVzOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuaW5uZXJSYWRpdXNcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIG91dGVyUmFkaXVzOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuaW5uZXJSYWRpdXNcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIG91dGVyUmFkaXVzOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMub3V0ZXJSYWRpdXNcbiAgICAgICAgfVxuICAgIH07XG59LCBncm93UmFkaXVzSW5PdmVyYWxsID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBhdHRycyA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCksIG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIGlubmVyUmFkaXVzOiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICBvdXRlclJhZGl1czogb3ZlcmFsbFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBpbm5lclJhZGl1czogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5vdXRlclJhZGl1c1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBncm93UmFkaXVzSW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gITEgIT09IChudWxsICE9PSAoX2EgPSBudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpICYmIHZvaWQgMCAhPT0gX2EgJiYgX2EpID8gZ3Jvd1JhZGl1c0luT3ZlcmFsbChlbGVtZW50LCBvcHRpb25zKSA6IGdyb3dSYWRpdXNJbkluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucyk7XG59O1xuXG5jb25zdCBncm93UmFkaXVzT3V0SW5kaXZpZHVhbCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlcygpO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwiaW5zaWRlXCIgPT09IG9wdGlvbnMub3JpZW50ID8ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBpbm5lclJhZGl1czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiaW5uZXJSYWRpdXNcIiwgITApXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBpbm5lclJhZGl1czogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLm91dGVyUmFkaXVzXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBvdXRlclJhZGl1czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwib3V0ZXJSYWRpdXNcIiwgITApXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBvdXRlclJhZGl1czogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLmlubmVyUmFkaXVzXG4gICAgICAgIH1cbiAgICB9O1xufSwgZ3Jvd1JhZGl1c091dE92ZXJhbGwgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIGNvbnN0IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIGlubmVyUmFkaXVzOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJpbm5lclJhZGl1c1wiLCAhMCksXG4gICAgICAgICAgICBvdXRlclJhZGl1czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwib3V0ZXJSYWRpdXNcIiwgITApXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBpbm5lclJhZGl1czogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IG92ZXJhbGxWYWx1ZVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBncm93UmFkaXVzT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICExICE9PSAobnVsbCAhPT0gKF9hID0gbnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSAmJiB2b2lkIDAgIT09IF9hICYmIF9hKSA/IGdyb3dSYWRpdXNPdXRPdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMpIDogZ3Jvd1JhZGl1c091dEluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3Jvdy1wb2xhci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-polar.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/index.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/index.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clipIn: () => (/* reexport safe */ _clip__WEBPACK_IMPORTED_MODULE_0__.clipIn),\n/* harmony export */   clipOut: () => (/* reexport safe */ _clip__WEBPACK_IMPORTED_MODULE_0__.clipOut),\n/* harmony export */   fadeIn: () => (/* reexport safe */ _fade__WEBPACK_IMPORTED_MODULE_1__.fadeIn),\n/* harmony export */   fadeOut: () => (/* reexport safe */ _fade__WEBPACK_IMPORTED_MODULE_1__.fadeOut),\n/* harmony export */   growAngleIn: () => (/* reexport safe */ _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growAngleIn),\n/* harmony export */   growAngleOut: () => (/* reexport safe */ _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growAngleOut),\n/* harmony export */   growCenterIn: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growCenterIn),\n/* harmony export */   growCenterOut: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growCenterOut),\n/* harmony export */   growHeightIn: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growHeightIn),\n/* harmony export */   growHeightOut: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growHeightOut),\n/* harmony export */   growIntervalIn: () => (/* reexport safe */ _grow_interval__WEBPACK_IMPORTED_MODULE_8__.growIntervalIn),\n/* harmony export */   growIntervalOut: () => (/* reexport safe */ _grow_interval__WEBPACK_IMPORTED_MODULE_8__.growIntervalOut),\n/* harmony export */   growPointsIn: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsIn),\n/* harmony export */   growPointsOut: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsOut),\n/* harmony export */   growPointsXIn: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsXIn),\n/* harmony export */   growPointsXOut: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsXOut),\n/* harmony export */   growPointsYIn: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsYIn),\n/* harmony export */   growPointsYOut: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsYOut),\n/* harmony export */   growRadiusIn: () => (/* reexport safe */ _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growRadiusIn),\n/* harmony export */   growRadiusOut: () => (/* reexport safe */ _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growRadiusOut),\n/* harmony export */   growWidthIn: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growWidthIn),\n/* harmony export */   growWidthOut: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growWidthOut),\n/* harmony export */   moveIn: () => (/* reexport safe */ _move__WEBPACK_IMPORTED_MODULE_2__.moveIn),\n/* harmony export */   moveOut: () => (/* reexport safe */ _move__WEBPACK_IMPORTED_MODULE_2__.moveOut),\n/* harmony export */   registerClipInAnimation: () => (/* binding */ registerClipInAnimation),\n/* harmony export */   registerClipOutAnimation: () => (/* binding */ registerClipOutAnimation),\n/* harmony export */   registerFadeInAnimation: () => (/* binding */ registerFadeInAnimation),\n/* harmony export */   registerFadeOutAnimation: () => (/* binding */ registerFadeOutAnimation),\n/* harmony export */   registerGrowAngleInAnimation: () => (/* binding */ registerGrowAngleInAnimation),\n/* harmony export */   registerGrowAngleOutAnimation: () => (/* binding */ registerGrowAngleOutAnimation),\n/* harmony export */   registerGrowCenterInAnimation: () => (/* binding */ registerGrowCenterInAnimation),\n/* harmony export */   registerGrowCenterOutAnimation: () => (/* binding */ registerGrowCenterOutAnimation),\n/* harmony export */   registerGrowHeightInAnimation: () => (/* binding */ registerGrowHeightInAnimation),\n/* harmony export */   registerGrowHeightOutAnimation: () => (/* binding */ registerGrowHeightOutAnimation),\n/* harmony export */   registerGrowIntervalInAnimation: () => (/* binding */ registerGrowIntervalInAnimation),\n/* harmony export */   registerGrowIntervalOutAnimation: () => (/* binding */ registerGrowIntervalOutAnimation),\n/* harmony export */   registerGrowPointsInAnimation: () => (/* binding */ registerGrowPointsInAnimation),\n/* harmony export */   registerGrowPointsOutAnimation: () => (/* binding */ registerGrowPointsOutAnimation),\n/* harmony export */   registerGrowPointsXInAnimation: () => (/* binding */ registerGrowPointsXInAnimation),\n/* harmony export */   registerGrowPointsXOutAnimation: () => (/* binding */ registerGrowPointsXOutAnimation),\n/* harmony export */   registerGrowPointsYInAnimation: () => (/* binding */ registerGrowPointsYInAnimation),\n/* harmony export */   registerGrowPointsYOutAnimation: () => (/* binding */ registerGrowPointsYOutAnimation),\n/* harmony export */   registerGrowRadiusInAnimation: () => (/* binding */ registerGrowRadiusInAnimation),\n/* harmony export */   registerGrowRadiusOutAnimation: () => (/* binding */ registerGrowRadiusOutAnimation),\n/* harmony export */   registerGrowWidthInAnimation: () => (/* binding */ registerGrowWidthInAnimation),\n/* harmony export */   registerGrowWidthOutAnimation: () => (/* binding */ registerGrowWidthOutAnimation),\n/* harmony export */   registerMoveInAnimation: () => (/* binding */ registerMoveInAnimation),\n/* harmony export */   registerMoveOutAnimation: () => (/* binding */ registerMoveOutAnimation),\n/* harmony export */   registerRotateInAnimation: () => (/* binding */ registerRotateInAnimation),\n/* harmony export */   registerRotateOutAnimation: () => (/* binding */ registerRotateOutAnimation),\n/* harmony export */   registerScaleInAnimation: () => (/* binding */ registerScaleInAnimation),\n/* harmony export */   registerScaleOutAnimation: () => (/* binding */ registerScaleOutAnimation),\n/* harmony export */   registerUpdateAnimation: () => (/* binding */ registerUpdateAnimation),\n/* harmony export */   rotateIn: () => (/* reexport safe */ _rotate__WEBPACK_IMPORTED_MODULE_4__.rotateIn),\n/* harmony export */   rotateOut: () => (/* reexport safe */ _rotate__WEBPACK_IMPORTED_MODULE_4__.rotateOut),\n/* harmony export */   scaleIn: () => (/* reexport safe */ _scale__WEBPACK_IMPORTED_MODULE_3__.scaleIn),\n/* harmony export */   scaleOut: () => (/* reexport safe */ _scale__WEBPACK_IMPORTED_MODULE_3__.scaleOut),\n/* harmony export */   update: () => (/* reexport safe */ _update__WEBPACK_IMPORTED_MODULE_9__.update)\n/* harmony export */ });\n/* harmony import */ var _clip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./clip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/clip.js\");\n/* harmony import */ var _fade__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fade */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/fade.js\");\n/* harmony import */ var _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./grow-cartesian */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-cartesian.js\");\n/* harmony import */ var _grow_polar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./grow-polar */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-polar.js\");\n/* harmony import */ var _grow_points__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./grow-points */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-points.js\");\n/* harmony import */ var _grow_interval__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./grow-interval */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-interval.js\");\n/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./move */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/move.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/scale.js\");\n/* harmony import */ var _update__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./update */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/update.js\");\n/* harmony import */ var _rotate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rotate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/rotate.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerClipInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"clipIn\", _clip__WEBPACK_IMPORTED_MODULE_0__.clipIn);\n};\n\nconst registerClipOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"clipOut\", _clip__WEBPACK_IMPORTED_MODULE_0__.clipOut);\n};\n\nconst registerFadeInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"fadeIn\", _fade__WEBPACK_IMPORTED_MODULE_1__.fadeIn);\n};\n\nconst registerFadeOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"fadeOut\", _fade__WEBPACK_IMPORTED_MODULE_1__.fadeOut);\n};\n\nconst registerGrowCenterInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growCenterIn\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growCenterIn);\n};\n\nconst registerGrowCenterOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growCenterOut\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growCenterOut);\n};\n\nconst registerGrowHeightInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growHeightIn\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growHeightIn);\n};\n\nconst registerGrowHeightOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growHeightOut\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growHeightOut);\n};\n\nconst registerGrowWidthInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growWidthIn\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growWidthIn);\n};\n\nconst registerGrowWidthOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growWidthOut\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growWidthOut);\n};\n\nconst registerGrowIntervalInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growIntervalIn\", _grow_interval__WEBPACK_IMPORTED_MODULE_8__.growIntervalIn);\n};\n\nconst registerGrowIntervalOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growIntervalOut\", _grow_interval__WEBPACK_IMPORTED_MODULE_8__.growIntervalOut);\n};\n\nconst registerGrowPointsInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsIn\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsIn);\n};\n\nconst registerGrowPointsOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsOut\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsOut);\n};\n\nconst registerGrowPointsXInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsXIn\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsXIn);\n};\n\nconst registerGrowPointsXOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsXOut\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsXOut);\n};\n\nconst registerGrowPointsYInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsYIn\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsYIn);\n};\n\nconst registerGrowPointsYOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsYOut\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsYOut);\n};\n\nconst registerGrowAngleInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growAngleIn\", _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growAngleIn);\n};\n\nconst registerGrowAngleOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growAngleOut\", _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growAngleOut);\n};\n\nconst registerGrowRadiusInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growRadiusIn\", _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growRadiusIn);\n};\n\nconst registerGrowRadiusOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growRadiusOut\", _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growRadiusOut);\n};\n\nconst registerMoveInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"moveIn\", _move__WEBPACK_IMPORTED_MODULE_2__.moveIn);\n};\n\nconst registerMoveOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"moveOut\", _move__WEBPACK_IMPORTED_MODULE_2__.moveOut);\n};\n\nconst registerScaleInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"scaleIn\", _scale__WEBPACK_IMPORTED_MODULE_3__.scaleIn);\n};\n\nconst registerScaleOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"scaleOut\", _scale__WEBPACK_IMPORTED_MODULE_3__.scaleOut);\n};\n\nconst registerRotateInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"rotateIn\", _rotate__WEBPACK_IMPORTED_MODULE_4__.rotateIn);\n};\n\nconst registerRotateOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"rotateOut\", _rotate__WEBPACK_IMPORTED_MODULE_4__.rotateOut);\n};\n\nconst registerUpdateAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"update\", _update__WEBPACK_IMPORTED_MODULE_9__.update);\n};\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7O0FBRUE7O0FBRThFOztBQUVqQzs7QUFFb0M7O0FBRXhEOztBQUV6Qjs7QUFFRzs7QUFFVjs7QUFFYTs7QUFFQzs7QUFFc1U7O0FBRS9XO0FBQ1AsSUFBSSxtREFBTyxpQ0FBaUMseUNBQU07QUFDbEQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLGtDQUFrQywwQ0FBTztBQUNwRDs7QUFFTztBQUNQLElBQUksbURBQU8saUNBQWlDLHlDQUFNO0FBQ2xEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxrQ0FBa0MsMENBQU87QUFDcEQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHVDQUF1Qyx5REFBWTtBQUM5RDs7QUFFTztBQUNQLElBQUksbURBQU8sd0NBQXdDLDBEQUFhO0FBQ2hFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx1Q0FBdUMseURBQVk7QUFDOUQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHdDQUF3QywwREFBYTtBQUNoRTs7QUFFTztBQUNQLElBQUksbURBQU8sc0NBQXNDLHdEQUFXO0FBQzVEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx1Q0FBdUMseURBQVk7QUFDOUQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHlDQUF5QywwREFBYztBQUNsRTs7QUFFTztBQUNQLElBQUksbURBQU8sMENBQTBDLDJEQUFlO0FBQ3BFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx1Q0FBdUMsc0RBQVk7QUFDOUQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHdDQUF3Qyx1REFBYTtBQUNoRTs7QUFFTztBQUNQLElBQUksbURBQU8sd0NBQXdDLHVEQUFhO0FBQ2hFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx5Q0FBeUMsd0RBQWM7QUFDbEU7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHdDQUF3Qyx1REFBYTtBQUNoRTs7QUFFTztBQUNQLElBQUksbURBQU8seUNBQXlDLHdEQUFjO0FBQ2xFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxzQ0FBc0Msb0RBQVc7QUFDNUQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHVDQUF1QyxxREFBWTtBQUM5RDs7QUFFTztBQUNQLElBQUksbURBQU8sdUNBQXVDLHFEQUFZO0FBQzlEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx3Q0FBd0Msc0RBQWE7QUFDaEU7O0FBRU87QUFDUCxJQUFJLG1EQUFPLGlDQUFpQyx5Q0FBTTtBQUNsRDs7QUFFTztBQUNQLElBQUksbURBQU8sa0NBQWtDLDBDQUFPO0FBQ3BEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxrQ0FBa0MsMkNBQU87QUFDcEQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLG1DQUFtQyw0Q0FBUTtBQUN0RDs7QUFFTztBQUNQLElBQUksbURBQU8sbUNBQW1DLDZDQUFRO0FBQ3REOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxvQ0FBb0MsOENBQVM7QUFDeEQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLGlDQUFpQywyQ0FBTTtBQUNsRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vaW5kZXguanM/NzU5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbGlwSW4sIGNsaXBPdXQgfSBmcm9tIFwiLi9jbGlwXCI7XG5cbmltcG9ydCB7IGZhZGVJbiwgZmFkZU91dCB9IGZyb20gXCIuL2ZhZGVcIjtcblxuaW1wb3J0IHsgZ3Jvd0NlbnRlckluLCBncm93Q2VudGVyT3V0LCBncm93SGVpZ2h0SW4sIGdyb3dIZWlnaHRPdXQsIGdyb3dXaWR0aEluLCBncm93V2lkdGhPdXQgfSBmcm9tIFwiLi9ncm93LWNhcnRlc2lhblwiO1xuXG5pbXBvcnQgeyBncm93QW5nbGVJbiwgZ3Jvd0FuZ2xlT3V0LCBncm93UmFkaXVzSW4sIGdyb3dSYWRpdXNPdXQgfSBmcm9tIFwiLi9ncm93LXBvbGFyXCI7XG5cbmltcG9ydCB7IGdyb3dQb2ludHNJbiwgZ3Jvd1BvaW50c091dCwgZ3Jvd1BvaW50c1hJbiwgZ3Jvd1BvaW50c1hPdXQsIGdyb3dQb2ludHNZSW4sIGdyb3dQb2ludHNZT3V0IH0gZnJvbSBcIi4vZ3Jvdy1wb2ludHNcIjtcblxuaW1wb3J0IHsgZ3Jvd0ludGVydmFsSW4sIGdyb3dJbnRlcnZhbE91dCB9IGZyb20gXCIuL2dyb3ctaW50ZXJ2YWxcIjtcblxuaW1wb3J0IHsgbW92ZUluLCBtb3ZlT3V0IH0gZnJvbSBcIi4vbW92ZVwiO1xuXG5pbXBvcnQgeyBzY2FsZUluLCBzY2FsZU91dCB9IGZyb20gXCIuL3NjYWxlXCI7XG5cbmltcG9ydCB7IHVwZGF0ZSB9IGZyb20gXCIuL3VwZGF0ZVwiO1xuXG5pbXBvcnQgeyByb3RhdGVJbiwgcm90YXRlT3V0IH0gZnJvbSBcIi4vcm90YXRlXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCB7IGNsaXBJbiwgY2xpcE91dCwgZmFkZUluLCBmYWRlT3V0LCBtb3ZlSW4sIG1vdmVPdXQsIHNjYWxlSW4sIHNjYWxlT3V0LCByb3RhdGVJbiwgcm90YXRlT3V0LCBncm93Q2VudGVySW4sIGdyb3dDZW50ZXJPdXQsIGdyb3dXaWR0aEluLCBncm93V2lkdGhPdXQsIGdyb3dIZWlnaHRJbiwgZ3Jvd0hlaWdodE91dCwgZ3Jvd0FuZ2xlSW4sIGdyb3dBbmdsZU91dCwgZ3Jvd1JhZGl1c0luLCBncm93UmFkaXVzT3V0LCBncm93UG9pbnRzSW4sIGdyb3dQb2ludHNPdXQsIGdyb3dQb2ludHNYSW4sIGdyb3dQb2ludHNYT3V0LCBncm93UG9pbnRzWUluLCBncm93UG9pbnRzWU91dCwgZ3Jvd0ludGVydmFsSW4sIGdyb3dJbnRlcnZhbE91dCwgdXBkYXRlIH07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckNsaXBJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImNsaXBJblwiLCBjbGlwSW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQ2xpcE91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImNsaXBPdXRcIiwgY2xpcE91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJGYWRlSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJmYWRlSW5cIiwgZmFkZUluKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckZhZGVPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJmYWRlT3V0XCIsIGZhZGVPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd0NlbnRlckluQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd0NlbnRlckluXCIsIGdyb3dDZW50ZXJJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93Q2VudGVyT3V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd0NlbnRlck91dFwiLCBncm93Q2VudGVyT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dIZWlnaHRJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dIZWlnaHRJblwiLCBncm93SGVpZ2h0SW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd0hlaWdodE91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dIZWlnaHRPdXRcIiwgZ3Jvd0hlaWdodE91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93V2lkdGhJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dXaWR0aEluXCIsIGdyb3dXaWR0aEluKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dXaWR0aE91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dXaWR0aE91dFwiLCBncm93V2lkdGhPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd0ludGVydmFsSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93SW50ZXJ2YWxJblwiLCBncm93SW50ZXJ2YWxJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93SW50ZXJ2YWxPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93SW50ZXJ2YWxPdXRcIiwgZ3Jvd0ludGVydmFsT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dQb2ludHNJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dQb2ludHNJblwiLCBncm93UG9pbnRzSW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd1BvaW50c091dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dQb2ludHNPdXRcIiwgZ3Jvd1BvaW50c091dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93UG9pbnRzWEluQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd1BvaW50c1hJblwiLCBncm93UG9pbnRzWEluKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dQb2ludHNYT3V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd1BvaW50c1hPdXRcIiwgZ3Jvd1BvaW50c1hPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd1BvaW50c1lJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dQb2ludHNZSW5cIiwgZ3Jvd1BvaW50c1lJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93UG9pbnRzWU91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dQb2ludHNZT3V0XCIsIGdyb3dQb2ludHNZT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dBbmdsZUluQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd0FuZ2xlSW5cIiwgZ3Jvd0FuZ2xlSW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd0FuZ2xlT3V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd0FuZ2xlT3V0XCIsIGdyb3dBbmdsZU91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93UmFkaXVzSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93UmFkaXVzSW5cIiwgZ3Jvd1JhZGl1c0luKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dSYWRpdXNPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93UmFkaXVzT3V0XCIsIGdyb3dSYWRpdXNPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTW92ZUluQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwibW92ZUluXCIsIG1vdmVJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJNb3ZlT3V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwibW92ZU91dFwiLCBtb3ZlT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclNjYWxlSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJzY2FsZUluXCIsIHNjYWxlSW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU2NhbGVPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJzY2FsZU91dFwiLCBzY2FsZU91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSb3RhdGVJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcInJvdGF0ZUluXCIsIHJvdGF0ZUluKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclJvdGF0ZU91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcInJvdGF0ZU91dFwiLCByb3RhdGVPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVXBkYXRlQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwidXBkYXRlXCIsIHVwZGF0ZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/move.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/move.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   moveIn: () => (/* binding */ moveIn),\n/* harmony export */   moveOut: () => (/* binding */ moveOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst moveIn = (element, options, animationParameters) => {\n    var _a, _b;\n    const {offset: offset = 0, orient: orient, direction: direction, point: pointOpt, excludeChannels: excludeChannels = []} = null != options ? options : {};\n    let changedX = 0, changedY = 0;\n    \"negative\" === orient && (animationParameters.group ? (changedX = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n    changedY = null !== (_b = animationParameters.groupHeight) && void 0 !== _b ? _b : animationParameters.group.getBounds().height(), \n    animationParameters.groupWidth = changedX, animationParameters.groupHeight = changedY) : (changedX = animationParameters.width, \n    changedY = animationParameters.height)), changedX += offset, changedY += offset;\n    const point = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(pointOpt) ? pointOpt.call(null, element.getDatum(), element, animationParameters) : pointOpt, fromX = point && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(point.x) ? point.x : changedX, fromY = point && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(point.y) ? point.y : changedY, finalAttrsX = excludeChannels.includes(\"x\") ? element.getGraphicAttribute(\"x\") : element.getFinalAnimationAttribute(\"x\"), finalAttrsY = excludeChannels.includes(\"y\") ? element.getGraphicAttribute(\"y\") : element.getFinalAnimationAttribute(\"y\");\n    switch (direction) {\n      case \"x\":\n        return {\n            from: {\n                x: fromX\n            },\n            to: {\n                x: finalAttrsX\n            }\n        };\n\n      case \"y\":\n        return {\n            from: {\n                y: fromY\n            },\n            to: {\n                y: finalAttrsY\n            }\n        };\n\n      default:\n        return {\n            from: {\n                x: fromX,\n                y: fromY\n            },\n            to: {\n                x: finalAttrsX,\n                y: finalAttrsY\n            }\n        };\n    }\n};\n\nconst moveOut = (element, options, animationParameters) => {\n    var _a, _b;\n    const {offset: offset = 0, orient: orient, direction: direction, point: pointOpt} = null != options ? options : {}, groupBounds = animationParameters.group ? animationParameters.group.getBounds() : null, groupWidth = null !== (_a = null == groupBounds ? void 0 : groupBounds.width()) && void 0 !== _a ? _a : animationParameters.width, groupHeight = null !== (_b = null == groupBounds ? void 0 : groupBounds.height()) && void 0 !== _b ? _b : animationParameters.height, changedX = (\"negative\" === orient ? groupWidth : 0) + offset, changedY = (\"negative\" === orient ? groupHeight : 0) + offset, point = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(pointOpt) ? pointOpt.call(null, element.getDatum(), element, animationParameters) : pointOpt, fromX = point && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(point.x) ? point.x : changedX, fromY = point && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(point.y) ? point.y : changedY;\n    switch (direction) {\n      case \"x\":\n        return {\n            from: {\n                x: element.getGraphicAttribute(\"x\", !0)\n            },\n            to: {\n                x: fromX\n            }\n        };\n\n      case \"y\":\n        return {\n            from: {\n                y: element.getGraphicAttribute(\"y\", !0)\n            },\n            to: {\n                y: fromY\n            }\n        };\n\n      default:\n        return {\n            from: {\n                x: element.getGraphicAttribute(\"x\", !0),\n                y: element.getGraphicAttribute(\"y\", !0)\n            },\n            to: {\n                x: fromX,\n                y: fromY\n            }\n        };\n    }\n};\n//# sourceMappingURL=move.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9tb3ZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNkQ7O0FBRXREO0FBQ1A7QUFDQSxXQUFXLGtIQUFrSDtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDREQUFVLGdIQUFnSCw0REFBYSxpREFBaUQsNERBQWE7QUFDdk47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQSxXQUFXLDJFQUEyRSxnQ0FBZ0Msd2VBQXdlLDREQUFVLGdIQUFnSCw0REFBYSxpREFBaUQsNERBQWE7QUFDbnlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vbW92ZS5qcz84N2YzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRnVuY3Rpb24sIGlzVmFsaWROdW1iZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgbW92ZUluID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHtvZmZzZXQ6IG9mZnNldCA9IDAsIG9yaWVudDogb3JpZW50LCBkaXJlY3Rpb246IGRpcmVjdGlvbiwgcG9pbnQ6IHBvaW50T3B0LCBleGNsdWRlQ2hhbm5lbHM6IGV4Y2x1ZGVDaGFubmVscyA9IFtdfSA9IG51bGwgIT0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcbiAgICBsZXQgY2hhbmdlZFggPSAwLCBjaGFuZ2VkWSA9IDA7XG4gICAgXCJuZWdhdGl2ZVwiID09PSBvcmllbnQgJiYgKGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyAoY2hhbmdlZFggPSBudWxsICE9PSAoX2EgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGgpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAuZ2V0Qm91bmRzKCkud2lkdGgoKSwgXG4gICAgY2hhbmdlZFkgPSBudWxsICE9PSAoX2IgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwSGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLmhlaWdodCgpLCBcbiAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGggPSBjaGFuZ2VkWCwgYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCA9IGNoYW5nZWRZKSA6IChjaGFuZ2VkWCA9IGFuaW1hdGlvblBhcmFtZXRlcnMud2lkdGgsIFxuICAgIGNoYW5nZWRZID0gYW5pbWF0aW9uUGFyYW1ldGVycy5oZWlnaHQpKSwgY2hhbmdlZFggKz0gb2Zmc2V0LCBjaGFuZ2VkWSArPSBvZmZzZXQ7XG4gICAgY29uc3QgcG9pbnQgPSBpc0Z1bmN0aW9uKHBvaW50T3B0KSA/IHBvaW50T3B0LmNhbGwobnVsbCwgZWxlbWVudC5nZXREYXR1bSgpLCBlbGVtZW50LCBhbmltYXRpb25QYXJhbWV0ZXJzKSA6IHBvaW50T3B0LCBmcm9tWCA9IHBvaW50ICYmIGlzVmFsaWROdW1iZXIocG9pbnQueCkgPyBwb2ludC54IDogY2hhbmdlZFgsIGZyb21ZID0gcG9pbnQgJiYgaXNWYWxpZE51bWJlcihwb2ludC55KSA/IHBvaW50LnkgOiBjaGFuZ2VkWSwgZmluYWxBdHRyc1ggPSBleGNsdWRlQ2hhbm5lbHMuaW5jbHVkZXMoXCJ4XCIpID8gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiKSA6IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4XCIpLCBmaW5hbEF0dHJzWSA9IGV4Y2x1ZGVDaGFubmVscy5pbmNsdWRlcyhcInlcIikgPyBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIpIDogZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInlcIik7XG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeDogZnJvbVhcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IGZpbmFsQXR0cnNYXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeTogZnJvbVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHk6IGZpbmFsQXR0cnNZXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeDogZnJvbVgsXG4gICAgICAgICAgICAgICAgeTogZnJvbVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IGZpbmFsQXR0cnNYLFxuICAgICAgICAgICAgICAgIHk6IGZpbmFsQXR0cnNZXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IG1vdmVPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3Qge29mZnNldDogb2Zmc2V0ID0gMCwgb3JpZW50OiBvcmllbnQsIGRpcmVjdGlvbjogZGlyZWN0aW9uLCBwb2ludDogcG9pbnRPcHR9ID0gbnVsbCAhPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9LCBncm91cEJvdW5kcyA9IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpIDogbnVsbCwgZ3JvdXBXaWR0aCA9IG51bGwgIT09IChfYSA9IG51bGwgPT0gZ3JvdXBCb3VuZHMgPyB2b2lkIDAgOiBncm91cEJvdW5kcy53aWR0aCgpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLndpZHRoLCBncm91cEhlaWdodCA9IG51bGwgIT09IChfYiA9IG51bGwgPT0gZ3JvdXBCb3VuZHMgPyB2b2lkIDAgOiBncm91cEJvdW5kcy5oZWlnaHQoKSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogYW5pbWF0aW9uUGFyYW1ldGVycy5oZWlnaHQsIGNoYW5nZWRYID0gKFwibmVnYXRpdmVcIiA9PT0gb3JpZW50ID8gZ3JvdXBXaWR0aCA6IDApICsgb2Zmc2V0LCBjaGFuZ2VkWSA9IChcIm5lZ2F0aXZlXCIgPT09IG9yaWVudCA/IGdyb3VwSGVpZ2h0IDogMCkgKyBvZmZzZXQsIHBvaW50ID0gaXNGdW5jdGlvbihwb2ludE9wdCkgPyBwb2ludE9wdC5jYWxsKG51bGwsIGVsZW1lbnQuZ2V0RGF0dW0oKSwgZWxlbWVudCwgYW5pbWF0aW9uUGFyYW1ldGVycykgOiBwb2ludE9wdCwgZnJvbVggPSBwb2ludCAmJiBpc1ZhbGlkTnVtYmVyKHBvaW50LngpID8gcG9pbnQueCA6IGNoYW5nZWRYLCBmcm9tWSA9IHBvaW50ICYmIGlzVmFsaWROdW1iZXIocG9pbnQueSkgPyBwb2ludC55IDogY2hhbmdlZFk7XG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiLCAhMClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IGZyb21YXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHk6IGZyb21ZXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgeDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiLCAhMCksXG4gICAgICAgICAgICAgICAgeTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHg6IGZyb21YLFxuICAgICAgICAgICAgICAgIHk6IGZyb21ZXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vdmUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/move.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/rotate.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/rotate.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rotateIn: () => (/* binding */ rotateIn),\n/* harmony export */   rotateOut: () => (/* binding */ rotateOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/number.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst rotateIn = (element, options, animationParameters) => {\n    var _a;\n    const attributeAngle = null !== (_a = element.getFinalAnimationAttribute(\"angle\")) && void 0 !== _a ? _a : 0;\n    let angle = 0;\n    return angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.isNumberClose)(attributeAngle / (2 * Math.PI), 0) ? Math.round(attributeAngle / (2 * Math.PI)) * Math.PI * 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null == options ? void 0 : options.angle) ? options.angle : \"anticlockwise\" === (null == options ? void 0 : options.orient) ? Math.ceil(attributeAngle / (2 * Math.PI)) * Math.PI * 2 : Math.floor(attributeAngle / (2 * Math.PI)) * Math.PI * 2, \n    {\n        from: {\n            angle: angle\n        },\n        to: {\n            angle: attributeAngle\n        }\n    };\n};\n\nconst rotateOut = (element, options, animationParameters) => {\n    var _a;\n    const finalAngle = null !== (_a = element.getGraphicAttribute(\"angle\", !0)) && void 0 !== _a ? _a : 0;\n    let angle = 0;\n    return angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.isNumberClose)(finalAngle / (2 * Math.PI), 0) ? Math.round(finalAngle / (2 * Math.PI)) * Math.PI * 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null == options ? void 0 : options.angle) ? options.angle : \"anticlockwise\" === (null == options ? void 0 : options.orient) ? Math.ceil(finalAngle / (2 * Math.PI)) * Math.PI * 2 : Math.floor(finalAngle / (2 * Math.PI)) * Math.PI * 2, \n    {\n        from: {\n            angle: finalAngle\n        },\n        to: {\n            angle: angle\n        }\n    };\n};\n//# sourceMappingURL=rotate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9yb3RhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnRTs7QUFFekQ7QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQWEsaUdBQWlHLDREQUFhO0FBQzlJO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtEQUFhLHlGQUF5Riw0REFBYTtBQUN0STtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vcm90YXRlLmpzP2Q3YzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOdW1iZXJDbG9zZSwgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCByb3RhdGVJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGF0dHJpYnV0ZUFuZ2xlID0gbnVsbCAhPT0gKF9hID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcImFuZ2xlXCIpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwO1xuICAgIGxldCBhbmdsZSA9IDA7XG4gICAgcmV0dXJuIGFuZ2xlID0gaXNOdW1iZXJDbG9zZShhdHRyaWJ1dGVBbmdsZSAvICgyICogTWF0aC5QSSksIDApID8gTWF0aC5yb3VuZChhdHRyaWJ1dGVBbmdsZSAvICgyICogTWF0aC5QSSkpICogTWF0aC5QSSAqIDIgOiBpc1ZhbGlkTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMuYW5nbGUpID8gb3B0aW9ucy5hbmdsZSA6IFwiYW50aWNsb2Nrd2lzZVwiID09PSAobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vcmllbnQpID8gTWF0aC5jZWlsKGF0dHJpYnV0ZUFuZ2xlIC8gKDIgKiBNYXRoLlBJKSkgKiBNYXRoLlBJICogMiA6IE1hdGguZmxvb3IoYXR0cmlidXRlQW5nbGUgLyAoMiAqIE1hdGguUEkpKSAqIE1hdGguUEkgKiAyLCBcbiAgICB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIGFuZ2xlOiBhbmdsZVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgYW5nbGU6IGF0dHJpYnV0ZUFuZ2xlXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHJvdGF0ZU91dCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGZpbmFsQW5nbGUgPSBudWxsICE9PSAoX2EgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJhbmdsZVwiLCAhMCkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDA7XG4gICAgbGV0IGFuZ2xlID0gMDtcbiAgICByZXR1cm4gYW5nbGUgPSBpc051bWJlckNsb3NlKGZpbmFsQW5nbGUgLyAoMiAqIE1hdGguUEkpLCAwKSA/IE1hdGgucm91bmQoZmluYWxBbmdsZSAvICgyICogTWF0aC5QSSkpICogTWF0aC5QSSAqIDIgOiBpc1ZhbGlkTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMuYW5nbGUpID8gb3B0aW9ucy5hbmdsZSA6IFwiYW50aWNsb2Nrd2lzZVwiID09PSAobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vcmllbnQpID8gTWF0aC5jZWlsKGZpbmFsQW5nbGUgLyAoMiAqIE1hdGguUEkpKSAqIE1hdGguUEkgKiAyIDogTWF0aC5mbG9vcihmaW5hbEFuZ2xlIC8gKDIgKiBNYXRoLlBJKSkgKiBNYXRoLlBJICogMiwgXG4gICAge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBhbmdsZTogZmluYWxBbmdsZVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgYW5nbGU6IGFuZ2xlXG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdGF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/rotate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/scale.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/scale.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   scaleIn: () => (/* binding */ scaleIn),\n/* harmony export */   scaleOut: () => (/* binding */ scaleOut)\n/* harmony export */ });\nconst scaleIn = (element, options, animationParameters) => {\n    var _a, _b, _c, _d;\n    const attrs = element.getFinalAnimationAttributes();\n    switch (null == options ? void 0 : options.direction) {\n      case \"x\":\n        return {\n            from: {\n                scaleX: 0\n            },\n            to: {\n                scaleX: null !== (_a = null == attrs ? void 0 : attrs.scaleX) && void 0 !== _a ? _a : 1\n            }\n        };\n\n      case \"y\":\n        return {\n            from: {\n                scaleY: 0\n            },\n            to: {\n                scaleY: null !== (_b = null == attrs ? void 0 : attrs.scaleY) && void 0 !== _b ? _b : 1\n            }\n        };\n\n      default:\n        return {\n            from: {\n                scaleX: 0,\n                scaleY: 0\n            },\n            to: {\n                scaleX: null !== (_c = null == attrs ? void 0 : attrs.scaleX) && void 0 !== _c ? _c : 1,\n                scaleY: null !== (_d = null == attrs ? void 0 : attrs.scaleY) && void 0 !== _d ? _d : 1\n            }\n        };\n    }\n};\n\nconst scaleOut = (element, options, animationParameters) => {\n    var _a, _b, _c, _d;\n    switch (null == options ? void 0 : options.direction) {\n      case \"x\":\n        return {\n            from: {\n                scaleX: null !== (_a = element.getGraphicAttribute(\"scaleX\", !0)) && void 0 !== _a ? _a : 1\n            },\n            to: {\n                scaleX: 0\n            }\n        };\n\n      case \"y\":\n        return {\n            from: {\n                scaleY: null !== (_b = element.getGraphicAttribute(\"scaleY\", !0)) && void 0 !== _b ? _b : 1\n            },\n            to: {\n                scaleY: 0\n            }\n        };\n\n      default:\n        return {\n            from: {\n                scaleX: null !== (_c = element.getGraphicAttribute(\"scaleX\", !0)) && void 0 !== _c ? _c : 1,\n                scaleY: null !== (_d = element.getGraphicAttribute(\"scaleY\", !0)) && void 0 !== _d ? _d : 1\n            },\n            to: {\n                scaleX: 0,\n                scaleY: 0\n            }\n        };\n    }\n};\n//# sourceMappingURL=scale.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9zY2FsZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9zY2FsZS5qcz84N2ZmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzY2FsZUluID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlcygpO1xuICAgIHN3aXRjaCAobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5kaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6IG51bGwgIT09IChfYSA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5zY2FsZVgpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICBzY2FsZVk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHNjYWxlWTogbnVsbCAhPT0gKF9iID0gbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnNjYWxlWSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHNjYWxlWDogMCxcbiAgICAgICAgICAgICAgICBzY2FsZVk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHNjYWxlWDogbnVsbCAhPT0gKF9jID0gbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnNjYWxlWCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogMSxcbiAgICAgICAgICAgICAgICBzY2FsZVk6IG51bGwgIT09IChfZCA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5zY2FsZVkpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2NhbGVPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBzd2l0Y2ggKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMuZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIFwieFwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHNjYWxlWDogbnVsbCAhPT0gKF9hID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic2NhbGVYXCIsICEwKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVZOiBudWxsICE9PSAoX2IgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzY2FsZVlcIiwgITApKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICBzY2FsZVk6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6IG51bGwgIT09IChfYyA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInNjYWxlWFwiLCAhMCkpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IDEsXG4gICAgICAgICAgICAgICAgc2NhbGVZOiBudWxsICE9PSAoX2QgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzY2FsZVlcIiwgITApKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6IDAsXG4gICAgICAgICAgICAgICAgc2NhbGVZOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/update.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/update.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   update: () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isEqual.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nconst BUILT_IN_EXCLUDE_CHANNELS = {\n    symbol: [ \"_mo_hide_\", \"visible\" ]\n};\n\nconst update = (element, options, animationParameters) => {\n    const from = Object.assign({}, element.getPrevGraphicAttributes()), to = Object.assign({}, element.getNextGraphicAttributes());\n    let excludeChannels;\n    options && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(options.excludeChannels).forEach((key => {\n        delete from[key], delete to[key];\n    })), element.mark && element.mark.markType && (excludeChannels = BUILT_IN_EXCLUDE_CHANNELS[element.mark.markType]) && excludeChannels.forEach((key => {\n        delete from[key], delete to[key];\n    })), Object.keys(to).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.isEqual)(from[key], to[key]) && (delete from[key], delete to[key]);\n    }));\n    const final = element.getFinalGraphicAttributes();\n    return Object.keys(from).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(to[key]) && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(final[key]) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.isEqual)(from[key], final[key]) ? delete from[key] : to[key] = final[key]);\n    })), {\n        from: from,\n        to: to\n    };\n};\n//# sourceMappingURL=update.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi91cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5RDs7QUFFekQ7QUFDQTtBQUNBOztBQUVPO0FBQ1AsaUNBQWlDLDREQUE0RDtBQUM3RjtBQUNBLGVBQWUsdURBQUs7QUFDcEI7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsUUFBUSx5REFBTztBQUNmLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUSw0REFBSyxjQUFjLDREQUFLLGdCQUFnQix5REFBTztBQUN2RCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL3VwZGF0ZS5qcz9iNWQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5LCBpc05pbCwgaXNFcXVhbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmNvbnN0IEJVSUxUX0lOX0VYQ0xVREVfQ0hBTk5FTFMgPSB7XG4gICAgc3ltYm9sOiBbIFwiX21vX2hpZGVfXCIsIFwidmlzaWJsZVwiIF1cbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGUgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIGNvbnN0IGZyb20gPSBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50LmdldFByZXZHcmFwaGljQXR0cmlidXRlcygpKSwgdG8gPSBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50LmdldE5leHRHcmFwaGljQXR0cmlidXRlcygpKTtcbiAgICBsZXQgZXhjbHVkZUNoYW5uZWxzO1xuICAgIG9wdGlvbnMgJiYgYXJyYXkob3B0aW9ucy5leGNsdWRlQ2hhbm5lbHMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGRlbGV0ZSBmcm9tW2tleV0sIGRlbGV0ZSB0b1trZXldO1xuICAgIH0pKSwgZWxlbWVudC5tYXJrICYmIGVsZW1lbnQubWFyay5tYXJrVHlwZSAmJiAoZXhjbHVkZUNoYW5uZWxzID0gQlVJTFRfSU5fRVhDTFVERV9DSEFOTkVMU1tlbGVtZW50Lm1hcmsubWFya1R5cGVdKSAmJiBleGNsdWRlQ2hhbm5lbHMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgZGVsZXRlIGZyb21ba2V5XSwgZGVsZXRlIHRvW2tleV07XG4gICAgfSkpLCBPYmplY3Qua2V5cyh0bykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgaXNFcXVhbChmcm9tW2tleV0sIHRvW2tleV0pICYmIChkZWxldGUgZnJvbVtrZXldLCBkZWxldGUgdG9ba2V5XSk7XG4gICAgfSkpO1xuICAgIGNvbnN0IGZpbmFsID0gZWxlbWVudC5nZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKCk7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGZyb20pLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGlzTmlsKHRvW2tleV0pICYmIChpc05pbChmaW5hbFtrZXldKSB8fCBpc0VxdWFsKGZyb21ba2V5XSwgZmluYWxba2V5XSkgPyBkZWxldGUgZnJvbVtrZXldIDogdG9ba2V5XSA9IGZpbmFsW2tleV0pO1xuICAgIH0pKSwge1xuICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICB0bzogdG9cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/update.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animator.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animator.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Animator: () => (/* binding */ Animator)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/animate/animate.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/common/enums.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/animate/custom-animate.js\");\n/* harmony import */ var _attribute__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./attribute */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/attribute.js\");\n\n\n\n\n\n\n_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.Animate.mode |= _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.AnimateMode.SET_ATTR_IMMEDIATELY;\n\nlet GlobalAnimatorId = 0;\n\nconst isCustomAnimateCtor = custom => {\n    var _a;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(custom) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(custom.prototype)) return !1;\n    const prototype = null !== (_a = custom.prototype) && void 0 !== _a ? _a : {};\n    return prototype instanceof _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.ACustomAnimate || \"onBind\" in prototype && \"onStart\" in prototype && \"onEnd\" in prototype && \"onUpdate\" in prototype;\n};\n\nclass Animator {\n    constructor(element, unit, animationOptions) {\n        this.id = GlobalAnimatorId++, this.isAnimating = !1, this.runnings = [], this.element = element, \n        this.animationOptions = animationOptions, this.unit = unit;\n    }\n    callback(callbackFunction) {\n        return this.callbackFunction = callbackFunction, this;\n    }\n    animate(animationParameters, parameters) {\n        return this.isAnimating = !0, this.animateElement(animationParameters, parameters), \n        0 === this.runnings.length && this.animationEnd(), this;\n    }\n    stop(stopState = \"end\", invokeCallback = !0) {\n        return this.runnings.forEach((running => running.stop(stopState))), this.animationEnd(invokeCallback), \n        this;\n    }\n    pause() {\n        return this.runnings.forEach((running => running.pause())), this;\n    }\n    resume() {\n        return this.runnings.forEach((running => running.resume())), this;\n    }\n    startAt(startTime) {\n        return this.runnings.forEach((running => {\n            const initialDelay = this.unit.initialDelay;\n            running.startAt(initialDelay + startTime);\n        })), this;\n    }\n    getTotalAnimationTime() {\n        var _a;\n        const timeLineDuration = this.unit.initialDelay + this.unit.loopDuration * this.unit.loopCount;\n        return null !== (_a = this.unit.totalTime) && void 0 !== _a ? _a : timeLineDuration;\n    }\n    getEndAttributes() {\n        return this.runnings.reduce(((attributes, running) => Object.assign(attributes, running.getEndProps())), {});\n    }\n    animationEnd(invokeCallback = !0) {\n        var _a;\n        this.isAnimating = !1, this.runnings = null, invokeCallback && (null === (_a = this.callbackFunction) || void 0 === _a || _a.call(null));\n    }\n    animateElement(animationParameters, parameters) {\n        const graphicItem = this.element.getGraphicItem();\n        if (!graphicItem) return;\n        const graphicAnimate = graphicItem.animate();\n        this.runnings.push(graphicAnimate), graphicAnimate.startAt(this.unit.initialDelay), \n        graphicAnimate.wait(this.unit.loopDelay), this.unit.timeSlices.forEach((timeSlice => {\n            this.animateTimeSlice(graphicAnimate, timeSlice, animationParameters, parameters);\n        })), graphicAnimate.wait(this.unit.loopDelayAfter), graphicAnimate.loop(this.unit.loopCount - 1), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.unit.totalTime) && setTimeout((() => {\n            graphicAnimate && graphicAnimate.stop(\"end\");\n        }), this.unit.totalTime), graphicAnimate.onEnd((() => {\n            this.runnings = this.runnings.filter((running => running !== graphicAnimate)), 0 === this.runnings.length && this.animationEnd();\n        }));\n    }\n    animateTimeSlice(graphicAnimate, timeSlice, animationParameters, parameters) {\n        const delay = timeSlice.delay, delayAfter = timeSlice.delayAfter, duration = timeSlice.duration, effects = timeSlice.effects;\n        if (delay > 0 && graphicAnimate.wait(delay), effects.length < 0) graphicAnimate.wait(duration); else {\n            const customAnimates = effects.map(((effect, index) => {\n                var _a;\n                const attributes = null !== (_a = effect.type ? (0,_attribute__WEBPACK_IMPORTED_MODULE_4__.typeAnimationAttributes)(this.element, effect, animationParameters, parameters) : effect.channel ? (0,_attribute__WEBPACK_IMPORTED_MODULE_4__.channelAnimationAttributes)(this.element, effect, animationParameters, parameters) : void 0) && void 0 !== _a ? _a : {}, customOption = attributes.custom || (null == effect ? void 0 : effect.custom), customParametersOption = (null == attributes ? void 0 : attributes.customParameters) || (null == effect ? void 0 : effect.customParameters);\n                attributes.from && Object.keys(attributes.from).length && this.unit && this.animationOptions.timeline.controlOptions.immediatelyApply && \"component\" !== this.element.mark.markType && this.element.getGraphicItem().setAttributes(attributes.from);\n                const isCustomAnimate = isCustomAnimateCtor(customOption);\n                return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(customOption) && !isCustomAnimateCtor(customOption) ? new _attribute__WEBPACK_IMPORTED_MODULE_4__.CustomInterpolator(attributes.from, attributes.to, duration, effect.easing, {\n                    interpolator: customOption,\n                    element: this.element,\n                    parameters: customParametersOption\n                }) : isCustomAnimate ? new customOption(attributes.from, attributes.to, duration, effect.easing, customParametersOption) : attributes.to ? new _attribute__WEBPACK_IMPORTED_MODULE_4__.AttributeAnimate(attributes.from, attributes.to, duration, effect.easing) : void 0;\n            })).filter((animate => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(animate)));\n            1 === customAnimates.length ? graphicAnimate.play(customAnimates[0]) : customAnimates.length > 1 && graphicAnimate.play(new _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_5__.AnimateGroup(duration, customAnimates));\n        }\n        delayAfter > 0 && graphicAnimate.wait(delayAfter);\n    }\n}\n//# sourceMappingURL=animator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0Q7O0FBRW9DOztBQUU0Qjs7QUFFeEgsMkRBQU8sU0FBUywrREFBVzs7QUFFM0I7O0FBRUE7QUFDQTtBQUNBLFFBQVEsNERBQUssWUFBWSw0REFBSztBQUM5QjtBQUNBLGdDQUFnQyxrRUFBYztBQUM5Qzs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUhBQW1IO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDREQUFhO0FBQ3JCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdHQUF3RztBQUN4RztBQUNBO0FBQ0EsZ0VBQWdFLG1FQUF1QiwyRUFBMkUsc0VBQTBCLDRGQUE0RjtBQUN4UjtBQUNBO0FBQ0Esd0JBQXdCLDREQUFLLDJEQUEyRCwwREFBa0I7QUFDMUc7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhJQUE4SSx3REFBZ0I7QUFDL0ssYUFBYSx1QkFBdUIsNERBQUs7QUFDekMsd0lBQXdJLGdFQUFZO0FBQ3BKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdG9yLmpzP2E5ZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzVmFsaWROdW1iZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBBQ3VzdG9tQW5pbWF0ZSwgQW5pbWF0ZSwgQW5pbWF0ZUdyb3VwLCBBbmltYXRlTW9kZSB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmltcG9ydCB7IEF0dHJpYnV0ZUFuaW1hdGUsIGNoYW5uZWxBbmltYXRpb25BdHRyaWJ1dGVzLCBDdXN0b21JbnRlcnBvbGF0b3IsIHR5cGVBbmltYXRpb25BdHRyaWJ1dGVzIH0gZnJvbSBcIi4vYXR0cmlidXRlXCI7XG5cbkFuaW1hdGUubW9kZSB8PSBBbmltYXRlTW9kZS5TRVRfQVRUUl9JTU1FRElBVEVMWTtcblxubGV0IEdsb2JhbEFuaW1hdG9ySWQgPSAwO1xuXG5jb25zdCBpc0N1c3RvbUFuaW1hdGVDdG9yID0gY3VzdG9tID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGlzTmlsKGN1c3RvbSkgfHwgaXNOaWwoY3VzdG9tLnByb3RvdHlwZSkpIHJldHVybiAhMTtcbiAgICBjb25zdCBwcm90b3R5cGUgPSBudWxsICE9PSAoX2EgPSBjdXN0b20ucHJvdG90eXBlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fTtcbiAgICByZXR1cm4gcHJvdG90eXBlIGluc3RhbmNlb2YgQUN1c3RvbUFuaW1hdGUgfHwgXCJvbkJpbmRcIiBpbiBwcm90b3R5cGUgJiYgXCJvblN0YXJ0XCIgaW4gcHJvdG90eXBlICYmIFwib25FbmRcIiBpbiBwcm90b3R5cGUgJiYgXCJvblVwZGF0ZVwiIGluIHByb3RvdHlwZTtcbn07XG5cbmV4cG9ydCBjbGFzcyBBbmltYXRvciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgdW5pdCwgYW5pbWF0aW9uT3B0aW9ucykge1xuICAgICAgICB0aGlzLmlkID0gR2xvYmFsQW5pbWF0b3JJZCsrLCB0aGlzLmlzQW5pbWF0aW5nID0gITEsIHRoaXMucnVubmluZ3MgPSBbXSwgdGhpcy5lbGVtZW50ID0gZWxlbWVudCwgXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uT3B0aW9ucyA9IGFuaW1hdGlvbk9wdGlvbnMsIHRoaXMudW5pdCA9IHVuaXQ7XG4gICAgfVxuICAgIGNhbGxiYWNrKGNhbGxiYWNrRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tGdW5jdGlvbiA9IGNhbGxiYWNrRnVuY3Rpb24sIHRoaXM7XG4gICAgfVxuICAgIGFuaW1hdGUoYW5pbWF0aW9uUGFyYW1ldGVycywgcGFyYW1ldGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0FuaW1hdGluZyA9ICEwLCB0aGlzLmFuaW1hdGVFbGVtZW50KGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpLCBcbiAgICAgICAgMCA9PT0gdGhpcy5ydW5uaW5ncy5sZW5ndGggJiYgdGhpcy5hbmltYXRpb25FbmQoKSwgdGhpcztcbiAgICB9XG4gICAgc3RvcChzdG9wU3RhdGUgPSBcImVuZFwiLCBpbnZva2VDYWxsYmFjayA9ICEwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmdzLmZvckVhY2goKHJ1bm5pbmcgPT4gcnVubmluZy5zdG9wKHN0b3BTdGF0ZSkpKSwgdGhpcy5hbmltYXRpb25FbmQoaW52b2tlQ2FsbGJhY2spLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmdzLmZvckVhY2goKHJ1bm5pbmcgPT4gcnVubmluZy5wYXVzZSgpKSksIHRoaXM7XG4gICAgfVxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVubmluZ3MuZm9yRWFjaCgocnVubmluZyA9PiBydW5uaW5nLnJlc3VtZSgpKSksIHRoaXM7XG4gICAgfVxuICAgIHN0YXJ0QXQoc3RhcnRUaW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmdzLmZvckVhY2goKHJ1bm5pbmcgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5pdGlhbERlbGF5ID0gdGhpcy51bml0LmluaXRpYWxEZWxheTtcbiAgICAgICAgICAgIHJ1bm5pbmcuc3RhcnRBdChpbml0aWFsRGVsYXkgKyBzdGFydFRpbWUpO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIGdldFRvdGFsQW5pbWF0aW9uVGltZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB0aW1lTGluZUR1cmF0aW9uID0gdGhpcy51bml0LmluaXRpYWxEZWxheSArIHRoaXMudW5pdC5sb29wRHVyYXRpb24gKiB0aGlzLnVuaXQubG9vcENvdW50O1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy51bml0LnRvdGFsVGltZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogdGltZUxpbmVEdXJhdGlvbjtcbiAgICB9XG4gICAgZ2V0RW5kQXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVubmluZ3MucmVkdWNlKCgoYXR0cmlidXRlcywgcnVubmluZykgPT4gT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLCBydW5uaW5nLmdldEVuZFByb3BzKCkpKSwge30pO1xuICAgIH1cbiAgICBhbmltYXRpb25FbmQoaW52b2tlQ2FsbGJhY2sgPSAhMCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSAhMSwgdGhpcy5ydW5uaW5ncyA9IG51bGwsIGludm9rZUNhbGxiYWNrICYmIChudWxsID09PSAoX2EgPSB0aGlzLmNhbGxiYWNrRnVuY3Rpb24pIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2EuY2FsbChudWxsKSk7XG4gICAgfVxuICAgIGFuaW1hdGVFbGVtZW50KGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSB0aGlzLmVsZW1lbnQuZ2V0R3JhcGhpY0l0ZW0oKTtcbiAgICAgICAgaWYgKCFncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBncmFwaGljQW5pbWF0ZSA9IGdyYXBoaWNJdGVtLmFuaW1hdGUoKTtcbiAgICAgICAgdGhpcy5ydW5uaW5ncy5wdXNoKGdyYXBoaWNBbmltYXRlKSwgZ3JhcGhpY0FuaW1hdGUuc3RhcnRBdCh0aGlzLnVuaXQuaW5pdGlhbERlbGF5KSwgXG4gICAgICAgIGdyYXBoaWNBbmltYXRlLndhaXQodGhpcy51bml0Lmxvb3BEZWxheSksIHRoaXMudW5pdC50aW1lU2xpY2VzLmZvckVhY2goKHRpbWVTbGljZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVUaW1lU2xpY2UoZ3JhcGhpY0FuaW1hdGUsIHRpbWVTbGljZSwgYW5pbWF0aW9uUGFyYW1ldGVycywgcGFyYW1ldGVycyk7XG4gICAgICAgIH0pKSwgZ3JhcGhpY0FuaW1hdGUud2FpdCh0aGlzLnVuaXQubG9vcERlbGF5QWZ0ZXIpLCBncmFwaGljQW5pbWF0ZS5sb29wKHRoaXMudW5pdC5sb29wQ291bnQgLSAxKSwgXG4gICAgICAgIGlzVmFsaWROdW1iZXIodGhpcy51bml0LnRvdGFsVGltZSkgJiYgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGhpY0FuaW1hdGUgJiYgZ3JhcGhpY0FuaW1hdGUuc3RvcChcImVuZFwiKTtcbiAgICAgICAgfSksIHRoaXMudW5pdC50b3RhbFRpbWUpLCBncmFwaGljQW5pbWF0ZS5vbkVuZCgoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5ncyA9IHRoaXMucnVubmluZ3MuZmlsdGVyKChydW5uaW5nID0+IHJ1bm5pbmcgIT09IGdyYXBoaWNBbmltYXRlKSksIDAgPT09IHRoaXMucnVubmluZ3MubGVuZ3RoICYmIHRoaXMuYW5pbWF0aW9uRW5kKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYW5pbWF0ZVRpbWVTbGljZShncmFwaGljQW5pbWF0ZSwgdGltZVNsaWNlLCBhbmltYXRpb25QYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdGltZVNsaWNlLmRlbGF5LCBkZWxheUFmdGVyID0gdGltZVNsaWNlLmRlbGF5QWZ0ZXIsIGR1cmF0aW9uID0gdGltZVNsaWNlLmR1cmF0aW9uLCBlZmZlY3RzID0gdGltZVNsaWNlLmVmZmVjdHM7XG4gICAgICAgIGlmIChkZWxheSA+IDAgJiYgZ3JhcGhpY0FuaW1hdGUud2FpdChkZWxheSksIGVmZmVjdHMubGVuZ3RoIDwgMCkgZ3JhcGhpY0FuaW1hdGUud2FpdChkdXJhdGlvbik7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tQW5pbWF0ZXMgPSBlZmZlY3RzLm1hcCgoKGVmZmVjdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IG51bGwgIT09IChfYSA9IGVmZmVjdC50eXBlID8gdHlwZUFuaW1hdGlvbkF0dHJpYnV0ZXModGhpcy5lbGVtZW50LCBlZmZlY3QsIGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpIDogZWZmZWN0LmNoYW5uZWwgPyBjaGFubmVsQW5pbWF0aW9uQXR0cmlidXRlcyh0aGlzLmVsZW1lbnQsIGVmZmVjdCwgYW5pbWF0aW9uUGFyYW1ldGVycywgcGFyYW1ldGVycykgOiB2b2lkIDApICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9LCBjdXN0b21PcHRpb24gPSBhdHRyaWJ1dGVzLmN1c3RvbSB8fCAobnVsbCA9PSBlZmZlY3QgPyB2b2lkIDAgOiBlZmZlY3QuY3VzdG9tKSwgY3VzdG9tUGFyYW1ldGVyc09wdGlvbiA9IChudWxsID09IGF0dHJpYnV0ZXMgPyB2b2lkIDAgOiBhdHRyaWJ1dGVzLmN1c3RvbVBhcmFtZXRlcnMpIHx8IChudWxsID09IGVmZmVjdCA/IHZvaWQgMCA6IGVmZmVjdC5jdXN0b21QYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLmZyb20gJiYgT2JqZWN0LmtleXMoYXR0cmlidXRlcy5mcm9tKS5sZW5ndGggJiYgdGhpcy51bml0ICYmIHRoaXMuYW5pbWF0aW9uT3B0aW9ucy50aW1lbGluZS5jb250cm9sT3B0aW9ucy5pbW1lZGlhdGVseUFwcGx5ICYmIFwiY29tcG9uZW50XCIgIT09IHRoaXMuZWxlbWVudC5tYXJrLm1hcmtUeXBlICYmIHRoaXMuZWxlbWVudC5nZXRHcmFwaGljSXRlbSgpLnNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcy5mcm9tKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0N1c3RvbUFuaW1hdGUgPSBpc0N1c3RvbUFuaW1hdGVDdG9yKGN1c3RvbU9wdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpc05pbChjdXN0b21PcHRpb24pICYmICFpc0N1c3RvbUFuaW1hdGVDdG9yKGN1c3RvbU9wdGlvbikgPyBuZXcgQ3VzdG9tSW50ZXJwb2xhdG9yKGF0dHJpYnV0ZXMuZnJvbSwgYXR0cmlidXRlcy50bywgZHVyYXRpb24sIGVmZmVjdC5lYXNpbmcsIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdG9yOiBjdXN0b21PcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogY3VzdG9tUGFyYW1ldGVyc09wdGlvblxuICAgICAgICAgICAgICAgIH0pIDogaXNDdXN0b21BbmltYXRlID8gbmV3IGN1c3RvbU9wdGlvbihhdHRyaWJ1dGVzLmZyb20sIGF0dHJpYnV0ZXMudG8sIGR1cmF0aW9uLCBlZmZlY3QuZWFzaW5nLCBjdXN0b21QYXJhbWV0ZXJzT3B0aW9uKSA6IGF0dHJpYnV0ZXMudG8gPyBuZXcgQXR0cmlidXRlQW5pbWF0ZShhdHRyaWJ1dGVzLmZyb20sIGF0dHJpYnV0ZXMudG8sIGR1cmF0aW9uLCBlZmZlY3QuZWFzaW5nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIH0pKS5maWx0ZXIoKGFuaW1hdGUgPT4gIWlzTmlsKGFuaW1hdGUpKSk7XG4gICAgICAgICAgICAxID09PSBjdXN0b21BbmltYXRlcy5sZW5ndGggPyBncmFwaGljQW5pbWF0ZS5wbGF5KGN1c3RvbUFuaW1hdGVzWzBdKSA6IGN1c3RvbUFuaW1hdGVzLmxlbmd0aCA+IDEgJiYgZ3JhcGhpY0FuaW1hdGUucGxheShuZXcgQW5pbWF0ZUdyb3VwKGR1cmF0aW9uLCBjdXN0b21BbmltYXRlcykpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGF5QWZ0ZXIgPiAwICYmIGdyYXBoaWNBbmltYXRlLndhaXQoZGVsYXlBZnRlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0b3IuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/arranger.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/arranger.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arranger: () => (/* binding */ Arranger)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nclass Arranger {\n    constructor(animators) {\n        this.parallelArrangers = [ this ], this.totalTime = 0, this.startTime = 0, this.endTime = 0, \n        this.animators = animators.filter((animator => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(animator))), this.totalTime = this.animators.reduce(((time, animator) => Math.max(time, animator.getTotalAnimationTime())), 0);\n    }\n    parallel(arranger) {\n        const parallelArrangers = Array.from(new Set(this.parallelArrangers.concat(arranger.parallelArrangers)));\n        return parallelArrangers.forEach((arranger => {\n            arranger.parallelArrangers = parallelArrangers;\n        })), this.arrangeTime(), this;\n    }\n    after(arranger) {\n        return this.afterArranger = arranger, this.arrangeTime(), this;\n    }\n    arrangeTime() {\n        const parallelTime = this.parallelArrangers.reduce(((time, arranger) => Math.max(time, arranger.totalTime)), this.totalTime), startTime = this.parallelArrangers.reduce(((time, arranger) => {\n            var _a, _b;\n            return Math.max(time, null !== (_b = null === (_a = arranger.afterArranger) || void 0 === _a ? void 0 : _a.endTime) && void 0 !== _b ? _b : 0);\n        }), 0);\n        this.parallelArrangers.forEach((arranger => {\n            arranger.startTime = startTime, arranger.endTime = startTime + parallelTime, arranger.animators.forEach((animator => {\n                animator.startAt(startTime);\n            }));\n        }));\n    }\n}\n//# sourceMappingURL=arranger.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FycmFuZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDOztBQUVsQztBQUNQO0FBQ0E7QUFDQSx3REFBd0QsNERBQUs7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hcnJhbmdlci5qcz84MDgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEFycmFuZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihhbmltYXRvcnMpIHtcbiAgICAgICAgdGhpcy5wYXJhbGxlbEFycmFuZ2VycyA9IFsgdGhpcyBdLCB0aGlzLnRvdGFsVGltZSA9IDAsIHRoaXMuc3RhcnRUaW1lID0gMCwgdGhpcy5lbmRUaW1lID0gMCwgXG4gICAgICAgIHRoaXMuYW5pbWF0b3JzID0gYW5pbWF0b3JzLmZpbHRlcigoYW5pbWF0b3IgPT4gIWlzTmlsKGFuaW1hdG9yKSkpLCB0aGlzLnRvdGFsVGltZSA9IHRoaXMuYW5pbWF0b3JzLnJlZHVjZSgoKHRpbWUsIGFuaW1hdG9yKSA9PiBNYXRoLm1heCh0aW1lLCBhbmltYXRvci5nZXRUb3RhbEFuaW1hdGlvblRpbWUoKSkpLCAwKTtcbiAgICB9XG4gICAgcGFyYWxsZWwoYXJyYW5nZXIpIHtcbiAgICAgICAgY29uc3QgcGFyYWxsZWxBcnJhbmdlcnMgPSBBcnJheS5mcm9tKG5ldyBTZXQodGhpcy5wYXJhbGxlbEFycmFuZ2Vycy5jb25jYXQoYXJyYW5nZXIucGFyYWxsZWxBcnJhbmdlcnMpKSk7XG4gICAgICAgIHJldHVybiBwYXJhbGxlbEFycmFuZ2Vycy5mb3JFYWNoKChhcnJhbmdlciA9PiB7XG4gICAgICAgICAgICBhcnJhbmdlci5wYXJhbGxlbEFycmFuZ2VycyA9IHBhcmFsbGVsQXJyYW5nZXJzO1xuICAgICAgICB9KSksIHRoaXMuYXJyYW5nZVRpbWUoKSwgdGhpcztcbiAgICB9XG4gICAgYWZ0ZXIoYXJyYW5nZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWZ0ZXJBcnJhbmdlciA9IGFycmFuZ2VyLCB0aGlzLmFycmFuZ2VUaW1lKCksIHRoaXM7XG4gICAgfVxuICAgIGFycmFuZ2VUaW1lKCkge1xuICAgICAgICBjb25zdCBwYXJhbGxlbFRpbWUgPSB0aGlzLnBhcmFsbGVsQXJyYW5nZXJzLnJlZHVjZSgoKHRpbWUsIGFycmFuZ2VyKSA9PiBNYXRoLm1heCh0aW1lLCBhcnJhbmdlci50b3RhbFRpbWUpKSwgdGhpcy50b3RhbFRpbWUpLCBzdGFydFRpbWUgPSB0aGlzLnBhcmFsbGVsQXJyYW5nZXJzLnJlZHVjZSgoKHRpbWUsIGFycmFuZ2VyKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRpbWUsIG51bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IGFycmFuZ2VyLmFmdGVyQXJyYW5nZXIpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5lbmRUaW1lKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAwKTtcbiAgICAgICAgfSksIDApO1xuICAgICAgICB0aGlzLnBhcmFsbGVsQXJyYW5nZXJzLmZvckVhY2goKGFycmFuZ2VyID0+IHtcbiAgICAgICAgICAgIGFycmFuZ2VyLnN0YXJ0VGltZSA9IHN0YXJ0VGltZSwgYXJyYW5nZXIuZW5kVGltZSA9IHN0YXJ0VGltZSArIHBhcmFsbGVsVGltZSwgYXJyYW5nZXIuYW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9yID0+IHtcbiAgICAgICAgICAgICAgICBhbmltYXRvci5zdGFydEF0KHN0YXJ0VGltZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJhbmdlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/arranger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/attribute.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/attribute.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AttributeAnimate: () => (/* binding */ AttributeAnimate),\n/* harmony export */   CustomInterpolator: () => (/* binding */ CustomInterpolator),\n/* harmony export */   channelAnimationAttributes: () => (/* binding */ channelAnimationAttributes),\n/* harmony export */   typeAnimationAttributes: () => (/* binding */ typeAnimationAttributes)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/animate/animate.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/graphic.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/common/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _attributes_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributes/helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\nconst transformAnimationAttributes = (attributes, element) => {\n    if (!attributes) return null;\n    if (attributes.from) {\n        const from = attributes.from, fromKeys = Object.keys(from);\n        fromKeys.forEach((channel => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(from[channel]) && delete from[channel];\n        }));\n        const computePoints = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_1__.isValidPointsChannel)(fromKeys, element.mark.markType) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(from.segments);\n        if (computePoints) {\n            const items = element.items.map((item => Object.assign({}, item, {\n                nextAttrs: Object.assign({}, from)\n            })));\n            attributes.from = element.transformElementItems(items, element.mark.markType, computePoints);\n        }\n    }\n    if (attributes.to) {\n        const to = attributes.to, toKeys = Object.keys(to);\n        toKeys.forEach((channel => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(to[channel]) && delete to[channel];\n        }));\n        const computePoints = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_1__.isValidPointsChannel)(toKeys, element.mark.markType) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(to.segments);\n        if (computePoints) {\n            const items = element.items.map((item => Object.assign({}, item, {\n                nextAttrs: Object.assign({}, to)\n            })));\n            attributes.to = element.transformElementItems(items, element.mark.markType, computePoints);\n        }\n    }\n    return attributes;\n};\n\nfunction typeAnimationAttributes(element, effect, animationParameters, parameters) {\n    const options = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(effect.options) ? effect.options.call(null, element.getDatum(), element, parameters) : effect.options;\n    if (!effect.type || !_core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.getAnimationType(effect.type)) return null;\n    const attributes = _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.getAnimationType(effect.type)(element, options, animationParameters);\n    return transformAnimationAttributes(attributes, element);\n}\n\nconst parseChannelValue = (element, channel, channelValue, animationParameters, parameters) => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(channelValue) ? channelValue(element.getDatum(), element, parameters) : channelValue;\n\nfunction channelAnimationAttributes(element, effect, animationParameters, parameters) {\n    const channel = effect.channel;\n    let attributes = null;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(channel) ? attributes = channel.reduce(((res, key) => (res.from[key] = element.getGraphicAttribute(key, !0), \n    res.to[key] = element.getGraphicAttribute(key, !1), res)), {\n        from: {},\n        to: {}\n    }) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(channel) && (attributes = Object.keys(channel).reduce(((res, key) => {\n        var _a, _b;\n        const hasFrom = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null === (_a = channel[key]) || void 0 === _a ? void 0 : _a.from), hasTo = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null === (_b = channel[key]) || void 0 === _b ? void 0 : _b.to);\n        return (hasFrom || hasTo) && (res.from[key] = hasFrom ? parseChannelValue(element, 0, channel[key].from, 0, parameters) : void 0, \n        res.to[key] = hasTo ? parseChannelValue(element, 0, channel[key].to, 0, parameters) : element.getGraphicAttribute(key, !1)), \n        res;\n    }), {\n        from: {},\n        to: {}\n    })), transformAnimationAttributes(attributes, element);\n}\n\nclass CustomInterpolator extends _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.ACustomAnimate {\n    constructor(from, to, duration, easing, params) {\n        super(from, to, duration, easing, params), this._interpolator = null == params ? void 0 : params.interpolator, \n        this._element = null == params ? void 0 : params.element;\n    }\n    onBind() {\n        var _a, _b;\n        this.from = null !== (_a = this.from) && void 0 !== _a ? _a : {}, this.to = null !== (_b = this.to) && void 0 !== _b ? _b : {};\n    }\n    getEndProps() {\n        return this.to;\n    }\n    onUpdate(end, ratio, out) {\n        this._interpolator && this._element && this._interpolator.call(this, ratio, this.from, this.to, out, this._element.getDatum(), this._element, this.params.parameters);\n    }\n}\n\nclass AttributeAnimate extends _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.ACustomAnimate {\n    getEndProps() {\n        return this.to;\n    }\n    onBind() {\n        var _a;\n        const excludedChannelMap = null !== (_a = this.target.constructor.NOWORK_ANIMATE_ATTR) && void 0 !== _a ? _a : _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_8__.NOWORK_ANIMATE_ATTR, excludedChannels = Object.keys(excludedChannelMap).filter((channel => 0 !== excludedChannelMap[channel]));\n        this.subAnimate.animate.preventAttrs(excludedChannels);\n        const from = Object.assign({}, this.from), to = Object.assign({}, this.to), animatedChannels = [];\n        Object.keys(to).forEach((k => {\n            excludedChannels.includes(k) ? (from[k] = to[k], this.from[k] = to[k]) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(from[k]) ? from[k] = this.target.getComputedAttribute(k) : animatedChannels.push(k);\n        })), this.target.animates.forEach((a => {\n            a !== this.subAnimate.animate && a.preventAttrs(animatedChannels);\n        })), this._fromAttribute = from, this._toAttribute = to;\n    }\n    onStart() {\n        if (this._fromAttribute) {\n            const from = {};\n            Object.keys(this._fromAttribute).forEach((key => {\n                this.subAnimate.animate.validAttr(key) && (from[key] = this._fromAttribute[key]);\n            })), this.target.setAttributes(from, !1, {\n                type: _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__.AttributeUpdateType.ANIMATE_UPDATE,\n                animationState: {\n                    ratio: 0,\n                    end: !1\n                }\n            });\n        }\n    }\n    onEnd() {\n        if (this._toAttribute) {\n            const out = {};\n            Object.keys(this._toAttribute).forEach((key => {\n                this.subAnimate.animate.validAttr(key) && (out[key] = this._toAttribute[key]);\n            })), this.target.setAttributes(out, !1, {\n                type: _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__.AttributeUpdateType.ANIMATE_END\n            });\n        }\n    }\n    update(end, ratio, out) {\n        0 === this.updateCount && this.onFirstRun(), this.updateCount += 1;\n        const lastProps = this.step.getLastProps();\n        Object.keys(lastProps).forEach((key => {\n            this.subAnimate.animate.validAttr(key) && (out[key] = lastProps[key]);\n        })), this.onUpdate(end, ratio, out), end && this.onEnd();\n    }\n    onUpdate(end, ratio, out) {\n        this.target.stepInterpolate(this.subAnimate, this.subAnimate.animate, out, this.step, ratio, end, this._toAttribute, this._fromAttribute);\n    }\n}\n//# sourceMappingURL=attribute.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2F0dHJpYnV0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFrRzs7QUFFakI7O0FBRXBCOztBQUVoQjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQUs7QUFDakIsU0FBUztBQUNULDhCQUE4Qix5RUFBb0Isc0NBQXNDLDREQUFPO0FBQy9GO0FBQ0EscUVBQXFFO0FBQ3JFLDJDQUEyQztBQUMzQyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBSztBQUNqQixTQUFTO0FBQ1QsOEJBQThCLHlFQUFvQixvQ0FBb0MsNERBQU87QUFDN0Y7QUFDQSxxRUFBcUU7QUFDckUsMkNBQTJDO0FBQzNDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1Asb0JBQW9CLDREQUFVO0FBQzlCLHlCQUF5QixrREFBTztBQUNoQyx1QkFBdUIsa0RBQU87QUFDOUI7QUFDQTs7QUFFQSwrRkFBK0YsNERBQVU7O0FBRWxHO0FBQ1A7QUFDQTtBQUNBLFdBQVcsNERBQU87QUFDbEI7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxLQUFLLElBQUksNERBQVE7QUFDakI7QUFDQSx5QkFBeUIsNERBQUssNkVBQTZFLDREQUFLO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnQkFBZ0I7QUFDaEI7QUFDQSxLQUFLO0FBQ0w7O0FBRU8saUNBQWlDLGtFQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPLCtCQUErQixrRUFBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUhBQXVILHVFQUFtQjtBQUMxSTtBQUNBLHFDQUFxQyxtQ0FBbUM7QUFDeEU7QUFDQSxxRkFBcUYsNERBQUs7QUFDMUYsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixzQkFBc0IsdUVBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHNCQUFzQix1RUFBbUI7QUFDekMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYXR0cmlidXRlLmpzP2QxNDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQUN1c3RvbUFuaW1hdGUsIEF0dHJpYnV0ZVVwZGF0ZVR5cGUsIE5PV09SS19BTklNQVRFX0FUVFIgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29yZVwiO1xuXG5pbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNPYmplY3QsIGlzVmFsaWQgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBpc1ZhbGlkUG9pbnRzQ2hhbm5lbCB9IGZyb20gXCIuLi9hdHRyaWJ1dGVzL2hlbHBlcnNcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi8uLi9jb3JlL2ZhY3RvcnlcIjtcblxuY29uc3QgdHJhbnNmb3JtQW5pbWF0aW9uQXR0cmlidXRlcyA9IChhdHRyaWJ1dGVzLCBlbGVtZW50KSA9PiB7XG4gICAgaWYgKCFhdHRyaWJ1dGVzKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoYXR0cmlidXRlcy5mcm9tKSB7XG4gICAgICAgIGNvbnN0IGZyb20gPSBhdHRyaWJ1dGVzLmZyb20sIGZyb21LZXlzID0gT2JqZWN0LmtleXMoZnJvbSk7XG4gICAgICAgIGZyb21LZXlzLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICAgICAgaXNOaWwoZnJvbVtjaGFubmVsXSkgJiYgZGVsZXRlIGZyb21bY2hhbm5lbF07XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgY29tcHV0ZVBvaW50cyA9IGlzVmFsaWRQb2ludHNDaGFubmVsKGZyb21LZXlzLCBlbGVtZW50Lm1hcmsubWFya1R5cGUpICYmICFpc1ZhbGlkKGZyb20uc2VnbWVudHMpO1xuICAgICAgICBpZiAoY29tcHV0ZVBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBlbGVtZW50Lml0ZW1zLm1hcCgoaXRlbSA9PiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICAgICAgbmV4dEF0dHJzOiBPYmplY3QuYXNzaWduKHt9LCBmcm9tKVxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuZnJvbSA9IGVsZW1lbnQudHJhbnNmb3JtRWxlbWVudEl0ZW1zKGl0ZW1zLCBlbGVtZW50Lm1hcmsubWFya1R5cGUsIGNvbXB1dGVQb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGVzLnRvKSB7XG4gICAgICAgIGNvbnN0IHRvID0gYXR0cmlidXRlcy50bywgdG9LZXlzID0gT2JqZWN0LmtleXModG8pO1xuICAgICAgICB0b0tleXMuZm9yRWFjaCgoY2hhbm5lbCA9PiB7XG4gICAgICAgICAgICBpc05pbCh0b1tjaGFubmVsXSkgJiYgZGVsZXRlIHRvW2NoYW5uZWxdO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVQb2ludHMgPSBpc1ZhbGlkUG9pbnRzQ2hhbm5lbCh0b0tleXMsIGVsZW1lbnQubWFyay5tYXJrVHlwZSkgJiYgIWlzVmFsaWQodG8uc2VnbWVudHMpO1xuICAgICAgICBpZiAoY29tcHV0ZVBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBlbGVtZW50Lml0ZW1zLm1hcCgoaXRlbSA9PiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICAgICAgbmV4dEF0dHJzOiBPYmplY3QuYXNzaWduKHt9LCB0bylcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnRvID0gZWxlbWVudC50cmFuc2Zvcm1FbGVtZW50SXRlbXMoaXRlbXMsIGVsZW1lbnQubWFyay5tYXJrVHlwZSwgY29tcHV0ZVBvaW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdHlwZUFuaW1hdGlvbkF0dHJpYnV0ZXMoZWxlbWVudCwgZWZmZWN0LCBhbmltYXRpb25QYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGlzRnVuY3Rpb24oZWZmZWN0Lm9wdGlvbnMpID8gZWZmZWN0Lm9wdGlvbnMuY2FsbChudWxsLCBlbGVtZW50LmdldERhdHVtKCksIGVsZW1lbnQsIHBhcmFtZXRlcnMpIDogZWZmZWN0Lm9wdGlvbnM7XG4gICAgaWYgKCFlZmZlY3QudHlwZSB8fCAhRmFjdG9yeS5nZXRBbmltYXRpb25UeXBlKGVmZmVjdC50eXBlKSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IEZhY3RvcnkuZ2V0QW5pbWF0aW9uVHlwZShlZmZlY3QudHlwZSkoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycyk7XG4gICAgcmV0dXJuIHRyYW5zZm9ybUFuaW1hdGlvbkF0dHJpYnV0ZXMoYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5cbmNvbnN0IHBhcnNlQ2hhbm5lbFZhbHVlID0gKGVsZW1lbnQsIGNoYW5uZWwsIGNoYW5uZWxWYWx1ZSwgYW5pbWF0aW9uUGFyYW1ldGVycywgcGFyYW1ldGVycykgPT4gaXNGdW5jdGlvbihjaGFubmVsVmFsdWUpID8gY2hhbm5lbFZhbHVlKGVsZW1lbnQuZ2V0RGF0dW0oKSwgZWxlbWVudCwgcGFyYW1ldGVycykgOiBjaGFubmVsVmFsdWU7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFubmVsQW5pbWF0aW9uQXR0cmlidXRlcyhlbGVtZW50LCBlZmZlY3QsIGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBjaGFubmVsID0gZWZmZWN0LmNoYW5uZWw7XG4gICAgbGV0IGF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIHJldHVybiBpc0FycmF5KGNoYW5uZWwpID8gYXR0cmlidXRlcyA9IGNoYW5uZWwucmVkdWNlKCgocmVzLCBrZXkpID0+IChyZXMuZnJvbVtrZXldID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKGtleSwgITApLCBcbiAgICByZXMudG9ba2V5XSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShrZXksICExKSwgcmVzKSksIHtcbiAgICAgICAgZnJvbToge30sXG4gICAgICAgIHRvOiB7fVxuICAgIH0pIDogaXNPYmplY3QoY2hhbm5lbCkgJiYgKGF0dHJpYnV0ZXMgPSBPYmplY3Qua2V5cyhjaGFubmVsKS5yZWR1Y2UoKChyZXMsIGtleSkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBoYXNGcm9tID0gIWlzTmlsKG51bGwgPT09IChfYSA9IGNoYW5uZWxba2V5XSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmZyb20pLCBoYXNUbyA9ICFpc05pbChudWxsID09PSAoX2IgPSBjaGFubmVsW2tleV0pIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi50byk7XG4gICAgICAgIHJldHVybiAoaGFzRnJvbSB8fCBoYXNUbykgJiYgKHJlcy5mcm9tW2tleV0gPSBoYXNGcm9tID8gcGFyc2VDaGFubmVsVmFsdWUoZWxlbWVudCwgMCwgY2hhbm5lbFtrZXldLmZyb20sIDAsIHBhcmFtZXRlcnMpIDogdm9pZCAwLCBcbiAgICAgICAgcmVzLnRvW2tleV0gPSBoYXNUbyA/IHBhcnNlQ2hhbm5lbFZhbHVlKGVsZW1lbnQsIDAsIGNoYW5uZWxba2V5XS50bywgMCwgcGFyYW1ldGVycykgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoa2V5LCAhMSkpLCBcbiAgICAgICAgcmVzO1xuICAgIH0pLCB7XG4gICAgICAgIGZyb206IHt9LFxuICAgICAgICB0bzoge31cbiAgICB9KSksIHRyYW5zZm9ybUFuaW1hdGlvbkF0dHJpYnV0ZXMoYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21JbnRlcnBvbGF0b3IgZXh0ZW5kcyBBQ3VzdG9tQW5pbWF0ZSB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIGR1cmF0aW9uLCBlYXNpbmcsIHBhcmFtcykge1xuICAgICAgICBzdXBlcihmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgcGFyYW1zKSwgdGhpcy5faW50ZXJwb2xhdG9yID0gbnVsbCA9PSBwYXJhbXMgPyB2b2lkIDAgOiBwYXJhbXMuaW50ZXJwb2xhdG9yLCBcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGwgPT0gcGFyYW1zID8gdm9pZCAwIDogcGFyYW1zLmVsZW1lbnQ7XG4gICAgfVxuICAgIG9uQmluZCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5mcm9tID0gbnVsbCAhPT0gKF9hID0gdGhpcy5mcm9tKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fSwgdGhpcy50byA9IG51bGwgIT09IChfYiA9IHRoaXMudG8pICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHt9O1xuICAgIH1cbiAgICBnZXRFbmRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG87XG4gICAgfVxuICAgIG9uVXBkYXRlKGVuZCwgcmF0aW8sIG91dCkge1xuICAgICAgICB0aGlzLl9pbnRlcnBvbGF0b3IgJiYgdGhpcy5fZWxlbWVudCAmJiB0aGlzLl9pbnRlcnBvbGF0b3IuY2FsbCh0aGlzLCByYXRpbywgdGhpcy5mcm9tLCB0aGlzLnRvLCBvdXQsIHRoaXMuX2VsZW1lbnQuZ2V0RGF0dW0oKSwgdGhpcy5fZWxlbWVudCwgdGhpcy5wYXJhbXMucGFyYW1ldGVycyk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQW5pbWF0ZSBleHRlbmRzIEFDdXN0b21BbmltYXRlIHtcbiAgICBnZXRFbmRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG87XG4gICAgfVxuICAgIG9uQmluZCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBleGNsdWRlZENoYW5uZWxNYXAgPSBudWxsICE9PSAoX2EgPSB0aGlzLnRhcmdldC5jb25zdHJ1Y3Rvci5OT1dPUktfQU5JTUFURV9BVFRSKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBOT1dPUktfQU5JTUFURV9BVFRSLCBleGNsdWRlZENoYW5uZWxzID0gT2JqZWN0LmtleXMoZXhjbHVkZWRDaGFubmVsTWFwKS5maWx0ZXIoKGNoYW5uZWwgPT4gMCAhPT0gZXhjbHVkZWRDaGFubmVsTWFwW2NoYW5uZWxdKSk7XG4gICAgICAgIHRoaXMuc3ViQW5pbWF0ZS5hbmltYXRlLnByZXZlbnRBdHRycyhleGNsdWRlZENoYW5uZWxzKTtcbiAgICAgICAgY29uc3QgZnJvbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZnJvbSksIHRvID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy50byksIGFuaW1hdGVkQ2hhbm5lbHMgPSBbXTtcbiAgICAgICAgT2JqZWN0LmtleXModG8pLmZvckVhY2goKGsgPT4ge1xuICAgICAgICAgICAgZXhjbHVkZWRDaGFubmVscy5pbmNsdWRlcyhrKSA/IChmcm9tW2tdID0gdG9ba10sIHRoaXMuZnJvbVtrXSA9IHRvW2tdKSA6IGlzTmlsKGZyb21ba10pID8gZnJvbVtrXSA9IHRoaXMudGFyZ2V0LmdldENvbXB1dGVkQXR0cmlidXRlKGspIDogYW5pbWF0ZWRDaGFubmVscy5wdXNoKGspO1xuICAgICAgICB9KSksIHRoaXMudGFyZ2V0LmFuaW1hdGVzLmZvckVhY2goKGEgPT4ge1xuICAgICAgICAgICAgYSAhPT0gdGhpcy5zdWJBbmltYXRlLmFuaW1hdGUgJiYgYS5wcmV2ZW50QXR0cnMoYW5pbWF0ZWRDaGFubmVscyk7XG4gICAgICAgIH0pKSwgdGhpcy5fZnJvbUF0dHJpYnV0ZSA9IGZyb20sIHRoaXMuX3RvQXR0cmlidXRlID0gdG87XG4gICAgfVxuICAgIG9uU3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mcm9tQXR0cmlidXRlKSB7XG4gICAgICAgICAgICBjb25zdCBmcm9tID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9mcm9tQXR0cmlidXRlKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ViQW5pbWF0ZS5hbmltYXRlLnZhbGlkQXR0cihrZXkpICYmIChmcm9tW2tleV0gPSB0aGlzLl9mcm9tQXR0cmlidXRlW2tleV0pO1xuICAgICAgICAgICAgfSkpLCB0aGlzLnRhcmdldC5zZXRBdHRyaWJ1dGVzKGZyb20sICExLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogQXR0cmlidXRlVXBkYXRlVHlwZS5BTklNQVRFX1VQREFURSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICByYXRpbzogMCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiAhMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRW5kKCkge1xuICAgICAgICBpZiAodGhpcy5fdG9BdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dCA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5fdG9BdHRyaWJ1dGUpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJBbmltYXRlLmFuaW1hdGUudmFsaWRBdHRyKGtleSkgJiYgKG91dFtrZXldID0gdGhpcy5fdG9BdHRyaWJ1dGVba2V5XSk7XG4gICAgICAgICAgICB9KSksIHRoaXMudGFyZ2V0LnNldEF0dHJpYnV0ZXMob3V0LCAhMSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IEF0dHJpYnV0ZVVwZGF0ZVR5cGUuQU5JTUFURV9FTkRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZShlbmQsIHJhdGlvLCBvdXQpIHtcbiAgICAgICAgMCA9PT0gdGhpcy51cGRhdGVDb3VudCAmJiB0aGlzLm9uRmlyc3RSdW4oKSwgdGhpcy51cGRhdGVDb3VudCArPSAxO1xuICAgICAgICBjb25zdCBsYXN0UHJvcHMgPSB0aGlzLnN0ZXAuZ2V0TGFzdFByb3BzKCk7XG4gICAgICAgIE9iamVjdC5rZXlzKGxhc3RQcm9wcykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3ViQW5pbWF0ZS5hbmltYXRlLnZhbGlkQXR0cihrZXkpICYmIChvdXRba2V5XSA9IGxhc3RQcm9wc1trZXldKTtcbiAgICAgICAgfSkpLCB0aGlzLm9uVXBkYXRlKGVuZCwgcmF0aW8sIG91dCksIGVuZCAmJiB0aGlzLm9uRW5kKCk7XG4gICAgfVxuICAgIG9uVXBkYXRlKGVuZCwgcmF0aW8sIG91dCkge1xuICAgICAgICB0aGlzLnRhcmdldC5zdGVwSW50ZXJwb2xhdGUodGhpcy5zdWJBbmltYXRlLCB0aGlzLnN1YkFuaW1hdGUuYW5pbWF0ZSwgb3V0LCB0aGlzLnN0ZXAsIHJhdGlvLCBlbmQsIHRoaXMuX3RvQXR0cmlidXRlLCB0aGlzLl9mcm9tQXR0cmlidXRlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdHRyaWJ1dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/attribute.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/config.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/config.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invokeAnimateSpec: () => (/* binding */ invokeAnimateSpec),\n/* harmony export */   normalizeAnimationConfig: () => (/* binding */ normalizeAnimationConfig),\n/* harmony export */   normalizeStateAnimationConfig: () => (/* binding */ normalizeStateAnimationConfig)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n\n\n\n\nfunction transformToTimelineConfig(animationConfig) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(animationConfig.timeSlices)) {\n        const typeConfig = animationConfig;\n        return {\n            startTime: null !== (_a = typeConfig.startTime) && void 0 !== _a ? _a : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationStartTime,\n            totalTime: typeConfig.totalTime,\n            oneByOne: null !== (_b = typeConfig.oneByOne) && void 0 !== _b ? _b : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationOneByOne,\n            loop: null !== (_c = typeConfig.loop) && void 0 !== _c ? _c : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationLoop,\n            controlOptions: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationControlOptions, null !== (_d = typeConfig.controlOptions) && void 0 !== _d ? _d : {}),\n            timeSlices: [ {\n                duration: null !== (_e = typeConfig.duration) && void 0 !== _e ? _e : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDuration,\n                delay: null !== (_f = typeConfig.delay) && void 0 !== _f ? _f : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDelay,\n                delayAfter: null !== (_g = typeConfig.delayAfter) && void 0 !== _g ? _g : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDelayAfter,\n                effects: [ {\n                    type: typeConfig.type,\n                    channel: typeConfig.channel,\n                    custom: typeConfig.custom,\n                    easing: null !== (_h = typeConfig.easing) && void 0 !== _h ? _h : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationEasing,\n                    customParameters: typeConfig.customParameters,\n                    options: typeConfig.options\n                } ]\n            } ]\n        };\n    }\n    const formattedTimeSlices = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(animationConfig.timeSlices).filter((timeSlice => timeSlice.effects && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(timeSlice.effects).filter((effect => effect.channel || effect.type)).length));\n    if (formattedTimeSlices.length) return {\n        startTime: null !== (_j = animationConfig.startTime) && void 0 !== _j ? _j : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationStartTime,\n        totalTime: animationConfig.totalTime,\n        oneByOne: null !== (_k = animationConfig.oneByOne) && void 0 !== _k ? _k : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationOneByOne,\n        loop: null !== (_l = animationConfig.loop) && void 0 !== _l ? _l : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationLoop,\n        controlOptions: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationControlOptions, null !== (_m = animationConfig.controlOptions) && void 0 !== _m ? _m : {}),\n        timeSlices: formattedTimeSlices.map((timeSlice => {\n            var _a, _b;\n            return {\n                duration: timeSlice.duration,\n                delay: null !== (_a = timeSlice.delay) && void 0 !== _a ? _a : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDelay,\n                delayAfter: null !== (_b = timeSlice.delayAfter) && void 0 !== _b ? _b : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDelayAfter,\n                effects: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(timeSlice.effects).filter((effect => effect.channel || effect.type)).map((effect => {\n                    var _a;\n                    return {\n                        type: effect.type,\n                        channel: effect.channel,\n                        custom: effect.custom,\n                        easing: null !== (_a = effect.easing) && void 0 !== _a ? _a : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationEasing,\n                        customParameters: effect.customParameters,\n                        options: effect.options\n                    };\n                }))\n            };\n        })),\n        partitioner: animationConfig.partitioner,\n        sort: animationConfig.sort\n    };\n}\n\nfunction normalizeAnimationConfig(config) {\n    let normalizedConfig = [];\n    return Object.keys(config).forEach((state => {\n        normalizedConfig = normalizedConfig.concat(normalizeStateAnimationConfig(state, config[state]));\n    })), normalizedConfig;\n}\n\nfunction normalizeStateAnimationConfig(state, config, initialIndex = 0) {\n    const normalizedConfig = [];\n    let index = initialIndex;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(config).forEach((animationConfig => {\n        var _a;\n        const timelineConfig = transformToTimelineConfig(animationConfig);\n        timelineConfig && (normalizedConfig.push({\n            state: state,\n            id: null !== (_a = timelineConfig.id) && void 0 !== _a ? _a : `${state}-${index}`,\n            timeline: timelineConfig,\n            originConfig: animationConfig\n        }), index += 1);\n    })), normalizedConfig;\n}\n\nfunction invokeAnimateSpec(spec, element, parameters) {\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec) ? spec.call(null, element.getDatum(), element, parameters) : spec;\n}\n//# sourceMappingURL=config.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2NvbmZpZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFtRTs7QUFFMks7O0FBRTlPO0FBQ0E7QUFDQSxRQUFRLDREQUFLO0FBQ2I7QUFDQTtBQUNBLG9GQUFvRixpRUFBeUI7QUFDN0c7QUFDQSxrRkFBa0YsZ0VBQXdCO0FBQzFHLDBFQUEwRSw0REFBb0I7QUFDOUYsNEJBQTRCLDREQUFLLEdBQUcsRUFBRSxzRUFBOEIsc0VBQXNFO0FBQzFJO0FBQ0Esc0ZBQXNGLGdFQUF3QjtBQUM5RyxnRkFBZ0YsNkRBQXFCO0FBQ3JHLDBGQUEwRixrRUFBMEI7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsOERBQXNCO0FBQzVHO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsY0FBYztBQUNkO0FBQ0E7QUFDQSxnQ0FBZ0MsdURBQUssdUVBQXVFLHVEQUFLO0FBQ2pIO0FBQ0EscUZBQXFGLGlFQUF5QjtBQUM5RztBQUNBLG1GQUFtRixnRUFBd0I7QUFDM0csMkVBQTJFLDREQUFvQjtBQUMvRix3QkFBd0IsNERBQUssR0FBRyxFQUFFLHNFQUE4QiwyRUFBMkU7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsNkRBQXFCO0FBQ3BHLHlGQUF5RixrRUFBMEI7QUFDbkgseUJBQXlCLHVEQUFLO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsOERBQXNCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQO0FBQ0E7QUFDQSxXQUFXLHVEQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLE1BQU0sR0FBRyxNQUFNO0FBQzVGO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUVPO0FBQ1AsV0FBVyw0REFBVTtBQUNyQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9jb25maWcuanM/YTg0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcnJheSwgaXNGdW5jdGlvbiwgaXNOaWwsIG1lcmdlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgRGVmYXVsdEFuaW1hdGlvbkNvbnRyb2xPcHRpb25zLCBEZWZhdWx0QW5pbWF0aW9uRGVsYXksIERlZmF1bHRBbmltYXRpb25EZWxheUFmdGVyLCBEZWZhdWx0QW5pbWF0aW9uRHVyYXRpb24sIERlZmF1bHRBbmltYXRpb25FYXNpbmcsIERlZmF1bHRBbmltYXRpb25Mb29wLCBEZWZhdWx0QW5pbWF0aW9uT25lQnlPbmUsIERlZmF1bHRBbmltYXRpb25TdGFydFRpbWUgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVRvVGltZWxpbmVDb25maWcoYW5pbWF0aW9uQ29uZmlnKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX207XG4gICAgaWYgKGlzTmlsKGFuaW1hdGlvbkNvbmZpZy50aW1lU2xpY2VzKSkge1xuICAgICAgICBjb25zdCB0eXBlQ29uZmlnID0gYW5pbWF0aW9uQ29uZmlnO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnRUaW1lOiBudWxsICE9PSAoX2EgPSB0eXBlQ29uZmlnLnN0YXJ0VGltZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogRGVmYXVsdEFuaW1hdGlvblN0YXJ0VGltZSxcbiAgICAgICAgICAgIHRvdGFsVGltZTogdHlwZUNvbmZpZy50b3RhbFRpbWUsXG4gICAgICAgICAgICBvbmVCeU9uZTogbnVsbCAhPT0gKF9iID0gdHlwZUNvbmZpZy5vbmVCeU9uZSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogRGVmYXVsdEFuaW1hdGlvbk9uZUJ5T25lLFxuICAgICAgICAgICAgbG9vcDogbnVsbCAhPT0gKF9jID0gdHlwZUNvbmZpZy5sb29wKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBEZWZhdWx0QW5pbWF0aW9uTG9vcCxcbiAgICAgICAgICAgIGNvbnRyb2xPcHRpb25zOiBtZXJnZSh7fSwgRGVmYXVsdEFuaW1hdGlvbkNvbnRyb2xPcHRpb25zLCBudWxsICE9PSAoX2QgPSB0eXBlQ29uZmlnLmNvbnRyb2xPcHRpb25zKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiB7fSksXG4gICAgICAgICAgICB0aW1lU2xpY2VzOiBbIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogbnVsbCAhPT0gKF9lID0gdHlwZUNvbmZpZy5kdXJhdGlvbikgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogRGVmYXVsdEFuaW1hdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBudWxsICE9PSAoX2YgPSB0eXBlQ29uZmlnLmRlbGF5KSAmJiB2b2lkIDAgIT09IF9mID8gX2YgOiBEZWZhdWx0QW5pbWF0aW9uRGVsYXksXG4gICAgICAgICAgICAgICAgZGVsYXlBZnRlcjogbnVsbCAhPT0gKF9nID0gdHlwZUNvbmZpZy5kZWxheUFmdGVyKSAmJiB2b2lkIDAgIT09IF9nID8gX2cgOiBEZWZhdWx0QW5pbWF0aW9uRGVsYXlBZnRlcixcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZUNvbmZpZy50eXBlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsOiB0eXBlQ29uZmlnLmNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbTogdHlwZUNvbmZpZy5jdXN0b20sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogbnVsbCAhPT0gKF9oID0gdHlwZUNvbmZpZy5lYXNpbmcpICYmIHZvaWQgMCAhPT0gX2ggPyBfaCA6IERlZmF1bHRBbmltYXRpb25FYXNpbmcsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVBhcmFtZXRlcnM6IHR5cGVDb25maWcuY3VzdG9tUGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdHlwZUNvbmZpZy5vcHRpb25zXG4gICAgICAgICAgICAgICAgfSBdXG4gICAgICAgICAgICB9IF1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZm9ybWF0dGVkVGltZVNsaWNlcyA9IGFycmF5KGFuaW1hdGlvbkNvbmZpZy50aW1lU2xpY2VzKS5maWx0ZXIoKHRpbWVTbGljZSA9PiB0aW1lU2xpY2UuZWZmZWN0cyAmJiBhcnJheSh0aW1lU2xpY2UuZWZmZWN0cykuZmlsdGVyKChlZmZlY3QgPT4gZWZmZWN0LmNoYW5uZWwgfHwgZWZmZWN0LnR5cGUpKS5sZW5ndGgpKTtcbiAgICBpZiAoZm9ybWF0dGVkVGltZVNsaWNlcy5sZW5ndGgpIHJldHVybiB7XG4gICAgICAgIHN0YXJ0VGltZTogbnVsbCAhPT0gKF9qID0gYW5pbWF0aW9uQ29uZmlnLnN0YXJ0VGltZSkgJiYgdm9pZCAwICE9PSBfaiA/IF9qIDogRGVmYXVsdEFuaW1hdGlvblN0YXJ0VGltZSxcbiAgICAgICAgdG90YWxUaW1lOiBhbmltYXRpb25Db25maWcudG90YWxUaW1lLFxuICAgICAgICBvbmVCeU9uZTogbnVsbCAhPT0gKF9rID0gYW5pbWF0aW9uQ29uZmlnLm9uZUJ5T25lKSAmJiB2b2lkIDAgIT09IF9rID8gX2sgOiBEZWZhdWx0QW5pbWF0aW9uT25lQnlPbmUsXG4gICAgICAgIGxvb3A6IG51bGwgIT09IChfbCA9IGFuaW1hdGlvbkNvbmZpZy5sb29wKSAmJiB2b2lkIDAgIT09IF9sID8gX2wgOiBEZWZhdWx0QW5pbWF0aW9uTG9vcCxcbiAgICAgICAgY29udHJvbE9wdGlvbnM6IG1lcmdlKHt9LCBEZWZhdWx0QW5pbWF0aW9uQ29udHJvbE9wdGlvbnMsIG51bGwgIT09IChfbSA9IGFuaW1hdGlvbkNvbmZpZy5jb250cm9sT3B0aW9ucykgJiYgdm9pZCAwICE9PSBfbSA/IF9tIDoge30pLFxuICAgICAgICB0aW1lU2xpY2VzOiBmb3JtYXR0ZWRUaW1lU2xpY2VzLm1hcCgodGltZVNsaWNlID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aW1lU2xpY2UuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZGVsYXk6IG51bGwgIT09IChfYSA9IHRpbWVTbGljZS5kZWxheSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogRGVmYXVsdEFuaW1hdGlvbkRlbGF5LFxuICAgICAgICAgICAgICAgIGRlbGF5QWZ0ZXI6IG51bGwgIT09IChfYiA9IHRpbWVTbGljZS5kZWxheUFmdGVyKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBEZWZhdWx0QW5pbWF0aW9uRGVsYXlBZnRlcixcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBhcnJheSh0aW1lU2xpY2UuZWZmZWN0cykuZmlsdGVyKChlZmZlY3QgPT4gZWZmZWN0LmNoYW5uZWwgfHwgZWZmZWN0LnR5cGUpKS5tYXAoKGVmZmVjdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVmZmVjdC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbDogZWZmZWN0LmNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b206IGVmZmVjdC5jdXN0b20sXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IG51bGwgIT09IChfYSA9IGVmZmVjdC5lYXNpbmcpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IERlZmF1bHRBbmltYXRpb25FYXNpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21QYXJhbWV0ZXJzOiBlZmZlY3QuY3VzdG9tUGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGVmZmVjdC5vcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSksXG4gICAgICAgIHBhcnRpdGlvbmVyOiBhbmltYXRpb25Db25maWcucGFydGl0aW9uZXIsXG4gICAgICAgIHNvcnQ6IGFuaW1hdGlvbkNvbmZpZy5zb3J0XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUFuaW1hdGlvbkNvbmZpZyhjb25maWcpIHtcbiAgICBsZXQgbm9ybWFsaXplZENvbmZpZyA9IFtdO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhjb25maWcpLmZvckVhY2goKHN0YXRlID0+IHtcbiAgICAgICAgbm9ybWFsaXplZENvbmZpZyA9IG5vcm1hbGl6ZWRDb25maWcuY29uY2F0KG5vcm1hbGl6ZVN0YXRlQW5pbWF0aW9uQ29uZmlnKHN0YXRlLCBjb25maWdbc3RhdGVdKSk7XG4gICAgfSkpLCBub3JtYWxpemVkQ29uZmlnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplU3RhdGVBbmltYXRpb25Db25maWcoc3RhdGUsIGNvbmZpZywgaW5pdGlhbEluZGV4ID0gMCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRDb25maWcgPSBbXTtcbiAgICBsZXQgaW5kZXggPSBpbml0aWFsSW5kZXg7XG4gICAgcmV0dXJuIGFycmF5KGNvbmZpZykuZm9yRWFjaCgoYW5pbWF0aW9uQ29uZmlnID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB0aW1lbGluZUNvbmZpZyA9IHRyYW5zZm9ybVRvVGltZWxpbmVDb25maWcoYW5pbWF0aW9uQ29uZmlnKTtcbiAgICAgICAgdGltZWxpbmVDb25maWcgJiYgKG5vcm1hbGl6ZWRDb25maWcucHVzaCh7XG4gICAgICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICAgICAgICBpZDogbnVsbCAhPT0gKF9hID0gdGltZWxpbmVDb25maWcuaWQpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGAke3N0YXRlfS0ke2luZGV4fWAsXG4gICAgICAgICAgICB0aW1lbGluZTogdGltZWxpbmVDb25maWcsXG4gICAgICAgICAgICBvcmlnaW5Db25maWc6IGFuaW1hdGlvbkNvbmZpZ1xuICAgICAgICB9KSwgaW5kZXggKz0gMSk7XG4gICAgfSkpLCBub3JtYWxpemVkQ29uZmlnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlQW5pbWF0ZVNwZWMoc3BlYywgZWxlbWVudCwgcGFyYW1ldGVycykge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHNwZWMpID8gc3BlYy5jYWxsKG51bGwsIGVsZW1lbnQuZ2V0RGF0dW0oKSwgZWxlbWVudCwgcGFyYW1ldGVycykgOiBzcGVjO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/morph.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/morph.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   morph: () => (/* binding */ morph)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/animate/morphing.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _mark_differ__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../mark/differ */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\");\n\n\n\n\n\n\n\n\nconst doMorph = (prev, next, runningConfig, onEnd, parameters) => {\n    var _a, _b;\n    const morphData = {\n        prev: prev.map((element => element.getDatum())),\n        next: next.map((element => element.getDatum()))\n    }, morphElements = {\n        prev: prev.slice(),\n        next: next.slice()\n    }, easing = runningConfig.animation.easing, delay = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(runningConfig.animation.delay, parameters, morphData, morphElements), duration = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(runningConfig.animation.duration, parameters, morphData, morphElements), oneByOne = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(runningConfig.animation.oneByOne, parameters, morphData, morphElements), splitPath = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(runningConfig.animation.splitPath, parameters, morphData, morphElements), individualDelay = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(oneByOne) && oneByOne > 0 ? index => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(oneByOne) ? index * oneByOne : !0 === oneByOne ? index * duration : 0 : void 0;\n    1 !== prev.length && 0 !== prev.length || 1 !== next.length ? 1 === prev.length && next.length > 1 ? (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_3__.oneToMultiMorph)(prev[0].getGraphicItem(), next.map((element => element.getGraphicItem())), {\n        delay: delay,\n        duration: duration,\n        easing: easing,\n        onEnd: onEnd,\n        individualDelay: individualDelay,\n        splitPath: splitPath\n    }) : prev.length > 1 && 1 === next.length && (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_3__.multiToOneMorph)(prev.map((element => element.getGraphicItem())), next[0].getGraphicItem(), {\n        delay: delay,\n        duration: duration,\n        easing: easing,\n        onEnd: onEnd,\n        individualDelay: individualDelay,\n        splitPath: splitPath\n    }) : (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_3__.morphPath)(null === (_b = null === (_a = prev[0]) || void 0 === _a ? void 0 : _a.getGraphicItem) || void 0 === _b ? void 0 : _b.call(_a), next[0].getGraphicItem(), {\n        delay: delay,\n        duration: duration,\n        easing: easing,\n        onEnd: onEnd\n    });\n}, divideElements = (elements, count) => {\n    const divideLength = Math.floor(elements.length / count);\n    return new Array(count).fill(0).map(((i, index) => elements.slice(divideLength * index, index === count - 1 ? elements.length : divideLength * (index + 1))));\n}, appendMorphKeyToElements = mark => {\n    const config = mark.getMorphConfig();\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config.morphElementKey)) {\n        const getter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.parseField)(config.morphElementKey);\n        mark.elements && mark.elements.forEach((el => {\n            el.morphKey = getter(el.getDatum());\n        }));\n    }\n};\n\nconst morph = (prevMarks, nextMarks, runningConfig) => {\n    const prevElements = prevMarks.reduce(((elements, mark) => (appendMorphKeyToElements(mark), \n    elements.concat(mark.elements))), []), nextElements = nextMarks.reduce(((elements, mark) => (appendMorphKeyToElements(mark), \n    elements.concat(mark.elements))), []), diffResult = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_5__.diffMultiple)(prevElements, nextElements, (element => {\n        var _a;\n        return null !== (_a = element.morphKey) && void 0 !== _a ? _a : element.key;\n    }));\n    prevMarks.forEach((mark => {\n        var _a, _b;\n        return null === (_b = null === (_a = mark.animate) || void 0 === _a ? void 0 : _a.disable) || void 0 === _b ? void 0 : _b.call(_a);\n    })), nextMarks.forEach((mark => {\n        var _a, _b;\n        return null === (_b = null === (_a = mark.animate) || void 0 === _a ? void 0 : _a.disable) || void 0 === _b ? void 0 : _b.call(_a);\n    }));\n    const parameters = prevMarks.concat(nextMarks).reduce(((parameters, mark) => (Object.assign(parameters, mark.parameters()), \n    parameters)), {});\n    let morphCount = 0;\n    const onMorphEnd = () => {\n        morphCount -= 1, 0 === morphCount && nextMarks.forEach((mark => {\n            var _a, _b;\n            null === (_b = null === (_a = mark.animate) || void 0 === _a ? void 0 : _a.enable) || void 0 === _b || _b.call(_a);\n        }));\n    };\n    diffResult.enter.forEach((diff => {\n        diff.next.forEach((element => {\n            doMorph([], [ element ], runningConfig, onMorphEnd, parameters);\n        })), morphCount += 1;\n    })), diffResult.update.forEach((diff => {\n        const divideCount = Math.min(diff.prev.length, diff.next.length), prevDivide = divideElements(diff.prev, divideCount), nextDivide = divideElements(diff.next, divideCount);\n        for (let i = 0; i < divideCount; i++) doMorph(prevDivide[i], nextDivide[i], runningConfig, onMorphEnd, parameters), \n        morphCount += 1;\n    }));\n};\n//# sourceMappingURL=morph.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL21vcnBoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUY7O0FBRW5COztBQUVBOztBQUVwQjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSyxtREFBbUQsK0RBQWtCLGtGQUFrRiwrREFBa0IscUZBQXFGLCtEQUFrQixzRkFBc0YsK0RBQWtCLDZGQUE2Riw0REFBYSxzQ0FBc0MsNERBQVE7QUFDcmhCLHlHQUF5Ryx1RUFBZTtBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDRDQUE0Qyx1RUFBZTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUksaUVBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxTQUFTLDREQUFLO0FBQ2QsdUJBQXVCLHVEQUFVO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSx3REFBd0QsMERBQVk7QUFDcEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vbW9ycGguanM/ZDAwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtb3JwaFBhdGgsIG11bHRpVG9PbmVNb3JwaCwgb25lVG9NdWx0aU1vcnBoIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuaW1wb3J0IHsgaXNOaWwsIGlzTnVtYmVyLCBpc1ZhbGlkTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlLCBwYXJzZUZpZWxkIH0gZnJvbSBcIi4uLy4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgZGlmZk11bHRpcGxlIH0gZnJvbSBcIi4uL21hcmsvZGlmZmVyXCI7XG5cbmNvbnN0IGRvTW9ycGggPSAocHJldiwgbmV4dCwgcnVubmluZ0NvbmZpZywgb25FbmQsIHBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IG1vcnBoRGF0YSA9IHtcbiAgICAgICAgcHJldjogcHJldi5tYXAoKGVsZW1lbnQgPT4gZWxlbWVudC5nZXREYXR1bSgpKSksXG4gICAgICAgIG5leHQ6IG5leHQubWFwKChlbGVtZW50ID0+IGVsZW1lbnQuZ2V0RGF0dW0oKSkpXG4gICAgfSwgbW9ycGhFbGVtZW50cyA9IHtcbiAgICAgICAgcHJldjogcHJldi5zbGljZSgpLFxuICAgICAgICBuZXh0OiBuZXh0LnNsaWNlKClcbiAgICB9LCBlYXNpbmcgPSBydW5uaW5nQ29uZmlnLmFuaW1hdGlvbi5lYXNpbmcsIGRlbGF5ID0gaW52b2tlRnVuY3Rpb25UeXBlKHJ1bm5pbmdDb25maWcuYW5pbWF0aW9uLmRlbGF5LCBwYXJhbWV0ZXJzLCBtb3JwaERhdGEsIG1vcnBoRWxlbWVudHMpLCBkdXJhdGlvbiA9IGludm9rZUZ1bmN0aW9uVHlwZShydW5uaW5nQ29uZmlnLmFuaW1hdGlvbi5kdXJhdGlvbiwgcGFyYW1ldGVycywgbW9ycGhEYXRhLCBtb3JwaEVsZW1lbnRzKSwgb25lQnlPbmUgPSBpbnZva2VGdW5jdGlvblR5cGUocnVubmluZ0NvbmZpZy5hbmltYXRpb24ub25lQnlPbmUsIHBhcmFtZXRlcnMsIG1vcnBoRGF0YSwgbW9ycGhFbGVtZW50cyksIHNwbGl0UGF0aCA9IGludm9rZUZ1bmN0aW9uVHlwZShydW5uaW5nQ29uZmlnLmFuaW1hdGlvbi5zcGxpdFBhdGgsIHBhcmFtZXRlcnMsIG1vcnBoRGF0YSwgbW9ycGhFbGVtZW50cyksIGluZGl2aWR1YWxEZWxheSA9IGlzVmFsaWROdW1iZXIob25lQnlPbmUpICYmIG9uZUJ5T25lID4gMCA/IGluZGV4ID0+IGlzTnVtYmVyKG9uZUJ5T25lKSA/IGluZGV4ICogb25lQnlPbmUgOiAhMCA9PT0gb25lQnlPbmUgPyBpbmRleCAqIGR1cmF0aW9uIDogMCA6IHZvaWQgMDtcbiAgICAxICE9PSBwcmV2Lmxlbmd0aCAmJiAwICE9PSBwcmV2Lmxlbmd0aCB8fCAxICE9PSBuZXh0Lmxlbmd0aCA/IDEgPT09IHByZXYubGVuZ3RoICYmIG5leHQubGVuZ3RoID4gMSA/IG9uZVRvTXVsdGlNb3JwaChwcmV2WzBdLmdldEdyYXBoaWNJdGVtKCksIG5leHQubWFwKChlbGVtZW50ID0+IGVsZW1lbnQuZ2V0R3JhcGhpY0l0ZW0oKSkpLCB7XG4gICAgICAgIGRlbGF5OiBkZWxheSxcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6IGVhc2luZyxcbiAgICAgICAgb25FbmQ6IG9uRW5kLFxuICAgICAgICBpbmRpdmlkdWFsRGVsYXk6IGluZGl2aWR1YWxEZWxheSxcbiAgICAgICAgc3BsaXRQYXRoOiBzcGxpdFBhdGhcbiAgICB9KSA6IHByZXYubGVuZ3RoID4gMSAmJiAxID09PSBuZXh0Lmxlbmd0aCAmJiBtdWx0aVRvT25lTW9ycGgocHJldi5tYXAoKGVsZW1lbnQgPT4gZWxlbWVudC5nZXRHcmFwaGljSXRlbSgpKSksIG5leHRbMF0uZ2V0R3JhcGhpY0l0ZW0oKSwge1xuICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiBlYXNpbmcsXG4gICAgICAgIG9uRW5kOiBvbkVuZCxcbiAgICAgICAgaW5kaXZpZHVhbERlbGF5OiBpbmRpdmlkdWFsRGVsYXksXG4gICAgICAgIHNwbGl0UGF0aDogc3BsaXRQYXRoXG4gICAgfSkgOiBtb3JwaFBhdGgobnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gcHJldlswXSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmdldEdyYXBoaWNJdGVtKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChfYSksIG5leHRbMF0uZ2V0R3JhcGhpY0l0ZW0oKSwge1xuICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiBlYXNpbmcsXG4gICAgICAgIG9uRW5kOiBvbkVuZFxuICAgIH0pO1xufSwgZGl2aWRlRWxlbWVudHMgPSAoZWxlbWVudHMsIGNvdW50KSA9PiB7XG4gICAgY29uc3QgZGl2aWRlTGVuZ3RoID0gTWF0aC5mbG9vcihlbGVtZW50cy5sZW5ndGggLyBjb3VudCk7XG4gICAgcmV0dXJuIG5ldyBBcnJheShjb3VudCkuZmlsbCgwKS5tYXAoKChpLCBpbmRleCkgPT4gZWxlbWVudHMuc2xpY2UoZGl2aWRlTGVuZ3RoICogaW5kZXgsIGluZGV4ID09PSBjb3VudCAtIDEgPyBlbGVtZW50cy5sZW5ndGggOiBkaXZpZGVMZW5ndGggKiAoaW5kZXggKyAxKSkpKTtcbn0sIGFwcGVuZE1vcnBoS2V5VG9FbGVtZW50cyA9IG1hcmsgPT4ge1xuICAgIGNvbnN0IGNvbmZpZyA9IG1hcmsuZ2V0TW9ycGhDb25maWcoKTtcbiAgICBpZiAoIWlzTmlsKGNvbmZpZy5tb3JwaEVsZW1lbnRLZXkpKSB7XG4gICAgICAgIGNvbnN0IGdldHRlciA9IHBhcnNlRmllbGQoY29uZmlnLm1vcnBoRWxlbWVudEtleSk7XG4gICAgICAgIG1hcmsuZWxlbWVudHMgJiYgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICBlbC5tb3JwaEtleSA9IGdldHRlcihlbC5nZXREYXR1bSgpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBtb3JwaCA9IChwcmV2TWFya3MsIG5leHRNYXJrcywgcnVubmluZ0NvbmZpZykgPT4ge1xuICAgIGNvbnN0IHByZXZFbGVtZW50cyA9IHByZXZNYXJrcy5yZWR1Y2UoKChlbGVtZW50cywgbWFyaykgPT4gKGFwcGVuZE1vcnBoS2V5VG9FbGVtZW50cyhtYXJrKSwgXG4gICAgZWxlbWVudHMuY29uY2F0KG1hcmsuZWxlbWVudHMpKSksIFtdKSwgbmV4dEVsZW1lbnRzID0gbmV4dE1hcmtzLnJlZHVjZSgoKGVsZW1lbnRzLCBtYXJrKSA9PiAoYXBwZW5kTW9ycGhLZXlUb0VsZW1lbnRzKG1hcmspLCBcbiAgICBlbGVtZW50cy5jb25jYXQobWFyay5lbGVtZW50cykpKSwgW10pLCBkaWZmUmVzdWx0ID0gZGlmZk11bHRpcGxlKHByZXZFbGVtZW50cywgbmV4dEVsZW1lbnRzLCAoZWxlbWVudCA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IGVsZW1lbnQubW9ycGhLZXkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGVsZW1lbnQua2V5O1xuICAgIH0pKTtcbiAgICBwcmV2TWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBtYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5kaXNhYmxlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfSkpLCBuZXh0TWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBtYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5kaXNhYmxlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfSkpO1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBwcmV2TWFya3MuY29uY2F0KG5leHRNYXJrcykucmVkdWNlKCgocGFyYW1ldGVycywgbWFyaykgPT4gKE9iamVjdC5hc3NpZ24ocGFyYW1ldGVycywgbWFyay5wYXJhbWV0ZXJzKCkpLCBcbiAgICBwYXJhbWV0ZXJzKSksIHt9KTtcbiAgICBsZXQgbW9ycGhDb3VudCA9IDA7XG4gICAgY29uc3Qgb25Nb3JwaEVuZCA9ICgpID0+IHtcbiAgICAgICAgbW9ycGhDb3VudCAtPSAxLCAwID09PSBtb3JwaENvdW50ICYmIG5leHRNYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBtYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5lbmFibGUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSk7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIGRpZmZSZXN1bHQuZW50ZXIuZm9yRWFjaCgoZGlmZiA9PiB7XG4gICAgICAgIGRpZmYubmV4dC5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGRvTW9ycGgoW10sIFsgZWxlbWVudCBdLCBydW5uaW5nQ29uZmlnLCBvbk1vcnBoRW5kLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgfSkpLCBtb3JwaENvdW50ICs9IDE7XG4gICAgfSkpLCBkaWZmUmVzdWx0LnVwZGF0ZS5mb3JFYWNoKChkaWZmID0+IHtcbiAgICAgICAgY29uc3QgZGl2aWRlQ291bnQgPSBNYXRoLm1pbihkaWZmLnByZXYubGVuZ3RoLCBkaWZmLm5leHQubGVuZ3RoKSwgcHJldkRpdmlkZSA9IGRpdmlkZUVsZW1lbnRzKGRpZmYucHJldiwgZGl2aWRlQ291bnQpLCBuZXh0RGl2aWRlID0gZGl2aWRlRWxlbWVudHMoZGlmZi5uZXh0LCBkaXZpZGVDb3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGl2aWRlQ291bnQ7IGkrKykgZG9Nb3JwaChwcmV2RGl2aWRlW2ldLCBuZXh0RGl2aWRlW2ldLCBydW5uaW5nQ29uZmlnLCBvbk1vcnBoRW5kLCBwYXJhbWV0ZXJzKSwgXG4gICAgICAgIG1vcnBoQ291bnQgKz0gMTtcbiAgICB9KSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9ycGguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/morph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/common.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/common.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   commonAttributes: () => (/* binding */ commonAttributes),\n/* harmony export */   transformCommonAttribute: () => (/* binding */ transformCommonAttribute)\n/* harmony export */ });\nconst commonAttributes = [ \"fillOpacity\" ];\n\nconst transformCommonAttribute = (graphicAttributes, changedKey, nextAttrs) => {\n    var _a;\n    return \"fillOpacity\" === changedKey ? (graphicAttributes.fillOpacity = null !== (_a = nextAttrs.fillOpacity) && void 0 !== _a ? _a : 1, \n    [ \"fillOpacity\" ]) : [];\n};\n//# sourceMappingURL=common.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9jb21tb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTzs7QUFFQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9jb21tb24uanM/NTJiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY29tbW9uQXR0cmlidXRlcyA9IFsgXCJmaWxsT3BhY2l0eVwiIF07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1Db21tb25BdHRyaWJ1dGUgPSAoZ3JhcGhpY0F0dHJpYnV0ZXMsIGNoYW5nZWRLZXksIG5leHRBdHRycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gXCJmaWxsT3BhY2l0eVwiID09PSBjaGFuZ2VkS2V5ID8gKGdyYXBoaWNBdHRyaWJ1dGVzLmZpbGxPcGFjaXR5ID0gbnVsbCAhPT0gKF9hID0gbmV4dEF0dHJzLmZpbGxPcGFjaXR5KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAxLCBcbiAgICBbIFwiZmlsbE9wYWNpdHlcIiBdKSA6IFtdO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/common.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLargeRectsPoints: () => (/* binding */ getLargeRectsPoints),\n/* harmony export */   getLargeSymbolsPoints: () => (/* binding */ getLargeSymbolsPoints),\n/* harmony export */   getLinePoints: () => (/* binding */ getLinePoints),\n/* harmony export */   getRulePoints: () => (/* binding */ getRulePoints),\n/* harmony export */   isPointsMarkType: () => (/* binding */ isPointsMarkType),\n/* harmony export */   isPositionOrSizeChannel: () => (/* binding */ isPositionOrSizeChannel),\n/* harmony export */   isValidPointsChannel: () => (/* binding */ isValidPointsChannel)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\nfunction isValidPointsChannel(channels, markType) {\n    switch (markType) {\n      case \"line\":\n        return channels.some((channel => [ \"x\", \"y\", \"defined\" ].includes(channel)));\n\n      case \"area\":\n        return channels.some((channel => [ \"x\", \"y\", \"x1\", \"y1\", \"defined\" ].includes(channel)));\n\n      case \"largeRects\":\n        return channels.some((channel => [ \"x\", \"y\", \"width\", \"y1\" ].includes(channel)));\n\n      case \"largeSymbols\":\n        return channels.some((channel => [ \"x\", \"y\" ].includes(channel)));\n    }\n    return !1;\n}\n\nfunction getRulePoints(nextAttrs) {\n    const {x: x, y: y, x1: x1, y1: y1} = nextAttrs;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(x) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(y) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(x1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(y1) ? [ {\n        x: x,\n        y: y\n    }, {\n        x: x1,\n        y: y1\n    } ] : [];\n}\n\nfunction getLinePoints(items, includeOnePoint, lastPoints, isArea) {\n    if (!items || !items.length || 1 === items.length && !includeOnePoint) return [];\n    return items.some((item => isValidPointsChannel(Object.keys(item.nextAttrs), \"line\"))) ? items.map(((item, index) => {\n        var _a;\n        const attrs = item.nextAttrs, {x: x, y: y, x1: x1, y1: y1, defined: defined} = null !== (_a = null == lastPoints ? void 0 : lastPoints[index]) && void 0 !== _a ? _a : {};\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.x) && (attrs.x = x), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.y) && (attrs.y = y), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.defined) && !1 === defined && (attrs.defined = !1), \n        attrs.context = item.key, isArea && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.x1) && (attrs.x1 = x1), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.y1) && (attrs.y1 = y1)), \n        attrs;\n    })) : null != lastPoints ? lastPoints : [];\n}\n\nfunction getLargeRectsPoints(items, includeOnePoint, lastPoints = []) {\n    if (!items || !items.length || 1 === items.length && !includeOnePoint) return [];\n    const arr = new Float32Array(4 * items.length);\n    return items.forEach(((item, index) => {\n        var _a, _b, _c, _d;\n        const attrs = item.nextAttrs, x = null !== (_a = attrs.x) && void 0 !== _a ? _a : lastPoints[4 * index], y = null !== (_b = attrs.y) && void 0 !== _b ? _b : lastPoints[4 * index + 1], width = null !== (_c = attrs.width) && void 0 !== _c ? _c : lastPoints[4 * index + 2], y1 = null !== (_d = attrs.y1) && void 0 !== _d ? _d : lastPoints[4 * index + 3];\n        arr[4 * index] = x, arr[4 * index + 1] = y, arr[4 * index + 2] = width, arr[4 * index + 3] = y1 - y;\n    })), arr;\n}\n\nfunction getLargeSymbolsPoints(items, includeOnePoint, lastPoints = []) {\n    if (!items || !items.length || 1 === items.length && !includeOnePoint) return [];\n    const arr = new Float32Array(2 * items.length);\n    return items.forEach(((item, index) => {\n        var _a, _b;\n        const attrs = item.nextAttrs, x = null !== (_a = attrs.x) && void 0 !== _a ? _a : lastPoints[2 * index], y = null !== (_b = attrs.y) && void 0 !== _b ? _b : lastPoints[2 * index + 1];\n        arr[2 * index] = x, arr[2 * index + 1] = y;\n    })), arr;\n}\n\nfunction isPositionOrSizeChannel(type, channel) {\n    if ([ \"x\", \"y\", \"dx\", \"dy\" ].includes(channel)) return !0;\n    switch (type) {\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.arc:\n        return [ \"innerRadius\", \"outerRadius\", \"startAngle\", \"endAngle\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group:\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.rect:\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.image:\n        return [ \"width\", \"height\", \"y1\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.path:\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.shape:\n        return [ \"path\", \"customPath\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.line:\n        return \"defined\" === channel;\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.area:\n        return [ \"x1\", \"y1\", \"defined\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.rule:\n        return [ \"x1\", \"y1\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.symbol:\n        return \"size\" === channel;\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.polygon:\n        return \"points\" === channel;\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.text:\n        return \"text\" === channel;\n    }\n    return !1;\n}\n\nfunction isPointsMarkType(markType) {\n    return [ _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.line, _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.area, _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.largeRects, _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.largeSymbols ].includes(markType);\n}\n//# sourceMappingURL=helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7O0FBRWI7O0FBRXBDO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AsV0FBVyw0QkFBNEI7QUFDdkMsV0FBVyw0REFBYSxPQUFPLDREQUFhLE9BQU8sNERBQWEsUUFBUSw0REFBYTtBQUNyRjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsOENBQThDO0FBQ3JGLGVBQWUsNERBQUssNEJBQTRCLDREQUFLLDRCQUE0Qiw0REFBSztBQUN0Riw2Q0FBNkMsNERBQUssK0JBQStCLDREQUFLO0FBQ3RGO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBLFdBQVcsbURBQWU7QUFDMUI7O0FBRUEsV0FBVyxtREFBZTtBQUMxQixXQUFXLG1EQUFlO0FBQzFCLFdBQVcsbURBQWU7QUFDMUI7O0FBRUEsV0FBVyxtREFBZTtBQUMxQixXQUFXLG1EQUFlO0FBQzFCOztBQUVBLFdBQVcsbURBQWU7QUFDMUI7O0FBRUEsV0FBVyxtREFBZTtBQUMxQjs7QUFFQSxXQUFXLG1EQUFlO0FBQzFCOztBQUVBLFdBQVcsbURBQWU7QUFDMUI7O0FBRUEsV0FBVyxtREFBZTtBQUMxQjs7QUFFQSxXQUFXLG1EQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AsYUFBYSxtREFBZSxPQUFPLG1EQUFlLE9BQU8sbURBQWUsYUFBYSxtREFBZTtBQUNwRztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2F0dHJpYnV0ZXMvaGVscGVycy5qcz85ZGVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsLCBpc1ZhbGlkTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2VudW1zXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkUG9pbnRzQ2hhbm5lbChjaGFubmVscywgbWFya1R5cGUpIHtcbiAgICBzd2l0Y2ggKG1hcmtUeXBlKSB7XG4gICAgICBjYXNlIFwibGluZVwiOlxuICAgICAgICByZXR1cm4gY2hhbm5lbHMuc29tZSgoY2hhbm5lbCA9PiBbIFwieFwiLCBcInlcIiwgXCJkZWZpbmVkXCIgXS5pbmNsdWRlcyhjaGFubmVsKSkpO1xuXG4gICAgICBjYXNlIFwiYXJlYVwiOlxuICAgICAgICByZXR1cm4gY2hhbm5lbHMuc29tZSgoY2hhbm5lbCA9PiBbIFwieFwiLCBcInlcIiwgXCJ4MVwiLCBcInkxXCIsIFwiZGVmaW5lZFwiIF0uaW5jbHVkZXMoY2hhbm5lbCkpKTtcblxuICAgICAgY2FzZSBcImxhcmdlUmVjdHNcIjpcbiAgICAgICAgcmV0dXJuIGNoYW5uZWxzLnNvbWUoKGNoYW5uZWwgPT4gWyBcInhcIiwgXCJ5XCIsIFwid2lkdGhcIiwgXCJ5MVwiIF0uaW5jbHVkZXMoY2hhbm5lbCkpKTtcblxuICAgICAgY2FzZSBcImxhcmdlU3ltYm9sc1wiOlxuICAgICAgICByZXR1cm4gY2hhbm5lbHMuc29tZSgoY2hhbm5lbCA9PiBbIFwieFwiLCBcInlcIiBdLmluY2x1ZGVzKGNoYW5uZWwpKSk7XG4gICAgfVxuICAgIHJldHVybiAhMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bGVQb2ludHMobmV4dEF0dHJzKSB7XG4gICAgY29uc3Qge3g6IHgsIHk6IHksIHgxOiB4MSwgeTE6IHkxfSA9IG5leHRBdHRycztcbiAgICByZXR1cm4gaXNWYWxpZE51bWJlcih4KSAmJiBpc1ZhbGlkTnVtYmVyKHkpICYmIGlzVmFsaWROdW1iZXIoeDEpICYmIGlzVmFsaWROdW1iZXIoeTEpID8gWyB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHlcbiAgICB9LCB7XG4gICAgICAgIHg6IHgxLFxuICAgICAgICB5OiB5MVxuICAgIH0gXSA6IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGluZVBvaW50cyhpdGVtcywgaW5jbHVkZU9uZVBvaW50LCBsYXN0UG9pbnRzLCBpc0FyZWEpIHtcbiAgICBpZiAoIWl0ZW1zIHx8ICFpdGVtcy5sZW5ndGggfHwgMSA9PT0gaXRlbXMubGVuZ3RoICYmICFpbmNsdWRlT25lUG9pbnQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gaXRlbXMuc29tZSgoaXRlbSA9PiBpc1ZhbGlkUG9pbnRzQ2hhbm5lbChPYmplY3Qua2V5cyhpdGVtLm5leHRBdHRycyksIFwibGluZVwiKSkpID8gaXRlbXMubWFwKCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBhdHRycyA9IGl0ZW0ubmV4dEF0dHJzLCB7eDogeCwgeTogeSwgeDE6IHgxLCB5MTogeTEsIGRlZmluZWQ6IGRlZmluZWR9ID0gbnVsbCAhPT0gKF9hID0gbnVsbCA9PSBsYXN0UG9pbnRzID8gdm9pZCAwIDogbGFzdFBvaW50c1tpbmRleF0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9O1xuICAgICAgICByZXR1cm4gaXNOaWwoYXR0cnMueCkgJiYgKGF0dHJzLnggPSB4KSwgaXNOaWwoYXR0cnMueSkgJiYgKGF0dHJzLnkgPSB5KSwgaXNOaWwoYXR0cnMuZGVmaW5lZCkgJiYgITEgPT09IGRlZmluZWQgJiYgKGF0dHJzLmRlZmluZWQgPSAhMSksIFxuICAgICAgICBhdHRycy5jb250ZXh0ID0gaXRlbS5rZXksIGlzQXJlYSAmJiAoaXNOaWwoYXR0cnMueDEpICYmIChhdHRycy54MSA9IHgxKSwgaXNOaWwoYXR0cnMueTEpICYmIChhdHRycy55MSA9IHkxKSksIFxuICAgICAgICBhdHRycztcbiAgICB9KSkgOiBudWxsICE9IGxhc3RQb2ludHMgPyBsYXN0UG9pbnRzIDogW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXJnZVJlY3RzUG9pbnRzKGl0ZW1zLCBpbmNsdWRlT25lUG9pbnQsIGxhc3RQb2ludHMgPSBbXSkge1xuICAgIGlmICghaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCB8fCAxID09PSBpdGVtcy5sZW5ndGggJiYgIWluY2x1ZGVPbmVQb2ludCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGFyciA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIGl0ZW1zLmxlbmd0aCk7XG4gICAgcmV0dXJuIGl0ZW1zLmZvckVhY2goKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gaXRlbS5uZXh0QXR0cnMsIHggPSBudWxsICE9PSAoX2EgPSBhdHRycy54KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBsYXN0UG9pbnRzWzQgKiBpbmRleF0sIHkgPSBudWxsICE9PSAoX2IgPSBhdHRycy55KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBsYXN0UG9pbnRzWzQgKiBpbmRleCArIDFdLCB3aWR0aCA9IG51bGwgIT09IChfYyA9IGF0dHJzLndpZHRoKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBsYXN0UG9pbnRzWzQgKiBpbmRleCArIDJdLCB5MSA9IG51bGwgIT09IChfZCA9IGF0dHJzLnkxKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBsYXN0UG9pbnRzWzQgKiBpbmRleCArIDNdO1xuICAgICAgICBhcnJbNCAqIGluZGV4XSA9IHgsIGFycls0ICogaW5kZXggKyAxXSA9IHksIGFycls0ICogaW5kZXggKyAyXSA9IHdpZHRoLCBhcnJbNCAqIGluZGV4ICsgM10gPSB5MSAtIHk7XG4gICAgfSkpLCBhcnI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXJnZVN5bWJvbHNQb2ludHMoaXRlbXMsIGluY2x1ZGVPbmVQb2ludCwgbGFzdFBvaW50cyA9IFtdKSB7XG4gICAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoIHx8IDEgPT09IGl0ZW1zLmxlbmd0aCAmJiAhaW5jbHVkZU9uZVBvaW50KSByZXR1cm4gW107XG4gICAgY29uc3QgYXJyID0gbmV3IEZsb2F0MzJBcnJheSgyICogaXRlbXMubGVuZ3RoKTtcbiAgICByZXR1cm4gaXRlbXMuZm9yRWFjaCgoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gaXRlbS5uZXh0QXR0cnMsIHggPSBudWxsICE9PSAoX2EgPSBhdHRycy54KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBsYXN0UG9pbnRzWzIgKiBpbmRleF0sIHkgPSBudWxsICE9PSAoX2IgPSBhdHRycy55KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBsYXN0UG9pbnRzWzIgKiBpbmRleCArIDFdO1xuICAgICAgICBhcnJbMiAqIGluZGV4XSA9IHgsIGFyclsyICogaW5kZXggKyAxXSA9IHk7XG4gICAgfSkpLCBhcnI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Bvc2l0aW9uT3JTaXplQ2hhbm5lbCh0eXBlLCBjaGFubmVsKSB7XG4gICAgaWYgKFsgXCJ4XCIsIFwieVwiLCBcImR4XCIsIFwiZHlcIiBdLmluY2x1ZGVzKGNoYW5uZWwpKSByZXR1cm4gITA7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5hcmM6XG4gICAgICAgIHJldHVybiBbIFwiaW5uZXJSYWRpdXNcIiwgXCJvdXRlclJhZGl1c1wiLCBcInN0YXJ0QW5nbGVcIiwgXCJlbmRBbmdsZVwiIF0uaW5jbHVkZXMoY2hhbm5lbCk7XG5cbiAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmdyb3VwOlxuICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUucmVjdDpcbiAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmltYWdlOlxuICAgICAgICByZXR1cm4gWyBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwieTFcIiBdLmluY2x1ZGVzKGNoYW5uZWwpO1xuXG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5wYXRoOlxuICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuc2hhcGU6XG4gICAgICAgIHJldHVybiBbIFwicGF0aFwiLCBcImN1c3RvbVBhdGhcIiBdLmluY2x1ZGVzKGNoYW5uZWwpO1xuXG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5saW5lOlxuICAgICAgICByZXR1cm4gXCJkZWZpbmVkXCIgPT09IGNoYW5uZWw7XG5cbiAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmFyZWE6XG4gICAgICAgIHJldHVybiBbIFwieDFcIiwgXCJ5MVwiLCBcImRlZmluZWRcIiBdLmluY2x1ZGVzKGNoYW5uZWwpO1xuXG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5ydWxlOlxuICAgICAgICByZXR1cm4gWyBcIngxXCIsIFwieTFcIiBdLmluY2x1ZGVzKGNoYW5uZWwpO1xuXG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5zeW1ib2w6XG4gICAgICAgIHJldHVybiBcInNpemVcIiA9PT0gY2hhbm5lbDtcblxuICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUucG9seWdvbjpcbiAgICAgICAgcmV0dXJuIFwicG9pbnRzXCIgPT09IGNoYW5uZWw7XG5cbiAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnRleHQ6XG4gICAgICAgIHJldHVybiBcInRleHRcIiA9PT0gY2hhbm5lbDtcbiAgICB9XG4gICAgcmV0dXJuICExO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQb2ludHNNYXJrVHlwZShtYXJrVHlwZSkge1xuICAgIHJldHVybiBbIEdyYW1tYXJNYXJrVHlwZS5saW5lLCBHcmFtbWFyTWFya1R5cGUuYXJlYSwgR3JhbW1hck1hcmtUeXBlLmxhcmdlUmVjdHMsIEdyYW1tYXJNYXJrVHlwZS5sYXJnZVN5bWJvbHMgXS5pbmNsdWRlcyhtYXJrVHlwZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZWxwZXJzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/line.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/line.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getConnectLineSegmentConfigs: () => (/* binding */ getConnectLineSegmentConfigs),\n/* harmony export */   getLinePointsFromSegments: () => (/* binding */ getLinePointsFromSegments),\n/* harmony export */   getLineSegmentConfigs: () => (/* binding */ getLineSegmentConfigs),\n/* harmony export */   parseCollectionMarkAttributes: () => (/* binding */ parseCollectionMarkAttributes),\n/* harmony export */   removeSegmentAttrs: () => (/* binding */ removeSegmentAttrs)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nconst isStopsEqual = (prev, next) => {\n    var _a, _b;\n    if (prev === next) return !0;\n    const prevLength = null !== (_a = prev && prev.length) && void 0 !== _a ? _a : 0;\n    return prevLength === (null !== (_b = next && next.length) && void 0 !== _b ? _b : 0) && 0 !== prevLength && prev.every(((prevEntry, prevIndex) => !prevEntry && !next[prevIndex] || prevEntry && next[prevIndex] && prevEntry.color === next[prevIndex].color && prevEntry.offset === next[prevIndex].offset));\n}, isColorAttrEqual = (prev, next) => {\n    if (prev === next) return !0;\n    if (typeof prev != typeof next) return !1;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(prev)) return !1;\n    if (prev.gradient !== next.gradient) return !1;\n    const prevKeys = Object.keys(prev), nextKeys = Object.keys(next);\n    return prevKeys.length === nextKeys.length && prevKeys.every((key => \"stops\" === key ? isStopsEqual(prev[key], next[key]) : prev[key] === next[key]));\n}, isLineDashEqual = (prev, next) => prev.length === next.length && prev.join(\"-\") === next.join(\"-\"), isSegmentAttrEqual = (prev, next, key) => !(!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prev) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(next)) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prev) && (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(next) && (\"lineDash\" === key ? isLineDashEqual(prev, next) : \"stroke\" === key || \"fill\" === key ? isColorAttrEqual(prev, next) : prev === next)), fillAttrs = [ \"fill\", \"fillOpacity\", \"background\", \"texture\", \"texturePadding\", \"textureSize\", \"textureColor\" ], strokeAttrs = [ \"stroke\", \"strokeOpacity\", \"lineDash\", \"lineDashOffset\", \"lineCap\", \"lineJoin\", \"lineWidth\", \"miterLimit\" ], areaAttrs = fillAttrs.concat(strokeAttrs);\n\nfunction getLineSegmentConfigs(items, points, element) {\n    var _a;\n    if (!items || items.length <= 1) return null;\n    const checkAttributes = \"area\" === (null === (_a = null == element ? void 0 : element.mark) || void 0 === _a ? void 0 : _a.markType) ? areaAttrs : strokeAttrs, segments = [];\n    let prevSegmentAttrs = null;\n    return items.forEach(((item, index) => {\n        prevSegmentAttrs && checkAttributes.every((key => isSegmentAttrEqual(prevSegmentAttrs[key], item[key], key))) || (segments.length && (segments[segments.length - 1].endIndex = index), \n        prevSegmentAttrs = item, segments.push({\n            attrs: prevSegmentAttrs,\n            startIndex: index\n        }));\n    })), segments.length >= 2 ? segments.map((entry => {\n        const res = parseCollectionMarkAttributes(entry.attrs);\n        return res.points = points.slice(entry.startIndex, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(entry.endIndex) ? points.length : entry.endIndex), \n        res;\n    })) : null;\n}\n\nfunction getConnectLineSegmentConfigs(items, points, element) {\n    if (!items || items.length <= 1) return null;\n    const enableSegments = !!element && element.mark.getSpec().enableSegments;\n    let isPrevDefined, curSegment, segments = [], point = null;\n    if (items.forEach(((item, index) => {\n        point = points[index], point && !1 !== point.defined ? (isPrevDefined || (curSegment = {\n            items: [],\n            points: []\n        }, segments.push(curSegment)), curSegment.points.push(point), curSegment.items.push(item), \n        !1 === isPrevDefined && (curSegment.isConnect = !0, curSegment = {\n            items: [],\n            points: []\n        }, segments.push(curSegment)), isPrevDefined = !0) : isPrevDefined = !1;\n    })), segments = segments.filter((seg => seg.points.length > 0)), segments.length >= 2) {\n        const res = [];\n        return segments.forEach((entry => {\n            if (entry.isConnect) return void res.push({\n                points: entry.points,\n                isConnect: !0\n            });\n            if (enableSegments) {\n                const subSegments = getLineSegmentConfigs(entry.items, entry.points, element);\n                if (subSegments) return void subSegments.forEach((subSeg => {\n                    res.push(subSeg);\n                }));\n            }\n            const seg = parseCollectionMarkAttributes(entry.items[0]);\n            seg.points = entry.points, res.push(seg);\n        })), res;\n    }\n    return enableSegments ? getLineSegmentConfigs(items, points, element) : null;\n}\n\nfunction getLinePointsFromSegments(segments) {\n    return segments ? segments.reduce(((points, segment) => points.concat(segment.points)), []) : null;\n}\n\nfunction parseCollectionMarkAttributes(itemNextAttrs) {\n    const result = {};\n    if (!itemNextAttrs) return result;\n    const skipKeys = [ \"x\", \"y\", \"x1\", \"y1\", \"defined\", \"size\", \"width\", \"height\", \"context\" ];\n    return Object.keys(itemNextAttrs).forEach((key => {\n        skipKeys.includes(key) || (result[key] = itemNextAttrs[key]);\n    })), result;\n}\n\nfunction removeSegmentAttrs(itemNextAttrs, element) {\n    var _a;\n    if (!itemNextAttrs || !itemNextAttrs.segments || !itemNextAttrs.segments.length) return itemNextAttrs;\n    const segmentKeys = \"area\" === (null === (_a = null == element ? void 0 : element.mark) || void 0 === _a ? void 0 : _a.markType) ? [ \"fillOpacity\", \"strokeOpacity\" ] : [ \"strokeOpacity\" ], result = {};\n    return Object.keys(itemNextAttrs).forEach((key => {\n        segmentKeys.includes(key) || (result[key] = itemNextAttrs[key]);\n    })), result;\n}\n//# sourceMappingURL=line.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9saW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUQ7O0FBRW5EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFFBQVEsNERBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtSkFBbUosNERBQUssV0FBVyw0REFBSyxZQUFZLDREQUFLLFlBQVksNERBQUs7O0FBRXBNO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDJEQUEyRCw0REFBSztBQUNoRTtBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9saW5lLmpzPzc0NzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuY29uc3QgaXNTdG9wc0VxdWFsID0gKHByZXYsIG5leHQpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChwcmV2ID09PSBuZXh0KSByZXR1cm4gITA7XG4gICAgY29uc3QgcHJldkxlbmd0aCA9IG51bGwgIT09IChfYSA9IHByZXYgJiYgcHJldi5sZW5ndGgpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDA7XG4gICAgcmV0dXJuIHByZXZMZW5ndGggPT09IChudWxsICE9PSAoX2IgPSBuZXh0ICYmIG5leHQubGVuZ3RoKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAwKSAmJiAwICE9PSBwcmV2TGVuZ3RoICYmIHByZXYuZXZlcnkoKChwcmV2RW50cnksIHByZXZJbmRleCkgPT4gIXByZXZFbnRyeSAmJiAhbmV4dFtwcmV2SW5kZXhdIHx8IHByZXZFbnRyeSAmJiBuZXh0W3ByZXZJbmRleF0gJiYgcHJldkVudHJ5LmNvbG9yID09PSBuZXh0W3ByZXZJbmRleF0uY29sb3IgJiYgcHJldkVudHJ5Lm9mZnNldCA9PT0gbmV4dFtwcmV2SW5kZXhdLm9mZnNldCkpO1xufSwgaXNDb2xvckF0dHJFcXVhbCA9IChwcmV2LCBuZXh0KSA9PiB7XG4gICAgaWYgKHByZXYgPT09IG5leHQpIHJldHVybiAhMDtcbiAgICBpZiAodHlwZW9mIHByZXYgIT0gdHlwZW9mIG5leHQpIHJldHVybiAhMTtcbiAgICBpZiAoaXNTdHJpbmcocHJldikpIHJldHVybiAhMTtcbiAgICBpZiAocHJldi5ncmFkaWVudCAhPT0gbmV4dC5ncmFkaWVudCkgcmV0dXJuICExO1xuICAgIGNvbnN0IHByZXZLZXlzID0gT2JqZWN0LmtleXMocHJldiksIG5leHRLZXlzID0gT2JqZWN0LmtleXMobmV4dCk7XG4gICAgcmV0dXJuIHByZXZLZXlzLmxlbmd0aCA9PT0gbmV4dEtleXMubGVuZ3RoICYmIHByZXZLZXlzLmV2ZXJ5KChrZXkgPT4gXCJzdG9wc1wiID09PSBrZXkgPyBpc1N0b3BzRXF1YWwocHJldltrZXldLCBuZXh0W2tleV0pIDogcHJldltrZXldID09PSBuZXh0W2tleV0pKTtcbn0sIGlzTGluZURhc2hFcXVhbCA9IChwcmV2LCBuZXh0KSA9PiBwcmV2Lmxlbmd0aCA9PT0gbmV4dC5sZW5ndGggJiYgcHJldi5qb2luKFwiLVwiKSA9PT0gbmV4dC5qb2luKFwiLVwiKSwgaXNTZWdtZW50QXR0ckVxdWFsID0gKHByZXYsIG5leHQsIGtleSkgPT4gISghaXNOaWwocHJldikgfHwgIWlzTmlsKG5leHQpKSB8fCAhaXNOaWwocHJldikgJiYgKCFpc05pbChuZXh0KSAmJiAoXCJsaW5lRGFzaFwiID09PSBrZXkgPyBpc0xpbmVEYXNoRXF1YWwocHJldiwgbmV4dCkgOiBcInN0cm9rZVwiID09PSBrZXkgfHwgXCJmaWxsXCIgPT09IGtleSA/IGlzQ29sb3JBdHRyRXF1YWwocHJldiwgbmV4dCkgOiBwcmV2ID09PSBuZXh0KSksIGZpbGxBdHRycyA9IFsgXCJmaWxsXCIsIFwiZmlsbE9wYWNpdHlcIiwgXCJiYWNrZ3JvdW5kXCIsIFwidGV4dHVyZVwiLCBcInRleHR1cmVQYWRkaW5nXCIsIFwidGV4dHVyZVNpemVcIiwgXCJ0ZXh0dXJlQ29sb3JcIiBdLCBzdHJva2VBdHRycyA9IFsgXCJzdHJva2VcIiwgXCJzdHJva2VPcGFjaXR5XCIsIFwibGluZURhc2hcIiwgXCJsaW5lRGFzaE9mZnNldFwiLCBcImxpbmVDYXBcIiwgXCJsaW5lSm9pblwiLCBcImxpbmVXaWR0aFwiLCBcIm1pdGVyTGltaXRcIiBdLCBhcmVhQXR0cnMgPSBmaWxsQXR0cnMuY29uY2F0KHN0cm9rZUF0dHJzKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVTZWdtZW50Q29uZmlncyhpdGVtcywgcG9pbnRzLCBlbGVtZW50KSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghaXRlbXMgfHwgaXRlbXMubGVuZ3RoIDw9IDEpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGNoZWNrQXR0cmlidXRlcyA9IFwiYXJlYVwiID09PSAobnVsbCA9PT0gKF9hID0gbnVsbCA9PSBlbGVtZW50ID8gdm9pZCAwIDogZWxlbWVudC5tYXJrKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubWFya1R5cGUpID8gYXJlYUF0dHJzIDogc3Ryb2tlQXR0cnMsIHNlZ21lbnRzID0gW107XG4gICAgbGV0IHByZXZTZWdtZW50QXR0cnMgPSBudWxsO1xuICAgIHJldHVybiBpdGVtcy5mb3JFYWNoKCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgcHJldlNlZ21lbnRBdHRycyAmJiBjaGVja0F0dHJpYnV0ZXMuZXZlcnkoKGtleSA9PiBpc1NlZ21lbnRBdHRyRXF1YWwocHJldlNlZ21lbnRBdHRyc1trZXldLCBpdGVtW2tleV0sIGtleSkpKSB8fCAoc2VnbWVudHMubGVuZ3RoICYmIChzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLSAxXS5lbmRJbmRleCA9IGluZGV4KSwgXG4gICAgICAgIHByZXZTZWdtZW50QXR0cnMgPSBpdGVtLCBzZWdtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGF0dHJzOiBwcmV2U2VnbWVudEF0dHJzLFxuICAgICAgICAgICAgc3RhcnRJbmRleDogaW5kZXhcbiAgICAgICAgfSkpO1xuICAgIH0pKSwgc2VnbWVudHMubGVuZ3RoID49IDIgPyBzZWdtZW50cy5tYXAoKGVudHJ5ID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gcGFyc2VDb2xsZWN0aW9uTWFya0F0dHJpYnV0ZXMoZW50cnkuYXR0cnMpO1xuICAgICAgICByZXR1cm4gcmVzLnBvaW50cyA9IHBvaW50cy5zbGljZShlbnRyeS5zdGFydEluZGV4LCBpc05pbChlbnRyeS5lbmRJbmRleCkgPyBwb2ludHMubGVuZ3RoIDogZW50cnkuZW5kSW5kZXgpLCBcbiAgICAgICAgcmVzO1xuICAgIH0pKSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25uZWN0TGluZVNlZ21lbnRDb25maWdzKGl0ZW1zLCBwb2ludHMsIGVsZW1lbnQpIHtcbiAgICBpZiAoIWl0ZW1zIHx8IGl0ZW1zLmxlbmd0aCA8PSAxKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBlbmFibGVTZWdtZW50cyA9ICEhZWxlbWVudCAmJiBlbGVtZW50Lm1hcmsuZ2V0U3BlYygpLmVuYWJsZVNlZ21lbnRzO1xuICAgIGxldCBpc1ByZXZEZWZpbmVkLCBjdXJTZWdtZW50LCBzZWdtZW50cyA9IFtdLCBwb2ludCA9IG51bGw7XG4gICAgaWYgKGl0ZW1zLmZvckVhY2goKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBwb2ludCA9IHBvaW50c1tpbmRleF0sIHBvaW50ICYmICExICE9PSBwb2ludC5kZWZpbmVkID8gKGlzUHJldkRlZmluZWQgfHwgKGN1clNlZ21lbnQgPSB7XG4gICAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgICAgICBwb2ludHM6IFtdXG4gICAgICAgIH0sIHNlZ21lbnRzLnB1c2goY3VyU2VnbWVudCkpLCBjdXJTZWdtZW50LnBvaW50cy5wdXNoKHBvaW50KSwgY3VyU2VnbWVudC5pdGVtcy5wdXNoKGl0ZW0pLCBcbiAgICAgICAgITEgPT09IGlzUHJldkRlZmluZWQgJiYgKGN1clNlZ21lbnQuaXNDb25uZWN0ID0gITAsIGN1clNlZ21lbnQgPSB7XG4gICAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgICAgICBwb2ludHM6IFtdXG4gICAgICAgIH0sIHNlZ21lbnRzLnB1c2goY3VyU2VnbWVudCkpLCBpc1ByZXZEZWZpbmVkID0gITApIDogaXNQcmV2RGVmaW5lZCA9ICExO1xuICAgIH0pKSwgc2VnbWVudHMgPSBzZWdtZW50cy5maWx0ZXIoKHNlZyA9PiBzZWcucG9pbnRzLmxlbmd0aCA+IDApKSwgc2VnbWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgY29uc3QgcmVzID0gW107XG4gICAgICAgIHJldHVybiBzZWdtZW50cy5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkuaXNDb25uZWN0KSByZXR1cm4gdm9pZCByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgcG9pbnRzOiBlbnRyeS5wb2ludHMsXG4gICAgICAgICAgICAgICAgaXNDb25uZWN0OiAhMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZW5hYmxlU2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJTZWdtZW50cyA9IGdldExpbmVTZWdtZW50Q29uZmlncyhlbnRyeS5pdGVtcywgZW50cnkucG9pbnRzLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViU2VnbWVudHMpIHJldHVybiB2b2lkIHN1YlNlZ21lbnRzLmZvckVhY2goKHN1YlNlZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKHN1YlNlZyk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2VnID0gcGFyc2VDb2xsZWN0aW9uTWFya0F0dHJpYnV0ZXMoZW50cnkuaXRlbXNbMF0pO1xuICAgICAgICAgICAgc2VnLnBvaW50cyA9IGVudHJ5LnBvaW50cywgcmVzLnB1c2goc2VnKTtcbiAgICAgICAgfSkpLCByZXM7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVTZWdtZW50cyA/IGdldExpbmVTZWdtZW50Q29uZmlncyhpdGVtcywgcG9pbnRzLCBlbGVtZW50KSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaW5lUG9pbnRzRnJvbVNlZ21lbnRzKHNlZ21lbnRzKSB7XG4gICAgcmV0dXJuIHNlZ21lbnRzID8gc2VnbWVudHMucmVkdWNlKCgocG9pbnRzLCBzZWdtZW50KSA9PiBwb2ludHMuY29uY2F0KHNlZ21lbnQucG9pbnRzKSksIFtdKSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNvbGxlY3Rpb25NYXJrQXR0cmlidXRlcyhpdGVtTmV4dEF0dHJzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgaWYgKCFpdGVtTmV4dEF0dHJzKSByZXR1cm4gcmVzdWx0O1xuICAgIGNvbnN0IHNraXBLZXlzID0gWyBcInhcIiwgXCJ5XCIsIFwieDFcIiwgXCJ5MVwiLCBcImRlZmluZWRcIiwgXCJzaXplXCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJjb250ZXh0XCIgXTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoaXRlbU5leHRBdHRycykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgc2tpcEtleXMuaW5jbHVkZXMoa2V5KSB8fCAocmVzdWx0W2tleV0gPSBpdGVtTmV4dEF0dHJzW2tleV0pO1xuICAgIH0pKSwgcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU2VnbWVudEF0dHJzKGl0ZW1OZXh0QXR0cnMsIGVsZW1lbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFpdGVtTmV4dEF0dHJzIHx8ICFpdGVtTmV4dEF0dHJzLnNlZ21lbnRzIHx8ICFpdGVtTmV4dEF0dHJzLnNlZ21lbnRzLmxlbmd0aCkgcmV0dXJuIGl0ZW1OZXh0QXR0cnM7XG4gICAgY29uc3Qgc2VnbWVudEtleXMgPSBcImFyZWFcIiA9PT0gKG51bGwgPT09IChfYSA9IG51bGwgPT0gZWxlbWVudCA/IHZvaWQgMCA6IGVsZW1lbnQubWFyaykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm1hcmtUeXBlKSA/IFsgXCJmaWxsT3BhY2l0eVwiLCBcInN0cm9rZU9wYWNpdHlcIiBdIDogWyBcInN0cm9rZU9wYWNpdHlcIiBdLCByZXN1bHQgPSB7fTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoaXRlbU5leHRBdHRycykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgc2VnbWVudEtleXMuaW5jbHVkZXMoa2V5KSB8fCAocmVzdWx0W2tleV0gPSBpdGVtTmV4dEF0dHJzW2tleV0pO1xuICAgIH0pKSwgcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGluZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/line.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneTransformAttributes: () => (/* binding */ cloneTransformAttributes),\n/* harmony export */   transformAttributes: () => (/* binding */ transformAttributes),\n/* harmony export */   transformsByType: () => (/* binding */ transformsByType)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isPlainObject.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/has.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/common.js\");\n\n\n\n\n\n\n\n\nfunction storeOriginAttributes(name, channels, graphicAttributes, nextAttrs, element, markName) {\n    const prevStoredAttrs = element.getGraphicAttribute(name, !1, markName);\n    if (prevStoredAttrs) return channels.forEach((channel => {\n        channel in nextAttrs && (prevStoredAttrs[channel] = nextAttrs[channel]);\n    })), prevStoredAttrs;\n    const storedAttrs = {};\n    return channels.forEach((channel => {\n        storedAttrs[channel] = nextAttrs[channel];\n    })), graphicAttributes[name] = storedAttrs, storedAttrs;\n}\n\nconst transformsByType = {\n    rect3d: [ {\n        channels: [ \"x\", \"y\", \"z\", \"x1\", \"y1\", \"width\", \"height\", \"length\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.width) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.x1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.width) ? (graphicAttributes.x = Math.min(null !== (_a = storedAttrs.x) && void 0 !== _a ? _a : 0, null !== (_b = storedAttrs.x1) && void 0 !== _b ? _b : 1 / 0), \n            graphicAttributes.width = storedAttrs.width) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.x1) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.width) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.x1) ? (graphicAttributes.x = Math.min(storedAttrs.x, storedAttrs.x1), \n            graphicAttributes.width = Math.abs(storedAttrs.x1 - storedAttrs.x)) : (graphicAttributes.x = Math.min(null !== (_c = storedAttrs.x) && void 0 !== _c ? _c : 0, null !== (_d = storedAttrs.x1) && void 0 !== _d ? _d : 1 / 0), \n            graphicAttributes.width = storedAttrs.width), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.height) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.y1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.height) ? (graphicAttributes.y = Math.min(null !== (_e = storedAttrs.y) && void 0 !== _e ? _e : 0, null !== (_f = storedAttrs.y1) && void 0 !== _f ? _f : 1 / 0), \n            graphicAttributes.height = storedAttrs.height) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.y1) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.height) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.y1) ? (graphicAttributes.y = Math.min(storedAttrs.y, storedAttrs.y1), \n            graphicAttributes.height = Math.abs(storedAttrs.y1 - storedAttrs.y)) : (graphicAttributes.y = Math.min(null !== (_g = storedAttrs.y) && void 0 !== _g ? _g : 0, null !== (_h = storedAttrs.y1) && void 0 !== _h ? _h : 1 / 0), \n            graphicAttributes.height = storedAttrs.height), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.length) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.z1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.length) ? (graphicAttributes.z = Math.min(null !== (_j = storedAttrs.z) && void 0 !== _j ? _j : 0, null !== (_k = storedAttrs.z1) && void 0 !== _k ? _k : 1 / 0), \n            graphicAttributes.length = storedAttrs.length) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.z1) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.length) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.z1) ? (graphicAttributes.z = Math.min(storedAttrs.z, storedAttrs.z1), \n            graphicAttributes.length = Math.abs(storedAttrs.z1 - storedAttrs.z)) : (graphicAttributes.z = Math.min(null !== (_l = storedAttrs.z) && void 0 !== _l ? _l : 0, null !== (_m = storedAttrs.z1) && void 0 !== _m ? _m : 1 / 0), \n            graphicAttributes.length = storedAttrs.length);\n        },\n        storedAttrs: \"sizeAttrs\"\n    } ],\n    [_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.text]: [ {\n        channels: [ \"text\", \"limit\", \"autoLimit\", \"maxLineWidth\", \"textType\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            var _a, _b;\n            const limit = null !== (_a = storedAttrs.limit) && void 0 !== _a ? _a : 1 / 0, autoLimit = null !== (_b = storedAttrs.autoLimit) && void 0 !== _b ? _b : 1 / 0, maxWidth = Math.min(limit, autoLimit), isTextConfig = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(storedAttrs.text) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(storedAttrs.text.text), text = isTextConfig ? storedAttrs.text.text : storedAttrs.text;\n            Array.isArray(text), graphicAttributes.maxLineWidth = maxWidth === 1 / 0 ? storedAttrs.maxLineWidth : maxWidth, \n            (isTextConfig || storedAttrs.textType) && (\"rich\" === storedAttrs.text.type || \"rich\" === storedAttrs.textType) ? graphicAttributes.textConfig = text : graphicAttributes.text = text;\n        },\n        storedAttrs: \"limitAttrs\"\n    } ],\n    [_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.rule]: [ {\n        channels: [ \"x\", \"y\", \"x1\", \"y1\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            const points = (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getRulePoints)(storedAttrs);\n            graphicAttributes.points = points, graphicAttributes.x = 0, graphicAttributes.y = 0;\n        },\n        storedAttrs: \"pointAttrs\"\n    } ],\n    [_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.symbol]: [ {\n        channels: [ \"shape\", \"symbolType\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            var _a;\n            graphicAttributes.symbolType = null !== (_a = nextAttrs.shape) && void 0 !== _a ? _a : nextAttrs.symbolType;\n        }\n    }, {\n        channels: [ \"image\", \"fill\", \"background\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            nextAttrs.image ? (graphicAttributes.background = nextAttrs.image, graphicAttributes.fill = !1) : storedAttrs.image ? (graphicAttributes.background = storedAttrs.image, \n            graphicAttributes.fill = !1) : (graphicAttributes.fill = storedAttrs.fill, graphicAttributes.background = storedAttrs.background);\n        },\n        storedAttrs: \"imageAttrs\"\n    } ]\n};\n\nfunction cloneTransformAttributes(markType, attributes) {\n    var _a;\n    return (null !== (_a = transformsByType[markType]) && void 0 !== _a ? _a : []).reduce(((clonedAttributes, transform) => (transform.channels.forEach((channel => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(attributes, channel) && (clonedAttributes[channel] = attributes[channel]);\n    })), clonedAttributes)), {});\n}\n\nconst transformAttributes = (markType, nextAttrs, element, markName) => {\n    const graphicAttributes = {}, changedKeys = nextAttrs ? Object.keys(nextAttrs) : [], transforms = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(markType) ? transformsByType[markType] : markType;\n    if (transforms && transforms.length) {\n        const tags = [];\n        changedKeys.forEach((key => {\n            let isTransformed = !1;\n            transforms.forEach(((transform, index) => {\n                if (transform.channels.includes(key)) {\n                    if (!tags[index]) if (transform.storedAttrs) {\n                        const storedAttrs = storeOriginAttributes(transform.storedAttrs, transform.channels, graphicAttributes, nextAttrs, element, markName);\n                        transform.transform(graphicAttributes, nextAttrs, storedAttrs);\n                    } else transform.transform(graphicAttributes, nextAttrs, null);\n                    tags[index] = !0, isTransformed = !0;\n                }\n            })), isTransformed || (_common__WEBPACK_IMPORTED_MODULE_7__.commonAttributes.includes(key) ? (0,_common__WEBPACK_IMPORTED_MODULE_7__.transformCommonAttribute)(graphicAttributes, key, nextAttrs) : graphicAttributes[key] = nextAttrs[key]);\n        }));\n    } else changedKeys.forEach((key => {\n        _common__WEBPACK_IMPORTED_MODULE_7__.commonAttributes.includes(key) ? (0,_common__WEBPACK_IMPORTED_MODULE_7__.transformCommonAttribute)(graphicAttributes, key, nextAttrs) : graphicAttributes[key] = nextAttrs[key];\n    }));\n    return graphicAttributes;\n};\n//# sourceMappingURL=transform.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy90cmFuc2Zvcm0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0Y7O0FBRTNDOztBQUVEOztBQUU0Qjs7QUFFdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFhLHNCQUFzQiw0REFBYSxrQkFBa0IsNERBQWE7QUFDM0YsMkRBQTJELDREQUFhLG1CQUFtQiw0REFBYSxxQkFBcUIsNERBQWE7QUFDMUk7QUFDQSwwREFBMEQsNERBQWEsdUJBQXVCLDREQUFhLGtCQUFrQiw0REFBYTtBQUMxSSw2REFBNkQsNERBQWEsbUJBQW1CLDREQUFhLHNCQUFzQiw0REFBYTtBQUM3STtBQUNBLDREQUE0RCw0REFBYSx1QkFBdUIsNERBQWEsa0JBQWtCLDREQUFhO0FBQzVJLDZEQUE2RCw0REFBYSxtQkFBbUIsNERBQWEsc0JBQXNCLDREQUFhO0FBQzdJO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ04sS0FBSyxtREFBZTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxrT0FBa08sNERBQWEsdUJBQXVCLDREQUFLO0FBQzNRO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ04sS0FBSyxtREFBZTtBQUNwQjtBQUNBO0FBQ0EsMkJBQTJCLHVEQUFhO0FBQ3hDO0FBQ0EsU0FBUztBQUNUO0FBQ0EsTUFBTTtBQUNOLEtBQUssbURBQWU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjs7QUFFTztBQUNQO0FBQ0E7QUFDQSxRQUFRLDREQUFHO0FBQ1gsS0FBSywwQkFBMEI7QUFDL0I7O0FBRU87QUFDUCxnQ0FBZ0Msc0VBQXNFLDREQUFRO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxzQkFBc0IscURBQWdCLGlCQUFpQixpRUFBd0I7QUFDNUYsU0FBUztBQUNULE1BQU07QUFDTixRQUFRLHFEQUFnQixpQkFBaUIsaUVBQXdCO0FBQ2pFLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy90cmFuc2Zvcm0uanM/NDAwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXMsIGlzTmlsLCBpc1BsYWluT2JqZWN0LCBpc1N0cmluZywgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9lbnVtc1wiO1xuXG5pbXBvcnQgeyBnZXRSdWxlUG9pbnRzIH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuXG5pbXBvcnQgeyBjb21tb25BdHRyaWJ1dGVzLCB0cmFuc2Zvcm1Db21tb25BdHRyaWJ1dGUgfSBmcm9tIFwiLi9jb21tb25cIjtcblxuZnVuY3Rpb24gc3RvcmVPcmlnaW5BdHRyaWJ1dGVzKG5hbWUsIGNoYW5uZWxzLCBncmFwaGljQXR0cmlidXRlcywgbmV4dEF0dHJzLCBlbGVtZW50LCBtYXJrTmFtZSkge1xuICAgIGNvbnN0IHByZXZTdG9yZWRBdHRycyA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShuYW1lLCAhMSwgbWFya05hbWUpO1xuICAgIGlmIChwcmV2U3RvcmVkQXR0cnMpIHJldHVybiBjaGFubmVscy5mb3JFYWNoKChjaGFubmVsID0+IHtcbiAgICAgICAgY2hhbm5lbCBpbiBuZXh0QXR0cnMgJiYgKHByZXZTdG9yZWRBdHRyc1tjaGFubmVsXSA9IG5leHRBdHRyc1tjaGFubmVsXSk7XG4gICAgfSkpLCBwcmV2U3RvcmVkQXR0cnM7XG4gICAgY29uc3Qgc3RvcmVkQXR0cnMgPSB7fTtcbiAgICByZXR1cm4gY2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCA9PiB7XG4gICAgICAgIHN0b3JlZEF0dHJzW2NoYW5uZWxdID0gbmV4dEF0dHJzW2NoYW5uZWxdO1xuICAgIH0pKSwgZ3JhcGhpY0F0dHJpYnV0ZXNbbmFtZV0gPSBzdG9yZWRBdHRycywgc3RvcmVkQXR0cnM7XG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1zQnlUeXBlID0ge1xuICAgIHJlY3QzZDogWyB7XG4gICAgICAgIGNoYW5uZWxzOiBbIFwieFwiLCBcInlcIiwgXCJ6XCIsIFwieDFcIiwgXCJ5MVwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwibGVuZ3RoXCIgXSxcbiAgICAgICAgdHJhbnNmb3JtOiAoZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgc3RvcmVkQXR0cnMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tO1xuICAgICAgICAgICAgaXNWYWxpZE51bWJlcihuZXh0QXR0cnMud2lkdGgpIHx8ICFpc1ZhbGlkTnVtYmVyKG5leHRBdHRycy54MSkgJiYgaXNWYWxpZE51bWJlcihzdG9yZWRBdHRycy53aWR0aCkgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMueCA9IE1hdGgubWluKG51bGwgIT09IChfYSA9IHN0b3JlZEF0dHJzLngpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDAsIG51bGwgIT09IChfYiA9IHN0b3JlZEF0dHJzLngxKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAxIC8gMCksIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMud2lkdGggPSBzdG9yZWRBdHRycy53aWR0aCkgOiBpc1ZhbGlkTnVtYmVyKG5leHRBdHRycy54MSkgfHwgIWlzVmFsaWROdW1iZXIobmV4dEF0dHJzLndpZHRoKSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLngxKSA/IChncmFwaGljQXR0cmlidXRlcy54ID0gTWF0aC5taW4oc3RvcmVkQXR0cnMueCwgc3RvcmVkQXR0cnMueDEpLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLndpZHRoID0gTWF0aC5hYnMoc3RvcmVkQXR0cnMueDEgLSBzdG9yZWRBdHRycy54KSkgOiAoZ3JhcGhpY0F0dHJpYnV0ZXMueCA9IE1hdGgubWluKG51bGwgIT09IChfYyA9IHN0b3JlZEF0dHJzLngpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IDAsIG51bGwgIT09IChfZCA9IHN0b3JlZEF0dHJzLngxKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAxIC8gMCksIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMud2lkdGggPSBzdG9yZWRBdHRycy53aWR0aCksIGlzVmFsaWROdW1iZXIobmV4dEF0dHJzLmhlaWdodCkgfHwgIWlzVmFsaWROdW1iZXIobmV4dEF0dHJzLnkxKSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLmhlaWdodCkgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMueSA9IE1hdGgubWluKG51bGwgIT09IChfZSA9IHN0b3JlZEF0dHJzLnkpICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IDAsIG51bGwgIT09IChfZiA9IHN0b3JlZEF0dHJzLnkxKSAmJiB2b2lkIDAgIT09IF9mID8gX2YgOiAxIC8gMCksIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMuaGVpZ2h0ID0gc3RvcmVkQXR0cnMuaGVpZ2h0KSA6IGlzVmFsaWROdW1iZXIobmV4dEF0dHJzLnkxKSB8fCAhaXNWYWxpZE51bWJlcihuZXh0QXR0cnMuaGVpZ2h0KSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLnkxKSA/IChncmFwaGljQXR0cmlidXRlcy55ID0gTWF0aC5taW4oc3RvcmVkQXR0cnMueSwgc3RvcmVkQXR0cnMueTEpLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmhlaWdodCA9IE1hdGguYWJzKHN0b3JlZEF0dHJzLnkxIC0gc3RvcmVkQXR0cnMueSkpIDogKGdyYXBoaWNBdHRyaWJ1dGVzLnkgPSBNYXRoLm1pbihudWxsICE9PSAoX2cgPSBzdG9yZWRBdHRycy55KSAmJiB2b2lkIDAgIT09IF9nID8gX2cgOiAwLCBudWxsICE9PSAoX2ggPSBzdG9yZWRBdHRycy55MSkgJiYgdm9pZCAwICE9PSBfaCA/IF9oIDogMSAvIDApLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmhlaWdodCA9IHN0b3JlZEF0dHJzLmhlaWdodCksIGlzVmFsaWROdW1iZXIobmV4dEF0dHJzLmxlbmd0aCkgfHwgIWlzVmFsaWROdW1iZXIobmV4dEF0dHJzLnoxKSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLmxlbmd0aCkgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMueiA9IE1hdGgubWluKG51bGwgIT09IChfaiA9IHN0b3JlZEF0dHJzLnopICYmIHZvaWQgMCAhPT0gX2ogPyBfaiA6IDAsIG51bGwgIT09IChfayA9IHN0b3JlZEF0dHJzLnoxKSAmJiB2b2lkIDAgIT09IF9rID8gX2sgOiAxIC8gMCksIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMubGVuZ3RoID0gc3RvcmVkQXR0cnMubGVuZ3RoKSA6IGlzVmFsaWROdW1iZXIobmV4dEF0dHJzLnoxKSB8fCAhaXNWYWxpZE51bWJlcihuZXh0QXR0cnMubGVuZ3RoKSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLnoxKSA/IChncmFwaGljQXR0cmlidXRlcy56ID0gTWF0aC5taW4oc3RvcmVkQXR0cnMueiwgc3RvcmVkQXR0cnMuejEpLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmxlbmd0aCA9IE1hdGguYWJzKHN0b3JlZEF0dHJzLnoxIC0gc3RvcmVkQXR0cnMueikpIDogKGdyYXBoaWNBdHRyaWJ1dGVzLnogPSBNYXRoLm1pbihudWxsICE9PSAoX2wgPSBzdG9yZWRBdHRycy56KSAmJiB2b2lkIDAgIT09IF9sID8gX2wgOiAwLCBudWxsICE9PSAoX20gPSBzdG9yZWRBdHRycy56MSkgJiYgdm9pZCAwICE9PSBfbSA/IF9tIDogMSAvIDApLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmxlbmd0aCA9IHN0b3JlZEF0dHJzLmxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3JlZEF0dHJzOiBcInNpemVBdHRyc1wiXG4gICAgfSBdLFxuICAgIFtHcmFtbWFyTWFya1R5cGUudGV4dF06IFsge1xuICAgICAgICBjaGFubmVsczogWyBcInRleHRcIiwgXCJsaW1pdFwiLCBcImF1dG9MaW1pdFwiLCBcIm1heExpbmVXaWR0aFwiLCBcInRleHRUeXBlXCIgXSxcbiAgICAgICAgdHJhbnNmb3JtOiAoZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgc3RvcmVkQXR0cnMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IG51bGwgIT09IChfYSA9IHN0b3JlZEF0dHJzLmxpbWl0KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAxIC8gMCwgYXV0b0xpbWl0ID0gbnVsbCAhPT0gKF9iID0gc3RvcmVkQXR0cnMuYXV0b0xpbWl0KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAxIC8gMCwgbWF4V2lkdGggPSBNYXRoLm1pbihsaW1pdCwgYXV0b0xpbWl0KSwgaXNUZXh0Q29uZmlnID0gaXNQbGFpbk9iamVjdChzdG9yZWRBdHRycy50ZXh0KSAmJiAhaXNOaWwoc3RvcmVkQXR0cnMudGV4dC50ZXh0KSwgdGV4dCA9IGlzVGV4dENvbmZpZyA/IHN0b3JlZEF0dHJzLnRleHQudGV4dCA6IHN0b3JlZEF0dHJzLnRleHQ7XG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHRleHQpLCBncmFwaGljQXR0cmlidXRlcy5tYXhMaW5lV2lkdGggPSBtYXhXaWR0aCA9PT0gMSAvIDAgPyBzdG9yZWRBdHRycy5tYXhMaW5lV2lkdGggOiBtYXhXaWR0aCwgXG4gICAgICAgICAgICAoaXNUZXh0Q29uZmlnIHx8IHN0b3JlZEF0dHJzLnRleHRUeXBlKSAmJiAoXCJyaWNoXCIgPT09IHN0b3JlZEF0dHJzLnRleHQudHlwZSB8fCBcInJpY2hcIiA9PT0gc3RvcmVkQXR0cnMudGV4dFR5cGUpID8gZ3JhcGhpY0F0dHJpYnV0ZXMudGV4dENvbmZpZyA9IHRleHQgOiBncmFwaGljQXR0cmlidXRlcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcmVkQXR0cnM6IFwibGltaXRBdHRyc1wiXG4gICAgfSBdLFxuICAgIFtHcmFtbWFyTWFya1R5cGUucnVsZV06IFsge1xuICAgICAgICBjaGFubmVsczogWyBcInhcIiwgXCJ5XCIsIFwieDFcIiwgXCJ5MVwiIF0sXG4gICAgICAgIHRyYW5zZm9ybTogKGdyYXBoaWNBdHRyaWJ1dGVzLCBuZXh0QXR0cnMsIHN0b3JlZEF0dHJzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBnZXRSdWxlUG9pbnRzKHN0b3JlZEF0dHJzKTtcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLnBvaW50cyA9IHBvaW50cywgZ3JhcGhpY0F0dHJpYnV0ZXMueCA9IDAsIGdyYXBoaWNBdHRyaWJ1dGVzLnkgPSAwO1xuICAgICAgICB9LFxuICAgICAgICBzdG9yZWRBdHRyczogXCJwb2ludEF0dHJzXCJcbiAgICB9IF0sXG4gICAgW0dyYW1tYXJNYXJrVHlwZS5zeW1ib2xdOiBbIHtcbiAgICAgICAgY2hhbm5lbHM6IFsgXCJzaGFwZVwiLCBcInN5bWJvbFR5cGVcIiBdLFxuICAgICAgICB0cmFuc2Zvcm06IChncmFwaGljQXR0cmlidXRlcywgbmV4dEF0dHJzLCBzdG9yZWRBdHRycykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMuc3ltYm9sVHlwZSA9IG51bGwgIT09IChfYSA9IG5leHRBdHRycy5zaGFwZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbmV4dEF0dHJzLnN5bWJvbFR5cGU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGNoYW5uZWxzOiBbIFwiaW1hZ2VcIiwgXCJmaWxsXCIsIFwiYmFja2dyb3VuZFwiIF0sXG4gICAgICAgIHRyYW5zZm9ybTogKGdyYXBoaWNBdHRyaWJ1dGVzLCBuZXh0QXR0cnMsIHN0b3JlZEF0dHJzKSA9PiB7XG4gICAgICAgICAgICBuZXh0QXR0cnMuaW1hZ2UgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMuYmFja2dyb3VuZCA9IG5leHRBdHRycy5pbWFnZSwgZ3JhcGhpY0F0dHJpYnV0ZXMuZmlsbCA9ICExKSA6IHN0b3JlZEF0dHJzLmltYWdlID8gKGdyYXBoaWNBdHRyaWJ1dGVzLmJhY2tncm91bmQgPSBzdG9yZWRBdHRycy5pbWFnZSwgXG4gICAgICAgICAgICBncmFwaGljQXR0cmlidXRlcy5maWxsID0gITEpIDogKGdyYXBoaWNBdHRyaWJ1dGVzLmZpbGwgPSBzdG9yZWRBdHRycy5maWxsLCBncmFwaGljQXR0cmlidXRlcy5iYWNrZ3JvdW5kID0gc3RvcmVkQXR0cnMuYmFja2dyb3VuZCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3JlZEF0dHJzOiBcImltYWdlQXR0cnNcIlxuICAgIH0gXVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lVHJhbnNmb3JtQXR0cmlidXRlcyhtYXJrVHlwZSwgYXR0cmlidXRlcykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKG51bGwgIT09IChfYSA9IHRyYW5zZm9ybXNCeVR5cGVbbWFya1R5cGVdKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXSkucmVkdWNlKCgoY2xvbmVkQXR0cmlidXRlcywgdHJhbnNmb3JtKSA9PiAodHJhbnNmb3JtLmNoYW5uZWxzLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICBoYXMoYXR0cmlidXRlcywgY2hhbm5lbCkgJiYgKGNsb25lZEF0dHJpYnV0ZXNbY2hhbm5lbF0gPSBhdHRyaWJ1dGVzW2NoYW5uZWxdKTtcbiAgICB9KSksIGNsb25lZEF0dHJpYnV0ZXMpKSwge30pO1xufVxuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtQXR0cmlidXRlcyA9IChtYXJrVHlwZSwgbmV4dEF0dHJzLCBlbGVtZW50LCBtYXJrTmFtZSkgPT4ge1xuICAgIGNvbnN0IGdyYXBoaWNBdHRyaWJ1dGVzID0ge30sIGNoYW5nZWRLZXlzID0gbmV4dEF0dHJzID8gT2JqZWN0LmtleXMobmV4dEF0dHJzKSA6IFtdLCB0cmFuc2Zvcm1zID0gaXNTdHJpbmcobWFya1R5cGUpID8gdHJhbnNmb3Jtc0J5VHlwZVttYXJrVHlwZV0gOiBtYXJrVHlwZTtcbiAgICBpZiAodHJhbnNmb3JtcyAmJiB0cmFuc2Zvcm1zLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB0YWdzID0gW107XG4gICAgICAgIGNoYW5nZWRLZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNUcmFuc2Zvcm1lZCA9ICExO1xuICAgICAgICAgICAgdHJhbnNmb3Jtcy5mb3JFYWNoKCgodHJhbnNmb3JtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0uY2hhbm5lbHMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhZ3NbaW5kZXhdKSBpZiAodHJhbnNmb3JtLnN0b3JlZEF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZWRBdHRycyA9IHN0b3JlT3JpZ2luQXR0cmlidXRlcyh0cmFuc2Zvcm0uc3RvcmVkQXR0cnMsIHRyYW5zZm9ybS5jaGFubmVscywgZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgZWxlbWVudCwgbWFya05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybShncmFwaGljQXR0cmlidXRlcywgbmV4dEF0dHJzLCBzdG9yZWRBdHRycyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB0cmFuc2Zvcm0udHJhbnNmb3JtKGdyYXBoaWNBdHRyaWJ1dGVzLCBuZXh0QXR0cnMsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB0YWdzW2luZGV4XSA9ICEwLCBpc1RyYW5zZm9ybWVkID0gITA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpLCBpc1RyYW5zZm9ybWVkIHx8IChjb21tb25BdHRyaWJ1dGVzLmluY2x1ZGVzKGtleSkgPyB0cmFuc2Zvcm1Db21tb25BdHRyaWJ1dGUoZ3JhcGhpY0F0dHJpYnV0ZXMsIGtleSwgbmV4dEF0dHJzKSA6IGdyYXBoaWNBdHRyaWJ1dGVzW2tleV0gPSBuZXh0QXR0cnNba2V5XSk7XG4gICAgICAgIH0pKTtcbiAgICB9IGVsc2UgY2hhbmdlZEtleXMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgY29tbW9uQXR0cmlidXRlcy5pbmNsdWRlcyhrZXkpID8gdHJhbnNmb3JtQ29tbW9uQXR0cmlidXRlKGdyYXBoaWNBdHRyaWJ1dGVzLCBrZXksIG5leHRBdHRycykgOiBncmFwaGljQXR0cmlidXRlc1trZXldID0gbmV4dEF0dHJzW2tleV07XG4gICAgfSkpO1xuICAgIHJldHVybiBncmFwaGljQXR0cmlidXRlcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm0uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/canvas-renderer.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/canvas-renderer.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CanvasRenderer)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/tools.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/create.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\nclass CanvasRenderer {\n    constructor(view) {\n        this.handleAfterNextRender = () => {\n            this._stage && !this._viewOptions.disableDirtyBounds && this._stage.enableDirtyBounds(), \n            this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_VRENDER_DRAW), this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_VRENDER_NEXT_RENDER);\n        }, this._view = view;\n    }\n    initialize(width, height, options, eventConfig) {\n        return this._width = width, this._height = height, this._viewOptions = options, \n        this._eventConfig = eventConfig, this.initStage(), this;\n    }\n    stage() {\n        var _a;\n        return null !== (_a = this._stage) && void 0 !== _a ? _a : null;\n    }\n    gestureController() {\n        var _a;\n        return null !== (_a = this._gestureController) && void 0 !== _a ? _a : null;\n    }\n    canvas() {\n        return this._stage ? this._stage.window.getNativeHandler().nativeCanvas : null;\n    }\n    context() {\n        return this._stage ? this._stage.window.getContext().nativeContext : null;\n    }\n    combineIncrementalLayers() {\n        return this._stage && (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.waitForAllSubLayers)(this._stage).then((() => {\n            this._stage && this._stage.defaultLayer.combineSubLayer();\n        })), this;\n    }\n    background(color) {\n        if (this._stage) return this._stage.background = color, this;\n    }\n    setDpr(resolution, redraw) {\n        var _a, _b;\n        return null === (_b = null === (_a = this._stage) || void 0 === _a ? void 0 : _a.setDpr) || void 0 === _b || _b.call(_a, resolution), \n        redraw && this.renderNextFrame(), this;\n    }\n    shouldResize(width, height) {\n        return width !== this._width || height !== this._height;\n    }\n    resize(width, height) {\n        return this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_STAGE_RESIZE), this.shouldResize(width, height) && (this._width = width, \n        this._height = height, this._stage && this._stage.resize(width, height)), this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_STAGE_RESIZE), \n        this;\n    }\n    setViewBox(viewBox, rerender = !0) {\n        return this._stage ? (!viewBox || this._viewBox && viewBox.x1 === this._viewBox.x1 && viewBox.x2 === this._viewBox.x2 && viewBox.y1 === this._viewBox.y1 && viewBox.y2 === this._viewBox.y2 || (this._viewBox = viewBox, \n        this._stage.setViewBox(viewBox.x1, viewBox.y1, viewBox.x2 - viewBox.x1, viewBox.y2 - viewBox.y1, rerender)), \n        this) : this;\n    }\n    render(immediately = !1) {\n        return this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_VRENDER_DRAW), this.initStage(), this._stage.disableDirtyBounds(), \n        this._stage.afterNextRender(this.handleAfterNextRender), immediately && (this._stage.render(), \n        this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_VRENDER_DRAW)), this;\n    }\n    renderNextFrame() {\n        return this.initStage(), this._stage.renderNextFrame(), this;\n    }\n    toCanvas() {\n        return this._stage ? this._stage.toCanvas() : null;\n    }\n    preventRender(tag) {\n        this._stage && this._stage.preventRender(tag);\n    }\n    release() {\n        var _a;\n        this._view.traverseMarkTree((mark => {\n            mark.release();\n        })), this._dragController && this._dragController.release(), this._gestureController && this._gestureController.release(), \n        this._stage !== (null === (_a = this._viewOptions) || void 0 === _a ? void 0 : _a.stage) && this._stage.release(), \n        this._stage = null, this._layer = null, this._dragController = null, this._gestureController = null;\n    }\n    createStage() {\n        var _a, _b, _c, _d, _e;\n        this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_CREATE_VRENDER_STAGE);\n        const viewOptions = this._viewOptions, stage = null !== (_a = viewOptions.stage) && void 0 !== _a ? _a : (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_2__.createStage)({\n            width: this._width,\n            height: this._height,\n            renderStyle: viewOptions.renderStyle,\n            viewBox: viewOptions.viewBox,\n            dpr: viewOptions.dpr,\n            canvas: viewOptions.renderCanvas,\n            canvasControled: viewOptions.canvasControled,\n            container: viewOptions.container,\n            title: viewOptions.rendererTitle,\n            beforeRender: viewOptions.beforeRender,\n            afterRender: viewOptions.afterRender,\n            disableDirtyBounds: !0,\n            autoRender: !0,\n            pluginList: viewOptions.pluginList,\n            enableHtmlAttribute: viewOptions.enableHtmlAttribute,\n            optimize: viewOptions.optimize,\n            ticker: viewOptions.ticker,\n            supportsTouchEvents: viewOptions.supportsTouchEvents,\n            supportsPointerEvents: viewOptions.supportsPointerEvents,\n            ReactDOM: viewOptions.ReactDOM\n        });\n        (null === (_b = viewOptions.options3d) || void 0 === _b ? void 0 : _b.enable) && stage.set3dOptions(viewOptions.options3d), \n        stage.enableIncrementalAutoRender(), this._viewBox = viewOptions.viewBox, this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_CREATE_VRENDER_STAGE), \n        this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_CREATE_VRENDER_LAYER);\n        const layer = null !== (_c = viewOptions.layer) && void 0 !== _c ? _c : stage.defaultLayer;\n        if (this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_CREATE_VRENDER_LAYER), (null === (_d = this._eventConfig) || void 0 === _d ? void 0 : _d.drag) && _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.getStageEventPlugin(\"drag\") && (this._dragController = new (_core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.getStageEventPlugin(\"drag\"))(stage)), \n        (null === (_e = this._eventConfig) || void 0 === _e ? void 0 : _e.gesture) && _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.getStageEventPlugin(\"gesture\")) {\n            const gestureConfig = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this._eventConfig.gesture) ? this._eventConfig.gesture : {};\n            this._gestureController = new (_core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.getStageEventPlugin(\"gesture\"))(stage, gestureConfig);\n        }\n        return {\n            stage: stage,\n            layer: layer\n        };\n    }\n    initStage() {\n        if (!this._stage) {\n            const {stage: stage, layer: layer} = this.createStage();\n            this._stage = stage, this._layer = layer;\n            const background = this._view.background();\n            this.background(background);\n        }\n    }\n}\n//# sourceMappingURL=canvas-renderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvY2FudmFzLXJlbmRlcmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE0Qzs7QUFFOEI7O0FBRXJDOztBQUVLOztBQUUzQjtBQUNmO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBVSxzQ0FBc0MsOENBQVU7QUFDdEYsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMkVBQW1CO0FBQ2pEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhDQUFVO0FBQ3pDLGtHQUFrRyw4Q0FBVTtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhDQUFVO0FBQ3pDO0FBQ0Esd0JBQXdCLDhDQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4Q0FBVTtBQUNsQyxpSEFBaUgsbUVBQVc7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtHQUFrRyw4Q0FBVTtBQUM1Ryx3QkFBd0IsOENBQVU7QUFDbEM7QUFDQSw0QkFBNEIsOENBQVUseUdBQXlHLGtEQUFPLDZEQUE2RCxrREFBTztBQUMxTixzRkFBc0Ysa0RBQU87QUFDN0Ysa0NBQWtDLDREQUFRO0FBQzFDLDJDQUEyQyxrREFBTztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRCQUE0QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9jYW52YXMtcmVuZGVyZXIuanM/OGQxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc09iamVjdCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGNyZWF0ZVN0YWdlLCB3YWl0Rm9yQWxsU3ViTGF5ZXJzIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuaW1wb3J0IHsgSE9PS19FVkVOVCB9IGZyb20gXCIuL2VudW1zXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc1JlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMuaGFuZGxlQWZ0ZXJOZXh0UmVuZGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhZ2UgJiYgIXRoaXMuX3ZpZXdPcHRpb25zLmRpc2FibGVEaXJ0eUJvdW5kcyAmJiB0aGlzLl9zdGFnZS5lbmFibGVEaXJ0eUJvdW5kcygpLCBcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcuZW1pdChIT09LX0VWRU5ULkFGVEVSX1ZSRU5ERVJfRFJBVyksIHRoaXMuX3ZpZXcuZW1pdChIT09LX0VWRU5ULkFGVEVSX1ZSRU5ERVJfTkVYVF9SRU5ERVIpO1xuICAgICAgICB9LCB0aGlzLl92aWV3ID0gdmlldztcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSh3aWR0aCwgaGVpZ2h0LCBvcHRpb25zLCBldmVudENvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGggPSB3aWR0aCwgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0LCB0aGlzLl92aWV3T3B0aW9ucyA9IG9wdGlvbnMsIFxuICAgICAgICB0aGlzLl9ldmVudENvbmZpZyA9IGV2ZW50Q29uZmlnLCB0aGlzLmluaXRTdGFnZSgpLCB0aGlzO1xuICAgIH1cbiAgICBzdGFnZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5fc3RhZ2UpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGw7XG4gICAgfVxuICAgIGdlc3R1cmVDb250cm9sbGVyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9nZXN0dXJlQ29udHJvbGxlcikgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbDtcbiAgICB9XG4gICAgY2FudmFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhZ2UgPyB0aGlzLl9zdGFnZS53aW5kb3cuZ2V0TmF0aXZlSGFuZGxlcigpLm5hdGl2ZUNhbnZhcyA6IG51bGw7XG4gICAgfVxuICAgIGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFnZSA/IHRoaXMuX3N0YWdlLndpbmRvdy5nZXRDb250ZXh0KCkubmF0aXZlQ29udGV4dCA6IG51bGw7XG4gICAgfVxuICAgIGNvbWJpbmVJbmNyZW1lbnRhbExheWVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YWdlICYmIHdhaXRGb3JBbGxTdWJMYXllcnModGhpcy5fc3RhZ2UpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YWdlICYmIHRoaXMuX3N0YWdlLmRlZmF1bHRMYXllci5jb21iaW5lU3ViTGF5ZXIoKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBiYWNrZ3JvdW5kKGNvbG9yKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGFnZSkgcmV0dXJuIHRoaXMuX3N0YWdlLmJhY2tncm91bmQgPSBjb2xvciwgdGhpcztcbiAgICB9XG4gICAgc2V0RHByKHJlc29sdXRpb24sIHJlZHJhdykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy5fc3RhZ2UpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zZXREcHIpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSwgcmVzb2x1dGlvbiksIFxuICAgICAgICByZWRyYXcgJiYgdGhpcy5yZW5kZXJOZXh0RnJhbWUoKSwgdGhpcztcbiAgICB9XG4gICAgc2hvdWxkUmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodDtcbiAgICB9XG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXcuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9TVEFHRV9SRVNJWkUpLCB0aGlzLnNob3VsZFJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSAmJiAodGhpcy5fd2lkdGggPSB3aWR0aCwgXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodCwgdGhpcy5fc3RhZ2UgJiYgdGhpcy5fc3RhZ2UucmVzaXplKHdpZHRoLCBoZWlnaHQpKSwgdGhpcy5fdmlldy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfU1RBR0VfUkVTSVpFKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHNldFZpZXdCb3godmlld0JveCwgcmVyZW5kZXIgPSAhMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhZ2UgPyAoIXZpZXdCb3ggfHwgdGhpcy5fdmlld0JveCAmJiB2aWV3Qm94LngxID09PSB0aGlzLl92aWV3Qm94LngxICYmIHZpZXdCb3gueDIgPT09IHRoaXMuX3ZpZXdCb3gueDIgJiYgdmlld0JveC55MSA9PT0gdGhpcy5fdmlld0JveC55MSAmJiB2aWV3Qm94LnkyID09PSB0aGlzLl92aWV3Qm94LnkyIHx8ICh0aGlzLl92aWV3Qm94ID0gdmlld0JveCwgXG4gICAgICAgIHRoaXMuX3N0YWdlLnNldFZpZXdCb3godmlld0JveC54MSwgdmlld0JveC55MSwgdmlld0JveC54MiAtIHZpZXdCb3gueDEsIHZpZXdCb3gueTIgLSB2aWV3Qm94LnkxLCByZXJlbmRlcikpLCBcbiAgICAgICAgdGhpcykgOiB0aGlzO1xuICAgIH1cbiAgICByZW5kZXIoaW1tZWRpYXRlbHkgPSAhMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlldy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX1ZSRU5ERVJfRFJBVyksIHRoaXMuaW5pdFN0YWdlKCksIHRoaXMuX3N0YWdlLmRpc2FibGVEaXJ0eUJvdW5kcygpLCBcbiAgICAgICAgdGhpcy5fc3RhZ2UuYWZ0ZXJOZXh0UmVuZGVyKHRoaXMuaGFuZGxlQWZ0ZXJOZXh0UmVuZGVyKSwgaW1tZWRpYXRlbHkgJiYgKHRoaXMuX3N0YWdlLnJlbmRlcigpLCBcbiAgICAgICAgdGhpcy5fdmlldy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfVlJFTkRFUl9EUkFXKSksIHRoaXM7XG4gICAgfVxuICAgIHJlbmRlck5leHRGcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdFN0YWdlKCksIHRoaXMuX3N0YWdlLnJlbmRlck5leHRGcmFtZSgpLCB0aGlzO1xuICAgIH1cbiAgICB0b0NhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YWdlID8gdGhpcy5fc3RhZ2UudG9DYW52YXMoKSA6IG51bGw7XG4gICAgfVxuICAgIHByZXZlbnRSZW5kZXIodGFnKSB7XG4gICAgICAgIHRoaXMuX3N0YWdlICYmIHRoaXMuX3N0YWdlLnByZXZlbnRSZW5kZXIodGFnKTtcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLl92aWV3LnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5yZWxlYXNlKCk7XG4gICAgICAgIH0pKSwgdGhpcy5fZHJhZ0NvbnRyb2xsZXIgJiYgdGhpcy5fZHJhZ0NvbnRyb2xsZXIucmVsZWFzZSgpLCB0aGlzLl9nZXN0dXJlQ29udHJvbGxlciAmJiB0aGlzLl9nZXN0dXJlQ29udHJvbGxlci5yZWxlYXNlKCksIFxuICAgICAgICB0aGlzLl9zdGFnZSAhPT0gKG51bGwgPT09IChfYSA9IHRoaXMuX3ZpZXdPcHRpb25zKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc3RhZ2UpICYmIHRoaXMuX3N0YWdlLnJlbGVhc2UoKSwgXG4gICAgICAgIHRoaXMuX3N0YWdlID0gbnVsbCwgdGhpcy5fbGF5ZXIgPSBudWxsLCB0aGlzLl9kcmFnQ29udHJvbGxlciA9IG51bGwsIHRoaXMuX2dlc3R1cmVDb250cm9sbGVyID0gbnVsbDtcbiAgICB9XG4gICAgY3JlYXRlU3RhZ2UoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHRoaXMuX3ZpZXcuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9DUkVBVEVfVlJFTkRFUl9TVEFHRSk7XG4gICAgICAgIGNvbnN0IHZpZXdPcHRpb25zID0gdGhpcy5fdmlld09wdGlvbnMsIHN0YWdlID0gbnVsbCAhPT0gKF9hID0gdmlld09wdGlvbnMuc3RhZ2UpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGNyZWF0ZVN0YWdlKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLl93aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5faGVpZ2h0LFxuICAgICAgICAgICAgcmVuZGVyU3R5bGU6IHZpZXdPcHRpb25zLnJlbmRlclN0eWxlLFxuICAgICAgICAgICAgdmlld0JveDogdmlld09wdGlvbnMudmlld0JveCxcbiAgICAgICAgICAgIGRwcjogdmlld09wdGlvbnMuZHByLFxuICAgICAgICAgICAgY2FudmFzOiB2aWV3T3B0aW9ucy5yZW5kZXJDYW52YXMsXG4gICAgICAgICAgICBjYW52YXNDb250cm9sZWQ6IHZpZXdPcHRpb25zLmNhbnZhc0NvbnRyb2xlZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdmlld09wdGlvbnMuY29udGFpbmVyLFxuICAgICAgICAgICAgdGl0bGU6IHZpZXdPcHRpb25zLnJlbmRlcmVyVGl0bGUsXG4gICAgICAgICAgICBiZWZvcmVSZW5kZXI6IHZpZXdPcHRpb25zLmJlZm9yZVJlbmRlcixcbiAgICAgICAgICAgIGFmdGVyUmVuZGVyOiB2aWV3T3B0aW9ucy5hZnRlclJlbmRlcixcbiAgICAgICAgICAgIGRpc2FibGVEaXJ0eUJvdW5kczogITAsXG4gICAgICAgICAgICBhdXRvUmVuZGVyOiAhMCxcbiAgICAgICAgICAgIHBsdWdpbkxpc3Q6IHZpZXdPcHRpb25zLnBsdWdpbkxpc3QsXG4gICAgICAgICAgICBlbmFibGVIdG1sQXR0cmlidXRlOiB2aWV3T3B0aW9ucy5lbmFibGVIdG1sQXR0cmlidXRlLFxuICAgICAgICAgICAgb3B0aW1pemU6IHZpZXdPcHRpb25zLm9wdGltaXplLFxuICAgICAgICAgICAgdGlja2VyOiB2aWV3T3B0aW9ucy50aWNrZXIsXG4gICAgICAgICAgICBzdXBwb3J0c1RvdWNoRXZlbnRzOiB2aWV3T3B0aW9ucy5zdXBwb3J0c1RvdWNoRXZlbnRzLFxuICAgICAgICAgICAgc3VwcG9ydHNQb2ludGVyRXZlbnRzOiB2aWV3T3B0aW9ucy5zdXBwb3J0c1BvaW50ZXJFdmVudHMsXG4gICAgICAgICAgICBSZWFjdERPTTogdmlld09wdGlvbnMuUmVhY3RET01cbiAgICAgICAgfSk7XG4gICAgICAgIChudWxsID09PSAoX2IgPSB2aWV3T3B0aW9ucy5vcHRpb25zM2QpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5lbmFibGUpICYmIHN0YWdlLnNldDNkT3B0aW9ucyh2aWV3T3B0aW9ucy5vcHRpb25zM2QpLCBcbiAgICAgICAgc3RhZ2UuZW5hYmxlSW5jcmVtZW50YWxBdXRvUmVuZGVyKCksIHRoaXMuX3ZpZXdCb3ggPSB2aWV3T3B0aW9ucy52aWV3Qm94LCB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5BRlRFUl9DUkVBVEVfVlJFTkRFUl9TVEFHRSksIFxuICAgICAgICB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfQ1JFQVRFX1ZSRU5ERVJfTEFZRVIpO1xuICAgICAgICBjb25zdCBsYXllciA9IG51bGwgIT09IChfYyA9IHZpZXdPcHRpb25zLmxheWVyKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBzdGFnZS5kZWZhdWx0TGF5ZXI7XG4gICAgICAgIGlmICh0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5BRlRFUl9DUkVBVEVfVlJFTkRFUl9MQVlFUiksIChudWxsID09PSAoX2QgPSB0aGlzLl9ldmVudENvbmZpZykgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kLmRyYWcpICYmIEZhY3RvcnkuZ2V0U3RhZ2VFdmVudFBsdWdpbihcImRyYWdcIikgJiYgKHRoaXMuX2RyYWdDb250cm9sbGVyID0gbmV3IChGYWN0b3J5LmdldFN0YWdlRXZlbnRQbHVnaW4oXCJkcmFnXCIpKShzdGFnZSkpLCBcbiAgICAgICAgKG51bGwgPT09IChfZSA9IHRoaXMuX2V2ZW50Q29uZmlnKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2UuZ2VzdHVyZSkgJiYgRmFjdG9yeS5nZXRTdGFnZUV2ZW50UGx1Z2luKFwiZ2VzdHVyZVwiKSkge1xuICAgICAgICAgICAgY29uc3QgZ2VzdHVyZUNvbmZpZyA9IGlzT2JqZWN0KHRoaXMuX2V2ZW50Q29uZmlnLmdlc3R1cmUpID8gdGhpcy5fZXZlbnRDb25maWcuZ2VzdHVyZSA6IHt9O1xuICAgICAgICAgICAgdGhpcy5fZ2VzdHVyZUNvbnRyb2xsZXIgPSBuZXcgKEZhY3RvcnkuZ2V0U3RhZ2VFdmVudFBsdWdpbihcImdlc3R1cmVcIikpKHN0YWdlLCBnZXN0dXJlQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhZ2U6IHN0YWdlLFxuICAgICAgICAgICAgbGF5ZXI6IGxheWVyXG4gICAgICAgIH07XG4gICAgfVxuICAgIGluaXRTdGFnZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdGFnZSkge1xuICAgICAgICAgICAgY29uc3Qge3N0YWdlOiBzdGFnZSwgbGF5ZXI6IGxheWVyfSA9IHRoaXMuY3JlYXRlU3RhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YWdlID0gc3RhZ2UsIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5fdmlldy5iYWNrZ3JvdW5kKCk7XG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQoYmFja2dyb3VuZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW52YXMtcmVuZGVyZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/canvas-renderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BridgeElementKey: () => (/* binding */ BridgeElementKey),\n/* harmony export */   CollectionMarkType: () => (/* binding */ CollectionMarkType),\n/* harmony export */   DefaultAnimationControlOptions: () => (/* binding */ DefaultAnimationControlOptions),\n/* harmony export */   DefaultAnimationDelay: () => (/* binding */ DefaultAnimationDelay),\n/* harmony export */   DefaultAnimationDelayAfter: () => (/* binding */ DefaultAnimationDelayAfter),\n/* harmony export */   DefaultAnimationDuration: () => (/* binding */ DefaultAnimationDuration),\n/* harmony export */   DefaultAnimationEasing: () => (/* binding */ DefaultAnimationEasing),\n/* harmony export */   DefaultAnimationLoop: () => (/* binding */ DefaultAnimationLoop),\n/* harmony export */   DefaultAnimationOneByOne: () => (/* binding */ DefaultAnimationOneByOne),\n/* harmony export */   DefaultAnimationParameters: () => (/* binding */ DefaultAnimationParameters),\n/* harmony export */   DefaultAnimationStartTime: () => (/* binding */ DefaultAnimationStartTime),\n/* harmony export */   DefaultEnableExitAnimation: () => (/* binding */ DefaultEnableExitAnimation),\n/* harmony export */   DefaultGroupKeys: () => (/* binding */ DefaultGroupKeys),\n/* harmony export */   DefaultKey: () => (/* binding */ DefaultKey),\n/* harmony export */   DefaultMarkData: () => (/* binding */ DefaultMarkData),\n/* harmony export */   DefaultMorph: () => (/* binding */ DefaultMorph),\n/* harmony export */   DefaultMorphAll: () => (/* binding */ DefaultMorphAll),\n/* harmony export */   DefaultReuse: () => (/* binding */ DefaultReuse),\n/* harmony export */   DefaultSplitPath: () => (/* binding */ DefaultSplitPath),\n/* harmony export */   ImmediateAnimationState: () => (/* binding */ ImmediateAnimationState),\n/* harmony export */   MARK_OVERLAP_HIDE_KEY: () => (/* binding */ MARK_OVERLAP_HIDE_KEY),\n/* harmony export */   Mark3DType: () => (/* binding */ Mark3DType)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\nconst BridgeElementKey = \"__vgrammar_scene_item__\";\n\nconst CollectionMarkType = [ _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.line, _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.area ];\n\nconst Mark3DType = [ _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.arc3d, _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.rect3d, _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.pyramid3d ];\n\nconst DefaultKey = \"key\";\n\nconst DefaultMarkData = [ {} ];\n\nconst DefaultGroupKeys = [ \"key\" ];\n\nconst DefaultReuse = !0;\n\nconst DefaultMorph = !0;\n\nconst DefaultMorphAll = !1;\n\nconst DefaultSplitPath = null;\n\nconst DefaultEnableExitAnimation = !0;\n\nconst ImmediateAnimationState = \"VGRAMMAR_IMMEDIATE_ANIMATION\";\n\nconst DefaultAnimationStartTime = 0;\n\nconst DefaultAnimationDuration = 1e3;\n\nconst DefaultAnimationDelay = 0;\n\nconst DefaultAnimationDelayAfter = 0;\n\nconst DefaultAnimationLoop = !1;\n\nconst DefaultAnimationOneByOne = !1;\n\nconst DefaultAnimationEasing = \"quintInOut\";\n\nconst DefaultAnimationControlOptions = {\n    stopWhenStateChange: !1,\n    immediatelyApply: !0\n};\n\nconst DefaultAnimationParameters = \"VGRAMMAR_ANIMATION_PARAMETERS\";\n\nconst MARK_OVERLAP_HIDE_KEY = \"_mo_hide_\";\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBDOztBQUVuQzs7QUFFQSw2QkFBNkIsbURBQWUsT0FBTyxtREFBZTs7QUFFbEUscUJBQXFCLG1EQUFlLFFBQVEsbURBQWUsU0FBUyxtREFBZTs7QUFFbkY7O0FBRUEsNkJBQTZCOztBQUU3Qjs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNQO0FBQ0E7QUFDQTs7QUFFTzs7QUFFQTtBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2NvbnN0YW50cy5qcz9mMGYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuL2VudW1zXCI7XG5cbmV4cG9ydCBjb25zdCBCcmlkZ2VFbGVtZW50S2V5ID0gXCJfX3ZncmFtbWFyX3NjZW5lX2l0ZW1fX1wiO1xuXG5leHBvcnQgY29uc3QgQ29sbGVjdGlvbk1hcmtUeXBlID0gWyBHcmFtbWFyTWFya1R5cGUubGluZSwgR3JhbW1hck1hcmtUeXBlLmFyZWEgXTtcblxuZXhwb3J0IGNvbnN0IE1hcmszRFR5cGUgPSBbIEdyYW1tYXJNYXJrVHlwZS5hcmMzZCwgR3JhbW1hck1hcmtUeXBlLnJlY3QzZCwgR3JhbW1hck1hcmtUeXBlLnB5cmFtaWQzZCBdO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEtleSA9IFwia2V5XCI7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0TWFya0RhdGEgPSBbIHt9IF07XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0R3JvdXBLZXlzID0gWyBcImtleVwiIF07XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0UmV1c2UgPSAhMDtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRNb3JwaCA9ICEwO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdE1vcnBoQWxsID0gITE7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0U3BsaXRQYXRoID0gbnVsbDtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRFbmFibGVFeGl0QW5pbWF0aW9uID0gITA7XG5cbmV4cG9ydCBjb25zdCBJbW1lZGlhdGVBbmltYXRpb25TdGF0ZSA9IFwiVkdSQU1NQVJfSU1NRURJQVRFX0FOSU1BVElPTlwiO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvblN0YXJ0VGltZSA9IDA7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0QW5pbWF0aW9uRHVyYXRpb24gPSAxZTM7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0QW5pbWF0aW9uRGVsYXkgPSAwO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvbkRlbGF5QWZ0ZXIgPSAwO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvbkxvb3AgPSAhMTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25PbmVCeU9uZSA9ICExO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvbkVhc2luZyA9IFwicXVpbnRJbk91dFwiO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvbkNvbnRyb2xPcHRpb25zID0ge1xuICAgIHN0b3BXaGVuU3RhdGVDaGFuZ2U6ICExLFxuICAgIGltbWVkaWF0ZWx5QXBwbHk6ICEwXG59O1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvblBhcmFtZXRlcnMgPSBcIlZHUkFNTUFSX0FOSU1BVElPTl9QQVJBTUVURVJTXCI7XG5cbmV4cG9ydCBjb25zdCBNQVJLX09WRVJMQVBfSElERV9LRVkgPSBcIl9tb19oaWRlX1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/element.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/element.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Element: () => (/* binding */ Element)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isBoolean.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isEqual.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/has.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isEmpty.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/get.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _mark_encode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _util_graphic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _attributes_transform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./attributes/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _attributes_helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./attributes/helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n/* harmony import */ var _attributes_line__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./attributes/line */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/line.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/common/custom-path2d.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Element {\n    constructor(mark) {\n        this.data = null, this.states = [], this.diffState = _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.enter, this.isReserved = !1, \n        this.runtimeStatesEncoder = null, this.items = [], this.getStateAttrs = (stateName, nextStates) => {\n            var _a, _b, _c, _d;\n            const isRuntimeState = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null === (_a = this.runtimeStatesEncoder) || void 0 === _a ? void 0 : _a[stateName]), encoder = isRuntimeState ? Object.assign(Object.assign({}, null === (_b = this.mark.getSpec().encode) || void 0 === _b ? void 0 : _b[stateName]), this.runtimeStatesEncoder[stateName]) : null === (_c = this.mark.getSpec().encode) || void 0 === _c ? void 0 : _c[stateName];\n            if (!encoder) return {};\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(encoder)) return encoder(this.getDatum(), this, stateName, nextStates);\n            if (!isRuntimeState && (null === (_d = this.graphicItem.states) || void 0 === _d ? void 0 : _d[stateName])) return this.graphicItem.states[stateName];\n            const stateItems = this.items.map((item => Object.assign({}, item, {\n                nextAttrs: {}\n            })));\n            (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, stateItems, encoder, this.mark.parameters());\n            const graphicAttributes = this.transformElementItems(stateItems, this.mark.markType);\n            return this.graphicItem.states ? this.graphicItem.states[stateName] || (this.graphicItem.states[stateName] = graphicAttributes) : this.graphicItem.states = {\n                [stateName]: graphicAttributes\n            }, graphicAttributes;\n        }, this.mark = mark;\n    }\n    initGraphicItem(attributes = {}) {\n        if (this.graphicItem) return;\n        const attrTransforms = this.mark.getAttributeTransforms();\n        this.graphicItem = this.mark.addGraphicItem(attrTransforms ? (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_4__.transformAttributes)(attrTransforms, attributes, this) : attributes, this.groupKey), \n        this.graphicItem && (this.graphicItem[_constants__WEBPACK_IMPORTED_MODULE_5__.BridgeElementKey] = this, attrTransforms && (this.graphicItem.onBeforeAttributeUpdate = attributes => {\n            if (!this.mark) return attributes;\n            return (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_4__.transformAttributes)(attrTransforms, attributes, this);\n        }), this.clearGraphicAttributes(), this.mark.needAnimate() && (this.setPrevGraphicAttributes(null), \n        this.setNextGraphicAttributes(Object.assign({}, attributes)), this.setFinalGraphicAttributes(Object.assign({}, attributes))));\n    }\n    updateGraphicItem() {\n        var _a;\n        if (!this.graphicItem) return;\n        this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.exit ? this.graphicItem.releaseStatus = \"willRelease\" : this.graphicItem.releaseStatus = void 0;\n        const stateAnimation = null === (_a = this.mark.animate) || void 0 === _a ? void 0 : _a.getAnimationConfigs(\"state\");\n        stateAnimation && 0 !== stateAnimation.length && (this.graphicItem.stateAnimateConfig = stateAnimation[0].originConfig);\n    }\n    getGraphicItem() {\n        return this.graphicItem;\n    }\n    removeGraphicItem() {\n        var _a, _b;\n        this.graphicItem && (null === (_b = null === (_a = this.graphicItem.animates) || void 0 === _a ? void 0 : _a.forEach) || void 0 === _b || _b.call(_a, (animate => animate.stop()))), \n        this.graphicItem && ((0,_util_graphic__WEBPACK_IMPORTED_MODULE_6__.removeGraphicItem)(this.graphicItem), this.graphicItem[_constants__WEBPACK_IMPORTED_MODULE_5__.BridgeElementKey] = null, \n        this.graphicItem = null);\n    }\n    resetGraphicItem() {\n        this.graphicItem && (this.graphicItem = null);\n    }\n    getBounds() {\n        var _a;\n        return null === (_a = this.graphicItem) || void 0 === _a ? void 0 : _a.AABBBounds;\n    }\n    getStates() {\n        return this.states;\n    }\n    updateData(groupKey, data, key) {\n        var _a;\n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_ELEMENT_UPDATE_DATA, {\n            groupKey: groupKey,\n            data: data,\n            key: key\n        }, this), this.data = data;\n        const keyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.parseField)(key);\n        return this.items = data.map((datum => ({\n            datum: datum,\n            key: keyGetter(datum),\n            view: this.mark.view,\n            nextAttrs: {}\n        }))), this.groupKey = groupKey, this.key = this.mark.isCollectionMark() ? groupKey : null === (_a = this.items) || void 0 === _a ? void 0 : _a[0].key, \n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_ELEMENT_UPDATE_DATA, {\n            groupKey: groupKey,\n            data: data,\n            key: key\n        }, this), this.items;\n    }\n    state(markState, parameters) {\n        var _a;\n        const isCollectionMark = this.mark.isCollectionMark(), prevStateValues = this.states, newStateValues = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__.array)((0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.invokeFunctionType)(markState, parameters, this.getDatum(), this)), stateSort = null === (_a = this.mark.getSpec()) || void 0 === _a ? void 0 : _a.stateSort;\n        stateSort && newStateValues.length && newStateValues.sort(stateSort);\n        const isStateChanged = newStateValues.length !== prevStateValues.length || newStateValues.some(((newState, index) => newState !== prevStateValues[index]));\n        this.states = newStateValues, !isCollectionMark && isStateChanged && this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.unChange && (this.diffState = _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.update);\n    }\n    encodeGraphic(attrs) {\n        this.coordinateTransformEncode(this.items);\n        const graphicAttributes = this.transformElementItems(this.items, this.mark.markType);\n        attrs && Object.assign(graphicAttributes, attrs), this.graphicItem ? (this.graphicItem.clearStates(), \n        this.graphicItem.states = {}, this.graphicItem.stateProxy = null, _constants__WEBPACK_IMPORTED_MODULE_5__.MARK_OVERLAP_HIDE_KEY in this.graphicItem.attribute && \"visible\" in graphicAttributes && delete this.graphicItem.attribute[_constants__WEBPACK_IMPORTED_MODULE_5__.MARK_OVERLAP_HIDE_KEY], \n        this.applyGraphicAttributes(graphicAttributes)) : this.initGraphicItem(graphicAttributes), \n        this.diffState !== _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.enter && this.diffState !== _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.update || !this.states.length || this.useStates(this.states), \n        this.mark.markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.shape && (this.graphicItem.datum = this.items[0].datum), \n        this.items.forEach((item => {\n            item.nextAttrs = {};\n        })), this._setCustomizedShape();\n    }\n    _setCustomizedShape() {\n        var _a;\n        if (!this.graphicItem) return;\n        const setCustomizedShape = null === (_a = this.mark.getSpec()) || void 0 === _a ? void 0 : _a.setCustomizedShape;\n        setCustomizedShape && (this.graphicItem.pathProxy = attrs => setCustomizedShape(this.data, attrs, new _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__.CustomPath2D));\n    }\n    encodeItems(items, encoders, isReentered = !1, parameters) {\n        const isCollectionMark = this.mark.isCollectionMark(), updateEncoder = encoders[_enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames.update], enterEncoder = encoders[_enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames.enter], exitEncoder = encoders[_enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames.exit], onlyFullEncodeFirst = this.mark.isLargeMode() || isCollectionMark && !this.mark.getSpec().enableSegments;\n        this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.enter ? (enterEncoder && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, enterEncoder, parameters, onlyFullEncodeFirst), \n        updateEncoder && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, updateEncoder, parameters, onlyFullEncodeFirst)) : this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.update ? ((isCollectionMark && enterEncoder || isReentered) && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, enterEncoder, parameters, onlyFullEncodeFirst), \n        updateEncoder && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, updateEncoder, parameters, onlyFullEncodeFirst)) : this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.exit && exitEncoder && (isReentered && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, enterEncoder, parameters, onlyFullEncodeFirst), \n        (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, exitEncoder, parameters, onlyFullEncodeFirst));\n    }\n    coordinateTransformEncode(items) {\n        if (!this.mark.coord || \"arc\" === this.mark.markType || !0 === this.mark.disableCoordinateTransform) return;\n        const coord = this.mark.coord.output();\n        items.forEach((item => {\n            const nextAttrs = item.nextAttrs, convertedPoint = coord.convert(nextAttrs);\n            Object.assign(nextAttrs, convertedPoint);\n        }));\n    }\n    hasStateAnimation() {\n        var _a;\n        const stateAnimation = null === (_a = this.mark.animate) || void 0 === _a ? void 0 : _a.getAnimationConfigs(\"state\");\n        return stateAnimation && stateAnimation.length > 0;\n    }\n    clearStates(hasAnimation) {\n        const stateAnimationEnable = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(hasAnimation) ? hasAnimation : this.hasStateAnimation();\n        this.states = [], this.graphicItem && this.graphicItem.clearStates(stateAnimationEnable), \n        this.runtimeStatesEncoder && (this.runtimeStatesEncoder = {});\n    }\n    _updateRuntimeStates(state, attrs) {\n        this.runtimeStatesEncoder || (this.runtimeStatesEncoder = {}), this.runtimeStatesEncoder[state] = attrs;\n    }\n    hasState(state) {\n        return this.states && state && this.states.includes(state);\n    }\n    updateStates(states) {\n        if (!this.graphicItem) return !1;\n        let nextStates = this.states.slice();\n        const encode = this.mark.getSpec().encode;\n        let forceClearState = !1, hasUpdate = !1;\n        return Object.keys(states).forEach((stateKey => {\n            var _a;\n            if (!stateKey) return;\n            const stateValue = states[stateKey];\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(stateValue) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__.isEqual)(stateValue, null === (_a = this.runtimeStatesEncoder) || void 0 === _a ? void 0 : _a[stateKey])) nextStates.includes(stateKey) ? forceClearState = !0 : nextStates.push(stateKey), \n            this._updateRuntimeStates(stateKey, stateValue), hasUpdate = !0; else if (stateValue) !nextStates.includes(stateKey) && (null == encode ? void 0 : encode[stateKey]) && (nextStates.push(stateKey), \n            hasUpdate = !0); else if (nextStates.length) {\n                const newNextStates = nextStates.filter((state => state !== stateKey));\n                newNextStates.length !== nextStates.length && (hasUpdate = !0, nextStates = newNextStates), \n                this.runtimeStatesEncoder && this.runtimeStatesEncoder[stateKey] && (this.runtimeStatesEncoder[stateKey] = null);\n            }\n        })), forceClearState && this.graphicItem.clearStates(), !!hasUpdate && (this.useStates(nextStates), \n        !0);\n    }\n    addState(state, attrs) {\n        var _a;\n        if (!this.graphicItem) return !1;\n        if (attrs && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(state) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__.isEqual)(attrs, null === (_a = this.runtimeStatesEncoder) || void 0 === _a ? void 0 : _a[state])) {\n            const nextStates = this.states.slice();\n            return nextStates.includes(state) ? this.graphicItem.clearStates() : nextStates.push(state), \n            this._updateRuntimeStates(state, attrs), this.useStates(nextStates), !0;\n        }\n        const encode = this.mark.getSpec().encode, nextStates = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__.array)(state).reduce(((nextStates, stateName) => (stateName && !nextStates.includes(stateName) && (null == encode ? void 0 : encode[stateName]) && nextStates.push(stateName), \n        nextStates)), this.states.slice());\n        return nextStates.length !== this.states.length && (this.useStates(nextStates), \n        !0);\n    }\n    removeState(state) {\n        if (!this.graphicItem) return !1;\n        const states = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__.array)(state);\n        if (!states.length) return !1;\n        const nextStates = this.states.filter((state => !states.includes(state)));\n        return nextStates.length !== this.states.length && (this.runtimeStatesEncoder && states.forEach((state => {\n            this.runtimeStatesEncoder[state] = null;\n        })), this.useStates(nextStates), !0);\n    }\n    useStates(states, hasAnimation) {\n        var _a;\n        if (!this.graphicItem) return !1;\n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_ELEMENT_STATE, {\n            states: states\n        }, this);\n        const stateSort = null === (_a = this.mark.getSpec()) || void 0 === _a ? void 0 : _a.stateSort;\n        stateSort && states.sort(stateSort), this.states = states;\n        const stateAnimationEnable = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(hasAnimation) ? hasAnimation : this.hasStateAnimation();\n        return this.graphicItem.stateProxy = this.getStateAttrs, this.graphicItem.useStates(this.states, stateAnimationEnable), \n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_ELEMENT_STATE, {\n            states: states\n        }, this), !0;\n    }\n    diffAttributes(graphicAttributes) {\n        const diffResult = {}, finalGraphicAttributes = this.getFinalGraphicAttributes();\n        for (const key in graphicAttributes) (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(finalGraphicAttributes, key) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__.isEqual)(finalGraphicAttributes[key], graphicAttributes[key]) || (diffResult[key] = graphicAttributes[key]);\n        return diffResult;\n    }\n    transformElementItems(items, markType, computePoints) {\n        var _a, _b, _c, _d, _e;\n        const item = items[0];\n        if (!item.nextAttrs || 0 === Object.keys(item.nextAttrs).length) return {};\n        let nextAttrs = item.nextAttrs;\n        if ((0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.isPointsMarkType)(markType) && items && items.length && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null === (_a = item.nextAttrs) || void 0 === _a ? void 0 : _a.points) && (!0 === computePoints || (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.isValidPointsChannel)(Object.keys(item.nextAttrs), this.mark.markType))) {\n            const markSpec = this.mark.getSpec(), lastPoints = this.getGraphicAttribute(\"points\", !1), lastSegments = this.getGraphicAttribute(\"segments\", !1), enableSegments = markSpec.enableSegments, connectNullsEncoder = null === (_b = this.mark.getSpec().encode) || void 0 === _b ? void 0 : _b[_enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames.connectNulls], itemNextAttrs = items.map((item => item.nextAttrs)), isProgressive = this.mark.isProgressive();\n            if (nextAttrs = (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.parseCollectionMarkAttributes)(nextAttrs), markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.line || markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.area) {\n                const linePoints = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.getLinePoints)(items, !0, lastPoints, markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.area);\n                if (isProgressive) nextAttrs.segments = (null !== (_e = null === (_d = null === (_c = this.graphicItem) || void 0 === _c ? void 0 : _c.attribute) || void 0 === _d ? void 0 : _d.segments) && void 0 !== _e ? _e : []).concat([ {\n                    points: linePoints\n                } ]); else if (connectNullsEncoder) {\n                    if (nextAttrs.segments = (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.getConnectLineSegmentConfigs)(itemNextAttrs, linePoints, this), \n                    nextAttrs.segments && nextAttrs.segments.some((seg => seg.isConnect))) {\n                        const connectStyle = (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoder)(connectNullsEncoder, this.getDatum(), this, this.mark.parameters());\n                        connectStyle && nextAttrs.segments.forEach((seg => {\n                            seg.isConnect && Object.assign(seg, connectStyle);\n                        }));\n                    }\n                    nextAttrs.points = linePoints;\n                } else if (enableSegments) {\n                    const points = linePoints && 0 !== linePoints.length ? linePoints : (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.getLinePointsFromSegments)(lastSegments), segments = (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.getLineSegmentConfigs)(itemNextAttrs, points, this);\n                    segments ? (nextAttrs.segments = segments, nextAttrs.points = null) : (nextAttrs.segments = null, \n                    nextAttrs.points = points), nextAttrs = (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.removeSegmentAttrs)(nextAttrs, this);\n                } else nextAttrs.points = linePoints, nextAttrs.segments = null;\n            } else markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.largeRects ? nextAttrs.points = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.getLargeRectsPoints)(items, !0, lastPoints) : markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.largeSymbols && (nextAttrs.points = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.getLargeSymbolsPoints)(items, !0, lastPoints));\n        }\n        return nextAttrs;\n    }\n    applyGraphicAttributes(graphicAttributes) {\n        var _a, _b, _c;\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(graphicAttributes)) if (this.mark.needAnimate()) {\n            const nextGraphicAttributes = this.diffAttributes(graphicAttributes), prevGraphicAttributes = null !== (_a = this.getPrevGraphicAttributes()) && void 0 !== _a ? _a : {}, finalGraphicAttributes = null !== (_b = this.getFinalGraphicAttributes()) && void 0 !== _b ? _b : {};\n            Object.keys(nextGraphicAttributes).forEach((channel => {\n                prevGraphicAttributes[channel] = this.getGraphicAttribute(channel), finalGraphicAttributes[channel] = nextGraphicAttributes[channel];\n            })), this.setNextGraphicAttributes(nextGraphicAttributes), this.setPrevGraphicAttributes(prevGraphicAttributes), \n            this.setFinalGraphicAttributes(finalGraphicAttributes);\n            const currentAnimators = null === (_c = this.mark.animate) || void 0 === _c ? void 0 : _c.getElementAnimators(this).filter((animator => {\n                var _a;\n                return !(null === (_a = animator.animationOptions.timeline.controlOptions) || void 0 === _a ? void 0 : _a.ignoreLoopFinalAttributes) || !animator.animationOptions.timeline.loop;\n            })), animateGraphicAttributes = (currentAnimators || []).reduce(((attributes, animator) => Object.assign(attributes, animator.getEndAttributes())), {}), currentGraphicAttributes = Object.assign({}, animateGraphicAttributes, finalGraphicAttributes);\n            this.graphicItem.setAttributes(currentGraphicAttributes);\n        } else this.graphicItem.setAttributes(graphicAttributes);\n    }\n    getGraphicAttribute(channel, prev = !1) {\n        var _a;\n        if (!this.graphicItem) return;\n        if (prev) {\n            let value;\n            const prevGraphicAttributes = this.getPrevGraphicAttributes();\n            if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(prevGraphicAttributes, channel))) return value;\n        }\n        const trans = this.mark.getAttributeTransforms();\n        let getKey = [ channel ];\n        if (trans && trans.length) {\n            const channelTransform = trans.find((entry => entry.storedAttrs && entry.channels.includes(channel)));\n            channelTransform && (getKey = [ channelTransform.storedAttrs, channel ]);\n        }\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(null === (_a = this.graphicItem) || void 0 === _a ? void 0 : _a.attribute, getKey);\n    }\n    setGraphicAttribute(channel, value, final = !0) {\n        if (!this.graphicItem) return;\n        const finalGraphicAttributes = this.getFinalGraphicAttributes(), prevGraphicAttributes = this.getPrevGraphicAttributes();\n        final && finalGraphicAttributes && (finalGraphicAttributes[channel] = value), prevGraphicAttributes && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(prevGraphicAttributes, channel) && (prevGraphicAttributes[channel] = this.graphicItem.attribute[channel]), \n        this.graphicItem.setAttribute(channel, value);\n    }\n    setGraphicAttributes(attributes, final = !0) {\n        if (!this.graphicItem) return;\n        const finalGraphicAttributes = this.getFinalGraphicAttributes(), prevGraphicAttributes = this.getPrevGraphicAttributes();\n        Object.keys(attributes).forEach((key => {\n            finalGraphicAttributes && final && (finalGraphicAttributes[key] = attributes[key]), \n            prevGraphicAttributes && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(prevGraphicAttributes, key) && (prevGraphicAttributes[key] = this.graphicItem.attribute[key]);\n        })), this.graphicItem.setAttributes(attributes);\n    }\n    getFinalGraphicAttributes() {\n        return this.graphicItem.finalAttrs;\n    }\n    setFinalGraphicAttributes(attributes) {\n        this.graphicItem.finalAttrs = attributes;\n    }\n    getPrevGraphicAttributes() {\n        return this.graphicItem.prevAttrs;\n    }\n    setPrevGraphicAttributes(attributes) {\n        this.graphicItem.prevAttrs = attributes;\n    }\n    getNextGraphicAttributes() {\n        return this.graphicItem.nextAttrs;\n    }\n    getFinalAnimationAttribute(channel) {\n        var _a, _b;\n        return null !== (_b = null === (_a = this.getFinalGraphicAttributes()) || void 0 === _a ? void 0 : _a[channel]) && void 0 !== _b ? _b : this.getGraphicAttribute(channel);\n    }\n    getFinalAnimationAttributes() {\n        var _a;\n        return null !== (_a = this.getFinalGraphicAttributes()) && void 0 !== _a ? _a : this.graphicItem.attribute;\n    }\n    setNextGraphicAttributes(attributes) {\n        this.graphicItem.nextAttrs = attributes;\n    }\n    clearChangedGraphicAttributes() {\n        this.graphicItem && (this.setPrevGraphicAttributes(null), this.setNextGraphicAttributes(null));\n    }\n    clearGraphicAttributes() {\n        this.graphicItem && (this.graphicItem.prevAttrs && this.setPrevGraphicAttributes(null), \n        this.graphicItem.nextAttrs && this.setNextGraphicAttributes(null), this.graphicItem.finalAttrs && this.setFinalGraphicAttributes(null));\n    }\n    remove() {\n        this.graphicItem && ((0,_util_graphic__WEBPACK_IMPORTED_MODULE_6__.removeGraphicItem)(this.graphicItem), this.graphicItem = null);\n    }\n    release() {\n        this.removeGraphicItem(), this.mark = null, this.data = null, this.items = null;\n    }\n    getItemAttribute(channel) {\n        var _a, _b;\n        if (null === (_a = this.items) || void 0 === _a ? void 0 : _a.length) return this.mark.isCollectionMark() ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(channel) ? this.items.map((item => item.nextAttrs)) : this.items.map((item => {\n            var _a;\n            return null === (_a = item.nextAttrs) || void 0 === _a ? void 0 : _a[channel];\n        })) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(channel) ? this.items[0].nextAttrs : null === (_b = this.items[0].nextAttrs) || void 0 === _b ? void 0 : _b[channel];\n    }\n    setItemAttributes(attributes) {\n        var _a;\n        (null === (_a = this.items) || void 0 === _a ? void 0 : _a.length) && (this.mark.isCollectionMark() ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(attributes) && this.items.forEach(((item, index) => {\n            Object.assign(item.nextAttrs, attributes[index]);\n        })) : Object.assign(this.items[0].nextAttrs, attributes));\n    }\n    getItem() {\n        var _a, _b;\n        return this.mark && this.mark.isCollectionMark() ? null !== (_a = this.items) && void 0 !== _a ? _a : [] : null === (_b = this.items) || void 0 === _b ? void 0 : _b[0];\n    }\n    getDatum() {\n        var _a, _b;\n        return this.mark && this.mark.isCollectionMark() ? null !== (_a = this.data) && void 0 !== _a ? _a : [] : null === (_b = this.data) || void 0 === _b ? void 0 : _b[0];\n    }\n}\n//# sourceMappingURL=element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvZWxlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEk7O0FBRXhFOztBQUVlOztBQUVqQjs7QUFFakI7O0FBRVU7O0FBRTRFOztBQUU2Qjs7QUFFaEg7O0FBRVM7O0FBRXhEO0FBQ1A7QUFDQSw2REFBNkQsNkNBQVM7QUFDdEU7QUFDQTtBQUNBLG9DQUFvQyw0REFBSyxnSkFBZ0o7QUFDekw7QUFDQSxnQkFBZ0IsNERBQVU7QUFDMUI7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQSxhQUFhO0FBQ2IsWUFBWSxrRUFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0EscUVBQXFFLDBFQUFtQjtBQUN4Riw4Q0FBOEMsd0RBQWdCO0FBQzlEO0FBQ0EsbUJBQW1CLDBFQUFtQjtBQUN0QyxTQUFTO0FBQ1Qsc0RBQXNELCtEQUErRDtBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw2Q0FBUztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0VBQWlCLHFDQUFxQyx3REFBZ0I7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4Q0FBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsMEJBQTBCLHVEQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsdUJBQXVCLDhDQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwrR0FBK0csdURBQUssQ0FBQywrREFBa0I7QUFDdkk7QUFDQTtBQUNBLGdHQUFnRyw2Q0FBUywrQkFBK0IsNkNBQVM7QUFDako7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxzQ0FBc0MsNkRBQXFCLHNHQUFzRyw2REFBcUI7QUFDMU47QUFDQSwyQkFBMkIsNkNBQVMsNkJBQTZCLDZDQUFTO0FBQzFFLCtCQUErQixtREFBZTtBQUM5QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4R0FBOEcsZ0VBQVk7QUFDMUg7QUFDQTtBQUNBLHdGQUF3RixzREFBa0Isa0NBQWtDLHNEQUFrQixnQ0FBZ0Msc0RBQWtCO0FBQ2hOLDJCQUEyQiw2Q0FBUywwQkFBMEIsa0VBQW9CO0FBQ2xGLHlCQUF5QixrRUFBb0Isb0ZBQW9GLDZDQUFTLGdFQUFnRSxrRUFBb0I7QUFDOU4seUJBQXlCLGtFQUFvQixvRkFBb0YsNkNBQVMsd0NBQXdDLGtFQUFvQjtBQUN0TSxRQUFRLGtFQUFvQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2REFBUztBQUM5QztBQUNBLG9FQUFvRTtBQUNwRTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZEQUFRLGlCQUFpQiwwREFBVTtBQUNuRCw2RUFBNkU7QUFDN0UsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQVEsWUFBWSwwREFBVTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSx1REFBSztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQUs7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOENBQVU7QUFDakM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFDQUFxQyw2REFBUztBQUM5QztBQUNBLHVCQUF1Qiw4Q0FBVTtBQUNqQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDZDQUE2Qyw2REFBRyxpQ0FBaUMsMERBQVU7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNFQUFnQix1Q0FBdUMsNERBQUssbUdBQW1HLDBFQUFvQjtBQUMvTCwwU0FBMFMsc0RBQWtCO0FBQzVULDRCQUE0QixnRkFBNkIsMEJBQTBCLG1EQUFlLHNCQUFzQixtREFBZTtBQUN2SSxtQ0FBbUMsbUVBQWEscUNBQXFDLG1EQUFlO0FBQ3BHO0FBQ0E7QUFDQSxrQkFBa0IsSUFBSTtBQUN0Qiw2Q0FBNkMsK0VBQTRCO0FBQ3pFO0FBQ0EsNkNBQTZDLDJEQUFhO0FBQzFEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQix3RkFBd0YsNEVBQXlCLDJCQUEyQix3RUFBcUI7QUFDaks7QUFDQSw0REFBNEQscUVBQWtCO0FBQzlFLGtCQUFrQjtBQUNsQixjQUFjLGtCQUFrQixtREFBZSxpQ0FBaUMseUVBQW1CLHVDQUF1QyxtREFBZSxxQ0FBcUMsMkVBQXFCO0FBQ25OO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDZEQUFPO0FBQ3BCLG9MQUFvTDtBQUNwTDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxSkFBcUosOENBQThDO0FBQ2hOO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDREQUFLLFNBQVMsNkRBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZEQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0hBQWdILDZEQUFHO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDZEQUFHO0FBQ3pDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvSEFBb0gsNERBQUs7QUFDekg7QUFDQTtBQUNBLFNBQVMsS0FBSyw0REFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQSw4R0FBOEcsNkRBQU87QUFDckg7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9lbGVtZW50LmpzPzkxNzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXksIGhhcywgaXNCb29sZWFuLCBpc05pbCwgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzQXJyYXksIGdldCwgaXNFbXB0eSwgaXNFcXVhbCBhcyBpc09iakVxdWFsLCBpc09iamVjdCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEJyaWRnZUVsZW1lbnRLZXksIE1BUktfT1ZFUkxBUF9ISURFX0tFWSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBEaWZmU3RhdGUsIEhPT0tfRVZFTlQsIEdyYW1tYXJNYXJrVHlwZSwgQnVpbHRJbkVuY29kZU5hbWVzIH0gZnJvbSBcIi4vZW51bXNcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlciwgaW52b2tlRW5jb2RlclRvSXRlbXMgfSBmcm9tIFwiLi9tYXJrL2VuY29kZVwiO1xuXG5pbXBvcnQgeyByZW1vdmVHcmFwaGljSXRlbSB9IGZyb20gXCIuL3V0aWwvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm1BdHRyaWJ1dGVzIH0gZnJvbSBcIi4vYXR0cmlidXRlcy90cmFuc2Zvcm1cIjtcblxuaW1wb3J0IHsgZ2V0TGFyZ2VSZWN0c1BvaW50cywgZ2V0TGFyZ2VTeW1ib2xzUG9pbnRzLCBnZXRMaW5lUG9pbnRzLCBpc1ZhbGlkUG9pbnRzQ2hhbm5lbCwgaXNQb2ludHNNYXJrVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZXMvaGVscGVyc1wiO1xuXG5pbXBvcnQgeyBnZXRMaW5lU2VnbWVudENvbmZpZ3MsIGdldExpbmVQb2ludHNGcm9tU2VnbWVudHMsIHBhcnNlQ29sbGVjdGlvbk1hcmtBdHRyaWJ1dGVzLCBnZXRDb25uZWN0TGluZVNlZ21lbnRDb25maWdzLCByZW1vdmVTZWdtZW50QXR0cnMgfSBmcm9tIFwiLi9hdHRyaWJ1dGVzL2xpbmVcIjtcblxuaW1wb3J0IHsgQ3VzdG9tUGF0aDJEIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlLCBwYXJzZUZpZWxkIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG1hcmspIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbCwgdGhpcy5zdGF0ZXMgPSBbXSwgdGhpcy5kaWZmU3RhdGUgPSBEaWZmU3RhdGUuZW50ZXIsIHRoaXMuaXNSZXNlcnZlZCA9ICExLCBcbiAgICAgICAgdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlciA9IG51bGwsIHRoaXMuaXRlbXMgPSBbXSwgdGhpcy5nZXRTdGF0ZUF0dHJzID0gKHN0YXRlTmFtZSwgbmV4dFN0YXRlcykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgY29uc3QgaXNSdW50aW1lU3RhdGUgPSAhaXNOaWwobnVsbCA9PT0gKF9hID0gdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlcikgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hW3N0YXRlTmFtZV0pLCBlbmNvZGVyID0gaXNSdW50aW1lU3RhdGUgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG51bGwgPT09IChfYiA9IHRoaXMubWFyay5nZXRTcGVjKCkuZW5jb2RlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2Jbc3RhdGVOYW1lXSksIHRoaXMucnVudGltZVN0YXRlc0VuY29kZXJbc3RhdGVOYW1lXSkgOiBudWxsID09PSAoX2MgPSB0aGlzLm1hcmsuZ2V0U3BlYygpLmVuY29kZSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jW3N0YXRlTmFtZV07XG4gICAgICAgICAgICBpZiAoIWVuY29kZXIpIHJldHVybiB7fTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGVuY29kZXIpKSByZXR1cm4gZW5jb2Rlcih0aGlzLmdldERhdHVtKCksIHRoaXMsIHN0YXRlTmFtZSwgbmV4dFN0YXRlcyk7XG4gICAgICAgICAgICBpZiAoIWlzUnVudGltZVN0YXRlICYmIChudWxsID09PSAoX2QgPSB0aGlzLmdyYXBoaWNJdGVtLnN0YXRlcykgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kW3N0YXRlTmFtZV0pKSByZXR1cm4gdGhpcy5ncmFwaGljSXRlbS5zdGF0ZXNbc3RhdGVOYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlSXRlbXMgPSB0aGlzLml0ZW1zLm1hcCgoaXRlbSA9PiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICAgICAgbmV4dEF0dHJzOiB7fVxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIGludm9rZUVuY29kZXJUb0l0ZW1zKHRoaXMsIHN0YXRlSXRlbXMsIGVuY29kZXIsIHRoaXMubWFyay5wYXJhbWV0ZXJzKCkpO1xuICAgICAgICAgICAgY29uc3QgZ3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLnRyYW5zZm9ybUVsZW1lbnRJdGVtcyhzdGF0ZUl0ZW1zLCB0aGlzLm1hcmsubWFya1R5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVzID8gdGhpcy5ncmFwaGljSXRlbS5zdGF0ZXNbc3RhdGVOYW1lXSB8fCAodGhpcy5ncmFwaGljSXRlbS5zdGF0ZXNbc3RhdGVOYW1lXSA9IGdyYXBoaWNBdHRyaWJ1dGVzKSA6IHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVzID0ge1xuICAgICAgICAgICAgICAgIFtzdGF0ZU5hbWVdOiBncmFwaGljQXR0cmlidXRlc1xuICAgICAgICAgICAgfSwgZ3JhcGhpY0F0dHJpYnV0ZXM7XG4gICAgICAgIH0sIHRoaXMubWFyayA9IG1hcms7XG4gICAgfVxuICAgIGluaXRHcmFwaGljSXRlbShhdHRyaWJ1dGVzID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgYXR0clRyYW5zZm9ybXMgPSB0aGlzLm1hcmsuZ2V0QXR0cmlidXRlVHJhbnNmb3JtcygpO1xuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtID0gdGhpcy5tYXJrLmFkZEdyYXBoaWNJdGVtKGF0dHJUcmFuc2Zvcm1zID8gdHJhbnNmb3JtQXR0cmlidXRlcyhhdHRyVHJhbnNmb3JtcywgYXR0cmlidXRlcywgdGhpcykgOiBhdHRyaWJ1dGVzLCB0aGlzLmdyb3VwS2V5KSwgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gJiYgKHRoaXMuZ3JhcGhpY0l0ZW1bQnJpZGdlRWxlbWVudEtleV0gPSB0aGlzLCBhdHRyVHJhbnNmb3JtcyAmJiAodGhpcy5ncmFwaGljSXRlbS5vbkJlZm9yZUF0dHJpYnV0ZVVwZGF0ZSA9IGF0dHJpYnV0ZXMgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1hcmspIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUF0dHJpYnV0ZXMoYXR0clRyYW5zZm9ybXMsIGF0dHJpYnV0ZXMsIHRoaXMpO1xuICAgICAgICB9KSwgdGhpcy5jbGVhckdyYXBoaWNBdHRyaWJ1dGVzKCksIHRoaXMubWFyay5uZWVkQW5pbWF0ZSgpICYmICh0aGlzLnNldFByZXZHcmFwaGljQXR0cmlidXRlcyhudWxsKSwgXG4gICAgICAgIHRoaXMuc2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKE9iamVjdC5hc3NpZ24oe30sIGF0dHJpYnV0ZXMpKSwgdGhpcy5zZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKE9iamVjdC5hc3NpZ24oe30sIGF0dHJpYnV0ZXMpKSkpO1xuICAgIH1cbiAgICB1cGRhdGVHcmFwaGljSXRlbSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgdGhpcy5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS5leGl0ID8gdGhpcy5ncmFwaGljSXRlbS5yZWxlYXNlU3RhdHVzID0gXCJ3aWxsUmVsZWFzZVwiIDogdGhpcy5ncmFwaGljSXRlbS5yZWxlYXNlU3RhdHVzID0gdm9pZCAwO1xuICAgICAgICBjb25zdCBzdGF0ZUFuaW1hdGlvbiA9IG51bGwgPT09IChfYSA9IHRoaXMubWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZ2V0QW5pbWF0aW9uQ29uZmlncyhcInN0YXRlXCIpO1xuICAgICAgICBzdGF0ZUFuaW1hdGlvbiAmJiAwICE9PSBzdGF0ZUFuaW1hdGlvbi5sZW5ndGggJiYgKHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVBbmltYXRlQ29uZmlnID0gc3RhdGVBbmltYXRpb25bMF0ub3JpZ2luQ29uZmlnKTtcbiAgICB9XG4gICAgZ2V0R3JhcGhpY0l0ZW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNJdGVtO1xuICAgIH1cbiAgICByZW1vdmVHcmFwaGljSXRlbSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbSAmJiAobnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy5ncmFwaGljSXRlbS5hbmltYXRlcykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmZvckVhY2gpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSwgKGFuaW1hdGUgPT4gYW5pbWF0ZS5zdG9wKCkpKSksIFxuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtICYmIChyZW1vdmVHcmFwaGljSXRlbSh0aGlzLmdyYXBoaWNJdGVtKSwgdGhpcy5ncmFwaGljSXRlbVtCcmlkZ2VFbGVtZW50S2V5XSA9IG51bGwsIFxuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtID0gbnVsbCk7XG4gICAgfVxuICAgIHJlc2V0R3JhcGhpY0l0ZW0oKSB7XG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gJiYgKHRoaXMuZ3JhcGhpY0l0ZW0gPSBudWxsKTtcbiAgICB9XG4gICAgZ2V0Qm91bmRzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsID09PSAoX2EgPSB0aGlzLmdyYXBoaWNJdGVtKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuQUFCQkJvdW5kcztcbiAgICB9XG4gICAgZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXM7XG4gICAgfVxuICAgIHVwZGF0ZURhdGEoZ3JvdXBLZXksIGRhdGEsIGtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubWFyay5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX0VMRU1FTlRfVVBEQVRFX0RBVEEsIHtcbiAgICAgICAgICAgIGdyb3VwS2V5OiBncm91cEtleSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBrZXk6IGtleVxuICAgICAgICB9LCB0aGlzKSwgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgY29uc3Qga2V5R2V0dGVyID0gcGFyc2VGaWVsZChrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcyA9IGRhdGEubWFwKChkYXR1bSA9PiAoe1xuICAgICAgICAgICAgZGF0dW06IGRhdHVtLFxuICAgICAgICAgICAga2V5OiBrZXlHZXR0ZXIoZGF0dW0pLFxuICAgICAgICAgICAgdmlldzogdGhpcy5tYXJrLnZpZXcsXG4gICAgICAgICAgICBuZXh0QXR0cnM6IHt9XG4gICAgICAgIH0pKSksIHRoaXMuZ3JvdXBLZXkgPSBncm91cEtleSwgdGhpcy5rZXkgPSB0aGlzLm1hcmsuaXNDb2xsZWN0aW9uTWFyaygpID8gZ3JvdXBLZXkgOiBudWxsID09PSAoX2EgPSB0aGlzLml0ZW1zKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2FbMF0ua2V5LCBcbiAgICAgICAgdGhpcy5tYXJrLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9FTEVNRU5UX1VQREFURV9EQVRBLCB7XG4gICAgICAgICAgICBncm91cEtleTogZ3JvdXBLZXksXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgfSwgdGhpcyksIHRoaXMuaXRlbXM7XG4gICAgfVxuICAgIHN0YXRlKG1hcmtTdGF0ZSwgcGFyYW1ldGVycykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGlzQ29sbGVjdGlvbk1hcmsgPSB0aGlzLm1hcmsuaXNDb2xsZWN0aW9uTWFyaygpLCBwcmV2U3RhdGVWYWx1ZXMgPSB0aGlzLnN0YXRlcywgbmV3U3RhdGVWYWx1ZXMgPSBhcnJheShpbnZva2VGdW5jdGlvblR5cGUobWFya1N0YXRlLCBwYXJhbWV0ZXJzLCB0aGlzLmdldERhdHVtKCksIHRoaXMpKSwgc3RhdGVTb3J0ID0gbnVsbCA9PT0gKF9hID0gdGhpcy5tYXJrLmdldFNwZWMoKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnN0YXRlU29ydDtcbiAgICAgICAgc3RhdGVTb3J0ICYmIG5ld1N0YXRlVmFsdWVzLmxlbmd0aCAmJiBuZXdTdGF0ZVZhbHVlcy5zb3J0KHN0YXRlU29ydCk7XG4gICAgICAgIGNvbnN0IGlzU3RhdGVDaGFuZ2VkID0gbmV3U3RhdGVWYWx1ZXMubGVuZ3RoICE9PSBwcmV2U3RhdGVWYWx1ZXMubGVuZ3RoIHx8IG5ld1N0YXRlVmFsdWVzLnNvbWUoKChuZXdTdGF0ZSwgaW5kZXgpID0+IG5ld1N0YXRlICE9PSBwcmV2U3RhdGVWYWx1ZXNbaW5kZXhdKSk7XG4gICAgICAgIHRoaXMuc3RhdGVzID0gbmV3U3RhdGVWYWx1ZXMsICFpc0NvbGxlY3Rpb25NYXJrICYmIGlzU3RhdGVDaGFuZ2VkICYmIHRoaXMuZGlmZlN0YXRlID09PSBEaWZmU3RhdGUudW5DaGFuZ2UgJiYgKHRoaXMuZGlmZlN0YXRlID0gRGlmZlN0YXRlLnVwZGF0ZSk7XG4gICAgfVxuICAgIGVuY29kZUdyYXBoaWMoYXR0cnMpIHtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlVHJhbnNmb3JtRW5jb2RlKHRoaXMuaXRlbXMpO1xuICAgICAgICBjb25zdCBncmFwaGljQXR0cmlidXRlcyA9IHRoaXMudHJhbnNmb3JtRWxlbWVudEl0ZW1zKHRoaXMuaXRlbXMsIHRoaXMubWFyay5tYXJrVHlwZSk7XG4gICAgICAgIGF0dHJzICYmIE9iamVjdC5hc3NpZ24oZ3JhcGhpY0F0dHJpYnV0ZXMsIGF0dHJzKSwgdGhpcy5ncmFwaGljSXRlbSA/ICh0aGlzLmdyYXBoaWNJdGVtLmNsZWFyU3RhdGVzKCksIFxuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtLnN0YXRlcyA9IHt9LCB0aGlzLmdyYXBoaWNJdGVtLnN0YXRlUHJveHkgPSBudWxsLCBNQVJLX09WRVJMQVBfSElERV9LRVkgaW4gdGhpcy5ncmFwaGljSXRlbS5hdHRyaWJ1dGUgJiYgXCJ2aXNpYmxlXCIgaW4gZ3JhcGhpY0F0dHJpYnV0ZXMgJiYgZGVsZXRlIHRoaXMuZ3JhcGhpY0l0ZW0uYXR0cmlidXRlW01BUktfT1ZFUkxBUF9ISURFX0tFWV0sIFxuICAgICAgICB0aGlzLmFwcGx5R3JhcGhpY0F0dHJpYnV0ZXMoZ3JhcGhpY0F0dHJpYnV0ZXMpKSA6IHRoaXMuaW5pdEdyYXBoaWNJdGVtKGdyYXBoaWNBdHRyaWJ1dGVzKSwgXG4gICAgICAgIHRoaXMuZGlmZlN0YXRlICE9PSBEaWZmU3RhdGUuZW50ZXIgJiYgdGhpcy5kaWZmU3RhdGUgIT09IERpZmZTdGF0ZS51cGRhdGUgfHwgIXRoaXMuc3RhdGVzLmxlbmd0aCB8fCB0aGlzLnVzZVN0YXRlcyh0aGlzLnN0YXRlcyksIFxuICAgICAgICB0aGlzLm1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5zaGFwZSAmJiAodGhpcy5ncmFwaGljSXRlbS5kYXR1bSA9IHRoaXMuaXRlbXNbMF0uZGF0dW0pLCBcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtID0+IHtcbiAgICAgICAgICAgIGl0ZW0ubmV4dEF0dHJzID0ge307XG4gICAgICAgIH0pKSwgdGhpcy5fc2V0Q3VzdG9taXplZFNoYXBlKCk7XG4gICAgfVxuICAgIF9zZXRDdXN0b21pemVkU2hhcGUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNldEN1c3RvbWl6ZWRTaGFwZSA9IG51bGwgPT09IChfYSA9IHRoaXMubWFyay5nZXRTcGVjKCkpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zZXRDdXN0b21pemVkU2hhcGU7XG4gICAgICAgIHNldEN1c3RvbWl6ZWRTaGFwZSAmJiAodGhpcy5ncmFwaGljSXRlbS5wYXRoUHJveHkgPSBhdHRycyA9PiBzZXRDdXN0b21pemVkU2hhcGUodGhpcy5kYXRhLCBhdHRycywgbmV3IEN1c3RvbVBhdGgyRCkpO1xuICAgIH1cbiAgICBlbmNvZGVJdGVtcyhpdGVtcywgZW5jb2RlcnMsIGlzUmVlbnRlcmVkID0gITEsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgY29uc3QgaXNDb2xsZWN0aW9uTWFyayA9IHRoaXMubWFyay5pc0NvbGxlY3Rpb25NYXJrKCksIHVwZGF0ZUVuY29kZXIgPSBlbmNvZGVyc1tCdWlsdEluRW5jb2RlTmFtZXMudXBkYXRlXSwgZW50ZXJFbmNvZGVyID0gZW5jb2RlcnNbQnVpbHRJbkVuY29kZU5hbWVzLmVudGVyXSwgZXhpdEVuY29kZXIgPSBlbmNvZGVyc1tCdWlsdEluRW5jb2RlTmFtZXMuZXhpdF0sIG9ubHlGdWxsRW5jb2RlRmlyc3QgPSB0aGlzLm1hcmsuaXNMYXJnZU1vZGUoKSB8fCBpc0NvbGxlY3Rpb25NYXJrICYmICF0aGlzLm1hcmsuZ2V0U3BlYygpLmVuYWJsZVNlZ21lbnRzO1xuICAgICAgICB0aGlzLmRpZmZTdGF0ZSA9PT0gRGlmZlN0YXRlLmVudGVyID8gKGVudGVyRW5jb2RlciAmJiBpbnZva2VFbmNvZGVyVG9JdGVtcyh0aGlzLCBpdGVtcywgZW50ZXJFbmNvZGVyLCBwYXJhbWV0ZXJzLCBvbmx5RnVsbEVuY29kZUZpcnN0KSwgXG4gICAgICAgIHVwZGF0ZUVuY29kZXIgJiYgaW52b2tlRW5jb2RlclRvSXRlbXModGhpcywgaXRlbXMsIHVwZGF0ZUVuY29kZXIsIHBhcmFtZXRlcnMsIG9ubHlGdWxsRW5jb2RlRmlyc3QpKSA6IHRoaXMuZGlmZlN0YXRlID09PSBEaWZmU3RhdGUudXBkYXRlID8gKChpc0NvbGxlY3Rpb25NYXJrICYmIGVudGVyRW5jb2RlciB8fCBpc1JlZW50ZXJlZCkgJiYgaW52b2tlRW5jb2RlclRvSXRlbXModGhpcywgaXRlbXMsIGVudGVyRW5jb2RlciwgcGFyYW1ldGVycywgb25seUZ1bGxFbmNvZGVGaXJzdCksIFxuICAgICAgICB1cGRhdGVFbmNvZGVyICYmIGludm9rZUVuY29kZXJUb0l0ZW1zKHRoaXMsIGl0ZW1zLCB1cGRhdGVFbmNvZGVyLCBwYXJhbWV0ZXJzLCBvbmx5RnVsbEVuY29kZUZpcnN0KSkgOiB0aGlzLmRpZmZTdGF0ZSA9PT0gRGlmZlN0YXRlLmV4aXQgJiYgZXhpdEVuY29kZXIgJiYgKGlzUmVlbnRlcmVkICYmIGludm9rZUVuY29kZXJUb0l0ZW1zKHRoaXMsIGl0ZW1zLCBlbnRlckVuY29kZXIsIHBhcmFtZXRlcnMsIG9ubHlGdWxsRW5jb2RlRmlyc3QpLCBcbiAgICAgICAgaW52b2tlRW5jb2RlclRvSXRlbXModGhpcywgaXRlbXMsIGV4aXRFbmNvZGVyLCBwYXJhbWV0ZXJzLCBvbmx5RnVsbEVuY29kZUZpcnN0KSk7XG4gICAgfVxuICAgIGNvb3JkaW5hdGVUcmFuc2Zvcm1FbmNvZGUoaXRlbXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hcmsuY29vcmQgfHwgXCJhcmNcIiA9PT0gdGhpcy5tYXJrLm1hcmtUeXBlIHx8ICEwID09PSB0aGlzLm1hcmsuZGlzYWJsZUNvb3JkaW5hdGVUcmFuc2Zvcm0pIHJldHVybjtcbiAgICAgICAgY29uc3QgY29vcmQgPSB0aGlzLm1hcmsuY29vcmQub3V0cHV0KCk7XG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0gPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dEF0dHJzID0gaXRlbS5uZXh0QXR0cnMsIGNvbnZlcnRlZFBvaW50ID0gY29vcmQuY29udmVydChuZXh0QXR0cnMpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihuZXh0QXR0cnMsIGNvbnZlcnRlZFBvaW50KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBoYXNTdGF0ZUFuaW1hdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBzdGF0ZUFuaW1hdGlvbiA9IG51bGwgPT09IChfYSA9IHRoaXMubWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZ2V0QW5pbWF0aW9uQ29uZmlncyhcInN0YXRlXCIpO1xuICAgICAgICByZXR1cm4gc3RhdGVBbmltYXRpb24gJiYgc3RhdGVBbmltYXRpb24ubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgY2xlYXJTdGF0ZXMoaGFzQW5pbWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlQW5pbWF0aW9uRW5hYmxlID0gaXNCb29sZWFuKGhhc0FuaW1hdGlvbikgPyBoYXNBbmltYXRpb24gOiB0aGlzLmhhc1N0YXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIHRoaXMuc3RhdGVzID0gW10sIHRoaXMuZ3JhcGhpY0l0ZW0gJiYgdGhpcy5ncmFwaGljSXRlbS5jbGVhclN0YXRlcyhzdGF0ZUFuaW1hdGlvbkVuYWJsZSksIFxuICAgICAgICB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyICYmICh0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyID0ge30pO1xuICAgIH1cbiAgICBfdXBkYXRlUnVudGltZVN0YXRlcyhzdGF0ZSwgYXR0cnMpIHtcbiAgICAgICAgdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlciB8fCAodGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlciA9IHt9KSwgdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlcltzdGF0ZV0gPSBhdHRycztcbiAgICB9XG4gICAgaGFzU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVzICYmIHN0YXRlICYmIHRoaXMuc3RhdGVzLmluY2x1ZGVzKHN0YXRlKTtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGVzKHN0YXRlcykge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybiAhMTtcbiAgICAgICAgbGV0IG5leHRTdGF0ZXMgPSB0aGlzLnN0YXRlcy5zbGljZSgpO1xuICAgICAgICBjb25zdCBlbmNvZGUgPSB0aGlzLm1hcmsuZ2V0U3BlYygpLmVuY29kZTtcbiAgICAgICAgbGV0IGZvcmNlQ2xlYXJTdGF0ZSA9ICExLCBoYXNVcGRhdGUgPSAhMTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0YXRlcykuZm9yRWFjaCgoc3RhdGVLZXkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZUtleSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVWYWx1ZSA9IHN0YXRlc1tzdGF0ZUtleV07XG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qoc3RhdGVWYWx1ZSkgJiYgIWlzT2JqRXF1YWwoc3RhdGVWYWx1ZSwgbnVsbCA9PT0gKF9hID0gdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlcikgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hW3N0YXRlS2V5XSkpIG5leHRTdGF0ZXMuaW5jbHVkZXMoc3RhdGVLZXkpID8gZm9yY2VDbGVhclN0YXRlID0gITAgOiBuZXh0U3RhdGVzLnB1c2goc3RhdGVLZXkpLCBcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVJ1bnRpbWVTdGF0ZXMoc3RhdGVLZXksIHN0YXRlVmFsdWUpLCBoYXNVcGRhdGUgPSAhMDsgZWxzZSBpZiAoc3RhdGVWYWx1ZSkgIW5leHRTdGF0ZXMuaW5jbHVkZXMoc3RhdGVLZXkpICYmIChudWxsID09IGVuY29kZSA/IHZvaWQgMCA6IGVuY29kZVtzdGF0ZUtleV0pICYmIChuZXh0U3RhdGVzLnB1c2goc3RhdGVLZXkpLCBcbiAgICAgICAgICAgIGhhc1VwZGF0ZSA9ICEwKTsgZWxzZSBpZiAobmV4dFN0YXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdOZXh0U3RhdGVzID0gbmV4dFN0YXRlcy5maWx0ZXIoKHN0YXRlID0+IHN0YXRlICE9PSBzdGF0ZUtleSkpO1xuICAgICAgICAgICAgICAgIG5ld05leHRTdGF0ZXMubGVuZ3RoICE9PSBuZXh0U3RhdGVzLmxlbmd0aCAmJiAoaGFzVXBkYXRlID0gITAsIG5leHRTdGF0ZXMgPSBuZXdOZXh0U3RhdGVzKSwgXG4gICAgICAgICAgICAgICAgdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlciAmJiB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyW3N0YXRlS2V5XSAmJiAodGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlcltzdGF0ZUtleV0gPSBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLCBmb3JjZUNsZWFyU3RhdGUgJiYgdGhpcy5ncmFwaGljSXRlbS5jbGVhclN0YXRlcygpLCAhIWhhc1VwZGF0ZSAmJiAodGhpcy51c2VTdGF0ZXMobmV4dFN0YXRlcyksIFxuICAgICAgICAhMCk7XG4gICAgfVxuICAgIGFkZFN0YXRlKHN0YXRlLCBhdHRycykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuICExO1xuICAgICAgICBpZiAoYXR0cnMgJiYgaXNTdHJpbmcoc3RhdGUpICYmICFpc09iakVxdWFsKGF0dHJzLCBudWxsID09PSAoX2EgPSB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Fbc3RhdGVdKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFN0YXRlcyA9IHRoaXMuc3RhdGVzLnNsaWNlKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFN0YXRlcy5pbmNsdWRlcyhzdGF0ZSkgPyB0aGlzLmdyYXBoaWNJdGVtLmNsZWFyU3RhdGVzKCkgOiBuZXh0U3RhdGVzLnB1c2goc3RhdGUpLCBcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVJ1bnRpbWVTdGF0ZXMoc3RhdGUsIGF0dHJzKSwgdGhpcy51c2VTdGF0ZXMobmV4dFN0YXRlcyksICEwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZSA9IHRoaXMubWFyay5nZXRTcGVjKCkuZW5jb2RlLCBuZXh0U3RhdGVzID0gYXJyYXkoc3RhdGUpLnJlZHVjZSgoKG5leHRTdGF0ZXMsIHN0YXRlTmFtZSkgPT4gKHN0YXRlTmFtZSAmJiAhbmV4dFN0YXRlcy5pbmNsdWRlcyhzdGF0ZU5hbWUpICYmIChudWxsID09IGVuY29kZSA/IHZvaWQgMCA6IGVuY29kZVtzdGF0ZU5hbWVdKSAmJiBuZXh0U3RhdGVzLnB1c2goc3RhdGVOYW1lKSwgXG4gICAgICAgIG5leHRTdGF0ZXMpKSwgdGhpcy5zdGF0ZXMuc2xpY2UoKSk7XG4gICAgICAgIHJldHVybiBuZXh0U3RhdGVzLmxlbmd0aCAhPT0gdGhpcy5zdGF0ZXMubGVuZ3RoICYmICh0aGlzLnVzZVN0YXRlcyhuZXh0U3RhdGVzKSwgXG4gICAgICAgICEwKTtcbiAgICB9XG4gICAgcmVtb3ZlU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IGFycmF5KHN0YXRlKTtcbiAgICAgICAgaWYgKCFzdGF0ZXMubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IG5leHRTdGF0ZXMgPSB0aGlzLnN0YXRlcy5maWx0ZXIoKHN0YXRlID0+ICFzdGF0ZXMuaW5jbHVkZXMoc3RhdGUpKSk7XG4gICAgICAgIHJldHVybiBuZXh0U3RhdGVzLmxlbmd0aCAhPT0gdGhpcy5zdGF0ZXMubGVuZ3RoICYmICh0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyICYmIHN0YXRlcy5mb3JFYWNoKChzdGF0ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyW3N0YXRlXSA9IG51bGw7XG4gICAgICAgIH0pKSwgdGhpcy51c2VTdGF0ZXMobmV4dFN0YXRlcyksICEwKTtcbiAgICB9XG4gICAgdXNlU3RhdGVzKHN0YXRlcywgaGFzQW5pbWF0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm4gITE7XG4gICAgICAgIHRoaXMubWFyay5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX0VMRU1FTlRfU1RBVEUsIHtcbiAgICAgICAgICAgIHN0YXRlczogc3RhdGVzXG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBjb25zdCBzdGF0ZVNvcnQgPSBudWxsID09PSAoX2EgPSB0aGlzLm1hcmsuZ2V0U3BlYygpKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc3RhdGVTb3J0O1xuICAgICAgICBzdGF0ZVNvcnQgJiYgc3RhdGVzLnNvcnQoc3RhdGVTb3J0KSwgdGhpcy5zdGF0ZXMgPSBzdGF0ZXM7XG4gICAgICAgIGNvbnN0IHN0YXRlQW5pbWF0aW9uRW5hYmxlID0gaXNCb29sZWFuKGhhc0FuaW1hdGlvbikgPyBoYXNBbmltYXRpb24gOiB0aGlzLmhhc1N0YXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNJdGVtLnN0YXRlUHJveHkgPSB0aGlzLmdldFN0YXRlQXR0cnMsIHRoaXMuZ3JhcGhpY0l0ZW0udXNlU3RhdGVzKHRoaXMuc3RhdGVzLCBzdGF0ZUFuaW1hdGlvbkVuYWJsZSksIFxuICAgICAgICB0aGlzLm1hcmsuZW1pdChIT09LX0VWRU5ULkFGVEVSX0VMRU1FTlRfU1RBVEUsIHtcbiAgICAgICAgICAgIHN0YXRlczogc3RhdGVzXG4gICAgICAgIH0sIHRoaXMpLCAhMDtcbiAgICB9XG4gICAgZGlmZkF0dHJpYnV0ZXMoZ3JhcGhpY0F0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgZGlmZlJlc3VsdCA9IHt9LCBmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGdyYXBoaWNBdHRyaWJ1dGVzKSBoYXMoZmluYWxHcmFwaGljQXR0cmlidXRlcywga2V5KSAmJiBpc09iakVxdWFsKGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXNba2V5XSwgZ3JhcGhpY0F0dHJpYnV0ZXNba2V5XSkgfHwgKGRpZmZSZXN1bHRba2V5XSA9IGdyYXBoaWNBdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICByZXR1cm4gZGlmZlJlc3VsdDtcbiAgICB9XG4gICAgdHJhbnNmb3JtRWxlbWVudEl0ZW1zKGl0ZW1zLCBtYXJrVHlwZSwgY29tcHV0ZVBvaW50cykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbMF07XG4gICAgICAgIGlmICghaXRlbS5uZXh0QXR0cnMgfHwgMCA9PT0gT2JqZWN0LmtleXMoaXRlbS5uZXh0QXR0cnMpLmxlbmd0aCkgcmV0dXJuIHt9O1xuICAgICAgICBsZXQgbmV4dEF0dHJzID0gaXRlbS5uZXh0QXR0cnM7XG4gICAgICAgIGlmIChpc1BvaW50c01hcmtUeXBlKG1hcmtUeXBlKSAmJiBpdGVtcyAmJiBpdGVtcy5sZW5ndGggJiYgaXNOaWwobnVsbCA9PT0gKF9hID0gaXRlbS5uZXh0QXR0cnMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5wb2ludHMpICYmICghMCA9PT0gY29tcHV0ZVBvaW50cyB8fCBpc1ZhbGlkUG9pbnRzQ2hhbm5lbChPYmplY3Qua2V5cyhpdGVtLm5leHRBdHRycyksIHRoaXMubWFyay5tYXJrVHlwZSkpKSB7XG4gICAgICAgICAgICBjb25zdCBtYXJrU3BlYyA9IHRoaXMubWFyay5nZXRTcGVjKCksIGxhc3RQb2ludHMgPSB0aGlzLmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITEpLCBsYXN0U2VnbWVudHMgPSB0aGlzLmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzZWdtZW50c1wiLCAhMSksIGVuYWJsZVNlZ21lbnRzID0gbWFya1NwZWMuZW5hYmxlU2VnbWVudHMsIGNvbm5lY3ROdWxsc0VuY29kZXIgPSBudWxsID09PSAoX2IgPSB0aGlzLm1hcmsuZ2V0U3BlYygpLmVuY29kZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iW0J1aWx0SW5FbmNvZGVOYW1lcy5jb25uZWN0TnVsbHNdLCBpdGVtTmV4dEF0dHJzID0gaXRlbXMubWFwKChpdGVtID0+IGl0ZW0ubmV4dEF0dHJzKSksIGlzUHJvZ3Jlc3NpdmUgPSB0aGlzLm1hcmsuaXNQcm9ncmVzc2l2ZSgpO1xuICAgICAgICAgICAgaWYgKG5leHRBdHRycyA9IHBhcnNlQ29sbGVjdGlvbk1hcmtBdHRyaWJ1dGVzKG5leHRBdHRycyksIG1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUubGluZSB8fCBtYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmFyZWEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lUG9pbnRzID0gZ2V0TGluZVBvaW50cyhpdGVtcywgITAsIGxhc3RQb2ludHMsIG1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuYXJlYSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvZ3Jlc3NpdmUpIG5leHRBdHRycy5zZWdtZW50cyA9IChudWxsICE9PSAoX2UgPSBudWxsID09PSAoX2QgPSBudWxsID09PSAoX2MgPSB0aGlzLmdyYXBoaWNJdGVtKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuYXR0cmlidXRlKSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2Quc2VnbWVudHMpICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IFtdKS5jb25jYXQoWyB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50czogbGluZVBvaW50c1xuICAgICAgICAgICAgICAgIH0gXSk7IGVsc2UgaWYgKGNvbm5lY3ROdWxsc0VuY29kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRBdHRycy5zZWdtZW50cyA9IGdldENvbm5lY3RMaW5lU2VnbWVudENvbmZpZ3MoaXRlbU5leHRBdHRycywgbGluZVBvaW50cywgdGhpcyksIFxuICAgICAgICAgICAgICAgICAgICBuZXh0QXR0cnMuc2VnbWVudHMgJiYgbmV4dEF0dHJzLnNlZ21lbnRzLnNvbWUoKHNlZyA9PiBzZWcuaXNDb25uZWN0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RTdHlsZSA9IGludm9rZUVuY29kZXIoY29ubmVjdE51bGxzRW5jb2RlciwgdGhpcy5nZXREYXR1bSgpLCB0aGlzLCB0aGlzLm1hcmsucGFyYW1ldGVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RTdHlsZSAmJiBuZXh0QXR0cnMuc2VnbWVudHMuZm9yRWFjaCgoc2VnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWcuaXNDb25uZWN0ICYmIE9iamVjdC5hc3NpZ24oc2VnLCBjb25uZWN0U3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5leHRBdHRycy5wb2ludHMgPSBsaW5lUG9pbnRzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5hYmxlU2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gbGluZVBvaW50cyAmJiAwICE9PSBsaW5lUG9pbnRzLmxlbmd0aCA/IGxpbmVQb2ludHMgOiBnZXRMaW5lUG9pbnRzRnJvbVNlZ21lbnRzKGxhc3RTZWdtZW50cyksIHNlZ21lbnRzID0gZ2V0TGluZVNlZ21lbnRDb25maWdzKGl0ZW1OZXh0QXR0cnMsIHBvaW50cywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzID8gKG5leHRBdHRycy5zZWdtZW50cyA9IHNlZ21lbnRzLCBuZXh0QXR0cnMucG9pbnRzID0gbnVsbCkgOiAobmV4dEF0dHJzLnNlZ21lbnRzID0gbnVsbCwgXG4gICAgICAgICAgICAgICAgICAgIG5leHRBdHRycy5wb2ludHMgPSBwb2ludHMpLCBuZXh0QXR0cnMgPSByZW1vdmVTZWdtZW50QXR0cnMobmV4dEF0dHJzLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgbmV4dEF0dHJzLnBvaW50cyA9IGxpbmVQb2ludHMsIG5leHRBdHRycy5zZWdtZW50cyA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgbWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5sYXJnZVJlY3RzID8gbmV4dEF0dHJzLnBvaW50cyA9IGdldExhcmdlUmVjdHNQb2ludHMoaXRlbXMsICEwLCBsYXN0UG9pbnRzKSA6IG1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUubGFyZ2VTeW1ib2xzICYmIChuZXh0QXR0cnMucG9pbnRzID0gZ2V0TGFyZ2VTeW1ib2xzUG9pbnRzKGl0ZW1zLCAhMCwgbGFzdFBvaW50cykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0QXR0cnM7XG4gICAgfVxuICAgIGFwcGx5R3JhcGhpY0F0dHJpYnV0ZXMoZ3JhcGhpY0F0dHJpYnV0ZXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmICghaXNFbXB0eShncmFwaGljQXR0cmlidXRlcykpIGlmICh0aGlzLm1hcmsubmVlZEFuaW1hdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dEdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5kaWZmQXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcyksIHByZXZHcmFwaGljQXR0cmlidXRlcyA9IG51bGwgIT09IChfYSA9IHRoaXMuZ2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKCkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9LCBmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzID0gbnVsbCAhPT0gKF9iID0gdGhpcy5nZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKCkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobmV4dEdyYXBoaWNBdHRyaWJ1dGVzKS5mb3JFYWNoKChjaGFubmVsID0+IHtcbiAgICAgICAgICAgICAgICBwcmV2R3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF0gPSB0aGlzLmdldEdyYXBoaWNBdHRyaWJ1dGUoY2hhbm5lbCksIGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF0gPSBuZXh0R3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF07XG4gICAgICAgICAgICB9KSksIHRoaXMuc2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKG5leHRHcmFwaGljQXR0cmlidXRlcyksIHRoaXMuc2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKHByZXZHcmFwaGljQXR0cmlidXRlcyksIFxuICAgICAgICAgICAgdGhpcy5zZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEFuaW1hdG9ycyA9IG51bGwgPT09IChfYyA9IHRoaXMubWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuZ2V0RWxlbWVudEFuaW1hdG9ycyh0aGlzKS5maWx0ZXIoKGFuaW1hdG9yID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEobnVsbCA9PT0gKF9hID0gYW5pbWF0b3IuYW5pbWF0aW9uT3B0aW9ucy50aW1lbGluZS5jb250cm9sT3B0aW9ucykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmlnbm9yZUxvb3BGaW5hbEF0dHJpYnV0ZXMpIHx8ICFhbmltYXRvci5hbmltYXRpb25PcHRpb25zLnRpbWVsaW5lLmxvb3A7XG4gICAgICAgICAgICB9KSksIGFuaW1hdGVHcmFwaGljQXR0cmlidXRlcyA9IChjdXJyZW50QW5pbWF0b3JzIHx8IFtdKS5yZWR1Y2UoKChhdHRyaWJ1dGVzLCBhbmltYXRvcikgPT4gT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLCBhbmltYXRvci5nZXRFbmRBdHRyaWJ1dGVzKCkpKSwge30pLCBjdXJyZW50R3JhcGhpY0F0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBhbmltYXRlR3JhcGhpY0F0dHJpYnV0ZXMsIGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGVzKGN1cnJlbnRHcmFwaGljQXR0cmlidXRlcyk7XG4gICAgICAgIH0gZWxzZSB0aGlzLmdyYXBoaWNJdGVtLnNldEF0dHJpYnV0ZXMoZ3JhcGhpY0F0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICBnZXRHcmFwaGljQXR0cmlidXRlKGNoYW5uZWwsIHByZXYgPSAhMSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcHJldkdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgIGlmICghaXNOaWwodmFsdWUgPSBnZXQocHJldkdyYXBoaWNBdHRyaWJ1dGVzLCBjaGFubmVsKSkpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFucyA9IHRoaXMubWFyay5nZXRBdHRyaWJ1dGVUcmFuc2Zvcm1zKCk7XG4gICAgICAgIGxldCBnZXRLZXkgPSBbIGNoYW5uZWwgXTtcbiAgICAgICAgaWYgKHRyYW5zICYmIHRyYW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbFRyYW5zZm9ybSA9IHRyYW5zLmZpbmQoKGVudHJ5ID0+IGVudHJ5LnN0b3JlZEF0dHJzICYmIGVudHJ5LmNoYW5uZWxzLmluY2x1ZGVzKGNoYW5uZWwpKSk7XG4gICAgICAgICAgICBjaGFubmVsVHJhbnNmb3JtICYmIChnZXRLZXkgPSBbIGNoYW5uZWxUcmFuc2Zvcm0uc3RvcmVkQXR0cnMsIGNoYW5uZWwgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldChudWxsID09PSAoX2EgPSB0aGlzLmdyYXBoaWNJdGVtKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuYXR0cmlidXRlLCBnZXRLZXkpO1xuICAgIH1cbiAgICBzZXRHcmFwaGljQXR0cmlidXRlKGNoYW5uZWwsIHZhbHVlLCBmaW5hbCA9ICEwKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKCksIHByZXZHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZ2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGZpbmFsICYmIGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMgJiYgKGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF0gPSB2YWx1ZSksIHByZXZHcmFwaGljQXR0cmlidXRlcyAmJiAhaGFzKHByZXZHcmFwaGljQXR0cmlidXRlcywgY2hhbm5lbCkgJiYgKHByZXZHcmFwaGljQXR0cmlidXRlc1tjaGFubmVsXSA9IHRoaXMuZ3JhcGhpY0l0ZW0uYXR0cmlidXRlW2NoYW5uZWxdKSwgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0uc2V0QXR0cmlidXRlKGNoYW5uZWwsIHZhbHVlKTtcbiAgICB9XG4gICAgc2V0R3JhcGhpY0F0dHJpYnV0ZXMoYXR0cmlidXRlcywgZmluYWwgPSAhMCkge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgZmluYWxHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcygpLCBwcmV2R3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmdldFByZXZHcmFwaGljQXR0cmlidXRlcygpO1xuICAgICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgZmluYWxHcmFwaGljQXR0cmlidXRlcyAmJiBmaW5hbCAmJiAoZmluYWxHcmFwaGljQXR0cmlidXRlc1trZXldID0gYXR0cmlidXRlc1trZXldKSwgXG4gICAgICAgICAgICBwcmV2R3JhcGhpY0F0dHJpYnV0ZXMgJiYgIWhhcyhwcmV2R3JhcGhpY0F0dHJpYnV0ZXMsIGtleSkgJiYgKHByZXZHcmFwaGljQXR0cmlidXRlc1trZXldID0gdGhpcy5ncmFwaGljSXRlbS5hdHRyaWJ1dGVba2V5XSk7XG4gICAgICAgIH0pKSwgdGhpcy5ncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICBnZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljSXRlbS5maW5hbEF0dHJzO1xuICAgIH1cbiAgICBzZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbS5maW5hbEF0dHJzID0gYXR0cmlidXRlcztcbiAgICB9XG4gICAgZ2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljSXRlbS5wcmV2QXR0cnM7XG4gICAgfVxuICAgIHNldFByZXZHcmFwaGljQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0ucHJldkF0dHJzID0gYXR0cmlidXRlcztcbiAgICB9XG4gICAgZ2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljSXRlbS5uZXh0QXR0cnM7XG4gICAgfVxuICAgIGdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKGNoYW5uZWwpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMuZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcygpKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2FbY2hhbm5lbF0pICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHRoaXMuZ2V0R3JhcGhpY0F0dHJpYnV0ZShjaGFubmVsKTtcbiAgICB9XG4gICAgZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLmdldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMoKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogdGhpcy5ncmFwaGljSXRlbS5hdHRyaWJ1dGU7XG4gICAgfVxuICAgIHNldE5leHRHcmFwaGljQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0ubmV4dEF0dHJzID0gYXR0cmlidXRlcztcbiAgICB9XG4gICAgY2xlYXJDaGFuZ2VkR3JhcGhpY0F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gJiYgKHRoaXMuc2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKG51bGwpLCB0aGlzLnNldE5leHRHcmFwaGljQXR0cmlidXRlcyhudWxsKSk7XG4gICAgfVxuICAgIGNsZWFyR3JhcGhpY0F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gJiYgKHRoaXMuZ3JhcGhpY0l0ZW0ucHJldkF0dHJzICYmIHRoaXMuc2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKG51bGwpLCBcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbS5uZXh0QXR0cnMgJiYgdGhpcy5zZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCksIHRoaXMuZ3JhcGhpY0l0ZW0uZmluYWxBdHRycyAmJiB0aGlzLnNldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMobnVsbCkpO1xuICAgIH1cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gJiYgKHJlbW92ZUdyYXBoaWNJdGVtKHRoaXMuZ3JhcGhpY0l0ZW0pLCB0aGlzLmdyYXBoaWNJdGVtID0gbnVsbCk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlR3JhcGhpY0l0ZW0oKSwgdGhpcy5tYXJrID0gbnVsbCwgdGhpcy5kYXRhID0gbnVsbCwgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgfVxuICAgIGdldEl0ZW1BdHRyaWJ1dGUoY2hhbm5lbCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAobnVsbCA9PT0gKF9hID0gdGhpcy5pdGVtcykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgcmV0dXJuIHRoaXMubWFyay5pc0NvbGxlY3Rpb25NYXJrKCkgPyBpc05pbChjaGFubmVsKSA/IHRoaXMuaXRlbXMubWFwKChpdGVtID0+IGl0ZW0ubmV4dEF0dHJzKSkgOiB0aGlzLml0ZW1zLm1hcCgoaXRlbSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9hID0gaXRlbS5uZXh0QXR0cnMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVtjaGFubmVsXTtcbiAgICAgICAgfSkpIDogaXNOaWwoY2hhbm5lbCkgPyB0aGlzLml0ZW1zWzBdLm5leHRBdHRycyA6IG51bGwgPT09IChfYiA9IHRoaXMuaXRlbXNbMF0ubmV4dEF0dHJzKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2JbY2hhbm5lbF07XG4gICAgfVxuICAgIHNldEl0ZW1BdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAobnVsbCA9PT0gKF9hID0gdGhpcy5pdGVtcykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgJiYgKHRoaXMubWFyay5pc0NvbGxlY3Rpb25NYXJrKCkgPyBpc0FycmF5KGF0dHJpYnV0ZXMpICYmIHRoaXMuaXRlbXMuZm9yRWFjaCgoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGl0ZW0ubmV4dEF0dHJzLCBhdHRyaWJ1dGVzW2luZGV4XSk7XG4gICAgICAgIH0pKSA6IE9iamVjdC5hc3NpZ24odGhpcy5pdGVtc1swXS5uZXh0QXR0cnMsIGF0dHJpYnV0ZXMpKTtcbiAgICB9XG4gICAgZ2V0SXRlbSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayAmJiB0aGlzLm1hcmsuaXNDb2xsZWN0aW9uTWFyaygpID8gbnVsbCAhPT0gKF9hID0gdGhpcy5pdGVtcykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogW10gOiBudWxsID09PSAoX2IgPSB0aGlzLml0ZW1zKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2JbMF07XG4gICAgfVxuICAgIGdldERhdHVtKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrICYmIHRoaXMubWFyay5pc0NvbGxlY3Rpb25NYXJrKCkgPyBudWxsICE9PSAoX2EgPSB0aGlzLmRhdGEpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFtdIDogbnVsbCA9PT0gKF9iID0gdGhpcy5kYXRhKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2JbMF07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisEnum: () => (/* binding */ AxisEnum),\n/* harmony export */   BuiltInEncodeNames: () => (/* binding */ BuiltInEncodeNames),\n/* harmony export */   ComponentEnum: () => (/* binding */ ComponentEnum),\n/* harmony export */   CrosshairEnum: () => (/* binding */ CrosshairEnum),\n/* harmony export */   DataFilterRank: () => (/* binding */ DataFilterRank),\n/* harmony export */   DiffState: () => (/* binding */ DiffState),\n/* harmony export */   GrammarMarkType: () => (/* binding */ GrammarMarkType),\n/* harmony export */   GrammarTypeEnum: () => (/* binding */ GrammarTypeEnum),\n/* harmony export */   GridEnum: () => (/* binding */ GridEnum),\n/* harmony export */   HOOK_EVENT: () => (/* binding */ HOOK_EVENT),\n/* harmony export */   InteractionStateEnum: () => (/* binding */ InteractionStateEnum),\n/* harmony export */   LabelEnum: () => (/* binding */ LabelEnum),\n/* harmony export */   LayoutState: () => (/* binding */ LayoutState),\n/* harmony export */   LegendEnum: () => (/* binding */ LegendEnum),\n/* harmony export */   PlayerEnum: () => (/* binding */ PlayerEnum)\n/* harmony export */ });\nvar BuiltInEncodeNames;\n\n!function(BuiltInEncodeNames) {\n    BuiltInEncodeNames.enter = \"enter\", BuiltInEncodeNames.update = \"update\", BuiltInEncodeNames.exit = \"exit\", \n    BuiltInEncodeNames.group = \"group\", BuiltInEncodeNames.connectNulls = \"connectNulls\";\n}(BuiltInEncodeNames || (BuiltInEncodeNames = {}));\n\nvar DiffState;\n\n!function(DiffState) {\n    DiffState.enter = \"enter\", DiffState.update = \"update\", DiffState.exit = \"exit\", \n    DiffState.unChange = \"unChange\";\n}(DiffState || (DiffState = {}));\n\nvar GrammarMarkType;\n\n!function(GrammarMarkType) {\n    GrammarMarkType.arc = \"arc\", GrammarMarkType.arc3d = \"arc3d\", GrammarMarkType.area = \"area\", \n    GrammarMarkType.image = \"image\", GrammarMarkType.line = \"line\", GrammarMarkType.path = \"path\", \n    GrammarMarkType.rect = \"rect\", GrammarMarkType.rect3d = \"rect3d\", GrammarMarkType.rule = \"rule\", \n    GrammarMarkType.shape = \"shape\", GrammarMarkType.symbol = \"symbol\", GrammarMarkType.text = \"text\", \n    GrammarMarkType.richtext = \"richtext\", GrammarMarkType.polygon = \"polygon\", GrammarMarkType.pyramid3d = \"pyramid3d\", \n    GrammarMarkType.circle = \"circle\", GrammarMarkType.cell = \"cell\", GrammarMarkType.interval = \"interval\", \n    GrammarMarkType.group = \"group\", GrammarMarkType.glyph = \"glyph\", GrammarMarkType.component = \"component\", \n    GrammarMarkType.largeRects = \"largeRects\", GrammarMarkType.largeSymbols = \"largeSymbols\";\n}(GrammarMarkType || (GrammarMarkType = {}));\n\nvar ComponentEnum;\n\n!function(ComponentEnum) {\n    ComponentEnum.axis = \"axis\", ComponentEnum.grid = \"grid\", ComponentEnum.legend = \"legend\", \n    ComponentEnum.slider = \"slider\", ComponentEnum.label = \"label\", ComponentEnum.datazoom = \"datazoom\", \n    ComponentEnum.player = \"player\", ComponentEnum.title = \"title\", ComponentEnum.scrollbar = \"scrollbar\";\n}(ComponentEnum || (ComponentEnum = {}));\n\nvar DataFilterRank;\n\n!function(DataFilterRank) {\n    DataFilterRank[DataFilterRank.player = 1] = \"player\", DataFilterRank[DataFilterRank.rollUp = 2] = \"rollUp\", \n    DataFilterRank[DataFilterRank.drillDown = 3] = \"drillDown\", DataFilterRank[DataFilterRank.slider = 4] = \"slider\", \n    DataFilterRank[DataFilterRank.datazoom = 5] = \"datazoom\", DataFilterRank[DataFilterRank.legend = 6] = \"legend\", \n    DataFilterRank[DataFilterRank.scrollbar = 7] = \"scrollbar\", DataFilterRank[DataFilterRank.brush = 8] = \"brush\", \n    DataFilterRank[DataFilterRank.normal = 9] = \"normal\";\n}(DataFilterRank || (DataFilterRank = {}));\n\nvar AxisEnum;\n\n!function(AxisEnum) {\n    AxisEnum.lineAxis = \"lineAxis\", AxisEnum.circleAxis = \"circleAxis\";\n}(AxisEnum || (AxisEnum = {}));\n\nvar GridEnum;\n\n!function(GridEnum) {\n    GridEnum.lineAxisGrid = \"lineAxisGrid\", GridEnum.circleAxisGrid = \"circleAxisGrid\";\n}(GridEnum || (GridEnum = {}));\n\nvar LegendEnum;\n\n!function(LegendEnum) {\n    LegendEnum.discreteLegend = \"discreteLegend\", LegendEnum.colorLegend = \"colorLegend\", \n    LegendEnum.sizeLegend = \"sizeLegend\";\n}(LegendEnum || (LegendEnum = {}));\n\nvar CrosshairEnum;\n\n!function(CrosshairEnum) {\n    CrosshairEnum.lineCrosshair = \"lineCrosshair\", CrosshairEnum.rectCrosshair = \"rectCrosshair\", \n    CrosshairEnum.sectorCrosshair = \"sectorCrosshair\", CrosshairEnum.circleCrosshair = \"circleCrosshair\", \n    CrosshairEnum.polygonCrosshair = \"polygonCrosshair\", CrosshairEnum.ringCrosshair = \"ringCrosshair\";\n}(CrosshairEnum || (CrosshairEnum = {}));\n\nvar LabelEnum;\n\n!function(LabelEnum) {\n    LabelEnum.symbolLabel = \"symbolLabel\", LabelEnum.rectLabel = \"rectLabel\", LabelEnum.lineLabel = \"lineLabel\", \n    LabelEnum.dataLabel = \"dataLabel\";\n}(LabelEnum || (LabelEnum = {}));\n\nvar PlayerEnum;\n\n!function(PlayerEnum) {\n    PlayerEnum.continuousPlayer = \"continuousPlayer\", PlayerEnum.discretePlayer = \"discretePlayer\";\n}(PlayerEnum || (PlayerEnum = {}));\n\nvar LayoutState;\n\n!function(LayoutState) {\n    LayoutState.before = \"before\", LayoutState.layouting = \"layouting\", LayoutState.reevaluate = \"reevaluate\", \n    LayoutState.after = \"after\";\n}(LayoutState || (LayoutState = {}));\n\nvar HOOK_EVENT;\n\n!function(HOOK_EVENT) {\n    HOOK_EVENT.BEFORE_EVALUATE_DATA = \"beforeEvaluateData\", HOOK_EVENT.AFTER_EVALUATE_DATA = \"afterEvaluateData\", \n    HOOK_EVENT.BEFORE_EVALUATE_SCALE = \"beforeEvaluateScale\", HOOK_EVENT.AFTER_EVALUATE_SCALE = \"afterEvaluateScale\", \n    HOOK_EVENT.BEFORE_PARSE_VIEW = \"beforeParseView\", HOOK_EVENT.AFTER_PARSE_VIEW = \"afterParseView\", \n    HOOK_EVENT.BEFORE_TRANSFORM = \"beforeTransform\", HOOK_EVENT.AFTER_TRANSFORM = \"afterTransform\", \n    HOOK_EVENT.BEFORE_CREATE_VRENDER_STAGE = \"beforeCreateVRenderStage\", HOOK_EVENT.AFTER_CREATE_VRENDER_STAGE = \"afterCreateVRenderStage\", \n    HOOK_EVENT.BEFORE_CREATE_VRENDER_LAYER = \"beforeCreateVRenderLayer\", HOOK_EVENT.AFTER_CREATE_VRENDER_LAYER = \"afterCreateVRenderLayer\", \n    HOOK_EVENT.BEFORE_STAGE_RESIZE = \"beforeStageResize\", HOOK_EVENT.AFTER_STAGE_RESIZE = \"afterStageResize\", \n    HOOK_EVENT.BEFORE_VRENDER_DRAW = \"beforeVRenderDraw\", HOOK_EVENT.AFTER_VRENDER_DRAW = \"afterVRenderDraw\", \n    HOOK_EVENT.BEFORE_MARK_JOIN = \"beforeMarkJoin\", HOOK_EVENT.AFTER_MARK_JOIN = \"afterMarkJoin\", \n    HOOK_EVENT.BEFORE_MARK_UPDATE = \"beforeMarkUpdate\", HOOK_EVENT.AFTER_MARK_UPDATE = \"afterMarkUpdate\", \n    HOOK_EVENT.BEFORE_MARK_STATE = \"beforeMarkState\", HOOK_EVENT.AFTER_MARK_STATE = \"afterMarkState\", \n    HOOK_EVENT.BEFORE_MARK_ENCODE = \"beforeMarkEncode\", HOOK_EVENT.AFTER_MARK_ENCODE = \"afterMarkEncode\", \n    HOOK_EVENT.BEFORE_DO_LAYOUT = \"beforeDoLayout\", HOOK_EVENT.AFTER_DO_LAYOUT = \"afterDoLayout\", \n    HOOK_EVENT.BEFORE_MARK_LAYOUT_END = \"beforeMarkLayoutEnd\", HOOK_EVENT.AFTER_MARK_LAYOUT_END = \"afterMarkLayoutEnd\", \n    HOOK_EVENT.BEFORE_DO_RENDER = \"beforeDoRender\", HOOK_EVENT.AFTER_DO_RENDER = \"afterDoRender\", \n    HOOK_EVENT.BEFORE_MARK_RENDER_END = \"beforeMarkRenderEnd\", HOOK_EVENT.AFTER_MARK_RENDER_END = \"afterMarkRenderEnd\", \n    HOOK_EVENT.BEFORE_CREATE_VRENDER_MARK = \"beforeCreateVRenderMark\", HOOK_EVENT.AFTER_CREATE_VRENDER_MARK = \"afterCreateVRenderMark\", \n    HOOK_EVENT.BEFORE_ADD_VRENDER_MARK = \"beforeAddVRenderMark\", HOOK_EVENT.AFTER_ADD_VRENDER_MARK = \"afterAddVRenderMark\", \n    HOOK_EVENT.AFTER_VRENDER_NEXT_RENDER = \"afterVRenderNextRender\", HOOK_EVENT.BEFORE_ELEMENT_UPDATE_DATA = \"beforeElementUpdateData\", \n    HOOK_EVENT.AFTER_ELEMENT_UPDATE_DATA = \"afterElementUpdateData\", HOOK_EVENT.BEFORE_ELEMENT_STATE = \"beforeElementState\", \n    HOOK_EVENT.AFTER_ELEMENT_STATE = \"afterElementState\", HOOK_EVENT.BEFORE_ELEMENT_ENCODE = \"beforeElementEncode\", \n    HOOK_EVENT.AFTER_ELEMENT_ENCODE = \"afterElementEncode\", HOOK_EVENT.ANIMATION_START = \"animationStart\", \n    HOOK_EVENT.ANIMATION_END = \"animationEnd\", HOOK_EVENT.ELEMENT_ANIMATION_START = \"elementAnimationStart\", \n    HOOK_EVENT.ELEMENT_ANIMATION_END = \"elementAnimationEnd\", HOOK_EVENT.ALL_ANIMATION_START = \"allAnimationStart\", \n    HOOK_EVENT.ALL_ANIMATION_END = \"allAnimationEnd\";\n}(HOOK_EVENT || (HOOK_EVENT = {}));\n\nvar GrammarTypeEnum;\n\n!function(GrammarTypeEnum) {\n    GrammarTypeEnum.signal = \"signal\", GrammarTypeEnum.data = \"data\", GrammarTypeEnum.scale = \"scale\", \n    GrammarTypeEnum.coordinate = \"coordinate\", GrammarTypeEnum.mark = \"mark\";\n}(GrammarTypeEnum || (GrammarTypeEnum = {}));\n\nvar InteractionStateEnum;\n\n!function(InteractionStateEnum) {\n    InteractionStateEnum.active = \"active\", InteractionStateEnum.selected = \"selected\", \n    InteractionStateEnum.highlight = \"highlight\", InteractionStateEnum.blur = \"blur\";\n}(InteractionStateEnum || (InteractionStateEnum = {}));\n//# sourceMappingURL=enums.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvZW51bXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsQ0FBQywrQ0FBK0M7O0FBRXpDOztBQUVQO0FBQ0E7QUFDQTtBQUNBLENBQUMsNkJBQTZCOztBQUV2Qjs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlDQUF5Qzs7QUFFbkM7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFDQUFxQzs7QUFFL0I7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx1Q0FBdUM7O0FBRWpDOztBQUVQO0FBQ0E7QUFDQSxDQUFDLDJCQUEyQjs7QUFFckI7O0FBRVA7QUFDQTtBQUNBLENBQUMsMkJBQTJCOztBQUVyQjs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxDQUFDLCtCQUErQjs7QUFFekI7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFDQUFxQzs7QUFFL0I7O0FBRVA7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw2QkFBNkI7O0FBRXZCOztBQUVQO0FBQ0E7QUFDQSxDQUFDLCtCQUErQjs7QUFFekI7O0FBRVA7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxpQ0FBaUM7O0FBRTNCOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLCtCQUErQjs7QUFFekI7O0FBRVA7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx5Q0FBeUM7O0FBRW5DOztBQUVQO0FBQ0E7QUFDQTtBQUNBLENBQUMsbURBQW1EO0FBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2VudW1zLmpzPzBjNTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBCdWlsdEluRW5jb2RlTmFtZXM7XG5cbiFmdW5jdGlvbihCdWlsdEluRW5jb2RlTmFtZXMpIHtcbiAgICBCdWlsdEluRW5jb2RlTmFtZXMuZW50ZXIgPSBcImVudGVyXCIsIEJ1aWx0SW5FbmNvZGVOYW1lcy51cGRhdGUgPSBcInVwZGF0ZVwiLCBCdWlsdEluRW5jb2RlTmFtZXMuZXhpdCA9IFwiZXhpdFwiLCBcbiAgICBCdWlsdEluRW5jb2RlTmFtZXMuZ3JvdXAgPSBcImdyb3VwXCIsIEJ1aWx0SW5FbmNvZGVOYW1lcy5jb25uZWN0TnVsbHMgPSBcImNvbm5lY3ROdWxsc1wiO1xufShCdWlsdEluRW5jb2RlTmFtZXMgfHwgKEJ1aWx0SW5FbmNvZGVOYW1lcyA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgRGlmZlN0YXRlO1xuXG4hZnVuY3Rpb24oRGlmZlN0YXRlKSB7XG4gICAgRGlmZlN0YXRlLmVudGVyID0gXCJlbnRlclwiLCBEaWZmU3RhdGUudXBkYXRlID0gXCJ1cGRhdGVcIiwgRGlmZlN0YXRlLmV4aXQgPSBcImV4aXRcIiwgXG4gICAgRGlmZlN0YXRlLnVuQ2hhbmdlID0gXCJ1bkNoYW5nZVwiO1xufShEaWZmU3RhdGUgfHwgKERpZmZTdGF0ZSA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgR3JhbW1hck1hcmtUeXBlO1xuXG4hZnVuY3Rpb24oR3JhbW1hck1hcmtUeXBlKSB7XG4gICAgR3JhbW1hck1hcmtUeXBlLmFyYyA9IFwiYXJjXCIsIEdyYW1tYXJNYXJrVHlwZS5hcmMzZCA9IFwiYXJjM2RcIiwgR3JhbW1hck1hcmtUeXBlLmFyZWEgPSBcImFyZWFcIiwgXG4gICAgR3JhbW1hck1hcmtUeXBlLmltYWdlID0gXCJpbWFnZVwiLCBHcmFtbWFyTWFya1R5cGUubGluZSA9IFwibGluZVwiLCBHcmFtbWFyTWFya1R5cGUucGF0aCA9IFwicGF0aFwiLCBcbiAgICBHcmFtbWFyTWFya1R5cGUucmVjdCA9IFwicmVjdFwiLCBHcmFtbWFyTWFya1R5cGUucmVjdDNkID0gXCJyZWN0M2RcIiwgR3JhbW1hck1hcmtUeXBlLnJ1bGUgPSBcInJ1bGVcIiwgXG4gICAgR3JhbW1hck1hcmtUeXBlLnNoYXBlID0gXCJzaGFwZVwiLCBHcmFtbWFyTWFya1R5cGUuc3ltYm9sID0gXCJzeW1ib2xcIiwgR3JhbW1hck1hcmtUeXBlLnRleHQgPSBcInRleHRcIiwgXG4gICAgR3JhbW1hck1hcmtUeXBlLnJpY2h0ZXh0ID0gXCJyaWNodGV4dFwiLCBHcmFtbWFyTWFya1R5cGUucG9seWdvbiA9IFwicG9seWdvblwiLCBHcmFtbWFyTWFya1R5cGUucHlyYW1pZDNkID0gXCJweXJhbWlkM2RcIiwgXG4gICAgR3JhbW1hck1hcmtUeXBlLmNpcmNsZSA9IFwiY2lyY2xlXCIsIEdyYW1tYXJNYXJrVHlwZS5jZWxsID0gXCJjZWxsXCIsIEdyYW1tYXJNYXJrVHlwZS5pbnRlcnZhbCA9IFwiaW50ZXJ2YWxcIiwgXG4gICAgR3JhbW1hck1hcmtUeXBlLmdyb3VwID0gXCJncm91cFwiLCBHcmFtbWFyTWFya1R5cGUuZ2x5cGggPSBcImdseXBoXCIsIEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQgPSBcImNvbXBvbmVudFwiLCBcbiAgICBHcmFtbWFyTWFya1R5cGUubGFyZ2VSZWN0cyA9IFwibGFyZ2VSZWN0c1wiLCBHcmFtbWFyTWFya1R5cGUubGFyZ2VTeW1ib2xzID0gXCJsYXJnZVN5bWJvbHNcIjtcbn0oR3JhbW1hck1hcmtUeXBlIHx8IChHcmFtbWFyTWFya1R5cGUgPSB7fSkpO1xuXG5leHBvcnQgdmFyIENvbXBvbmVudEVudW07XG5cbiFmdW5jdGlvbihDb21wb25lbnRFbnVtKSB7XG4gICAgQ29tcG9uZW50RW51bS5heGlzID0gXCJheGlzXCIsIENvbXBvbmVudEVudW0uZ3JpZCA9IFwiZ3JpZFwiLCBDb21wb25lbnRFbnVtLmxlZ2VuZCA9IFwibGVnZW5kXCIsIFxuICAgIENvbXBvbmVudEVudW0uc2xpZGVyID0gXCJzbGlkZXJcIiwgQ29tcG9uZW50RW51bS5sYWJlbCA9IFwibGFiZWxcIiwgQ29tcG9uZW50RW51bS5kYXRhem9vbSA9IFwiZGF0YXpvb21cIiwgXG4gICAgQ29tcG9uZW50RW51bS5wbGF5ZXIgPSBcInBsYXllclwiLCBDb21wb25lbnRFbnVtLnRpdGxlID0gXCJ0aXRsZVwiLCBDb21wb25lbnRFbnVtLnNjcm9sbGJhciA9IFwic2Nyb2xsYmFyXCI7XG59KENvbXBvbmVudEVudW0gfHwgKENvbXBvbmVudEVudW0gPSB7fSkpO1xuXG5leHBvcnQgdmFyIERhdGFGaWx0ZXJSYW5rO1xuXG4hZnVuY3Rpb24oRGF0YUZpbHRlclJhbmspIHtcbiAgICBEYXRhRmlsdGVyUmFua1tEYXRhRmlsdGVyUmFuay5wbGF5ZXIgPSAxXSA9IFwicGxheWVyXCIsIERhdGFGaWx0ZXJSYW5rW0RhdGFGaWx0ZXJSYW5rLnJvbGxVcCA9IDJdID0gXCJyb2xsVXBcIiwgXG4gICAgRGF0YUZpbHRlclJhbmtbRGF0YUZpbHRlclJhbmsuZHJpbGxEb3duID0gM10gPSBcImRyaWxsRG93blwiLCBEYXRhRmlsdGVyUmFua1tEYXRhRmlsdGVyUmFuay5zbGlkZXIgPSA0XSA9IFwic2xpZGVyXCIsIFxuICAgIERhdGFGaWx0ZXJSYW5rW0RhdGFGaWx0ZXJSYW5rLmRhdGF6b29tID0gNV0gPSBcImRhdGF6b29tXCIsIERhdGFGaWx0ZXJSYW5rW0RhdGFGaWx0ZXJSYW5rLmxlZ2VuZCA9IDZdID0gXCJsZWdlbmRcIiwgXG4gICAgRGF0YUZpbHRlclJhbmtbRGF0YUZpbHRlclJhbmsuc2Nyb2xsYmFyID0gN10gPSBcInNjcm9sbGJhclwiLCBEYXRhRmlsdGVyUmFua1tEYXRhRmlsdGVyUmFuay5icnVzaCA9IDhdID0gXCJicnVzaFwiLCBcbiAgICBEYXRhRmlsdGVyUmFua1tEYXRhRmlsdGVyUmFuay5ub3JtYWwgPSA5XSA9IFwibm9ybWFsXCI7XG59KERhdGFGaWx0ZXJSYW5rIHx8IChEYXRhRmlsdGVyUmFuayA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgQXhpc0VudW07XG5cbiFmdW5jdGlvbihBeGlzRW51bSkge1xuICAgIEF4aXNFbnVtLmxpbmVBeGlzID0gXCJsaW5lQXhpc1wiLCBBeGlzRW51bS5jaXJjbGVBeGlzID0gXCJjaXJjbGVBeGlzXCI7XG59KEF4aXNFbnVtIHx8IChBeGlzRW51bSA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgR3JpZEVudW07XG5cbiFmdW5jdGlvbihHcmlkRW51bSkge1xuICAgIEdyaWRFbnVtLmxpbmVBeGlzR3JpZCA9IFwibGluZUF4aXNHcmlkXCIsIEdyaWRFbnVtLmNpcmNsZUF4aXNHcmlkID0gXCJjaXJjbGVBeGlzR3JpZFwiO1xufShHcmlkRW51bSB8fCAoR3JpZEVudW0gPSB7fSkpO1xuXG5leHBvcnQgdmFyIExlZ2VuZEVudW07XG5cbiFmdW5jdGlvbihMZWdlbmRFbnVtKSB7XG4gICAgTGVnZW5kRW51bS5kaXNjcmV0ZUxlZ2VuZCA9IFwiZGlzY3JldGVMZWdlbmRcIiwgTGVnZW5kRW51bS5jb2xvckxlZ2VuZCA9IFwiY29sb3JMZWdlbmRcIiwgXG4gICAgTGVnZW5kRW51bS5zaXplTGVnZW5kID0gXCJzaXplTGVnZW5kXCI7XG59KExlZ2VuZEVudW0gfHwgKExlZ2VuZEVudW0gPSB7fSkpO1xuXG5leHBvcnQgdmFyIENyb3NzaGFpckVudW07XG5cbiFmdW5jdGlvbihDcm9zc2hhaXJFbnVtKSB7XG4gICAgQ3Jvc3NoYWlyRW51bS5saW5lQ3Jvc3NoYWlyID0gXCJsaW5lQ3Jvc3NoYWlyXCIsIENyb3NzaGFpckVudW0ucmVjdENyb3NzaGFpciA9IFwicmVjdENyb3NzaGFpclwiLCBcbiAgICBDcm9zc2hhaXJFbnVtLnNlY3RvckNyb3NzaGFpciA9IFwic2VjdG9yQ3Jvc3NoYWlyXCIsIENyb3NzaGFpckVudW0uY2lyY2xlQ3Jvc3NoYWlyID0gXCJjaXJjbGVDcm9zc2hhaXJcIiwgXG4gICAgQ3Jvc3NoYWlyRW51bS5wb2x5Z29uQ3Jvc3NoYWlyID0gXCJwb2x5Z29uQ3Jvc3NoYWlyXCIsIENyb3NzaGFpckVudW0ucmluZ0Nyb3NzaGFpciA9IFwicmluZ0Nyb3NzaGFpclwiO1xufShDcm9zc2hhaXJFbnVtIHx8IChDcm9zc2hhaXJFbnVtID0ge30pKTtcblxuZXhwb3J0IHZhciBMYWJlbEVudW07XG5cbiFmdW5jdGlvbihMYWJlbEVudW0pIHtcbiAgICBMYWJlbEVudW0uc3ltYm9sTGFiZWwgPSBcInN5bWJvbExhYmVsXCIsIExhYmVsRW51bS5yZWN0TGFiZWwgPSBcInJlY3RMYWJlbFwiLCBMYWJlbEVudW0ubGluZUxhYmVsID0gXCJsaW5lTGFiZWxcIiwgXG4gICAgTGFiZWxFbnVtLmRhdGFMYWJlbCA9IFwiZGF0YUxhYmVsXCI7XG59KExhYmVsRW51bSB8fCAoTGFiZWxFbnVtID0ge30pKTtcblxuZXhwb3J0IHZhciBQbGF5ZXJFbnVtO1xuXG4hZnVuY3Rpb24oUGxheWVyRW51bSkge1xuICAgIFBsYXllckVudW0uY29udGludW91c1BsYXllciA9IFwiY29udGludW91c1BsYXllclwiLCBQbGF5ZXJFbnVtLmRpc2NyZXRlUGxheWVyID0gXCJkaXNjcmV0ZVBsYXllclwiO1xufShQbGF5ZXJFbnVtIHx8IChQbGF5ZXJFbnVtID0ge30pKTtcblxuZXhwb3J0IHZhciBMYXlvdXRTdGF0ZTtcblxuIWZ1bmN0aW9uKExheW91dFN0YXRlKSB7XG4gICAgTGF5b3V0U3RhdGUuYmVmb3JlID0gXCJiZWZvcmVcIiwgTGF5b3V0U3RhdGUubGF5b3V0aW5nID0gXCJsYXlvdXRpbmdcIiwgTGF5b3V0U3RhdGUucmVldmFsdWF0ZSA9IFwicmVldmFsdWF0ZVwiLCBcbiAgICBMYXlvdXRTdGF0ZS5hZnRlciA9IFwiYWZ0ZXJcIjtcbn0oTGF5b3V0U3RhdGUgfHwgKExheW91dFN0YXRlID0ge30pKTtcblxuZXhwb3J0IHZhciBIT09LX0VWRU5UO1xuXG4hZnVuY3Rpb24oSE9PS19FVkVOVCkge1xuICAgIEhPT0tfRVZFTlQuQkVGT1JFX0VWQUxVQVRFX0RBVEEgPSBcImJlZm9yZUV2YWx1YXRlRGF0YVwiLCBIT09LX0VWRU5ULkFGVEVSX0VWQUxVQVRFX0RBVEEgPSBcImFmdGVyRXZhbHVhdGVEYXRhXCIsIFxuICAgIEhPT0tfRVZFTlQuQkVGT1JFX0VWQUxVQVRFX1NDQUxFID0gXCJiZWZvcmVFdmFsdWF0ZVNjYWxlXCIsIEhPT0tfRVZFTlQuQUZURVJfRVZBTFVBVEVfU0NBTEUgPSBcImFmdGVyRXZhbHVhdGVTY2FsZVwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9QQVJTRV9WSUVXID0gXCJiZWZvcmVQYXJzZVZpZXdcIiwgSE9PS19FVkVOVC5BRlRFUl9QQVJTRV9WSUVXID0gXCJhZnRlclBhcnNlVmlld1wiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9UUkFOU0ZPUk0gPSBcImJlZm9yZVRyYW5zZm9ybVwiLCBIT09LX0VWRU5ULkFGVEVSX1RSQU5TRk9STSA9IFwiYWZ0ZXJUcmFuc2Zvcm1cIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfQ1JFQVRFX1ZSRU5ERVJfU1RBR0UgPSBcImJlZm9yZUNyZWF0ZVZSZW5kZXJTdGFnZVwiLCBIT09LX0VWRU5ULkFGVEVSX0NSRUFURV9WUkVOREVSX1NUQUdFID0gXCJhZnRlckNyZWF0ZVZSZW5kZXJTdGFnZVwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9DUkVBVEVfVlJFTkRFUl9MQVlFUiA9IFwiYmVmb3JlQ3JlYXRlVlJlbmRlckxheWVyXCIsIEhPT0tfRVZFTlQuQUZURVJfQ1JFQVRFX1ZSRU5ERVJfTEFZRVIgPSBcImFmdGVyQ3JlYXRlVlJlbmRlckxheWVyXCIsIFxuICAgIEhPT0tfRVZFTlQuQkVGT1JFX1NUQUdFX1JFU0laRSA9IFwiYmVmb3JlU3RhZ2VSZXNpemVcIiwgSE9PS19FVkVOVC5BRlRFUl9TVEFHRV9SRVNJWkUgPSBcImFmdGVyU3RhZ2VSZXNpemVcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfVlJFTkRFUl9EUkFXID0gXCJiZWZvcmVWUmVuZGVyRHJhd1wiLCBIT09LX0VWRU5ULkFGVEVSX1ZSRU5ERVJfRFJBVyA9IFwiYWZ0ZXJWUmVuZGVyRHJhd1wiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9NQVJLX0pPSU4gPSBcImJlZm9yZU1hcmtKb2luXCIsIEhPT0tfRVZFTlQuQUZURVJfTUFSS19KT0lOID0gXCJhZnRlck1hcmtKb2luXCIsIFxuICAgIEhPT0tfRVZFTlQuQkVGT1JFX01BUktfVVBEQVRFID0gXCJiZWZvcmVNYXJrVXBkYXRlXCIsIEhPT0tfRVZFTlQuQUZURVJfTUFSS19VUERBVEUgPSBcImFmdGVyTWFya1VwZGF0ZVwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9NQVJLX1NUQVRFID0gXCJiZWZvcmVNYXJrU3RhdGVcIiwgSE9PS19FVkVOVC5BRlRFUl9NQVJLX1NUQVRFID0gXCJhZnRlck1hcmtTdGF0ZVwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9NQVJLX0VOQ09ERSA9IFwiYmVmb3JlTWFya0VuY29kZVwiLCBIT09LX0VWRU5ULkFGVEVSX01BUktfRU5DT0RFID0gXCJhZnRlck1hcmtFbmNvZGVcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfRE9fTEFZT1VUID0gXCJiZWZvcmVEb0xheW91dFwiLCBIT09LX0VWRU5ULkFGVEVSX0RPX0xBWU9VVCA9IFwiYWZ0ZXJEb0xheW91dFwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9NQVJLX0xBWU9VVF9FTkQgPSBcImJlZm9yZU1hcmtMYXlvdXRFbmRcIiwgSE9PS19FVkVOVC5BRlRFUl9NQVJLX0xBWU9VVF9FTkQgPSBcImFmdGVyTWFya0xheW91dEVuZFwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9ET19SRU5ERVIgPSBcImJlZm9yZURvUmVuZGVyXCIsIEhPT0tfRVZFTlQuQUZURVJfRE9fUkVOREVSID0gXCJhZnRlckRvUmVuZGVyXCIsIFxuICAgIEhPT0tfRVZFTlQuQkVGT1JFX01BUktfUkVOREVSX0VORCA9IFwiYmVmb3JlTWFya1JlbmRlckVuZFwiLCBIT09LX0VWRU5ULkFGVEVSX01BUktfUkVOREVSX0VORCA9IFwiYWZ0ZXJNYXJrUmVuZGVyRW5kXCIsIFxuICAgIEhPT0tfRVZFTlQuQkVGT1JFX0NSRUFURV9WUkVOREVSX01BUksgPSBcImJlZm9yZUNyZWF0ZVZSZW5kZXJNYXJrXCIsIEhPT0tfRVZFTlQuQUZURVJfQ1JFQVRFX1ZSRU5ERVJfTUFSSyA9IFwiYWZ0ZXJDcmVhdGVWUmVuZGVyTWFya1wiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9BRERfVlJFTkRFUl9NQVJLID0gXCJiZWZvcmVBZGRWUmVuZGVyTWFya1wiLCBIT09LX0VWRU5ULkFGVEVSX0FERF9WUkVOREVSX01BUksgPSBcImFmdGVyQWRkVlJlbmRlck1hcmtcIiwgXG4gICAgSE9PS19FVkVOVC5BRlRFUl9WUkVOREVSX05FWFRfUkVOREVSID0gXCJhZnRlclZSZW5kZXJOZXh0UmVuZGVyXCIsIEhPT0tfRVZFTlQuQkVGT1JFX0VMRU1FTlRfVVBEQVRFX0RBVEEgPSBcImJlZm9yZUVsZW1lbnRVcGRhdGVEYXRhXCIsIFxuICAgIEhPT0tfRVZFTlQuQUZURVJfRUxFTUVOVF9VUERBVEVfREFUQSA9IFwiYWZ0ZXJFbGVtZW50VXBkYXRlRGF0YVwiLCBIT09LX0VWRU5ULkJFRk9SRV9FTEVNRU5UX1NUQVRFID0gXCJiZWZvcmVFbGVtZW50U3RhdGVcIiwgXG4gICAgSE9PS19FVkVOVC5BRlRFUl9FTEVNRU5UX1NUQVRFID0gXCJhZnRlckVsZW1lbnRTdGF0ZVwiLCBIT09LX0VWRU5ULkJFRk9SRV9FTEVNRU5UX0VOQ09ERSA9IFwiYmVmb3JlRWxlbWVudEVuY29kZVwiLCBcbiAgICBIT09LX0VWRU5ULkFGVEVSX0VMRU1FTlRfRU5DT0RFID0gXCJhZnRlckVsZW1lbnRFbmNvZGVcIiwgSE9PS19FVkVOVC5BTklNQVRJT05fU1RBUlQgPSBcImFuaW1hdGlvblN0YXJ0XCIsIFxuICAgIEhPT0tfRVZFTlQuQU5JTUFUSU9OX0VORCA9IFwiYW5pbWF0aW9uRW5kXCIsIEhPT0tfRVZFTlQuRUxFTUVOVF9BTklNQVRJT05fU1RBUlQgPSBcImVsZW1lbnRBbmltYXRpb25TdGFydFwiLCBcbiAgICBIT09LX0VWRU5ULkVMRU1FTlRfQU5JTUFUSU9OX0VORCA9IFwiZWxlbWVudEFuaW1hdGlvbkVuZFwiLCBIT09LX0VWRU5ULkFMTF9BTklNQVRJT05fU1RBUlQgPSBcImFsbEFuaW1hdGlvblN0YXJ0XCIsIFxuICAgIEhPT0tfRVZFTlQuQUxMX0FOSU1BVElPTl9FTkQgPSBcImFsbEFuaW1hdGlvbkVuZFwiO1xufShIT09LX0VWRU5UIHx8IChIT09LX0VWRU5UID0ge30pKTtcblxuZXhwb3J0IHZhciBHcmFtbWFyVHlwZUVudW07XG5cbiFmdW5jdGlvbihHcmFtbWFyVHlwZUVudW0pIHtcbiAgICBHcmFtbWFyVHlwZUVudW0uc2lnbmFsID0gXCJzaWduYWxcIiwgR3JhbW1hclR5cGVFbnVtLmRhdGEgPSBcImRhdGFcIiwgR3JhbW1hclR5cGVFbnVtLnNjYWxlID0gXCJzY2FsZVwiLCBcbiAgICBHcmFtbWFyVHlwZUVudW0uY29vcmRpbmF0ZSA9IFwiY29vcmRpbmF0ZVwiLCBHcmFtbWFyVHlwZUVudW0ubWFyayA9IFwibWFya1wiO1xufShHcmFtbWFyVHlwZUVudW0gfHwgKEdyYW1tYXJUeXBlRW51bSA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgSW50ZXJhY3Rpb25TdGF0ZUVudW07XG5cbiFmdW5jdGlvbihJbnRlcmFjdGlvblN0YXRlRW51bSkge1xuICAgIEludGVyYWN0aW9uU3RhdGVFbnVtLmFjdGl2ZSA9IFwiYWN0aXZlXCIsIEludGVyYWN0aW9uU3RhdGVFbnVtLnNlbGVjdGVkID0gXCJzZWxlY3RlZFwiLCBcbiAgICBJbnRlcmFjdGlvblN0YXRlRW51bS5oaWdobGlnaHQgPSBcImhpZ2hsaWdodFwiLCBJbnRlcmFjdGlvblN0YXRlRW51bS5ibHVyID0gXCJibHVyXCI7XG59KEludGVyYWN0aW9uU3RhdGVFbnVtIHx8IChJbnRlcmFjdGlvblN0YXRlRW51bSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnVtcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/glyph-element.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/glyph-element.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlyphElement: () => (/* binding */ GlyphElement)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isBoolean.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/has.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isEqual.js\");\n/* harmony import */ var _attributes_transform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./attributes/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/element.js\");\n/* harmony import */ var _mark_encode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass GlyphElement extends _element__WEBPACK_IMPORTED_MODULE_0__.Element {\n    constructor(mark) {\n        super(mark), this.getStateAttrs = (stateName, nextStates) => {\n            var _a, _b, _c, _d;\n            const isRuntimeState = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null === (_a = this.runtimeStatesEncoder) || void 0 === _a ? void 0 : _a[stateName]), encoder = isRuntimeState ? Object.assign(Object.assign({}, null === (_b = this.mark.getSpec().encode) || void 0 === _b ? void 0 : _b[stateName]), this.runtimeStatesEncoder[stateName]) : null === (_c = this.mark.getSpec().encode) || void 0 === _c ? void 0 : _c[stateName], glyphStateAttributes = {};\n            if (!encoder) return glyphStateAttributes;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(encoder)) return glyphStateAttributes.attributes = encoder(this.getDatum(), this, stateName, nextStates), \n            glyphStateAttributes;\n            if (!isRuntimeState && (null === (_d = this.graphicItem.glyphStates) || void 0 === _d ? void 0 : _d[stateName])) return this.graphicItem.glyphStates[stateName];\n            if (encoder) {\n                const item = this.items[0], targetItems = [ Object.assign({}, item, {\n                    nextAttrs: {}\n                }) ];\n                return (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, targetItems, encoder, this.mark.parameters()), \n                this.coordinateTransformEncode(targetItems), glyphStateAttributes.attributes = targetItems[0].nextAttrs, \n                this.graphicItem.glyphStates ? this.graphicItem.glyphStates[stateName] || (this.graphicItem.glyphStates[stateName] = glyphStateAttributes) : this.graphicItem.glyphStates = {\n                    [stateName]: glyphStateAttributes\n                }, glyphStateAttributes;\n            }\n            return glyphStateAttributes;\n        }, this.glyphMeta = this.mark.getGlyphMeta();\n    }\n    getGlyphGraphicItems() {\n        return this.glyphGraphicItems;\n    }\n    initGraphicItem(attributes = {}) {\n        if (this.graphicItem) return;\n        this.graphicItem = this.mark.addGraphicItem(attributes, this.groupKey), this.graphicItem[_constants__WEBPACK_IMPORTED_MODULE_4__.BridgeElementKey] = this, \n        this.graphicItem.onBeforeAttributeUpdate = this._onGlyphAttributeUpdate(!1);\n        const glyphMarks = this.glyphMeta.getMarks();\n        this.glyphGraphicItems = {}, this.graphicItem.getSubGraphic().forEach((graphic => {\n            const markType = glyphMarks[graphic.name];\n            this.glyphGraphicItems[graphic.name] = graphic, graphic.onBeforeAttributeUpdate = attributes => {\n                if (!this.mark) return attributes;\n                return (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_5__.transformAttributes)(markType, attributes, this, graphic.name);\n            };\n        })), this.clearGraphicAttributes();\n    }\n    useStates(states, hasAnimation) {\n        if (!this.graphicItem) return !1;\n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_6__.HOOK_EVENT.BEFORE_ELEMENT_STATE, {\n            states: states\n        }, this), this.states = states.slice();\n        const stateAnimationEnable = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(hasAnimation) ? hasAnimation : this.hasStateAnimation();\n        return this.graphicItem.glyphStateProxy = this.getStateAttrs, this.graphicItem.useStates(this.states, stateAnimationEnable), \n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_6__.HOOK_EVENT.AFTER_ELEMENT_STATE, {\n            states: states\n        }, this), !0;\n    }\n    encodeGraphic() {\n        this.coordinateTransformEncode(this.items);\n        const graphicAttributes = this.transformElementItems(this.items, this.mark.markType), isGraphicInit = !this.graphicItem;\n        this.graphicItem || this.initGraphicItem(), this.diffState === _enums__WEBPACK_IMPORTED_MODULE_6__.DiffState.enter || isGraphicInit ? (this.graphicItem.onBeforeAttributeUpdate = this._onGlyphAttributeUpdate(!0), \n        this.applyGraphicAttributes(graphicAttributes), this.graphicItem.onBeforeAttributeUpdate = this._onGlyphAttributeUpdate(!1)) : this.applyGraphicAttributes(graphicAttributes), \n        this.diffState !== _enums__WEBPACK_IMPORTED_MODULE_6__.DiffState.enter && this.diffState !== _enums__WEBPACK_IMPORTED_MODULE_6__.DiffState.update || !this.states.length || (Object.values(this.glyphGraphicItems).forEach((graphicItem => {\n            graphicItem.states = {};\n        })), this.useStates(this.states)), this.items.map((item => {\n            item.nextAttrs = {};\n        }));\n    }\n    encodeCustom(nextAttrs) {\n        var _a;\n        let customEncodeValues = {};\n        const channelEncoder = this.glyphMeta.getChannelEncoder(), functionEncoder = this.glyphMeta.getFunctionEncoder();\n        if (functionEncoder && (customEncodeValues = functionEncoder.call(null, Object.assign({}, null === (_a = this.graphicItem) || void 0 === _a ? void 0 : _a.attribute, nextAttrs), this.getDatum(), this, this.mark.getGlyphConfig())), \n        channelEncoder) {\n            let allAttrs;\n            Object.keys(channelEncoder).forEach((channel => {\n                var _a;\n                if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(nextAttrs[channel])) {\n                    allAttrs || (allAttrs = Object.assign({}, null === (_a = this.graphicItem) || void 0 === _a ? void 0 : _a.attribute, nextAttrs));\n                    const encodeResult = channelEncoder[channel].call(null, channel, nextAttrs[channel], allAttrs, this.getDatum(), this, this.mark.getGlyphConfig());\n                    Object.keys(null != encodeResult ? encodeResult : {}).forEach((markName => {\n                        var _a;\n                        customEncodeValues[markName] = Object.assign(null !== (_a = customEncodeValues[markName]) && void 0 !== _a ? _a : {}, encodeResult[markName]);\n                    }));\n                }\n            }));\n        }\n        return customEncodeValues;\n    }\n    encodeDefault() {\n        const defaultEncodeValues = {};\n        if (this.glyphMeta.getDefaultEncoder()) {\n            const defaultEncodeResult = this.glyphMeta.getDefaultEncoder().call(null, this.getDatum(), this, this.mark.getGlyphConfig());\n            Object.assign(defaultEncodeValues, defaultEncodeResult);\n        }\n        return defaultEncodeValues;\n    }\n    _onGlyphAttributeUpdate(first = !1) {\n        return attributes => {\n            if (!this.mark) return attributes;\n            const glyphMarks = this.glyphMeta.getMarks(), graphicAttributes = (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_5__.transformAttributes)(this.mark.getAttributeTransforms(), attributes, this), defaultEncodeValues = first ? this.encodeDefault() : null, customEncodeValues = this.encodeCustom(attributes);\n            return Object.keys(glyphMarks).forEach((markName => {\n                const markType = glyphMarks[markName], graphicItem = this.glyphGraphicItems[markName], customAttributes = null == customEncodeValues ? void 0 : customEncodeValues[markName], additionalAttributes = Object.assign({}, customAttributes);\n                if (first) {\n                    const defaultAttributes = null == defaultEncodeValues ? void 0 : defaultEncodeValues[markName];\n                    Object.keys(null != defaultAttributes ? defaultAttributes : {}).forEach((key => {\n                        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.items[0].nextAttrs, key) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(additionalAttributes, key) || (additionalAttributes[key] = defaultAttributes[key]);\n                    }));\n                }\n                const glyphAttributes = Object.assign({}, (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_5__.cloneTransformAttributes)(markType, attributes), additionalAttributes), glyphItems = this._generateGlyphItems(markType, this.items, glyphAttributes);\n                this.coordinateTransformEncode(glyphItems);\n                const graphicAttributes = this.transformElementItems(glyphItems, markType);\n                this.applyGlyphGraphicAttributes(graphicAttributes, markName, graphicItem), markType === _enums__WEBPACK_IMPORTED_MODULE_6__.GrammarMarkType.shape && (graphicItem.datum = glyphItems[0].datum);\n            })), graphicAttributes;\n        };\n    }\n    _generateGlyphItems(markType, items, additionalAttributes) {\n        const glyphItems = items.map((item => Object.assign({}, item, {\n            nextAttrs: additionalAttributes\n        })));\n        return _constants__WEBPACK_IMPORTED_MODULE_4__.CollectionMarkType.includes(markType) && this.mark.getSpec().enableSegments && glyphItems.forEach(((glyphItem, index) => {\n            glyphItem.nextAttrs = Object.assign({}, items[index].nextAttrs, additionalAttributes);\n        })), glyphItems;\n    }\n    getGraphicAttribute(channel, prev = !1, markName) {\n        if (!this.graphicItem) return;\n        const prevGraphicAttributes = this.getPrevGraphicAttributes(markName);\n        if (prev && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(prevGraphicAttributes, channel)) return prevGraphicAttributes[channel];\n        return (markName ? this.glyphGraphicItems[markName] : this.graphicItem).attribute[channel];\n    }\n    setGraphicAttribute(channel, value, final = !0, markName) {\n        if (!this.graphicItem) return;\n        const graphicItem = markName ? this.glyphGraphicItems[markName] : this.graphicItem, finalGraphicAttributes = this.getFinalGraphicAttributes(markName), prevGraphicAttributes = this.getPrevGraphicAttributes(markName);\n        final && (finalGraphicAttributes[channel] = value), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(prevGraphicAttributes, channel) || (prevGraphicAttributes[channel] = graphicItem.attribute[channel]), \n        graphicItem.setAttribute(channel, value);\n    }\n    setGraphicAttributes(attributes, final = !0, markName) {\n        if (!this.graphicItem) return;\n        const graphicItem = markName ? this.glyphGraphicItems[markName] : this.graphicItem, finalGraphicAttributes = this.getFinalGraphicAttributes(markName), prevGraphicAttributes = this.getPrevGraphicAttributes(markName);\n        Object.keys(attributes).forEach((key => {\n            final && (finalGraphicAttributes[key] = attributes[key]), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(prevGraphicAttributes, key) || (prevGraphicAttributes[key] = graphicItem.attribute[key]);\n        })), graphicItem.setAttributes(attributes);\n    }\n    diffAttributes(graphicAttributes, markName) {\n        const diffResult = {}, finalGraphicAttributes = this.getFinalGraphicAttributes(markName);\n        for (const key in graphicAttributes) (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(finalGraphicAttributes, key) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.isEqual)(finalGraphicAttributes[key], graphicAttributes[key]) || (diffResult[key] = graphicAttributes[key]);\n        return diffResult;\n    }\n    applyGlyphGraphicAttributes(graphicAttributes, markName, graphicItem) {\n        var _a, _b;\n        if (this.mark.needAnimate()) {\n            const nextGraphicAttributes = this.diffAttributes(graphicAttributes, markName), prevGraphicAttributes = null !== (_a = this.getPrevGraphicAttributes(markName)) && void 0 !== _a ? _a : {}, finalGraphicAttributes = null !== (_b = this.getFinalGraphicAttributes(markName)) && void 0 !== _b ? _b : {};\n            Object.keys(nextGraphicAttributes).forEach((channel => {\n                prevGraphicAttributes[channel] = graphicItem.attribute[channel], finalGraphicAttributes[channel] = nextGraphicAttributes[channel];\n            })), this.setNextGraphicAttributes(nextGraphicAttributes, markName), this.setPrevGraphicAttributes(prevGraphicAttributes, markName), \n            this.setFinalGraphicAttributes(finalGraphicAttributes, markName), graphicItem.setAttributes(nextGraphicAttributes);\n        } else graphicItem.setAttributes(graphicAttributes);\n    }\n    getFinalGraphicAttributes(markName) {\n        return (markName ? this.glyphGraphicItems[markName] : this.graphicItem).finalAttrs;\n    }\n    setFinalGraphicAttributes(attributes, markName) {\n        (markName ? this.glyphGraphicItems[markName] : this.graphicItem).finalAttrs = attributes;\n    }\n    getPrevGraphicAttributes(markName) {\n        return (markName ? this.glyphGraphicItems[markName] : this.graphicItem).prevAttrs;\n    }\n    setPrevGraphicAttributes(attributes, markName) {\n        (markName ? this.glyphGraphicItems[markName] : this.graphicItem).prevAttrs = attributes;\n    }\n    getNextGraphicAttributes(markName) {\n        return (markName ? this.glyphGraphicItems[markName] : this.graphicItem).nextAttrs;\n    }\n    setNextGraphicAttributes(attributes, markName) {\n        (markName ? this.glyphGraphicItems[markName] : this.graphicItem).nextAttrs = attributes;\n    }\n    clearChangedGraphicAttributes() {\n        this.setPrevGraphicAttributes(null), this.setNextGraphicAttributes(null), Object.keys(this.glyphGraphicItems).forEach((markName => {\n            this.setPrevGraphicAttributes(null, markName), this.setNextGraphicAttributes(null, markName);\n        }));\n    }\n    clearGraphicAttributes() {\n        this.setPrevGraphicAttributes(null), this.setNextGraphicAttributes(null), this.setFinalGraphicAttributes(null), \n        Object.keys(this.glyphGraphicItems).forEach((markName => {\n            this.setPrevGraphicAttributes(null, markName), this.setNextGraphicAttributes(null, markName), \n            this.setFinalGraphicAttributes(null, markName);\n        }));\n    }\n    remove() {\n        this.glyphGraphicItems = null, super.remove();\n    }\n    release() {\n        this.glyphGraphicItems && (Object.values(this.glyphGraphicItems).forEach((graphicItem => {\n            graphicItem[_constants__WEBPACK_IMPORTED_MODULE_4__.BridgeElementKey] = null;\n        })), this.glyphGraphicItems = null), super.release();\n    }\n}\n//# sourceMappingURL=glyph-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvZ2x5cGgtZWxlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE4RTs7QUFFUzs7QUFFcEI7O0FBRUY7O0FBRTdCOztBQUVpQjs7QUFFOUMsMkJBQTJCLDZDQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw0REFBSyxnSkFBZ0o7QUFDekw7QUFDQSxnQkFBZ0IsNERBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0EsaUJBQWlCO0FBQ2pCLHVCQUF1QixrRUFBb0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQSxpR0FBaUcsd0RBQWdCO0FBQ2pIO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBFQUFtQjtBQUMxQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOENBQVU7QUFDakM7QUFDQSxTQUFTO0FBQ1QscUNBQXFDLDREQUFTO0FBQzlDO0FBQ0EsdUJBQXVCLDhDQUFVO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLDZDQUFTO0FBQ2hGO0FBQ0EsMkJBQTJCLDZDQUFTLDZCQUE2Qiw2Q0FBUztBQUMxRTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0dBQWdHO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDREQUFLO0FBQzFCLDREQUE0RDtBQUM1RDtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBLDRJQUE0STtBQUM1SSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSwwRUFBbUI7QUFDakc7QUFDQSxxT0FBcU87QUFDck87QUFDQTtBQUNBLGtGQUFrRjtBQUNsRix3QkFBd0IsNERBQUcsa0NBQWtDLDREQUFHO0FBQ2hFLHFCQUFxQjtBQUNyQjtBQUNBLHdEQUF3RCxFQUFFLCtFQUF3QjtBQUNsRjtBQUNBO0FBQ0EseUdBQXlHLG1EQUFlO0FBQ3hILGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQSxTQUFTO0FBQ1QsZUFBZSwwREFBa0I7QUFDakMsa0RBQWtEO0FBQ2xELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELDREQUFHO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSw0REFBRztBQUN6RSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qiw2Q0FBNkMsNERBQUcsaUNBQWlDLHlEQUFPO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzTUFBc007QUFDdE07QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdEQUFnQjtBQUN4QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2dseXBoLWVsZW1lbnQuanM/YzczMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXMsIGlzTmlsLCBpc0Jvb2xlYW4sIGlzRnVuY3Rpb24sIGlzRXF1YWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBjbG9uZVRyYW5zZm9ybUF0dHJpYnV0ZXMsIHRyYW5zZm9ybUF0dHJpYnV0ZXMgfSBmcm9tIFwiLi9hdHRyaWJ1dGVzL3RyYW5zZm9ybVwiO1xuXG5pbXBvcnQgeyBCcmlkZ2VFbGVtZW50S2V5LCBDb2xsZWN0aW9uTWFya1R5cGUgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgRGlmZlN0YXRlLCBIT09LX0VWRU5ULCBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi9lbnVtc1wiO1xuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyVG9JdGVtcyB9IGZyb20gXCIuL21hcmsvZW5jb2RlXCI7XG5cbmV4cG9ydCBjbGFzcyBHbHlwaEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihtYXJrKSB7XG4gICAgICAgIHN1cGVyKG1hcmspLCB0aGlzLmdldFN0YXRlQXR0cnMgPSAoc3RhdGVOYW1lLCBuZXh0U3RhdGVzKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBjb25zdCBpc1J1bnRpbWVTdGF0ZSA9ICFpc05pbChudWxsID09PSAoX2EgPSB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Fbc3RhdGVOYW1lXSksIGVuY29kZXIgPSBpc1J1bnRpbWVTdGF0ZSA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbnVsbCA9PT0gKF9iID0gdGhpcy5tYXJrLmdldFNwZWMoKS5lbmNvZGUpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYltzdGF0ZU5hbWVdKSwgdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlcltzdGF0ZU5hbWVdKSA6IG51bGwgPT09IChfYyA9IHRoaXMubWFyay5nZXRTcGVjKCkuZW5jb2RlKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2Nbc3RhdGVOYW1lXSwgZ2x5cGhTdGF0ZUF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIGlmICghZW5jb2RlcikgcmV0dXJuIGdseXBoU3RhdGVBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZW5jb2RlcikpIHJldHVybiBnbHlwaFN0YXRlQXR0cmlidXRlcy5hdHRyaWJ1dGVzID0gZW5jb2Rlcih0aGlzLmdldERhdHVtKCksIHRoaXMsIHN0YXRlTmFtZSwgbmV4dFN0YXRlcyksIFxuICAgICAgICAgICAgZ2x5cGhTdGF0ZUF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBpZiAoIWlzUnVudGltZVN0YXRlICYmIChudWxsID09PSAoX2QgPSB0aGlzLmdyYXBoaWNJdGVtLmdseXBoU3RhdGVzKSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2Rbc3RhdGVOYW1lXSkpIHJldHVybiB0aGlzLmdyYXBoaWNJdGVtLmdseXBoU3RhdGVzW3N0YXRlTmFtZV07XG4gICAgICAgICAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zWzBdLCB0YXJnZXRJdGVtcyA9IFsgT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgICAgICAgICBuZXh0QXR0cnM6IHt9XG4gICAgICAgICAgICAgICAgfSkgXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW52b2tlRW5jb2RlclRvSXRlbXModGhpcywgdGFyZ2V0SXRlbXMsIGVuY29kZXIsIHRoaXMubWFyay5wYXJhbWV0ZXJzKCkpLCBcbiAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVUcmFuc2Zvcm1FbmNvZGUodGFyZ2V0SXRlbXMpLCBnbHlwaFN0YXRlQXR0cmlidXRlcy5hdHRyaWJ1dGVzID0gdGFyZ2V0SXRlbXNbMF0ubmV4dEF0dHJzLCBcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaWNJdGVtLmdseXBoU3RhdGVzID8gdGhpcy5ncmFwaGljSXRlbS5nbHlwaFN0YXRlc1tzdGF0ZU5hbWVdIHx8ICh0aGlzLmdyYXBoaWNJdGVtLmdseXBoU3RhdGVzW3N0YXRlTmFtZV0gPSBnbHlwaFN0YXRlQXR0cmlidXRlcykgOiB0aGlzLmdyYXBoaWNJdGVtLmdseXBoU3RhdGVzID0ge1xuICAgICAgICAgICAgICAgICAgICBbc3RhdGVOYW1lXTogZ2x5cGhTdGF0ZUF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICB9LCBnbHlwaFN0YXRlQXR0cmlidXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnbHlwaFN0YXRlQXR0cmlidXRlcztcbiAgICAgICAgfSwgdGhpcy5nbHlwaE1ldGEgPSB0aGlzLm1hcmsuZ2V0R2x5cGhNZXRhKCk7XG4gICAgfVxuICAgIGdldEdseXBoR3JhcGhpY0l0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nbHlwaEdyYXBoaWNJdGVtcztcbiAgICB9XG4gICAgaW5pdEdyYXBoaWNJdGVtKGF0dHJpYnV0ZXMgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtID0gdGhpcy5tYXJrLmFkZEdyYXBoaWNJdGVtKGF0dHJpYnV0ZXMsIHRoaXMuZ3JvdXBLZXkpLCB0aGlzLmdyYXBoaWNJdGVtW0JyaWRnZUVsZW1lbnRLZXldID0gdGhpcywgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0ub25CZWZvcmVBdHRyaWJ1dGVVcGRhdGUgPSB0aGlzLl9vbkdseXBoQXR0cmlidXRlVXBkYXRlKCExKTtcbiAgICAgICAgY29uc3QgZ2x5cGhNYXJrcyA9IHRoaXMuZ2x5cGhNZXRhLmdldE1hcmtzKCk7XG4gICAgICAgIHRoaXMuZ2x5cGhHcmFwaGljSXRlbXMgPSB7fSwgdGhpcy5ncmFwaGljSXRlbS5nZXRTdWJHcmFwaGljKCkuZm9yRWFjaCgoZ3JhcGhpYyA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXJrVHlwZSA9IGdseXBoTWFya3NbZ3JhcGhpYy5uYW1lXTtcbiAgICAgICAgICAgIHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbZ3JhcGhpYy5uYW1lXSA9IGdyYXBoaWMsIGdyYXBoaWMub25CZWZvcmVBdHRyaWJ1dGVVcGRhdGUgPSBhdHRyaWJ1dGVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubWFyaykgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUF0dHJpYnV0ZXMobWFya1R5cGUsIGF0dHJpYnV0ZXMsIHRoaXMsIGdyYXBoaWMubmFtZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSksIHRoaXMuY2xlYXJHcmFwaGljQXR0cmlidXRlcygpO1xuICAgIH1cbiAgICB1c2VTdGF0ZXMoc3RhdGVzLCBoYXNBbmltYXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm4gITE7XG4gICAgICAgIHRoaXMubWFyay5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX0VMRU1FTlRfU1RBVEUsIHtcbiAgICAgICAgICAgIHN0YXRlczogc3RhdGVzXG4gICAgICAgIH0sIHRoaXMpLCB0aGlzLnN0YXRlcyA9IHN0YXRlcy5zbGljZSgpO1xuICAgICAgICBjb25zdCBzdGF0ZUFuaW1hdGlvbkVuYWJsZSA9IGlzQm9vbGVhbihoYXNBbmltYXRpb24pID8gaGFzQW5pbWF0aW9uIDogdGhpcy5oYXNTdGF0ZUFuaW1hdGlvbigpO1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljSXRlbS5nbHlwaFN0YXRlUHJveHkgPSB0aGlzLmdldFN0YXRlQXR0cnMsIHRoaXMuZ3JhcGhpY0l0ZW0udXNlU3RhdGVzKHRoaXMuc3RhdGVzLCBzdGF0ZUFuaW1hdGlvbkVuYWJsZSksIFxuICAgICAgICB0aGlzLm1hcmsuZW1pdChIT09LX0VWRU5ULkFGVEVSX0VMRU1FTlRfU1RBVEUsIHtcbiAgICAgICAgICAgIHN0YXRlczogc3RhdGVzXG4gICAgICAgIH0sIHRoaXMpLCAhMDtcbiAgICB9XG4gICAgZW5jb2RlR3JhcGhpYygpIHtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlVHJhbnNmb3JtRW5jb2RlKHRoaXMuaXRlbXMpO1xuICAgICAgICBjb25zdCBncmFwaGljQXR0cmlidXRlcyA9IHRoaXMudHJhbnNmb3JtRWxlbWVudEl0ZW1zKHRoaXMuaXRlbXMsIHRoaXMubWFyay5tYXJrVHlwZSksIGlzR3JhcGhpY0luaXQgPSAhdGhpcy5ncmFwaGljSXRlbTtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbSB8fCB0aGlzLmluaXRHcmFwaGljSXRlbSgpLCB0aGlzLmRpZmZTdGF0ZSA9PT0gRGlmZlN0YXRlLmVudGVyIHx8IGlzR3JhcGhpY0luaXQgPyAodGhpcy5ncmFwaGljSXRlbS5vbkJlZm9yZUF0dHJpYnV0ZVVwZGF0ZSA9IHRoaXMuX29uR2x5cGhBdHRyaWJ1dGVVcGRhdGUoITApLCBcbiAgICAgICAgdGhpcy5hcHBseUdyYXBoaWNBdHRyaWJ1dGVzKGdyYXBoaWNBdHRyaWJ1dGVzKSwgdGhpcy5ncmFwaGljSXRlbS5vbkJlZm9yZUF0dHJpYnV0ZVVwZGF0ZSA9IHRoaXMuX29uR2x5cGhBdHRyaWJ1dGVVcGRhdGUoITEpKSA6IHRoaXMuYXBwbHlHcmFwaGljQXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcyksIFxuICAgICAgICB0aGlzLmRpZmZTdGF0ZSAhPT0gRGlmZlN0YXRlLmVudGVyICYmIHRoaXMuZGlmZlN0YXRlICE9PSBEaWZmU3RhdGUudXBkYXRlIHx8ICF0aGlzLnN0YXRlcy5sZW5ndGggfHwgKE9iamVjdC52YWx1ZXModGhpcy5nbHlwaEdyYXBoaWNJdGVtcykuZm9yRWFjaCgoZ3JhcGhpY0l0ZW0gPT4ge1xuICAgICAgICAgICAgZ3JhcGhpY0l0ZW0uc3RhdGVzID0ge307XG4gICAgICAgIH0pKSwgdGhpcy51c2VTdGF0ZXModGhpcy5zdGF0ZXMpKSwgdGhpcy5pdGVtcy5tYXAoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaXRlbS5uZXh0QXR0cnMgPSB7fTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlbmNvZGVDdXN0b20obmV4dEF0dHJzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGN1c3RvbUVuY29kZVZhbHVlcyA9IHt9O1xuICAgICAgICBjb25zdCBjaGFubmVsRW5jb2RlciA9IHRoaXMuZ2x5cGhNZXRhLmdldENoYW5uZWxFbmNvZGVyKCksIGZ1bmN0aW9uRW5jb2RlciA9IHRoaXMuZ2x5cGhNZXRhLmdldEZ1bmN0aW9uRW5jb2RlcigpO1xuICAgICAgICBpZiAoZnVuY3Rpb25FbmNvZGVyICYmIChjdXN0b21FbmNvZGVWYWx1ZXMgPSBmdW5jdGlvbkVuY29kZXIuY2FsbChudWxsLCBPYmplY3QuYXNzaWduKHt9LCBudWxsID09PSAoX2EgPSB0aGlzLmdyYXBoaWNJdGVtKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuYXR0cmlidXRlLCBuZXh0QXR0cnMpLCB0aGlzLmdldERhdHVtKCksIHRoaXMsIHRoaXMubWFyay5nZXRHbHlwaENvbmZpZygpKSksIFxuICAgICAgICBjaGFubmVsRW5jb2Rlcikge1xuICAgICAgICAgICAgbGV0IGFsbEF0dHJzO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY2hhbm5lbEVuY29kZXIpLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmlsKG5leHRBdHRyc1tjaGFubmVsXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsQXR0cnMgfHwgKGFsbEF0dHJzID0gT2JqZWN0LmFzc2lnbih7fSwgbnVsbCA9PT0gKF9hID0gdGhpcy5ncmFwaGljSXRlbSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmF0dHJpYnV0ZSwgbmV4dEF0dHJzKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZVJlc3VsdCA9IGNoYW5uZWxFbmNvZGVyW2NoYW5uZWxdLmNhbGwobnVsbCwgY2hhbm5lbCwgbmV4dEF0dHJzW2NoYW5uZWxdLCBhbGxBdHRycywgdGhpcy5nZXREYXR1bSgpLCB0aGlzLCB0aGlzLm1hcmsuZ2V0R2x5cGhDb25maWcoKSk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKG51bGwgIT0gZW5jb2RlUmVzdWx0ID8gZW5jb2RlUmVzdWx0IDoge30pLmZvckVhY2goKG1hcmtOYW1lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUVuY29kZVZhbHVlc1ttYXJrTmFtZV0gPSBPYmplY3QuYXNzaWduKG51bGwgIT09IChfYSA9IGN1c3RvbUVuY29kZVZhbHVlc1ttYXJrTmFtZV0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9LCBlbmNvZGVSZXN1bHRbbWFya05hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VzdG9tRW5jb2RlVmFsdWVzO1xuICAgIH1cbiAgICBlbmNvZGVEZWZhdWx0KCkge1xuICAgICAgICBjb25zdCBkZWZhdWx0RW5jb2RlVmFsdWVzID0ge307XG4gICAgICAgIGlmICh0aGlzLmdseXBoTWV0YS5nZXREZWZhdWx0RW5jb2RlcigpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0RW5jb2RlUmVzdWx0ID0gdGhpcy5nbHlwaE1ldGEuZ2V0RGVmYXVsdEVuY29kZXIoKS5jYWxsKG51bGwsIHRoaXMuZ2V0RGF0dW0oKSwgdGhpcywgdGhpcy5tYXJrLmdldEdseXBoQ29uZmlnKCkpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihkZWZhdWx0RW5jb2RlVmFsdWVzLCBkZWZhdWx0RW5jb2RlUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmYXVsdEVuY29kZVZhbHVlcztcbiAgICB9XG4gICAgX29uR2x5cGhBdHRyaWJ1dGVVcGRhdGUoZmlyc3QgPSAhMSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcyA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubWFyaykgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBjb25zdCBnbHlwaE1hcmtzID0gdGhpcy5nbHlwaE1ldGEuZ2V0TWFya3MoKSwgZ3JhcGhpY0F0dHJpYnV0ZXMgPSB0cmFuc2Zvcm1BdHRyaWJ1dGVzKHRoaXMubWFyay5nZXRBdHRyaWJ1dGVUcmFuc2Zvcm1zKCksIGF0dHJpYnV0ZXMsIHRoaXMpLCBkZWZhdWx0RW5jb2RlVmFsdWVzID0gZmlyc3QgPyB0aGlzLmVuY29kZURlZmF1bHQoKSA6IG51bGwsIGN1c3RvbUVuY29kZVZhbHVlcyA9IHRoaXMuZW5jb2RlQ3VzdG9tKGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGdseXBoTWFya3MpLmZvckVhY2goKG1hcmtOYW1lID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJrVHlwZSA9IGdseXBoTWFya3NbbWFya05hbWVdLCBncmFwaGljSXRlbSA9IHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbbWFya05hbWVdLCBjdXN0b21BdHRyaWJ1dGVzID0gbnVsbCA9PSBjdXN0b21FbmNvZGVWYWx1ZXMgPyB2b2lkIDAgOiBjdXN0b21FbmNvZGVWYWx1ZXNbbWFya05hbWVdLCBhZGRpdGlvbmFsQXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIGN1c3RvbUF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0QXR0cmlidXRlcyA9IG51bGwgPT0gZGVmYXVsdEVuY29kZVZhbHVlcyA/IHZvaWQgMCA6IGRlZmF1bHRFbmNvZGVWYWx1ZXNbbWFya05hbWVdO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhudWxsICE9IGRlZmF1bHRBdHRyaWJ1dGVzID8gZGVmYXVsdEF0dHJpYnV0ZXMgOiB7fSkuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhcyh0aGlzLml0ZW1zWzBdLm5leHRBdHRycywga2V5KSB8fCBoYXMoYWRkaXRpb25hbEF0dHJpYnV0ZXMsIGtleSkgfHwgKGFkZGl0aW9uYWxBdHRyaWJ1dGVzW2tleV0gPSBkZWZhdWx0QXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBnbHlwaEF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBjbG9uZVRyYW5zZm9ybUF0dHJpYnV0ZXMobWFya1R5cGUsIGF0dHJpYnV0ZXMpLCBhZGRpdGlvbmFsQXR0cmlidXRlcyksIGdseXBoSXRlbXMgPSB0aGlzLl9nZW5lcmF0ZUdseXBoSXRlbXMobWFya1R5cGUsIHRoaXMuaXRlbXMsIGdseXBoQXR0cmlidXRlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlVHJhbnNmb3JtRW5jb2RlKGdseXBoSXRlbXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy50cmFuc2Zvcm1FbGVtZW50SXRlbXMoZ2x5cGhJdGVtcywgbWFya1R5cGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlHbHlwaEdyYXBoaWNBdHRyaWJ1dGVzKGdyYXBoaWNBdHRyaWJ1dGVzLCBtYXJrTmFtZSwgZ3JhcGhpY0l0ZW0pLCBtYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLnNoYXBlICYmIChncmFwaGljSXRlbS5kYXR1bSA9IGdseXBoSXRlbXNbMF0uZGF0dW0pO1xuICAgICAgICAgICAgfSkpLCBncmFwaGljQXR0cmlidXRlcztcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2dlbmVyYXRlR2x5cGhJdGVtcyhtYXJrVHlwZSwgaXRlbXMsIGFkZGl0aW9uYWxBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGNvbnN0IGdseXBoSXRlbXMgPSBpdGVtcy5tYXAoKGl0ZW0gPT4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgbmV4dEF0dHJzOiBhZGRpdGlvbmFsQXR0cmlidXRlc1xuICAgICAgICB9KSkpO1xuICAgICAgICByZXR1cm4gQ29sbGVjdGlvbk1hcmtUeXBlLmluY2x1ZGVzKG1hcmtUeXBlKSAmJiB0aGlzLm1hcmsuZ2V0U3BlYygpLmVuYWJsZVNlZ21lbnRzICYmIGdseXBoSXRlbXMuZm9yRWFjaCgoKGdseXBoSXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGdseXBoSXRlbS5uZXh0QXR0cnMgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtc1tpbmRleF0ubmV4dEF0dHJzLCBhZGRpdGlvbmFsQXR0cmlidXRlcyk7XG4gICAgICAgIH0pKSwgZ2x5cGhJdGVtcztcbiAgICB9XG4gICAgZ2V0R3JhcGhpY0F0dHJpYnV0ZShjaGFubmVsLCBwcmV2ID0gITEsIG1hcmtOYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBwcmV2R3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmdldFByZXZHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSk7XG4gICAgICAgIGlmIChwcmV2ICYmIGhhcyhwcmV2R3JhcGhpY0F0dHJpYnV0ZXMsIGNoYW5uZWwpKSByZXR1cm4gcHJldkdyYXBoaWNBdHRyaWJ1dGVzW2NoYW5uZWxdO1xuICAgICAgICByZXR1cm4gKG1hcmtOYW1lID8gdGhpcy5nbHlwaEdyYXBoaWNJdGVtc1ttYXJrTmFtZV0gOiB0aGlzLmdyYXBoaWNJdGVtKS5hdHRyaWJ1dGVbY2hhbm5lbF07XG4gICAgfVxuICAgIHNldEdyYXBoaWNBdHRyaWJ1dGUoY2hhbm5lbCwgdmFsdWUsIGZpbmFsID0gITAsIG1hcmtOYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBncmFwaGljSXRlbSA9IG1hcmtOYW1lID8gdGhpcy5nbHlwaEdyYXBoaWNJdGVtc1ttYXJrTmFtZV0gOiB0aGlzLmdyYXBoaWNJdGVtLCBmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKG1hcmtOYW1lKSwgcHJldkdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMobWFya05hbWUpO1xuICAgICAgICBmaW5hbCAmJiAoZmluYWxHcmFwaGljQXR0cmlidXRlc1tjaGFubmVsXSA9IHZhbHVlKSwgaGFzKHByZXZHcmFwaGljQXR0cmlidXRlcywgY2hhbm5lbCkgfHwgKHByZXZHcmFwaGljQXR0cmlidXRlc1tjaGFubmVsXSA9IGdyYXBoaWNJdGVtLmF0dHJpYnV0ZVtjaGFubmVsXSksIFxuICAgICAgICBncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGUoY2hhbm5lbCwgdmFsdWUpO1xuICAgIH1cbiAgICBzZXRHcmFwaGljQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBmaW5hbCA9ICEwLCBtYXJrTmFtZSkge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBtYXJrTmFtZSA/IHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbbWFya05hbWVdIDogdGhpcy5ncmFwaGljSXRlbSwgZmluYWxHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSksIHByZXZHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZ2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKG1hcmtOYW1lKTtcbiAgICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIGZpbmFsICYmIChmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzW2tleV0gPSBhdHRyaWJ1dGVzW2tleV0pLCBoYXMocHJldkdyYXBoaWNBdHRyaWJ1dGVzLCBrZXkpIHx8IChwcmV2R3JhcGhpY0F0dHJpYnV0ZXNba2V5XSA9IGdyYXBoaWNJdGVtLmF0dHJpYnV0ZVtrZXldKTtcbiAgICAgICAgfSkpLCBncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICBkaWZmQXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcywgbWFya05hbWUpIHtcbiAgICAgICAgY29uc3QgZGlmZlJlc3VsdCA9IHt9LCBmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKG1hcmtOYW1lKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZ3JhcGhpY0F0dHJpYnV0ZXMpIGhhcyhmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzLCBrZXkpICYmIGlzRXF1YWwoZmluYWxHcmFwaGljQXR0cmlidXRlc1trZXldLCBncmFwaGljQXR0cmlidXRlc1trZXldKSB8fCAoZGlmZlJlc3VsdFtrZXldID0gZ3JhcGhpY0F0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgIHJldHVybiBkaWZmUmVzdWx0O1xuICAgIH1cbiAgICBhcHBseUdseXBoR3JhcGhpY0F0dHJpYnV0ZXMoZ3JhcGhpY0F0dHJpYnV0ZXMsIG1hcmtOYW1lLCBncmFwaGljSXRlbSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5tYXJrLm5lZWRBbmltYXRlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZGlmZkF0dHJpYnV0ZXMoZ3JhcGhpY0F0dHJpYnV0ZXMsIG1hcmtOYW1lKSwgcHJldkdyYXBoaWNBdHRyaWJ1dGVzID0gbnVsbCAhPT0gKF9hID0gdGhpcy5nZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMobWFya05hbWUpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fSwgZmluYWxHcmFwaGljQXR0cmlidXRlcyA9IG51bGwgIT09IChfYiA9IHRoaXMuZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobmV4dEdyYXBoaWNBdHRyaWJ1dGVzKS5mb3JFYWNoKChjaGFubmVsID0+IHtcbiAgICAgICAgICAgICAgICBwcmV2R3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF0gPSBncmFwaGljSXRlbS5hdHRyaWJ1dGVbY2hhbm5lbF0sIGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF0gPSBuZXh0R3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF07XG4gICAgICAgICAgICB9KSksIHRoaXMuc2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKG5leHRHcmFwaGljQXR0cmlidXRlcywgbWFya05hbWUpLCB0aGlzLnNldFByZXZHcmFwaGljQXR0cmlidXRlcyhwcmV2R3JhcGhpY0F0dHJpYnV0ZXMsIG1hcmtOYW1lKSwgXG4gICAgICAgICAgICB0aGlzLnNldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMoZmluYWxHcmFwaGljQXR0cmlidXRlcywgbWFya05hbWUpLCBncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGVzKG5leHRHcmFwaGljQXR0cmlidXRlcyk7XG4gICAgICAgIH0gZWxzZSBncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGVzKGdyYXBoaWNBdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSkge1xuICAgICAgICByZXR1cm4gKG1hcmtOYW1lID8gdGhpcy5nbHlwaEdyYXBoaWNJdGVtc1ttYXJrTmFtZV0gOiB0aGlzLmdyYXBoaWNJdGVtKS5maW5hbEF0dHJzO1xuICAgIH1cbiAgICBzZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMsIG1hcmtOYW1lKSB7XG4gICAgICAgIChtYXJrTmFtZSA/IHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbbWFya05hbWVdIDogdGhpcy5ncmFwaGljSXRlbSkuZmluYWxBdHRycyA9IGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGdldFByZXZHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSkge1xuICAgICAgICByZXR1cm4gKG1hcmtOYW1lID8gdGhpcy5nbHlwaEdyYXBoaWNJdGVtc1ttYXJrTmFtZV0gOiB0aGlzLmdyYXBoaWNJdGVtKS5wcmV2QXR0cnM7XG4gICAgfVxuICAgIHNldFByZXZHcmFwaGljQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBtYXJrTmFtZSkge1xuICAgICAgICAobWFya05hbWUgPyB0aGlzLmdseXBoR3JhcGhpY0l0ZW1zW21hcmtOYW1lXSA6IHRoaXMuZ3JhcGhpY0l0ZW0pLnByZXZBdHRycyA9IGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGdldE5leHRHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSkge1xuICAgICAgICByZXR1cm4gKG1hcmtOYW1lID8gdGhpcy5nbHlwaEdyYXBoaWNJdGVtc1ttYXJrTmFtZV0gOiB0aGlzLmdyYXBoaWNJdGVtKS5uZXh0QXR0cnM7XG4gICAgfVxuICAgIHNldE5leHRHcmFwaGljQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBtYXJrTmFtZSkge1xuICAgICAgICAobWFya05hbWUgPyB0aGlzLmdseXBoR3JhcGhpY0l0ZW1zW21hcmtOYW1lXSA6IHRoaXMuZ3JhcGhpY0l0ZW0pLm5leHRBdHRycyA9IGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGNsZWFyQ2hhbmdlZEdyYXBoaWNBdHRyaWJ1dGVzKCkge1xuICAgICAgICB0aGlzLnNldFByZXZHcmFwaGljQXR0cmlidXRlcyhudWxsKSwgdGhpcy5zZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCksIE9iamVjdC5rZXlzKHRoaXMuZ2x5cGhHcmFwaGljSXRlbXMpLmZvckVhY2goKG1hcmtOYW1lID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKG51bGwsIG1hcmtOYW1lKSwgdGhpcy5zZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCwgbWFya05hbWUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNsZWFyR3JhcGhpY0F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHRoaXMuc2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKG51bGwpLCB0aGlzLnNldE5leHRHcmFwaGljQXR0cmlidXRlcyhudWxsKSwgdGhpcy5zZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKG51bGwpLCBcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5nbHlwaEdyYXBoaWNJdGVtcykuZm9yRWFjaCgobWFya05hbWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCwgbWFya05hbWUpLCB0aGlzLnNldE5leHRHcmFwaGljQXR0cmlidXRlcyhudWxsLCBtYXJrTmFtZSksIFxuICAgICAgICAgICAgdGhpcy5zZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKG51bGwsIG1hcmtOYW1lKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuZ2x5cGhHcmFwaGljSXRlbXMgPSBudWxsLCBzdXBlci5yZW1vdmUoKTtcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgdGhpcy5nbHlwaEdyYXBoaWNJdGVtcyAmJiAoT2JqZWN0LnZhbHVlcyh0aGlzLmdseXBoR3JhcGhpY0l0ZW1zKS5mb3JFYWNoKChncmFwaGljSXRlbSA9PiB7XG4gICAgICAgICAgICBncmFwaGljSXRlbVtCcmlkZ2VFbGVtZW50S2V5XSA9IG51bGw7XG4gICAgICAgIH0pKSwgdGhpcy5nbHlwaEdyYXBoaWNJdGVtcyA9IG51bGwpLCBzdXBlci5yZWxlYXNlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2x5cGgtZWxlbWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/glyph-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/index.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/index.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.AxisEnum),\n/* harmony export */   BuiltInEncodeNames: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames),\n/* harmony export */   ComponentEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum),\n/* harmony export */   CrosshairEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.CrosshairEnum),\n/* harmony export */   DataFilterRank: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.DataFilterRank),\n/* harmony export */   DiffState: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState),\n/* harmony export */   Element: () => (/* reexport safe */ _element__WEBPACK_IMPORTED_MODULE_1__.Element),\n/* harmony export */   GrammarMarkType: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType),\n/* harmony export */   GrammarTypeEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarTypeEnum),\n/* harmony export */   GridEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.GridEnum),\n/* harmony export */   HOOK_EVENT: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT),\n/* harmony export */   InteractionStateEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.InteractionStateEnum),\n/* harmony export */   LabelEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.LabelEnum),\n/* harmony export */   LayoutState: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.LayoutState),\n/* harmony export */   LegendEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.LegendEnum),\n/* harmony export */   PlayerEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.PlayerEnum),\n/* harmony export */   getLinePoints: () => (/* reexport safe */ _attributes_helpers__WEBPACK_IMPORTED_MODULE_2__.getLinePoints),\n/* harmony export */   getRulePoints: () => (/* reexport safe */ _attributes_helpers__WEBPACK_IMPORTED_MODULE_2__.getRulePoints)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./element */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/element.js\");\n/* harmony import */ var _attributes_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attributes/helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdCOztBQUVZOztBQUVnQztBQUNwRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9pbmRleC5qcz9hOTNjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2VudW1zXCI7XG5cbmV4cG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XG5cbmV4cG9ydCB7IGdldExpbmVQb2ludHMsIGdldFJ1bGVQb2ludHMgfSBmcm9tIFwiLi9hdHRyaWJ1dGVzL2hlbHBlcnNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/grid.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/grid.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doGridLayout: () => (/* binding */ doGridLayout)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n\n\nfunction parseTemplate(template, total) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(template)) return template;\n    const trimmedTemplate = template.trim();\n    if (\"auto\" === trimmedTemplate) return 0;\n    if (trimmedTemplate.endsWith(\"%\")) {\n        const percent = parseFloat(trimmedTemplate.substring(0, trimmedTemplate.length - 1));\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(percent) ? percent * total : 0;\n    }\n    return 0;\n}\n\nfunction computeGrid(layout, width, height) {\n    var _a, _b, _c, _d;\n    const templateRows = null !== (_a = layout.gridTemplateRows) && void 0 !== _a ? _a : [ height ], templateColumns = null !== (_b = layout.gridTemplateColumns) && void 0 !== _b ? _b : [ width ], rowGap = null !== (_c = layout.gridRowGap) && void 0 !== _c ? _c : 0, columnGap = null !== (_d = layout.gridColumnGap) && void 0 !== _d ? _d : 0, rows = templateRows.map((row => parseTemplate(row, height))), columns = templateColumns.map((column => parseTemplate(column, width))), rowAuto = Math.max(0, rows.reduce(((left, row) => left - row), height) - rows.length * rowGap) / templateRows.filter((row => \"auto\" === row)).length, columnAuto = Math.max(0, columns.reduce(((left, column) => left - column), width) - columns.length * columnGap) / templateColumns.filter((column => \"auto\" === column)).length;\n    let lastRow = 0;\n    const accumulateRows = rows.map(((row, index) => {\n        const finalRow = \"auto\" === templateRows[index] ? rowAuto : row, last = lastRow;\n        return lastRow += finalRow + rowGap, last;\n    }));\n    accumulateRows.push(lastRow);\n    let lastColumn = 0;\n    const accumulateColumns = columns.map(((column, index) => {\n        const finalColumn = \"auto\" === templateColumns[index] ? columnAuto : column, last = lastColumn;\n        return lastColumn += finalColumn + columnGap, last;\n    }));\n    return accumulateColumns.push(lastColumn), {\n        rows: accumulateRows,\n        columns: accumulateColumns,\n        rowGap: rowGap,\n        columnGap: columnGap\n    };\n}\n\nfunction normalizeIndex(index, count) {\n    return Math.min(index < 0 ? index + count : index - 1, count);\n}\n\nfunction normalizeStartEndIndex(start, end, count) {\n    let finalStart = normalizeIndex(start, count), finalEnd = normalizeIndex(end, count);\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(start) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(end) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(start) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(end) || (finalStart = normalizeIndex(Math.max(0, finalEnd - 1), count)) : finalEnd = normalizeIndex(finalStart + 1, count) : (finalStart = 1, \n    finalEnd = 2), finalStart > finalEnd) {\n        const temp = finalEnd;\n        finalEnd = finalStart, finalStart = temp;\n    }\n    return {\n        start: finalStart,\n        end: finalEnd\n    };\n}\n\nfunction getCellBounds(grid, rowStart, rowEnd, columnStart, columnEnd) {\n    const rowCount = grid.rows.length, columnCount = grid.columns.length, {start: finalRowStart, end: finalRowEnd} = normalizeStartEndIndex(rowStart, rowEnd, rowCount), {start: finalColumnStart, end: finalColumnEnd} = normalizeStartEndIndex(columnStart, columnEnd, columnCount), x1 = grid.columns[finalRowStart], x2 = grid.columns[finalRowEnd] - (finalColumnEnd === columnCount ? 0 : grid.columnGap), y1 = grid.rows[finalColumnStart], y2 = grid.rows[finalColumnEnd] - (finalRowEnd === rowCount ? 0 : grid.rowGap);\n    return (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.Bounds).set(x1, y1, x2, y2);\n}\n\nconst doGridLayout = (group, children, parentLayoutBounds, options) => {\n    const grid = computeGrid(group.getSpec().layout, parentLayoutBounds.width(), parentLayoutBounds.height());\n    children && children.forEach((mark => {\n        const markLayout = mark.getSpec().layout;\n        mark.layoutBounds = getCellBounds(grid, markLayout.gridRowStart, markLayout.gridRowEnd, markLayout.gridColumnStart, markLayout.gridColumnEnd), \n        mark.commit();\n    }));\n};\n//# sourceMappingURL=grid.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbGF5b3V0L2dyaWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlEOztBQUV6RDtBQUNBLFFBQVEsNERBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFhO0FBQzVCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw0REFBYSxXQUFXLDREQUFhLFFBQVEsNERBQWEsVUFBVSw0REFBYTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyRUFBMkUsd0NBQXdDLHVEQUF1RCw4Q0FBOEM7QUFDeE4sZ0JBQWdCLG9EQUFNO0FBQ3RCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2xheW91dC9ncmlkLmpzPzk3ZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm91bmRzLCBpc1ZhbGlkTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZnVuY3Rpb24gcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgdG90YWwpIHtcbiAgICBpZiAoaXNWYWxpZE51bWJlcih0ZW1wbGF0ZSkpIHJldHVybiB0ZW1wbGF0ZTtcbiAgICBjb25zdCB0cmltbWVkVGVtcGxhdGUgPSB0ZW1wbGF0ZS50cmltKCk7XG4gICAgaWYgKFwiYXV0b1wiID09PSB0cmltbWVkVGVtcGxhdGUpIHJldHVybiAwO1xuICAgIGlmICh0cmltbWVkVGVtcGxhdGUuZW5kc1dpdGgoXCIlXCIpKSB7XG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSBwYXJzZUZsb2F0KHRyaW1tZWRUZW1wbGF0ZS5zdWJzdHJpbmcoMCwgdHJpbW1lZFRlbXBsYXRlLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgcmV0dXJuIGlzVmFsaWROdW1iZXIocGVyY2VudCkgPyBwZXJjZW50ICogdG90YWwgOiAwO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZUdyaWQobGF5b3V0LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IHRlbXBsYXRlUm93cyA9IG51bGwgIT09IChfYSA9IGxheW91dC5ncmlkVGVtcGxhdGVSb3dzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbIGhlaWdodCBdLCB0ZW1wbGF0ZUNvbHVtbnMgPSBudWxsICE9PSAoX2IgPSBsYXlvdXQuZ3JpZFRlbXBsYXRlQ29sdW1ucykgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogWyB3aWR0aCBdLCByb3dHYXAgPSBudWxsICE9PSAoX2MgPSBsYXlvdXQuZ3JpZFJvd0dhcCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogMCwgY29sdW1uR2FwID0gbnVsbCAhPT0gKF9kID0gbGF5b3V0LmdyaWRDb2x1bW5HYXApICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IDAsIHJvd3MgPSB0ZW1wbGF0ZVJvd3MubWFwKChyb3cgPT4gcGFyc2VUZW1wbGF0ZShyb3csIGhlaWdodCkpKSwgY29sdW1ucyA9IHRlbXBsYXRlQ29sdW1ucy5tYXAoKGNvbHVtbiA9PiBwYXJzZVRlbXBsYXRlKGNvbHVtbiwgd2lkdGgpKSksIHJvd0F1dG8gPSBNYXRoLm1heCgwLCByb3dzLnJlZHVjZSgoKGxlZnQsIHJvdykgPT4gbGVmdCAtIHJvdyksIGhlaWdodCkgLSByb3dzLmxlbmd0aCAqIHJvd0dhcCkgLyB0ZW1wbGF0ZVJvd3MuZmlsdGVyKChyb3cgPT4gXCJhdXRvXCIgPT09IHJvdykpLmxlbmd0aCwgY29sdW1uQXV0byA9IE1hdGgubWF4KDAsIGNvbHVtbnMucmVkdWNlKCgobGVmdCwgY29sdW1uKSA9PiBsZWZ0IC0gY29sdW1uKSwgd2lkdGgpIC0gY29sdW1ucy5sZW5ndGggKiBjb2x1bW5HYXApIC8gdGVtcGxhdGVDb2x1bW5zLmZpbHRlcigoY29sdW1uID0+IFwiYXV0b1wiID09PSBjb2x1bW4pKS5sZW5ndGg7XG4gICAgbGV0IGxhc3RSb3cgPSAwO1xuICAgIGNvbnN0IGFjY3VtdWxhdGVSb3dzID0gcm93cy5tYXAoKChyb3csIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbmFsUm93ID0gXCJhdXRvXCIgPT09IHRlbXBsYXRlUm93c1tpbmRleF0gPyByb3dBdXRvIDogcm93LCBsYXN0ID0gbGFzdFJvdztcbiAgICAgICAgcmV0dXJuIGxhc3RSb3cgKz0gZmluYWxSb3cgKyByb3dHYXAsIGxhc3Q7XG4gICAgfSkpO1xuICAgIGFjY3VtdWxhdGVSb3dzLnB1c2gobGFzdFJvdyk7XG4gICAgbGV0IGxhc3RDb2x1bW4gPSAwO1xuICAgIGNvbnN0IGFjY3VtdWxhdGVDb2x1bW5zID0gY29sdW1ucy5tYXAoKChjb2x1bW4sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbmFsQ29sdW1uID0gXCJhdXRvXCIgPT09IHRlbXBsYXRlQ29sdW1uc1tpbmRleF0gPyBjb2x1bW5BdXRvIDogY29sdW1uLCBsYXN0ID0gbGFzdENvbHVtbjtcbiAgICAgICAgcmV0dXJuIGxhc3RDb2x1bW4gKz0gZmluYWxDb2x1bW4gKyBjb2x1bW5HYXAsIGxhc3Q7XG4gICAgfSkpO1xuICAgIHJldHVybiBhY2N1bXVsYXRlQ29sdW1ucy5wdXNoKGxhc3RDb2x1bW4pLCB7XG4gICAgICAgIHJvd3M6IGFjY3VtdWxhdGVSb3dzLFxuICAgICAgICBjb2x1bW5zOiBhY2N1bXVsYXRlQ29sdW1ucyxcbiAgICAgICAgcm93R2FwOiByb3dHYXAsXG4gICAgICAgIGNvbHVtbkdhcDogY29sdW1uR2FwXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplSW5kZXgoaW5kZXgsIGNvdW50KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKGluZGV4IDwgMCA/IGluZGV4ICsgY291bnQgOiBpbmRleCAtIDEsIGNvdW50KTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU3RhcnRFbmRJbmRleChzdGFydCwgZW5kLCBjb3VudCkge1xuICAgIGxldCBmaW5hbFN0YXJ0ID0gbm9ybWFsaXplSW5kZXgoc3RhcnQsIGNvdW50KSwgZmluYWxFbmQgPSBub3JtYWxpemVJbmRleChlbmQsIGNvdW50KTtcbiAgICBpZiAoaXNWYWxpZE51bWJlcihzdGFydCkgfHwgaXNWYWxpZE51bWJlcihlbmQpID8gaXNWYWxpZE51bWJlcihzdGFydCkgPyBpc1ZhbGlkTnVtYmVyKGVuZCkgfHwgKGZpbmFsU3RhcnQgPSBub3JtYWxpemVJbmRleChNYXRoLm1heCgwLCBmaW5hbEVuZCAtIDEpLCBjb3VudCkpIDogZmluYWxFbmQgPSBub3JtYWxpemVJbmRleChmaW5hbFN0YXJ0ICsgMSwgY291bnQpIDogKGZpbmFsU3RhcnQgPSAxLCBcbiAgICBmaW5hbEVuZCA9IDIpLCBmaW5hbFN0YXJ0ID4gZmluYWxFbmQpIHtcbiAgICAgICAgY29uc3QgdGVtcCA9IGZpbmFsRW5kO1xuICAgICAgICBmaW5hbEVuZCA9IGZpbmFsU3RhcnQsIGZpbmFsU3RhcnQgPSB0ZW1wO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogZmluYWxTdGFydCxcbiAgICAgICAgZW5kOiBmaW5hbEVuZFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldENlbGxCb3VuZHMoZ3JpZCwgcm93U3RhcnQsIHJvd0VuZCwgY29sdW1uU3RhcnQsIGNvbHVtbkVuZCkge1xuICAgIGNvbnN0IHJvd0NvdW50ID0gZ3JpZC5yb3dzLmxlbmd0aCwgY29sdW1uQ291bnQgPSBncmlkLmNvbHVtbnMubGVuZ3RoLCB7c3RhcnQ6IGZpbmFsUm93U3RhcnQsIGVuZDogZmluYWxSb3dFbmR9ID0gbm9ybWFsaXplU3RhcnRFbmRJbmRleChyb3dTdGFydCwgcm93RW5kLCByb3dDb3VudCksIHtzdGFydDogZmluYWxDb2x1bW5TdGFydCwgZW5kOiBmaW5hbENvbHVtbkVuZH0gPSBub3JtYWxpemVTdGFydEVuZEluZGV4KGNvbHVtblN0YXJ0LCBjb2x1bW5FbmQsIGNvbHVtbkNvdW50KSwgeDEgPSBncmlkLmNvbHVtbnNbZmluYWxSb3dTdGFydF0sIHgyID0gZ3JpZC5jb2x1bW5zW2ZpbmFsUm93RW5kXSAtIChmaW5hbENvbHVtbkVuZCA9PT0gY29sdW1uQ291bnQgPyAwIDogZ3JpZC5jb2x1bW5HYXApLCB5MSA9IGdyaWQucm93c1tmaW5hbENvbHVtblN0YXJ0XSwgeTIgPSBncmlkLnJvd3NbZmluYWxDb2x1bW5FbmRdIC0gKGZpbmFsUm93RW5kID09PSByb3dDb3VudCA/IDAgOiBncmlkLnJvd0dhcCk7XG4gICAgcmV0dXJuIChuZXcgQm91bmRzKS5zZXQoeDEsIHkxLCB4MiwgeTIpO1xufVxuXG5leHBvcnQgY29uc3QgZG9HcmlkTGF5b3V0ID0gKGdyb3VwLCBjaGlsZHJlbiwgcGFyZW50TGF5b3V0Qm91bmRzLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgZ3JpZCA9IGNvbXB1dGVHcmlkKGdyb3VwLmdldFNwZWMoKS5sYXlvdXQsIHBhcmVudExheW91dEJvdW5kcy53aWR0aCgpLCBwYXJlbnRMYXlvdXRCb3VuZHMuaGVpZ2h0KCkpO1xuICAgIGNoaWxkcmVuICYmIGNoaWxkcmVuLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICBjb25zdCBtYXJrTGF5b3V0ID0gbWFyay5nZXRTcGVjKCkubGF5b3V0O1xuICAgICAgICBtYXJrLmxheW91dEJvdW5kcyA9IGdldENlbGxCb3VuZHMoZ3JpZCwgbWFya0xheW91dC5ncmlkUm93U3RhcnQsIG1hcmtMYXlvdXQuZ3JpZFJvd0VuZCwgbWFya0xheW91dC5ncmlkQ29sdW1uU3RhcnQsIG1hcmtMYXlvdXQuZ3JpZENvbHVtbkVuZCksIFxuICAgICAgICBtYXJrLmNvbW1pdCgpO1xuICAgIH0pKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmlkLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/grid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/layout.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/layout.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultDoLayout: () => (/* binding */ defaultDoLayout),\n/* harmony export */   registerDefaultLayout: () => (/* binding */ registerDefaultLayout)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grid */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/grid.js\");\n/* harmony import */ var _relative__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./relative */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/relative.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst defaultDoLayout = (layoutMarks, options, view) => {\n    null == layoutMarks || layoutMarks.forEach((mark => {\n        var _a;\n        if (mark.markType !== _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.group) return;\n        const layoutChildren = mark.layoutChildren, layoutSpec = mark.getSpec().layout, bounds = null !== (_a = mark.layoutBounds) && void 0 !== _a ? _a : mark.getBounds();\n        if (bounds) {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(layoutSpec)) layoutSpec.call(null, mark, layoutChildren, bounds, options); else if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(layoutSpec.callback)) layoutSpec.callback.call(null, mark, layoutChildren, bounds, options); else if (\"relative\" === layoutSpec.display) if (layoutSpec.updateViewSignals) {\n                const oldViewBox = view.getViewBox();\n                oldViewBox && bounds.intersect(oldViewBox);\n                const viewBounds = (0,_relative__WEBPACK_IMPORTED_MODULE_2__.doRelativeLayout)(mark, layoutChildren, bounds, options), viewWidth = viewBounds.width(), viewHeight = viewBounds.height(), padding = {\n                    top: viewBounds.y1,\n                    right: view.width() - viewBounds.x2,\n                    left: viewBounds.x1,\n                    bottom: view.height() - viewBounds.y2\n                };\n                view.updateSignal(_view_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_WIDTH, viewWidth), view.updateSignal(_view_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_HEIGHT, viewHeight), \n                view.updateSignal(_view_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_PADDING, padding);\n            } else (0,_relative__WEBPACK_IMPORTED_MODULE_2__.doRelativeLayout)(mark, layoutChildren, bounds, options); else \"grid\" === layoutSpec.display && (0,_grid__WEBPACK_IMPORTED_MODULE_4__.doGridLayout)(mark, layoutChildren, bounds, options);\n            defaultDoLayout(layoutChildren, options, view);\n        }\n    }));\n};\n\nconst registerDefaultLayout = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerDefaultLayout(defaultDoLayout);\n};\n//# sourceMappingURL=layout.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbGF5b3V0L2xheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE4Qzs7QUFFaUQ7O0FBRXBEOztBQUVMOztBQUVROztBQUVEOztBQUV0QztBQUNQO0FBQ0E7QUFDQSw4QkFBOEIsbURBQWU7QUFDN0M7QUFDQTtBQUNBLGdCQUFnQiw0REFBVSw0RUFBNEUsU0FBUyw0REFBVSw4RkFBOEY7QUFDdk47QUFDQTtBQUNBLG1DQUFtQywyREFBZ0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw4REFBaUIsZ0NBQWdDLCtEQUFrQjtBQUNyRyxrQ0FBa0MsMkRBQWM7QUFDaEQsY0FBYyxLQUFLLDJEQUFnQix5Q0FBeUMsc0NBQXNDLG1EQUFZO0FBQzlIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1g7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9sYXlvdXQvbGF5b3V0LmpzPzhmY2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IFNJR05BTF9WSUVXX0hFSUdIVCwgU0lHTkFMX1BBRERJTkcsIFNJR05BTF9WSUVXX1dJRFRIIH0gZnJvbSBcIi4vLi4vLi4vdmlldy9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2VudW1zXCI7XG5cbmltcG9ydCB7IGRvR3JpZExheW91dCB9IGZyb20gXCIuL2dyaWRcIjtcblxuaW1wb3J0IHsgZG9SZWxhdGl2ZUxheW91dCB9IGZyb20gXCIuL3JlbGF0aXZlXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0RG9MYXlvdXQgPSAobGF5b3V0TWFya3MsIG9wdGlvbnMsIHZpZXcpID0+IHtcbiAgICBudWxsID09IGxheW91dE1hcmtzIHx8IGxheW91dE1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChtYXJrLm1hcmtUeXBlICE9PSBHcmFtbWFyTWFya1R5cGUuZ3JvdXApIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0Q2hpbGRyZW4gPSBtYXJrLmxheW91dENoaWxkcmVuLCBsYXlvdXRTcGVjID0gbWFyay5nZXRTcGVjKCkubGF5b3V0LCBib3VuZHMgPSBudWxsICE9PSAoX2EgPSBtYXJrLmxheW91dEJvdW5kcykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbWFyay5nZXRCb3VuZHMoKTtcbiAgICAgICAgaWYgKGJvdW5kcykge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGF5b3V0U3BlYykpIGxheW91dFNwZWMuY2FsbChudWxsLCBtYXJrLCBsYXlvdXRDaGlsZHJlbiwgYm91bmRzLCBvcHRpb25zKTsgZWxzZSBpZiAoaXNGdW5jdGlvbihsYXlvdXRTcGVjLmNhbGxiYWNrKSkgbGF5b3V0U3BlYy5jYWxsYmFjay5jYWxsKG51bGwsIG1hcmssIGxheW91dENoaWxkcmVuLCBib3VuZHMsIG9wdGlvbnMpOyBlbHNlIGlmIChcInJlbGF0aXZlXCIgPT09IGxheW91dFNwZWMuZGlzcGxheSkgaWYgKGxheW91dFNwZWMudXBkYXRlVmlld1NpZ25hbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRWaWV3Qm94ID0gdmlldy5nZXRWaWV3Qm94KCk7XG4gICAgICAgICAgICAgICAgb2xkVmlld0JveCAmJiBib3VuZHMuaW50ZXJzZWN0KG9sZFZpZXdCb3gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdCb3VuZHMgPSBkb1JlbGF0aXZlTGF5b3V0KG1hcmssIGxheW91dENoaWxkcmVuLCBib3VuZHMsIG9wdGlvbnMpLCB2aWV3V2lkdGggPSB2aWV3Qm91bmRzLndpZHRoKCksIHZpZXdIZWlnaHQgPSB2aWV3Qm91bmRzLmhlaWdodCgpLCBwYWRkaW5nID0ge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IHZpZXdCb3VuZHMueTEsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB2aWV3LndpZHRoKCkgLSB2aWV3Qm91bmRzLngyLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB2aWV3Qm91bmRzLngxLFxuICAgICAgICAgICAgICAgICAgICBib3R0b206IHZpZXcuaGVpZ2h0KCkgLSB2aWV3Qm91bmRzLnkyXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2aWV3LnVwZGF0ZVNpZ25hbChTSUdOQUxfVklFV19XSURUSCwgdmlld1dpZHRoKSwgdmlldy51cGRhdGVTaWduYWwoU0lHTkFMX1ZJRVdfSEVJR0hULCB2aWV3SGVpZ2h0KSwgXG4gICAgICAgICAgICAgICAgdmlldy51cGRhdGVTaWduYWwoU0lHTkFMX1BBRERJTkcsIHBhZGRpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIGRvUmVsYXRpdmVMYXlvdXQobWFyaywgbGF5b3V0Q2hpbGRyZW4sIGJvdW5kcywgb3B0aW9ucyk7IGVsc2UgXCJncmlkXCIgPT09IGxheW91dFNwZWMuZGlzcGxheSAmJiBkb0dyaWRMYXlvdXQobWFyaywgbGF5b3V0Q2hpbGRyZW4sIGJvdW5kcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBkZWZhdWx0RG9MYXlvdXQobGF5b3V0Q2hpbGRyZW4sIG9wdGlvbnMsIHZpZXcpO1xuICAgICAgICB9XG4gICAgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRGVmYXVsdExheW91dCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyRGVmYXVsdExheW91dChkZWZhdWx0RG9MYXlvdXQpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxheW91dC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/layout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/relative.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/relative.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doRelativeLayout: () => (/* binding */ doRelativeLayout)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/toPercent.js\");\n/* harmony import */ var _parse_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../parse/view */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/view.js\");\n\n\n\n\n\n\n\n\nconst defaultLayoutOrder = {\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.axis]: 0,\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.legend]: 1,\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.slider]: 2,\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.player]: 3,\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.datazoom]: 4\n}, getLayoutOrderOfMark = mark => {\n    var _a, _b, _c;\n    return null !== (_b = null === (_a = mark.getSpec().layout) || void 0 === _a ? void 0 : _a.order) && void 0 !== _b ? _b : \"component\" === mark.markType && null !== (_c = defaultLayoutOrder[mark.componentType]) && void 0 !== _c ? _c : 1 / 0;\n};\n\nconst doRelativeLayout = (group, children, parentLayoutBounds, options) => {\n    const viewBounds = parentLayoutBounds.clone(), groupLayoutSpec = group.getSpec().layout, maxChildWidth = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(groupLayoutSpec.maxChildWidth, viewBounds.width()), maxChildHeight = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(groupLayoutSpec.maxChildHeight, viewBounds.width());\n    let minDeltaX1 = 0, minDeltaX2 = 0, minDeltaY1 = 0, minDeltaY2 = 0;\n    children.forEach((child => {\n        const layoutSpec = child.getSpec().layout, padding = (0,_parse_view__WEBPACK_IMPORTED_MODULE_2__.normalizePadding)(layoutSpec.padding), bounds = options.parseMarkBounds ? options.parseMarkBounds(child.getBounds(), child) : child.getBounds();\n        if (\"top\" === layoutSpec.position || \"bottom\" === layoutSpec.position) {\n            const childHeight = Math.min(bounds.height() + padding.top + padding.bottom, maxChildHeight);\n            \"top\" === layoutSpec.position ? viewBounds.y1 += childHeight : viewBounds.y2 -= childHeight, \n            bounds.x1 < parentLayoutBounds.x1 && (minDeltaX1 = Math.max(minDeltaX1, parentLayoutBounds.x1 - bounds.x1)), \n            bounds.x2 > parentLayoutBounds.x2 && (minDeltaX2 = Math.max(minDeltaX2, bounds.x2 - parentLayoutBounds.x2));\n        }\n        if (\"left\" === layoutSpec.position || \"right\" === layoutSpec.position) {\n            const childWidth = Math.min(bounds.width() + padding.left + padding.right, maxChildWidth);\n            \"left\" === layoutSpec.position ? viewBounds.x1 += childWidth : viewBounds.x2 -= childWidth, \n            bounds.y1 < parentLayoutBounds.y1 && (minDeltaY1 = Math.max(minDeltaY1, parentLayoutBounds.y1 - bounds.y1)), \n            bounds.y2 > parentLayoutBounds.y2 && (minDeltaY2 = Math.max(minDeltaY2, bounds.y2 - parentLayoutBounds.y2));\n        }\n        \"outside\" === layoutSpec.position && (viewBounds.x1 += Math.max(parentLayoutBounds.x1 - bounds.x1, 0) + padding.left, \n        viewBounds.x2 -= Math.max(bounds.x2 - parentLayoutBounds.x2, 0) + padding.right, \n        viewBounds.y1 += Math.max(parentLayoutBounds.y1 - bounds.y1, 0) + padding.top, viewBounds.y2 -= Math.max(bounds.y2 - parentLayoutBounds.y2) + padding.bottom);\n    })), minDeltaX1 > viewBounds.x1 - parentLayoutBounds.x1 && minDeltaX1 < parentLayoutBounds.width() && (viewBounds.x1 = parentLayoutBounds.x1 + minDeltaX1), \n    minDeltaX2 > parentLayoutBounds.x2 - viewBounds.x2 && minDeltaX2 < parentLayoutBounds.width() && (viewBounds.x2 = parentLayoutBounds.x2 - minDeltaX2), \n    minDeltaY1 > viewBounds.y1 - parentLayoutBounds.y1 && minDeltaY1 < parentLayoutBounds.height() && (viewBounds.y1 = parentLayoutBounds.y1 + minDeltaY1), \n    minDeltaY2 > parentLayoutBounds.y2 - viewBounds.y2 && minDeltaY2 < parentLayoutBounds.height() && (viewBounds.y2 = parentLayoutBounds.y2 - minDeltaY2);\n    let curTopY = viewBounds.y1, curBottomY = viewBounds.y2, curLeftX = viewBounds.x1, curRightX = viewBounds.x2;\n    const sortedChildren = children.slice().sort(((markA, markB) => getLayoutOrderOfMark(markA) - getLayoutOrderOfMark(markB)));\n    for (let i = 0, len = sortedChildren.length; i < len; i++) {\n        const child = sortedChildren[i], layoutSpec = child.getSpec().layout, padding = (0,_parse_view__WEBPACK_IMPORTED_MODULE_2__.normalizePadding)(layoutSpec.padding), bounds = options.parseMarkBounds ? options.parseMarkBounds(child.getBounds(), child) : child.getBounds();\n        if (\"top\" === layoutSpec.position || \"bottom\" === layoutSpec.position) {\n            const childHeight = Math.min(bounds.height() + padding.top + padding.bottom, maxChildHeight);\n            if (\"top\" === layoutSpec.position ? (child.layoutBounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.Bounds).set(viewBounds.x1, curTopY - childHeight, viewBounds.x2, curTopY), \n            curTopY -= childHeight) : (child.layoutBounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.Bounds).set(viewBounds.x1, curBottomY, viewBounds.x2, curBottomY + childHeight), \n            curBottomY += childHeight), child.relativePosition = {\n                top: child.layoutBounds.y1 - viewBounds.y1,\n                bottom: child.layoutBounds.y1 - viewBounds.y2\n            }, layoutSpec.align) {\n                const childWidth = bounds.width() + padding.left + padding.right;\n                childWidth < viewBounds.width() && (\"center\" === layoutSpec.align ? (child.layoutBounds.x1 = (viewBounds.x1 + viewBounds.x2) / 2 - childWidth / 2, \n                child.layoutBounds.x2 = child.layoutBounds.x1 + childWidth, child.relativePosition.left = child.relativePosition.right = (viewBounds.width() - childWidth) / 2) : \"right\" === layoutSpec.align ? (child.layoutBounds.x1 = viewBounds.x2 - childWidth, \n                child.layoutBounds.x2 = viewBounds.x2, child.relativePosition.right = 0, child.relativePosition.left = viewBounds.width() - childWidth) : \"left\" === layoutSpec.align && (child.layoutBounds.x1 = viewBounds.x1, \n                child.layoutBounds.x2 = viewBounds.x1 + childWidth, child.relativePosition.left = 0, \n                child.relativePosition.right = viewBounds.width() - childWidth));\n            }\n        } else if (\"left\" === layoutSpec.position || \"right\" === layoutSpec.position) {\n            const childWidth = Math.min(bounds.width() + padding.left + padding.right, maxChildWidth);\n            if (\"left\" === layoutSpec.position ? (child.layoutBounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.Bounds).set(curLeftX - childWidth, viewBounds.y1, curLeftX, viewBounds.y2), \n            curLeftX -= childWidth) : (child.layoutBounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.Bounds).set(curRightX, viewBounds.y1, curRightX + childWidth, viewBounds.y2), \n            curRightX += childWidth), child.relativePosition = {\n                left: child.layoutBounds.x1 - viewBounds.x1,\n                right: child.layoutBounds.x1 - viewBounds.x2\n            }, layoutSpec.align) {\n                const childHeight = bounds.height() + padding.top + padding.bottom;\n                childWidth < viewBounds.width() && (\"middle\" === layoutSpec.align ? (child.layoutBounds.y1 = (viewBounds.y1 + viewBounds.y2) / 2 - childHeight / 2, \n                child.layoutBounds.y2 = child.layoutBounds.y1 + childHeight, child.relativePosition.top = child.relativePosition.bottom = (viewBounds.height() - childHeight) / 2) : \"bottom\" === layoutSpec.align ? (child.layoutBounds.y1 = viewBounds.y2 - childHeight, \n                child.layoutBounds.y2 = viewBounds.y2, child.relativePosition.top = viewBounds.height() - childHeight, \n                child.relativePosition.bottom = 0) : \"top\" === layoutSpec.align && (child.layoutBounds.y1 = viewBounds.y1, \n                child.layoutBounds.y2 = viewBounds.y1 + childHeight, child.relativePosition.bottom = viewBounds.height() - childHeight, \n                child.relativePosition.top = 0));\n            }\n        } else \"outside\" === layoutSpec.position ? (curLeftX -= Math.max(parentLayoutBounds.x1 - bounds.x1, 0) + padding.left, \n        curRightX -= Math.max(bounds.x2 - parentLayoutBounds.x2, 0) + padding.right, curTopY -= Math.max(parentLayoutBounds.y1 - bounds.y1, 0) + padding.top, \n        curBottomY += Math.max(bounds.y2 - parentLayoutBounds.y2) + padding.bottom) : child.layoutBounds = viewBounds;\n    }\n    return viewBounds;\n};\n//# sourceMappingURL=relative.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbGF5b3V0L3JlbGF0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUVEOztBQUVVOztBQUVBOztBQUVwRDtBQUNBLEtBQUssaURBQWE7QUFDbEIsS0FBSyxpREFBYTtBQUNsQixLQUFLLGlEQUFhO0FBQ2xCLEtBQUssaURBQWE7QUFDbEIsS0FBSyxpREFBYTtBQUNsQixDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVPO0FBQ1AsNkdBQTZHLGtFQUFTLHNFQUFzRSxrRUFBUztBQUNyTTtBQUNBO0FBQ0EsNkRBQTZELDZEQUFnQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxTQUFTO0FBQzFELHdGQUF3Riw2REFBZ0I7QUFDeEc7QUFDQTtBQUNBLDJFQUEyRSxvREFBTTtBQUNqRixpRUFBaUUsb0RBQU07QUFDdkU7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsNEVBQTRFLG9EQUFNO0FBQ2xGLGlFQUFpRSxvREFBTTtBQUN2RTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbGF5b3V0L3JlbGF0aXZlLmpzP2UzZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50RW51bSB9IGZyb20gXCIuLy4uL2VudW1zXCI7XG5cbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IHRvUGVyY2VudCB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5pbXBvcnQgeyBub3JtYWxpemVQYWRkaW5nIH0gZnJvbSBcIi4uLy4uL3BhcnNlL3ZpZXdcIjtcblxuY29uc3QgZGVmYXVsdExheW91dE9yZGVyID0ge1xuICAgIFtDb21wb25lbnRFbnVtLmF4aXNdOiAwLFxuICAgIFtDb21wb25lbnRFbnVtLmxlZ2VuZF06IDEsXG4gICAgW0NvbXBvbmVudEVudW0uc2xpZGVyXTogMixcbiAgICBbQ29tcG9uZW50RW51bS5wbGF5ZXJdOiAzLFxuICAgIFtDb21wb25lbnRFbnVtLmRhdGF6b29tXTogNFxufSwgZ2V0TGF5b3V0T3JkZXJPZk1hcmsgPSBtYXJrID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICByZXR1cm4gbnVsbCAhPT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbWFyay5nZXRTcGVjKCkubGF5b3V0KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Eub3JkZXIpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IFwiY29tcG9uZW50XCIgPT09IG1hcmsubWFya1R5cGUgJiYgbnVsbCAhPT0gKF9jID0gZGVmYXVsdExheW91dE9yZGVyW21hcmsuY29tcG9uZW50VHlwZV0pICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IDEgLyAwO1xufTtcblxuZXhwb3J0IGNvbnN0IGRvUmVsYXRpdmVMYXlvdXQgPSAoZ3JvdXAsIGNoaWxkcmVuLCBwYXJlbnRMYXlvdXRCb3VuZHMsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB2aWV3Qm91bmRzID0gcGFyZW50TGF5b3V0Qm91bmRzLmNsb25lKCksIGdyb3VwTGF5b3V0U3BlYyA9IGdyb3VwLmdldFNwZWMoKS5sYXlvdXQsIG1heENoaWxkV2lkdGggPSB0b1BlcmNlbnQoZ3JvdXBMYXlvdXRTcGVjLm1heENoaWxkV2lkdGgsIHZpZXdCb3VuZHMud2lkdGgoKSksIG1heENoaWxkSGVpZ2h0ID0gdG9QZXJjZW50KGdyb3VwTGF5b3V0U3BlYy5tYXhDaGlsZEhlaWdodCwgdmlld0JvdW5kcy53aWR0aCgpKTtcbiAgICBsZXQgbWluRGVsdGFYMSA9IDAsIG1pbkRlbHRhWDIgPSAwLCBtaW5EZWx0YVkxID0gMCwgbWluRGVsdGFZMiA9IDA7XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQgPT4ge1xuICAgICAgICBjb25zdCBsYXlvdXRTcGVjID0gY2hpbGQuZ2V0U3BlYygpLmxheW91dCwgcGFkZGluZyA9IG5vcm1hbGl6ZVBhZGRpbmcobGF5b3V0U3BlYy5wYWRkaW5nKSwgYm91bmRzID0gb3B0aW9ucy5wYXJzZU1hcmtCb3VuZHMgPyBvcHRpb25zLnBhcnNlTWFya0JvdW5kcyhjaGlsZC5nZXRCb3VuZHMoKSwgY2hpbGQpIDogY2hpbGQuZ2V0Qm91bmRzKCk7XG4gICAgICAgIGlmIChcInRvcFwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uIHx8IFwiYm90dG9tXCIgPT09IGxheW91dFNwZWMucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkSGVpZ2h0ID0gTWF0aC5taW4oYm91bmRzLmhlaWdodCgpICsgcGFkZGluZy50b3AgKyBwYWRkaW5nLmJvdHRvbSwgbWF4Q2hpbGRIZWlnaHQpO1xuICAgICAgICAgICAgXCJ0b3BcIiA9PT0gbGF5b3V0U3BlYy5wb3NpdGlvbiA/IHZpZXdCb3VuZHMueTEgKz0gY2hpbGRIZWlnaHQgOiB2aWV3Qm91bmRzLnkyIC09IGNoaWxkSGVpZ2h0LCBcbiAgICAgICAgICAgIGJvdW5kcy54MSA8IHBhcmVudExheW91dEJvdW5kcy54MSAmJiAobWluRGVsdGFYMSA9IE1hdGgubWF4KG1pbkRlbHRhWDEsIHBhcmVudExheW91dEJvdW5kcy54MSAtIGJvdW5kcy54MSkpLCBcbiAgICAgICAgICAgIGJvdW5kcy54MiA+IHBhcmVudExheW91dEJvdW5kcy54MiAmJiAobWluRGVsdGFYMiA9IE1hdGgubWF4KG1pbkRlbHRhWDIsIGJvdW5kcy54MiAtIHBhcmVudExheW91dEJvdW5kcy54MikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImxlZnRcIiA9PT0gbGF5b3V0U3BlYy5wb3NpdGlvbiB8fCBcInJpZ2h0XCIgPT09IGxheW91dFNwZWMucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkV2lkdGggPSBNYXRoLm1pbihib3VuZHMud2lkdGgoKSArIHBhZGRpbmcubGVmdCArIHBhZGRpbmcucmlnaHQsIG1heENoaWxkV2lkdGgpO1xuICAgICAgICAgICAgXCJsZWZ0XCIgPT09IGxheW91dFNwZWMucG9zaXRpb24gPyB2aWV3Qm91bmRzLngxICs9IGNoaWxkV2lkdGggOiB2aWV3Qm91bmRzLngyIC09IGNoaWxkV2lkdGgsIFxuICAgICAgICAgICAgYm91bmRzLnkxIDwgcGFyZW50TGF5b3V0Qm91bmRzLnkxICYmIChtaW5EZWx0YVkxID0gTWF0aC5tYXgobWluRGVsdGFZMSwgcGFyZW50TGF5b3V0Qm91bmRzLnkxIC0gYm91bmRzLnkxKSksIFxuICAgICAgICAgICAgYm91bmRzLnkyID4gcGFyZW50TGF5b3V0Qm91bmRzLnkyICYmIChtaW5EZWx0YVkyID0gTWF0aC5tYXgobWluRGVsdGFZMiwgYm91bmRzLnkyIC0gcGFyZW50TGF5b3V0Qm91bmRzLnkyKSk7XG4gICAgICAgIH1cbiAgICAgICAgXCJvdXRzaWRlXCIgPT09IGxheW91dFNwZWMucG9zaXRpb24gJiYgKHZpZXdCb3VuZHMueDEgKz0gTWF0aC5tYXgocGFyZW50TGF5b3V0Qm91bmRzLngxIC0gYm91bmRzLngxLCAwKSArIHBhZGRpbmcubGVmdCwgXG4gICAgICAgIHZpZXdCb3VuZHMueDIgLT0gTWF0aC5tYXgoYm91bmRzLngyIC0gcGFyZW50TGF5b3V0Qm91bmRzLngyLCAwKSArIHBhZGRpbmcucmlnaHQsIFxuICAgICAgICB2aWV3Qm91bmRzLnkxICs9IE1hdGgubWF4KHBhcmVudExheW91dEJvdW5kcy55MSAtIGJvdW5kcy55MSwgMCkgKyBwYWRkaW5nLnRvcCwgdmlld0JvdW5kcy55MiAtPSBNYXRoLm1heChib3VuZHMueTIgLSBwYXJlbnRMYXlvdXRCb3VuZHMueTIpICsgcGFkZGluZy5ib3R0b20pO1xuICAgIH0pKSwgbWluRGVsdGFYMSA+IHZpZXdCb3VuZHMueDEgLSBwYXJlbnRMYXlvdXRCb3VuZHMueDEgJiYgbWluRGVsdGFYMSA8IHBhcmVudExheW91dEJvdW5kcy53aWR0aCgpICYmICh2aWV3Qm91bmRzLngxID0gcGFyZW50TGF5b3V0Qm91bmRzLngxICsgbWluRGVsdGFYMSksIFxuICAgIG1pbkRlbHRhWDIgPiBwYXJlbnRMYXlvdXRCb3VuZHMueDIgLSB2aWV3Qm91bmRzLngyICYmIG1pbkRlbHRhWDIgPCBwYXJlbnRMYXlvdXRCb3VuZHMud2lkdGgoKSAmJiAodmlld0JvdW5kcy54MiA9IHBhcmVudExheW91dEJvdW5kcy54MiAtIG1pbkRlbHRhWDIpLCBcbiAgICBtaW5EZWx0YVkxID4gdmlld0JvdW5kcy55MSAtIHBhcmVudExheW91dEJvdW5kcy55MSAmJiBtaW5EZWx0YVkxIDwgcGFyZW50TGF5b3V0Qm91bmRzLmhlaWdodCgpICYmICh2aWV3Qm91bmRzLnkxID0gcGFyZW50TGF5b3V0Qm91bmRzLnkxICsgbWluRGVsdGFZMSksIFxuICAgIG1pbkRlbHRhWTIgPiBwYXJlbnRMYXlvdXRCb3VuZHMueTIgLSB2aWV3Qm91bmRzLnkyICYmIG1pbkRlbHRhWTIgPCBwYXJlbnRMYXlvdXRCb3VuZHMuaGVpZ2h0KCkgJiYgKHZpZXdCb3VuZHMueTIgPSBwYXJlbnRMYXlvdXRCb3VuZHMueTIgLSBtaW5EZWx0YVkyKTtcbiAgICBsZXQgY3VyVG9wWSA9IHZpZXdCb3VuZHMueTEsIGN1ckJvdHRvbVkgPSB2aWV3Qm91bmRzLnkyLCBjdXJMZWZ0WCA9IHZpZXdCb3VuZHMueDEsIGN1clJpZ2h0WCA9IHZpZXdCb3VuZHMueDI7XG4gICAgY29uc3Qgc29ydGVkQ2hpbGRyZW4gPSBjaGlsZHJlbi5zbGljZSgpLnNvcnQoKChtYXJrQSwgbWFya0IpID0+IGdldExheW91dE9yZGVyT2ZNYXJrKG1hcmtBKSAtIGdldExheW91dE9yZGVyT2ZNYXJrKG1hcmtCKSkpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzb3J0ZWRDaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHNvcnRlZENoaWxkcmVuW2ldLCBsYXlvdXRTcGVjID0gY2hpbGQuZ2V0U3BlYygpLmxheW91dCwgcGFkZGluZyA9IG5vcm1hbGl6ZVBhZGRpbmcobGF5b3V0U3BlYy5wYWRkaW5nKSwgYm91bmRzID0gb3B0aW9ucy5wYXJzZU1hcmtCb3VuZHMgPyBvcHRpb25zLnBhcnNlTWFya0JvdW5kcyhjaGlsZC5nZXRCb3VuZHMoKSwgY2hpbGQpIDogY2hpbGQuZ2V0Qm91bmRzKCk7XG4gICAgICAgIGlmIChcInRvcFwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uIHx8IFwiYm90dG9tXCIgPT09IGxheW91dFNwZWMucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkSGVpZ2h0ID0gTWF0aC5taW4oYm91bmRzLmhlaWdodCgpICsgcGFkZGluZy50b3AgKyBwYWRkaW5nLmJvdHRvbSwgbWF4Q2hpbGRIZWlnaHQpO1xuICAgICAgICAgICAgaWYgKFwidG9wXCIgPT09IGxheW91dFNwZWMucG9zaXRpb24gPyAoY2hpbGQubGF5b3V0Qm91bmRzID0gKG5ldyBCb3VuZHMpLnNldCh2aWV3Qm91bmRzLngxLCBjdXJUb3BZIC0gY2hpbGRIZWlnaHQsIHZpZXdCb3VuZHMueDIsIGN1clRvcFkpLCBcbiAgICAgICAgICAgIGN1clRvcFkgLT0gY2hpbGRIZWlnaHQpIDogKGNoaWxkLmxheW91dEJvdW5kcyA9IChuZXcgQm91bmRzKS5zZXQodmlld0JvdW5kcy54MSwgY3VyQm90dG9tWSwgdmlld0JvdW5kcy54MiwgY3VyQm90dG9tWSArIGNoaWxkSGVpZ2h0KSwgXG4gICAgICAgICAgICBjdXJCb3R0b21ZICs9IGNoaWxkSGVpZ2h0KSwgY2hpbGQucmVsYXRpdmVQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0b3A6IGNoaWxkLmxheW91dEJvdW5kcy55MSAtIHZpZXdCb3VuZHMueTEsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBjaGlsZC5sYXlvdXRCb3VuZHMueTEgLSB2aWV3Qm91bmRzLnkyXG4gICAgICAgICAgICB9LCBsYXlvdXRTcGVjLmFsaWduKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRXaWR0aCA9IGJvdW5kcy53aWR0aCgpICsgcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodDtcbiAgICAgICAgICAgICAgICBjaGlsZFdpZHRoIDwgdmlld0JvdW5kcy53aWR0aCgpICYmIChcImNlbnRlclwiID09PSBsYXlvdXRTcGVjLmFsaWduID8gKGNoaWxkLmxheW91dEJvdW5kcy54MSA9ICh2aWV3Qm91bmRzLngxICsgdmlld0JvdW5kcy54MikgLyAyIC0gY2hpbGRXaWR0aCAvIDIsIFxuICAgICAgICAgICAgICAgIGNoaWxkLmxheW91dEJvdW5kcy54MiA9IGNoaWxkLmxheW91dEJvdW5kcy54MSArIGNoaWxkV2lkdGgsIGNoaWxkLnJlbGF0aXZlUG9zaXRpb24ubGVmdCA9IGNoaWxkLnJlbGF0aXZlUG9zaXRpb24ucmlnaHQgPSAodmlld0JvdW5kcy53aWR0aCgpIC0gY2hpbGRXaWR0aCkgLyAyKSA6IFwicmlnaHRcIiA9PT0gbGF5b3V0U3BlYy5hbGlnbiA/IChjaGlsZC5sYXlvdXRCb3VuZHMueDEgPSB2aWV3Qm91bmRzLngyIC0gY2hpbGRXaWR0aCwgXG4gICAgICAgICAgICAgICAgY2hpbGQubGF5b3V0Qm91bmRzLngyID0gdmlld0JvdW5kcy54MiwgY2hpbGQucmVsYXRpdmVQb3NpdGlvbi5yaWdodCA9IDAsIGNoaWxkLnJlbGF0aXZlUG9zaXRpb24ubGVmdCA9IHZpZXdCb3VuZHMud2lkdGgoKSAtIGNoaWxkV2lkdGgpIDogXCJsZWZ0XCIgPT09IGxheW91dFNwZWMuYWxpZ24gJiYgKGNoaWxkLmxheW91dEJvdW5kcy54MSA9IHZpZXdCb3VuZHMueDEsIFxuICAgICAgICAgICAgICAgIGNoaWxkLmxheW91dEJvdW5kcy54MiA9IHZpZXdCb3VuZHMueDEgKyBjaGlsZFdpZHRoLCBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLmxlZnQgPSAwLCBcbiAgICAgICAgICAgICAgICBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLnJpZ2h0ID0gdmlld0JvdW5kcy53aWR0aCgpIC0gY2hpbGRXaWR0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFwibGVmdFwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uIHx8IFwicmlnaHRcIiA9PT0gbGF5b3V0U3BlYy5wb3NpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRXaWR0aCA9IE1hdGgubWluKGJvdW5kcy53aWR0aCgpICsgcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodCwgbWF4Q2hpbGRXaWR0aCk7XG4gICAgICAgICAgICBpZiAoXCJsZWZ0XCIgPT09IGxheW91dFNwZWMucG9zaXRpb24gPyAoY2hpbGQubGF5b3V0Qm91bmRzID0gKG5ldyBCb3VuZHMpLnNldChjdXJMZWZ0WCAtIGNoaWxkV2lkdGgsIHZpZXdCb3VuZHMueTEsIGN1ckxlZnRYLCB2aWV3Qm91bmRzLnkyKSwgXG4gICAgICAgICAgICBjdXJMZWZ0WCAtPSBjaGlsZFdpZHRoKSA6IChjaGlsZC5sYXlvdXRCb3VuZHMgPSAobmV3IEJvdW5kcykuc2V0KGN1clJpZ2h0WCwgdmlld0JvdW5kcy55MSwgY3VyUmlnaHRYICsgY2hpbGRXaWR0aCwgdmlld0JvdW5kcy55MiksIFxuICAgICAgICAgICAgY3VyUmlnaHRYICs9IGNoaWxkV2lkdGgpLCBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGNoaWxkLmxheW91dEJvdW5kcy54MSAtIHZpZXdCb3VuZHMueDEsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGNoaWxkLmxheW91dEJvdW5kcy54MSAtIHZpZXdCb3VuZHMueDJcbiAgICAgICAgICAgIH0sIGxheW91dFNwZWMuYWxpZ24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEhlaWdodCA9IGJvdW5kcy5oZWlnaHQoKSArIHBhZGRpbmcudG9wICsgcGFkZGluZy5ib3R0b207XG4gICAgICAgICAgICAgICAgY2hpbGRXaWR0aCA8IHZpZXdCb3VuZHMud2lkdGgoKSAmJiAoXCJtaWRkbGVcIiA9PT0gbGF5b3V0U3BlYy5hbGlnbiA/IChjaGlsZC5sYXlvdXRCb3VuZHMueTEgPSAodmlld0JvdW5kcy55MSArIHZpZXdCb3VuZHMueTIpIC8gMiAtIGNoaWxkSGVpZ2h0IC8gMiwgXG4gICAgICAgICAgICAgICAgY2hpbGQubGF5b3V0Qm91bmRzLnkyID0gY2hpbGQubGF5b3V0Qm91bmRzLnkxICsgY2hpbGRIZWlnaHQsIGNoaWxkLnJlbGF0aXZlUG9zaXRpb24udG9wID0gY2hpbGQucmVsYXRpdmVQb3NpdGlvbi5ib3R0b20gPSAodmlld0JvdW5kcy5oZWlnaHQoKSAtIGNoaWxkSGVpZ2h0KSAvIDIpIDogXCJib3R0b21cIiA9PT0gbGF5b3V0U3BlYy5hbGlnbiA/IChjaGlsZC5sYXlvdXRCb3VuZHMueTEgPSB2aWV3Qm91bmRzLnkyIC0gY2hpbGRIZWlnaHQsIFxuICAgICAgICAgICAgICAgIGNoaWxkLmxheW91dEJvdW5kcy55MiA9IHZpZXdCb3VuZHMueTIsIGNoaWxkLnJlbGF0aXZlUG9zaXRpb24udG9wID0gdmlld0JvdW5kcy5oZWlnaHQoKSAtIGNoaWxkSGVpZ2h0LCBcbiAgICAgICAgICAgICAgICBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLmJvdHRvbSA9IDApIDogXCJ0b3BcIiA9PT0gbGF5b3V0U3BlYy5hbGlnbiAmJiAoY2hpbGQubGF5b3V0Qm91bmRzLnkxID0gdmlld0JvdW5kcy55MSwgXG4gICAgICAgICAgICAgICAgY2hpbGQubGF5b3V0Qm91bmRzLnkyID0gdmlld0JvdW5kcy55MSArIGNoaWxkSGVpZ2h0LCBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLmJvdHRvbSA9IHZpZXdCb3VuZHMuaGVpZ2h0KCkgLSBjaGlsZEhlaWdodCwgXG4gICAgICAgICAgICAgICAgY2hpbGQucmVsYXRpdmVQb3NpdGlvbi50b3AgPSAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBcIm91dHNpZGVcIiA9PT0gbGF5b3V0U3BlYy5wb3NpdGlvbiA/IChjdXJMZWZ0WCAtPSBNYXRoLm1heChwYXJlbnRMYXlvdXRCb3VuZHMueDEgLSBib3VuZHMueDEsIDApICsgcGFkZGluZy5sZWZ0LCBcbiAgICAgICAgY3VyUmlnaHRYIC09IE1hdGgubWF4KGJvdW5kcy54MiAtIHBhcmVudExheW91dEJvdW5kcy54MiwgMCkgKyBwYWRkaW5nLnJpZ2h0LCBjdXJUb3BZIC09IE1hdGgubWF4KHBhcmVudExheW91dEJvdW5kcy55MSAtIGJvdW5kcy55MSwgMCkgKyBwYWRkaW5nLnRvcCwgXG4gICAgICAgIGN1ckJvdHRvbVkgKz0gTWF0aC5tYXgoYm91bmRzLnkyIC0gcGFyZW50TGF5b3V0Qm91bmRzLnkyKSArIHBhZGRpbmcuYm90dG9tKSA6IGNoaWxkLmxheW91dEJvdW5kcyA9IHZpZXdCb3VuZHM7XG4gICAgfVxuICAgIHJldHVybiB2aWV3Qm91bmRzO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbGF0aXZlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/relative.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark-tree.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark-tree.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   traverseMarkTree: () => (/* binding */ traverseMarkTree)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\nconst traverseMarkTree = (rootMark, childrenKey, apply, filter, leafFirst) => {\n    const traverse = mark => {\n        if (leafFirst || !mark || filter && !filter(mark) || apply.call(null, mark), mark.markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.group) {\n            const children = mark[childrenKey];\n            children && children.forEach((child => {\n                traverse(child);\n            }));\n        }\n        leafFirst && (!mark || filter && !filter(mark) || apply.call(null, mark));\n    };\n    traverse(rootMark);\n};\n//# sourceMappingURL=mark-tree.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay10cmVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUVuQztBQUNQO0FBQ0EsdUdBQXVHLG1EQUFlO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay10cmVlLmpzPzU2MTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4vZW51bXNcIjtcblxuZXhwb3J0IGNvbnN0IHRyYXZlcnNlTWFya1RyZWUgPSAocm9vdE1hcmssIGNoaWxkcmVuS2V5LCBhcHBseSwgZmlsdGVyLCBsZWFmRmlyc3QpID0+IHtcbiAgICBjb25zdCB0cmF2ZXJzZSA9IG1hcmsgPT4ge1xuICAgICAgICBpZiAobGVhZkZpcnN0IHx8ICFtYXJrIHx8IGZpbHRlciAmJiAhZmlsdGVyKG1hcmspIHx8IGFwcGx5LmNhbGwobnVsbCwgbWFyayksIG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBtYXJrW2NoaWxkcmVuS2V5XTtcbiAgICAgICAgICAgIGNoaWxkcmVuICYmIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZShjaGlsZCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgbGVhZkZpcnN0ICYmICghbWFyayB8fCBmaWx0ZXIgJiYgIWZpbHRlcihtYXJrKSB8fCBhcHBseS5jYWxsKG51bGwsIG1hcmspKTtcbiAgICB9O1xuICAgIHRyYXZlcnNlKHJvb3RNYXJrKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrLXRyZWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark-tree.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Differ: () => (/* binding */ Differ),\n/* harmony export */   diffMultiple: () => (/* binding */ diffMultiple),\n/* harmony export */   diffSingle: () => (/* binding */ diffSingle),\n/* harmony export */   groupData: () => (/* binding */ groupData)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n\n\n\n\n\n\nfunction groupData(data, key, sort) {\n    const groupedData = new Map;\n    if (!data || 0 === data.length) return {\n        keys: [],\n        data: groupedData\n    };\n    if (!key) return groupedData.set(_constants__WEBPACK_IMPORTED_MODULE_0__.DefaultKey, sort ? data.slice().sort(sort) : data.slice()), \n    {\n        keys: _constants__WEBPACK_IMPORTED_MODULE_0__.DefaultGroupKeys,\n        data: groupedData\n    };\n    const keyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.parseField)(key);\n    if (1 === data.length) {\n        const key = keyGetter(data[0]);\n        return groupedData.set(key, [ data[0] ]), {\n            keys: [ key ],\n            data: groupedData\n        };\n    }\n    const keys = new Set;\n    return data.forEach((entry => {\n        var _a;\n        const key = keyGetter(entry), lastData = null !== (_a = groupedData.get(key)) && void 0 !== _a ? _a : [];\n        lastData.push(entry), groupedData.set(key, lastData), keys.add(key);\n    })), sort && keys.forEach((key => {\n        groupedData.get(key).sort(sort);\n    })), {\n        keys: Array.from(keys),\n        data: groupedData\n    };\n}\n\nclass Differ {\n    constructor(data, key, sort) {\n        this.prevData = (null == data ? void 0 : data.length) ? groupData(data, null != key ? key : null, sort) : null;\n    }\n    setCurrentData(currentData) {\n        this.currentData = currentData;\n    }\n    getCurrentData() {\n        return this.currentData;\n    }\n    doDiff() {\n        if (this.callback) if (this.currentData && this.prevData) {\n            const prevMap = new Map(this.prevData.data);\n            this.currentData.keys.forEach((key => {\n                this.callback(key, this.currentData.data.get(key), prevMap.get(key)), prevMap.delete(key);\n            })), this.prevData.keys.forEach((key => {\n                prevMap.has(key) && this.callback(key, null, prevMap.get(key));\n            }));\n        } else if (this.currentData) {\n            this.currentData.keys.forEach((key => {\n                this.callback(key, this.currentData.data.get(key), null);\n            }));\n        } else this.prevData && this.prevData.keys.forEach((key => {\n            this.callback(key, null, this.prevData.data.get(key));\n        }));\n    }\n    setCallback(callback) {\n        this.callback = callback;\n    }\n    updateToCurrent() {\n        this.prevData = this.currentData, this.currentData = null;\n    }\n    reset() {\n        this.prevData = null;\n    }\n}\n\nfunction diffSingle(prev, next, key) {\n    const result = {\n        enter: [],\n        exit: [],\n        update: []\n    }, differ = new Differ(prev, key);\n    return differ.setCallback(((key, data, prevData) => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(data) ? result.exit.push({\n            prev: prevData[0]\n        }) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prevData) ? result.enter.push({\n            next: data[0]\n        }) : result.update.push({\n            next: data[0],\n            prev: prevData[0]\n        });\n    })), differ.setCurrentData(groupData(next, key)), differ.doDiff(), result;\n}\n\nfunction diffMultiple(prev, next, key) {\n    const result = {\n        enter: [],\n        exit: [],\n        update: []\n    }, differ = new Differ(prev, key);\n    return differ.setCallback(((key, data, prevData) => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(data) ? result.exit.push({\n            prev: prevData\n        }) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prevData) ? result.enter.push({\n            next: data\n        }) : result.update.push({\n            next: data,\n            prev: prevData\n        });\n    })), differ.setCurrentData(groupData(next, key)), differ.doDiff(), result;\n}\n//# sourceMappingURL=differ.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9kaWZmZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF5Qzs7QUFFSzs7QUFFYzs7QUFFckQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtEQUFVO0FBQy9DO0FBQ0EsY0FBYyx3REFBZ0I7QUFDOUI7QUFDQTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLDREQUFLO0FBQ2I7QUFDQSxTQUFTLElBQUksNERBQUs7QUFDbEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsNERBQUs7QUFDYjtBQUNBLFNBQVMsSUFBSSw0REFBSztBQUNsQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL21hcmsvZGlmZmVyLmpzPzcxOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBwYXJzZUZpZWxkIH0gZnJvbSBcIi4uLy4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgRGVmYXVsdEtleSwgRGVmYXVsdEdyb3VwS2V5cyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwRGF0YShkYXRhLCBrZXksIHNvcnQpIHtcbiAgICBjb25zdCBncm91cGVkRGF0YSA9IG5ldyBNYXA7XG4gICAgaWYgKCFkYXRhIHx8IDAgPT09IGRhdGEubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICBrZXlzOiBbXSxcbiAgICAgICAgZGF0YTogZ3JvdXBlZERhdGFcbiAgICB9O1xuICAgIGlmICgha2V5KSByZXR1cm4gZ3JvdXBlZERhdGEuc2V0KERlZmF1bHRLZXksIHNvcnQgPyBkYXRhLnNsaWNlKCkuc29ydChzb3J0KSA6IGRhdGEuc2xpY2UoKSksIFxuICAgIHtcbiAgICAgICAga2V5czogRGVmYXVsdEdyb3VwS2V5cyxcbiAgICAgICAgZGF0YTogZ3JvdXBlZERhdGFcbiAgICB9O1xuICAgIGNvbnN0IGtleUdldHRlciA9IHBhcnNlRmllbGQoa2V5KTtcbiAgICBpZiAoMSA9PT0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5R2V0dGVyKGRhdGFbMF0pO1xuICAgICAgICByZXR1cm4gZ3JvdXBlZERhdGEuc2V0KGtleSwgWyBkYXRhWzBdIF0pLCB7XG4gICAgICAgICAgICBrZXlzOiBbIGtleSBdLFxuICAgICAgICAgICAgZGF0YTogZ3JvdXBlZERhdGFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQ7XG4gICAgcmV0dXJuIGRhdGEuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleUdldHRlcihlbnRyeSksIGxhc3REYXRhID0gbnVsbCAhPT0gKF9hID0gZ3JvdXBlZERhdGEuZ2V0KGtleSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFtdO1xuICAgICAgICBsYXN0RGF0YS5wdXNoKGVudHJ5KSwgZ3JvdXBlZERhdGEuc2V0KGtleSwgbGFzdERhdGEpLCBrZXlzLmFkZChrZXkpO1xuICAgIH0pKSwgc29ydCAmJiBrZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGdyb3VwZWREYXRhLmdldChrZXkpLnNvcnQoc29ydCk7XG4gICAgfSkpLCB7XG4gICAgICAgIGtleXM6IEFycmF5LmZyb20oa2V5cyksXG4gICAgICAgIGRhdGE6IGdyb3VwZWREYXRhXG4gICAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIERpZmZlciB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwga2V5LCBzb3J0KSB7XG4gICAgICAgIHRoaXMucHJldkRhdGEgPSAobnVsbCA9PSBkYXRhID8gdm9pZCAwIDogZGF0YS5sZW5ndGgpID8gZ3JvdXBEYXRhKGRhdGEsIG51bGwgIT0ga2V5ID8ga2V5IDogbnVsbCwgc29ydCkgOiBudWxsO1xuICAgIH1cbiAgICBzZXRDdXJyZW50RGF0YShjdXJyZW50RGF0YSkge1xuICAgICAgICB0aGlzLmN1cnJlbnREYXRhID0gY3VycmVudERhdGE7XG4gICAgfVxuICAgIGdldEN1cnJlbnREYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50RGF0YTtcbiAgICB9XG4gICAgZG9EaWZmKCkge1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFjaykgaWYgKHRoaXMuY3VycmVudERhdGEgJiYgdGhpcy5wcmV2RGF0YSkge1xuICAgICAgICAgICAgY29uc3QgcHJldk1hcCA9IG5ldyBNYXAodGhpcy5wcmV2RGF0YS5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGEua2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soa2V5LCB0aGlzLmN1cnJlbnREYXRhLmRhdGEuZ2V0KGtleSksIHByZXZNYXAuZ2V0KGtleSkpLCBwcmV2TWFwLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLnByZXZEYXRhLmtleXMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBwcmV2TWFwLmhhcyhrZXkpICYmIHRoaXMuY2FsbGJhY2soa2V5LCBudWxsLCBwcmV2TWFwLmdldChrZXkpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRhLmtleXMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGtleSwgdGhpcy5jdXJyZW50RGF0YS5kYXRhLmdldChrZXkpLCBudWxsKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHRoaXMucHJldkRhdGEgJiYgdGhpcy5wcmV2RGF0YS5rZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGtleSwgbnVsbCwgdGhpcy5wcmV2RGF0YS5kYXRhLmdldChrZXkpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzZXRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIHVwZGF0ZVRvQ3VycmVudCgpIHtcbiAgICAgICAgdGhpcy5wcmV2RGF0YSA9IHRoaXMuY3VycmVudERhdGEsIHRoaXMuY3VycmVudERhdGEgPSBudWxsO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5wcmV2RGF0YSA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlmZlNpbmdsZShwcmV2LCBuZXh0LCBrZXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIGVudGVyOiBbXSxcbiAgICAgICAgZXhpdDogW10sXG4gICAgICAgIHVwZGF0ZTogW11cbiAgICB9LCBkaWZmZXIgPSBuZXcgRGlmZmVyKHByZXYsIGtleSk7XG4gICAgcmV0dXJuIGRpZmZlci5zZXRDYWxsYmFjaygoKGtleSwgZGF0YSwgcHJldkRhdGEpID0+IHtcbiAgICAgICAgaXNOaWwoZGF0YSkgPyByZXN1bHQuZXhpdC5wdXNoKHtcbiAgICAgICAgICAgIHByZXY6IHByZXZEYXRhWzBdXG4gICAgICAgIH0pIDogaXNOaWwocHJldkRhdGEpID8gcmVzdWx0LmVudGVyLnB1c2goe1xuICAgICAgICAgICAgbmV4dDogZGF0YVswXVxuICAgICAgICB9KSA6IHJlc3VsdC51cGRhdGUucHVzaCh7XG4gICAgICAgICAgICBuZXh0OiBkYXRhWzBdLFxuICAgICAgICAgICAgcHJldjogcHJldkRhdGFbMF1cbiAgICAgICAgfSk7XG4gICAgfSkpLCBkaWZmZXIuc2V0Q3VycmVudERhdGEoZ3JvdXBEYXRhKG5leHQsIGtleSkpLCBkaWZmZXIuZG9EaWZmKCksIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZNdWx0aXBsZShwcmV2LCBuZXh0LCBrZXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIGVudGVyOiBbXSxcbiAgICAgICAgZXhpdDogW10sXG4gICAgICAgIHVwZGF0ZTogW11cbiAgICB9LCBkaWZmZXIgPSBuZXcgRGlmZmVyKHByZXYsIGtleSk7XG4gICAgcmV0dXJuIGRpZmZlci5zZXRDYWxsYmFjaygoKGtleSwgZGF0YSwgcHJldkRhdGEpID0+IHtcbiAgICAgICAgaXNOaWwoZGF0YSkgPyByZXN1bHQuZXhpdC5wdXNoKHtcbiAgICAgICAgICAgIHByZXY6IHByZXZEYXRhXG4gICAgICAgIH0pIDogaXNOaWwocHJldkRhdGEpID8gcmVzdWx0LmVudGVyLnB1c2goe1xuICAgICAgICAgICAgbmV4dDogZGF0YVxuICAgICAgICB9KSA6IHJlc3VsdC51cGRhdGUucHVzaCh7XG4gICAgICAgICAgICBuZXh0OiBkYXRhLFxuICAgICAgICAgICAgcHJldjogcHJldkRhdGFcbiAgICAgICAgfSk7XG4gICAgfSkpLCBkaWZmZXIuc2V0Q3VycmVudERhdGEoZ3JvdXBEYXRhKG5leHQsIGtleSkpLCBkaWZmZXIuZG9EaWZmKCksIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpZmZlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invokeEncoder: () => (/* binding */ invokeEncoder),\n/* harmony export */   invokeEncoderToItems: () => (/* binding */ invokeEncoderToItems)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _attributes_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributes/helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n\n\n\n\n\n\n\n\n\n\nfunction invokeEncoderToItems(element, items, encoder, parameters, onlyFullEncodeFirst) {\n    encoder && ((0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.isFunctionType)(encoder) ? items.forEach((item => {\n        const attributes = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(encoder, parameters, item.datum, element);\n        Object.assign(item.nextAttrs, attributes);\n    })) : Object.keys(encoder).forEach((channel => {\n        var _a, _b;\n        const encode = encoder[channel], encodeItems = onlyFullEncodeFirst && !(0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_1__.isPositionOrSizeChannel)(element.mark.markType, channel) ? [ items[0] ] : items;\n        if ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isScaleEncode)(encode)) {\n            const scale = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.getGrammarOutput)(encode.scale, parameters), offset = null !== (_a = null == encode ? void 0 : encode.offset) && void 0 !== _a ? _a : 0, bandOffset = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(encode.band) && scale.bandwidth ? scale.bandwidth() * encode.band : null, hasField = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(null == encode ? void 0 : encode.field), fieldAccessor = hasField ? (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__.field)(encode.field) : null;\n            let to = hasField ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(null == encode ? void 0 : encode.value) ? 0 : null === (_b = scale.scale) || void 0 === _b ? void 0 : _b.call(scale, encode.value);\n            encodeItems.forEach((item => {\n                var _a;\n                hasField && (to = null === (_a = scale.scale) || void 0 === _a ? void 0 : _a.call(scale, fieldAccessor(item.datum))), \n                item.nextAttrs[channel] = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(to) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(bandOffset) ? to + offset + bandOffset : to;\n            }));\n        } else if ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isFieldEncode)(encode)) {\n            const fieldAccessor = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__.field)(encode.field);\n            encodeItems.forEach((item => {\n                item.nextAttrs[channel] = fieldAccessor(item.datum);\n            }));\n        } else encodeItems.forEach((item => {\n            item.nextAttrs[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(encode, parameters, item.datum, element);\n        }));\n    })));\n}\n\nfunction invokeEncoder(encoder, datum, element, parameters) {\n    if (!encoder) return null;\n    if ((0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.isFunctionType)(encoder)) return (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(encoder, parameters, datum, element);\n    const attributes = {};\n    return Object.keys(encoder).forEach((channel => {\n        var _a, _b, _c;\n        const encode = encoder[channel];\n        if ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isScaleEncode)(encode)) {\n            const scale = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.getGrammarOutput)(encode.scale, parameters), offset = null !== (_a = null == encode ? void 0 : encode.offset) && void 0 !== _a ? _a : 0, bandOffset = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(encode.band) && scale.bandwidth ? scale.bandwidth() * encode.band : null, hasField = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(null == encode ? void 0 : encode.field), fieldAccessor = hasField ? (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__.field)(encode.field) : null, to = hasField ? null === (_b = scale.scale) || void 0 === _b ? void 0 : _b.call(scale, fieldAccessor(datum)) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(null == encode ? void 0 : encode.value) ? 0 : null === (_c = scale.scale) || void 0 === _c ? void 0 : _c.call(scale, encode.value);\n            attributes[channel] = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(to) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(bandOffset) ? to + offset + bandOffset : to;\n        } else if ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isFieldEncode)(encode)) {\n            const fieldAccessor = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__.field)(encode.field);\n            attributes[channel] = fieldAccessor(datum);\n        } else attributes[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(encode, parameters, datum, element);\n    })), attributes;\n}\n//# sourceMappingURL=encode.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9lbmNvZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTZEOztBQUVPOztBQUVKOztBQUV3Qjs7QUFFeEI7O0FBRXpEO0FBQ1AsZ0JBQWdCLDJEQUFjO0FBQzlCLDJCQUEyQiwrREFBa0I7QUFDN0M7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrRUFBK0UsNEVBQXVCO0FBQ3RHLFlBQVksMERBQWE7QUFDekIsMEJBQTBCLDZEQUFnQixzSUFBc0ksNERBQUssc0ZBQXNGLDREQUFRLHFFQUFxRSw4REFBZ0I7QUFDeFcsdUNBQXVDLDREQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyw0REFBUSxRQUFRLDREQUFRO0FBQ2xFLGFBQWE7QUFDYixVQUFVLFNBQVMsMERBQWE7QUFDaEMsa0NBQWtDLDhEQUFnQjtBQUNsRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVixzQ0FBc0MsK0RBQWtCO0FBQ3hELFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBLFFBQVEsMkRBQWMsa0JBQWtCLCtEQUFrQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQWE7QUFDekIsMEJBQTBCLDZEQUFnQixzSUFBc0ksNERBQUssc0ZBQXNGLDREQUFRLHFFQUFxRSw4REFBZ0Isc0lBQXNJLDREQUFLO0FBQ25mLGtDQUFrQyw0REFBUSxRQUFRLDREQUFRO0FBQzFELFVBQVUsU0FBUywwREFBYTtBQUNoQyxrQ0FBa0MsOERBQWdCO0FBQ2xEO0FBQ0EsVUFBVSwyQkFBMkIsK0RBQWtCO0FBQ3ZELEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL21hcmsvZW5jb2RlLmpzPzc3OWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzTnVtYmVyLCBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGZpZWxkIGFzIGdldEZpZWxkQWNjZXNzb3IgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuaW1wb3J0IHsgaXNGaWVsZEVuY29kZSwgaXNTY2FsZUVuY29kZSB9IGZyb20gXCIuLi8uLi9wYXJzZS9tYXJrXCI7XG5cbmltcG9ydCB7IGdldEdyYW1tYXJPdXRwdXQsIGludm9rZUZ1bmN0aW9uVHlwZSwgaXNGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBpc1Bvc2l0aW9uT3JTaXplQ2hhbm5lbCB9IGZyb20gXCIuLi9hdHRyaWJ1dGVzL2hlbHBlcnNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZUVuY29kZXJUb0l0ZW1zKGVsZW1lbnQsIGl0ZW1zLCBlbmNvZGVyLCBwYXJhbWV0ZXJzLCBvbmx5RnVsbEVuY29kZUZpcnN0KSB7XG4gICAgZW5jb2RlciAmJiAoaXNGdW5jdGlvblR5cGUoZW5jb2RlcikgPyBpdGVtcy5mb3JFYWNoKChpdGVtID0+IHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGludm9rZUZ1bmN0aW9uVHlwZShlbmNvZGVyLCBwYXJhbWV0ZXJzLCBpdGVtLmRhdHVtLCBlbGVtZW50KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihpdGVtLm5leHRBdHRycywgYXR0cmlidXRlcyk7XG4gICAgfSkpIDogT2JqZWN0LmtleXMoZW5jb2RlcikuZm9yRWFjaCgoY2hhbm5lbCA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGVuY29kZSA9IGVuY29kZXJbY2hhbm5lbF0sIGVuY29kZUl0ZW1zID0gb25seUZ1bGxFbmNvZGVGaXJzdCAmJiAhaXNQb3NpdGlvbk9yU2l6ZUNoYW5uZWwoZWxlbWVudC5tYXJrLm1hcmtUeXBlLCBjaGFubmVsKSA/IFsgaXRlbXNbMF0gXSA6IGl0ZW1zO1xuICAgICAgICBpZiAoaXNTY2FsZUVuY29kZShlbmNvZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IGdldEdyYW1tYXJPdXRwdXQoZW5jb2RlLnNjYWxlLCBwYXJhbWV0ZXJzKSwgb2Zmc2V0ID0gbnVsbCAhPT0gKF9hID0gbnVsbCA9PSBlbmNvZGUgPyB2b2lkIDAgOiBlbmNvZGUub2Zmc2V0KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwLCBiYW5kT2Zmc2V0ID0gIWlzTmlsKGVuY29kZS5iYW5kKSAmJiBzY2FsZS5iYW5kd2lkdGggPyBzY2FsZS5iYW5kd2lkdGgoKSAqIGVuY29kZS5iYW5kIDogbnVsbCwgaGFzRmllbGQgPSBpc1N0cmluZyhudWxsID09IGVuY29kZSA/IHZvaWQgMCA6IGVuY29kZS5maWVsZCksIGZpZWxkQWNjZXNzb3IgPSBoYXNGaWVsZCA/IGdldEZpZWxkQWNjZXNzb3IoZW5jb2RlLmZpZWxkKSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgdG8gPSBoYXNGaWVsZCA/IG51bGwgOiBpc05pbChudWxsID09IGVuY29kZSA/IHZvaWQgMCA6IGVuY29kZS52YWx1ZSkgPyAwIDogbnVsbCA9PT0gKF9iID0gc2NhbGUuc2NhbGUpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5jYWxsKHNjYWxlLCBlbmNvZGUudmFsdWUpO1xuICAgICAgICAgICAgZW5jb2RlSXRlbXMuZm9yRWFjaCgoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGhhc0ZpZWxkICYmICh0byA9IG51bGwgPT09IChfYSA9IHNjYWxlLnNjYWxlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2FsbChzY2FsZSwgZmllbGRBY2Nlc3NvcihpdGVtLmRhdHVtKSkpLCBcbiAgICAgICAgICAgICAgICBpdGVtLm5leHRBdHRyc1tjaGFubmVsXSA9IGlzTnVtYmVyKHRvKSB8fCBpc051bWJlcihiYW5kT2Zmc2V0KSA/IHRvICsgb2Zmc2V0ICsgYmFuZE9mZnNldCA6IHRvO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmllbGRFbmNvZGUoZW5jb2RlKSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRBY2Nlc3NvciA9IGdldEZpZWxkQWNjZXNzb3IoZW5jb2RlLmZpZWxkKTtcbiAgICAgICAgICAgIGVuY29kZUl0ZW1zLmZvckVhY2goKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGl0ZW0ubmV4dEF0dHJzW2NoYW5uZWxdID0gZmllbGRBY2Nlc3NvcihpdGVtLmRhdHVtKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIGVuY29kZUl0ZW1zLmZvckVhY2goKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaXRlbS5uZXh0QXR0cnNbY2hhbm5lbF0gPSBpbnZva2VGdW5jdGlvblR5cGUoZW5jb2RlLCBwYXJhbWV0ZXJzLCBpdGVtLmRhdHVtLCBlbGVtZW50KTtcbiAgICAgICAgfSkpO1xuICAgIH0pKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSB7XG4gICAgaWYgKCFlbmNvZGVyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoaXNGdW5jdGlvblR5cGUoZW5jb2RlcikpIHJldHVybiBpbnZva2VGdW5jdGlvblR5cGUoZW5jb2RlciwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZW5jb2RlcikuZm9yRWFjaCgoY2hhbm5lbCA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBlbmNvZGUgPSBlbmNvZGVyW2NoYW5uZWxdO1xuICAgICAgICBpZiAoaXNTY2FsZUVuY29kZShlbmNvZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IGdldEdyYW1tYXJPdXRwdXQoZW5jb2RlLnNjYWxlLCBwYXJhbWV0ZXJzKSwgb2Zmc2V0ID0gbnVsbCAhPT0gKF9hID0gbnVsbCA9PSBlbmNvZGUgPyB2b2lkIDAgOiBlbmNvZGUub2Zmc2V0KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwLCBiYW5kT2Zmc2V0ID0gIWlzTmlsKGVuY29kZS5iYW5kKSAmJiBzY2FsZS5iYW5kd2lkdGggPyBzY2FsZS5iYW5kd2lkdGgoKSAqIGVuY29kZS5iYW5kIDogbnVsbCwgaGFzRmllbGQgPSBpc1N0cmluZyhudWxsID09IGVuY29kZSA/IHZvaWQgMCA6IGVuY29kZS5maWVsZCksIGZpZWxkQWNjZXNzb3IgPSBoYXNGaWVsZCA/IGdldEZpZWxkQWNjZXNzb3IoZW5jb2RlLmZpZWxkKSA6IG51bGwsIHRvID0gaGFzRmllbGQgPyBudWxsID09PSAoX2IgPSBzY2FsZS5zY2FsZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoc2NhbGUsIGZpZWxkQWNjZXNzb3IoZGF0dW0pKSA6IGlzTmlsKG51bGwgPT0gZW5jb2RlID8gdm9pZCAwIDogZW5jb2RlLnZhbHVlKSA/IDAgOiBudWxsID09PSAoX2MgPSBzY2FsZS5zY2FsZSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmNhbGwoc2NhbGUsIGVuY29kZS52YWx1ZSk7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzW2NoYW5uZWxdID0gaXNOdW1iZXIodG8pIHx8IGlzTnVtYmVyKGJhbmRPZmZzZXQpID8gdG8gKyBvZmZzZXQgKyBiYW5kT2Zmc2V0IDogdG87XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGaWVsZEVuY29kZShlbmNvZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZEFjY2Vzc29yID0gZ2V0RmllbGRBY2Nlc3NvcihlbmNvZGUuZmllbGQpO1xuICAgICAgICAgICAgYXR0cmlidXRlc1tjaGFubmVsXSA9IGZpZWxkQWNjZXNzb3IoZGF0dW0pO1xuICAgICAgICB9IGVsc2UgYXR0cmlidXRlc1tjaGFubmVsXSA9IGludm9rZUZ1bmN0aW9uVHlwZShlbmNvZGUsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KTtcbiAgICB9KSksIGF0dHJpYnV0ZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmNvZGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerArc3dGraphic: () => (/* binding */ registerArc3dGraphic),\n/* harmony export */   registerArcGraphic: () => (/* binding */ registerArcGraphic),\n/* harmony export */   registerAreaGraphic: () => (/* binding */ registerAreaGraphic),\n/* harmony export */   registerCellGraphic: () => (/* binding */ registerCellGraphic),\n/* harmony export */   registerCircleGraphic: () => (/* binding */ registerCircleGraphic),\n/* harmony export */   registerGlyphGraphic: () => (/* binding */ registerGlyphGraphic),\n/* harmony export */   registerGroupGraphic: () => (/* binding */ registerGroupGraphic),\n/* harmony export */   registerImageGraphic: () => (/* binding */ registerImageGraphic),\n/* harmony export */   registerIntervalGraphic: () => (/* binding */ registerIntervalGraphic),\n/* harmony export */   registerLargeRectsGraphic: () => (/* binding */ registerLargeRectsGraphic),\n/* harmony export */   registerLargeSymbolsGraphic: () => (/* binding */ registerLargeSymbolsGraphic),\n/* harmony export */   registerLineGraphic: () => (/* binding */ registerLineGraphic),\n/* harmony export */   registerPathGraphic: () => (/* binding */ registerPathGraphic),\n/* harmony export */   registerPolygonGraphic: () => (/* binding */ registerPolygonGraphic),\n/* harmony export */   registerPyramid3dGraphic: () => (/* binding */ registerPyramid3dGraphic),\n/* harmony export */   registerRect3dGraphic: () => (/* binding */ registerRect3dGraphic),\n/* harmony export */   registerRectGraphic: () => (/* binding */ registerRectGraphic),\n/* harmony export */   registerRichTextGraphic: () => (/* binding */ registerRichTextGraphic),\n/* harmony export */   registerRuleGraphic: () => (/* binding */ registerRuleGraphic),\n/* harmony export */   registerShapeGraphic: () => (/* binding */ registerShapeGraphic),\n/* harmony export */   registerSymbolGraphic: () => (/* binding */ registerSymbolGraphic),\n/* harmony export */   registerTextGraphic: () => (/* binding */ registerTextGraphic)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _large_rects__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./large-rects */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/large-rects.js\");\n/* harmony import */ var _large_symbols__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./large-symbols */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/large-symbols.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-shadowRoot.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-circle.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-arc.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-arc3d.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-pyramid3d.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-area.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-group.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-image.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-line.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-path.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-rect.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-rect3d.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-symbol.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-text.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-richtext.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-polygon.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/register/register-glyph.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/circle.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/arc.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/arc3d.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/pyramid3d.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/area.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/group.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/image.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/line.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/path.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/rect.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/rect3d.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/symbol.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/text.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/polygon.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/richtext.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/glyph.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/label/arc.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/label/line.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/label/symbol.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/label/rect.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerCircleGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__.registerCircle)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.circle, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_4__.createCircle);\n};\n\nconst registerArcGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_5__.registerArc)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.arc, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_6__.createArc), \n    (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.registerArcDataLabel)();\n};\n\nconst registerArc3dGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_8__.registerArc3d)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.arc3d, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__.createArc3d);\n};\n\nconst registerPyramid3dGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_10__.registerPyramid3d)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.pyramid3d, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_11__.createPyramid3d);\n};\n\nconst registerAreaGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_12__.registerArea)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.area, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_13__.createArea), \n    (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_14__.registerLineDataLabel)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__.registerSymbolDataLabel)();\n};\n\nconst registerGroupGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_16__.registerGroup)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.group, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_17__.createGroup);\n};\n\nconst registerImageGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_18__.registerImage)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.image, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_19__.createImage);\n};\n\nconst registerLineGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_20__.registerLine)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_14__.registerLineDataLabel)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__.registerSymbolDataLabel)(), \n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.line, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_21__.createLine);\n};\n\nconst registerPathGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__.registerPath)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.path, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_23__.createPath);\n};\n\nconst registerRectGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__.registerRect)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_25__.registerRectDataLabel)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.rect, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_26__.createRect);\n};\n\nconst registerRect3dGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_27__.registerRect3d)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.rect3d, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__.createRect3d);\n};\n\nconst registerRuleGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_20__.registerLine)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.rule, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_21__.createLine);\n};\n\nconst registerShapeGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__.registerPath)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.shape, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_23__.createPath);\n};\n\nconst registerSymbolGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_29__.registerSymbol)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__.registerSymbolDataLabel)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.symbol, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_30__.createSymbol);\n};\n\nconst registerTextGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_31__.registerText)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_32__.registerRichtext)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.text, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_33__.createText);\n};\n\nconst registerPolygonGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_34__.registerPolygon)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.polygon, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_35__.createPolygon);\n};\n\nconst registerRichTextGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_32__.registerRichtext)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.richtext, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_36__.createRichText);\n};\n\nconst registerCellGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_29__.registerSymbol)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__.registerSymbolDataLabel)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.cell, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_30__.createSymbol);\n};\n\nconst registerIntervalGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__.registerRect)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_25__.registerRectDataLabel)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_5__.registerArc)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.registerArcDataLabel)(), \n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.interval, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_26__.createRect);\n};\n\nconst registerGlyphGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_37__.registerGlyph)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.glyph, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_38__.createGlyph);\n};\n\nconst registerLargeRectsGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__.registerPath)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.largeRects, (attrs => new _large_rects__WEBPACK_IMPORTED_MODULE_39__.LargeRects(attrs)));\n};\n\nconst registerLargeSymbolsGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__.registerPath)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.largeSymbols, (attrs => new _large_symbols__WEBPACK_IMPORTED_MODULE_40__.LargeSymbols(attrs)));\n};\n//# sourceMappingURL=graphic.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9ncmFwaGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2Qzs7QUFFRjs7QUFFQTs7QUFFSTs7QUFFa1E7O0FBRXBEOztBQUVsSDs7QUFFcEk7QUFDUCxJQUFJLDBFQUFrQixJQUFJLHNFQUFjLElBQUksa0RBQU8saUJBQWlCLG1EQUFlLFNBQVMsZ0VBQVk7QUFDeEc7O0FBRU87QUFDUCxJQUFJLDBFQUFrQixJQUFJLG1FQUFXLElBQUksa0RBQU8saUJBQWlCLG1EQUFlLE1BQU0sNkRBQVM7QUFDL0YsSUFBSSxrRkFBb0I7QUFDeEI7O0FBRU87QUFDUCxJQUFJLDBFQUFrQixJQUFJLHFFQUFhLElBQUksa0RBQU8saUJBQWlCLG1EQUFlLFFBQVEsK0RBQVc7QUFDckc7O0FBRU87QUFDUCxJQUFJLDBFQUFrQixJQUFJLDBFQUFpQixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxZQUFZLG9FQUFlO0FBQ2pIOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQ2xHLElBQUksb0ZBQXFCLElBQUksc0ZBQXVCO0FBQ3BEOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxzRUFBYSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxRQUFRLGdFQUFXO0FBQ3JHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxzRUFBYSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxRQUFRLGdFQUFXO0FBQ3JHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLG9GQUFxQixJQUFJLHNGQUF1QjtBQUMxRixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQzVEOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQ2xHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLG9GQUFxQixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQzNIOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSx1RUFBYyxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxTQUFTLGlFQUFZO0FBQ3hHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQ2xHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxRQUFRLCtEQUFVO0FBQ25HOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSx1RUFBYyxJQUFJLHNGQUF1QixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxTQUFTLGlFQUFZO0FBQ25JOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLHlFQUFnQixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQ3RIOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSx3RUFBZSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxVQUFVLGtFQUFhO0FBQzNHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSx5RUFBZ0IsSUFBSSxrREFBTyxpQkFBaUIsbURBQWUsV0FBVyxtRUFBYztBQUM5Rzs7QUFFTztBQUNQLElBQUksMEVBQWtCLElBQUksdUVBQWMsSUFBSSxzRkFBdUIsSUFBSSxrREFBTyxpQkFBaUIsbURBQWUsT0FBTyxpRUFBWTtBQUNqSTs7QUFFTztBQUNQLElBQUksMEVBQWtCLElBQUkscUVBQVksSUFBSSxvRkFBcUIsSUFBSSxtRUFBVyxJQUFJLGtGQUFvQjtBQUN0RyxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxXQUFXLCtEQUFVO0FBQ2hFOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxzRUFBYSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxRQUFRLGdFQUFXO0FBQ3JHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSwyQkFBMkIscURBQVU7QUFDdEg7O0FBRU87QUFDUCxJQUFJLDBFQUFrQixJQUFJLHFFQUFZLElBQUksa0RBQU8saUJBQWlCLG1EQUFlLDZCQUE2Qix5REFBWTtBQUMxSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL21hcmsvZ3JhcGhpYy5qcz83YjEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9lbnVtc1wiO1xuXG5pbXBvcnQgeyBMYXJnZVJlY3RzIH0gZnJvbSBcIi4vbGFyZ2UtcmVjdHNcIjtcblxuaW1wb3J0IHsgTGFyZ2VTeW1ib2xzIH0gZnJvbSBcIi4vbGFyZ2Utc3ltYm9sc1wiO1xuXG5pbXBvcnQgeyByZWdpc3RlckNpcmNsZSwgcmVnaXN0ZXJBcmMsIHJlZ2lzdGVyQXJjM2QsIHJlZ2lzdGVyUHlyYW1pZDNkLCByZWdpc3RlckFyZWEsIHJlZ2lzdGVyR3JvdXAsIHJlZ2lzdGVySW1hZ2UsIHJlZ2lzdGVyUmVjdDNkLCByZWdpc3RlckxpbmUsIHJlZ2lzdGVyUGF0aCwgcmVnaXN0ZXJSZWN0LCByZWdpc3RlclN5bWJvbCwgcmVnaXN0ZXJUZXh0LCByZWdpc3RlclBvbHlnb24sIHJlZ2lzdGVyUmljaHRleHQsIHJlZ2lzdGVyR2x5cGgsIHJlZ2lzdGVyU2hhZG93Um9vdCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1raXRzXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUFyYywgY3JlYXRlQ2lyY2xlLCBjcmVhdGVBcmMzZCwgY3JlYXRlUHlyYW1pZDNkLCBjcmVhdGVBcmVhLCBjcmVhdGVHcm91cCwgY3JlYXRlSW1hZ2UsIGNyZWF0ZVJlY3QzZCwgY3JlYXRlTGluZSwgY3JlYXRlUGF0aCwgY3JlYXRlUmVjdCwgY3JlYXRlU3ltYm9sLCBjcmVhdGVUZXh0LCBjcmVhdGVQb2x5Z29uLCBjcmVhdGVSaWNoVGV4dCwgY3JlYXRlR2x5cGggfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29yZVwiO1xuXG5pbXBvcnQgeyByZWdpc3RlclJlY3REYXRhTGFiZWwsIHJlZ2lzdGVyTGluZURhdGFMYWJlbCwgcmVnaXN0ZXJBcmNEYXRhTGFiZWwsIHJlZ2lzdGVyU3ltYm9sRGF0YUxhYmVsIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQ2lyY2xlR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJDaXJjbGUoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLmNpcmNsZSwgY3JlYXRlQ2lyY2xlKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckFyY0dyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyQXJjKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5hcmMsIGNyZWF0ZUFyYyksIFxuICAgIHJlZ2lzdGVyQXJjRGF0YUxhYmVsKCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJBcmMzZEdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyQXJjM2QoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLmFyYzNkLCBjcmVhdGVBcmMzZCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJQeXJhbWlkM2RHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlclB5cmFtaWQzZCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUucHlyYW1pZDNkLCBjcmVhdGVQeXJhbWlkM2QpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQXJlYUdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyQXJlYSgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuYXJlYSwgY3JlYXRlQXJlYSksIFxuICAgIHJlZ2lzdGVyTGluZURhdGFMYWJlbCgpLCByZWdpc3RlclN5bWJvbERhdGFMYWJlbCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3JvdXBHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3Rlckdyb3VwKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5ncm91cCwgY3JlYXRlR3JvdXApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVySW1hZ2VHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlckltYWdlKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5pbWFnZSwgY3JlYXRlSW1hZ2UpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTGluZUdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyTGluZSgpLCByZWdpc3RlckxpbmVEYXRhTGFiZWwoKSwgcmVnaXN0ZXJTeW1ib2xEYXRhTGFiZWwoKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLmxpbmUsIGNyZWF0ZUxpbmUpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUGF0aEdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyUGF0aCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUucGF0aCwgY3JlYXRlUGF0aCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSZWN0R3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJSZWN0KCksIHJlZ2lzdGVyUmVjdERhdGFMYWJlbCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUucmVjdCwgY3JlYXRlUmVjdCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSZWN0M2RHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlclJlY3QzZCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUucmVjdDNkLCBjcmVhdGVSZWN0M2QpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUnVsZUdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyTGluZSgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUucnVsZSwgY3JlYXRlTGluZSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTaGFwZUdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyUGF0aCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuc2hhcGUsIGNyZWF0ZVBhdGgpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU3ltYm9sR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJTeW1ib2woKSwgcmVnaXN0ZXJTeW1ib2xEYXRhTGFiZWwoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnN5bWJvbCwgY3JlYXRlU3ltYm9sKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclRleHRHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlclRleHQoKSwgcmVnaXN0ZXJSaWNodGV4dCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUudGV4dCwgY3JlYXRlVGV4dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJQb2x5Z29uR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJQb2x5Z29uKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5wb2x5Z29uLCBjcmVhdGVQb2x5Z29uKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclJpY2hUZXh0R3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJSaWNodGV4dCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUucmljaHRleHQsIGNyZWF0ZVJpY2hUZXh0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckNlbGxHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlclN5bWJvbCgpLCByZWdpc3RlclN5bWJvbERhdGFMYWJlbCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuY2VsbCwgY3JlYXRlU3ltYm9sKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckludGVydmFsR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJSZWN0KCksIHJlZ2lzdGVyUmVjdERhdGFMYWJlbCgpLCByZWdpc3RlckFyYygpLCByZWdpc3RlckFyY0RhdGFMYWJlbCgpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuaW50ZXJ2YWwsIGNyZWF0ZVJlY3QpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR2x5cGhHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlckdseXBoKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5nbHlwaCwgY3JlYXRlR2x5cGgpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTGFyZ2VSZWN0c0dyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyUGF0aCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUubGFyZ2VSZWN0cywgKGF0dHJzID0+IG5ldyBMYXJnZVJlY3RzKGF0dHJzKSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTGFyZ2VTeW1ib2xzR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJQYXRoKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5sYXJnZVN5bWJvbHMsIChhdHRycyA9PiBuZXcgTGFyZ2VTeW1ib2xzKGF0dHJzKSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBoaWMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/large-rects.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/large-rects.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LargeRects: () => (/* binding */ LargeRects)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/group.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/common/custom-path2d.js\");\n\n\nclass LargeRects extends _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.Group {\n    constructor(attributes) {\n        super(attributes), this.attribute = attributes, this.onSetStage((() => {\n            this.render();\n        }));\n    }\n    render() {\n        var _a;\n        const pathNode = this.createOrUpdateChild(\"large-path\", {}, \"path\"), points = this.attribute.points, path2d = null !== (_a = pathNode.attribute.path) && void 0 !== _a ? _a : new _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.CustomPath2D;\n        let x, y, width, height;\n        path2d.clear();\n        for (let i = 0, len = points.length; i < len; i += 4) x = points[i], y = points[i + 1], \n        width = points[i + 2], height = points[i + 3], path2d.rect(x, y, width, height);\n        const pathAttrs = Object.assign({}, this.attribute, {\n            path: path2d,\n            points: null\n        });\n        this.attribute = {}, pathNode.setAttributes(pathAttrs);\n    }\n}\n//# sourceMappingURL=large-rects.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9sYXJnZS1yZWN0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkQ7O0FBRXRELHlCQUF5Qix5REFBSztBQUNyQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLHdIQUF3SCxnRUFBWTtBQUN0TTtBQUNBO0FBQ0EsNkNBQTZDLFNBQVM7QUFDdEQ7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBLFNBQVM7QUFDVCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL21hcmsvbGFyZ2UtcmVjdHMuanM/ODRkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcm91cCwgQ3VzdG9tUGF0aDJEIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuZXhwb3J0IGNsYXNzIExhcmdlUmVjdHMgZXh0ZW5kcyBHcm91cCB7XG4gICAgY29uc3RydWN0b3IoYXR0cmlidXRlcykge1xuICAgICAgICBzdXBlcihhdHRyaWJ1dGVzKSwgdGhpcy5hdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzLCB0aGlzLm9uU2V0U3RhZ2UoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHBhdGhOb2RlID0gdGhpcy5jcmVhdGVPclVwZGF0ZUNoaWxkKFwibGFyZ2UtcGF0aFwiLCB7fSwgXCJwYXRoXCIpLCBwb2ludHMgPSB0aGlzLmF0dHJpYnV0ZS5wb2ludHMsIHBhdGgyZCA9IG51bGwgIT09IChfYSA9IHBhdGhOb2RlLmF0dHJpYnV0ZS5wYXRoKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBuZXcgQ3VzdG9tUGF0aDJEO1xuICAgICAgICBsZXQgeCwgeSwgd2lkdGgsIGhlaWdodDtcbiAgICAgICAgcGF0aDJkLmNsZWFyKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDQpIHggPSBwb2ludHNbaV0sIHkgPSBwb2ludHNbaSArIDFdLCBcbiAgICAgICAgd2lkdGggPSBwb2ludHNbaSArIDJdLCBoZWlnaHQgPSBwb2ludHNbaSArIDNdLCBwYXRoMmQucmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgcGF0aEF0dHJzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5hdHRyaWJ1dGUsIHtcbiAgICAgICAgICAgIHBhdGg6IHBhdGgyZCxcbiAgICAgICAgICAgIHBvaW50czogbnVsbFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGUgPSB7fSwgcGF0aE5vZGUuc2V0QXR0cmlidXRlcyhwYXRoQXR0cnMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhcmdlLXJlY3RzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/large-rects.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/large-symbols.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/large-symbols.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LargeSymbols: () => (/* binding */ LargeSymbols)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/math.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/group.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/config.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/common/custom-path2d.js\");\n\n\n\n\nclass LargeSymbols extends _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.Group {\n    constructor(attributes) {\n        super(attributes), this.attribute = attributes, this.onSetStage((() => {\n            this.render();\n        }));\n    }\n    render() {\n        var _a, _b;\n        const pathNode = this.createOrUpdateChild(\"large-path\", {}, \"path\"), points = this.attribute.points, size = null !== (_a = this.attribute.size) && void 0 !== _a ? _a : _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.DefaultSymbolAttribute.size, path2d = null !== (_b = pathNode.attribute.path) && void 0 !== _b ? _b : new _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_2__.CustomPath2D;\n        let x, y;\n        path2d.clear();\n        const maxSize = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(size) ? size : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.max)(size[0], size[1]);\n        for (let i = 0, len = points.length; i < len; i += 4) x = points[i], y = points[i + 1], \n        path2d.arc(x, y, maxSize / 2, 0, 2 * Math.PI), path2d.closePath();\n        const pathAttrs = Object.assign({}, this.attribute, {\n            path: path2d,\n            points: null,\n            size: null\n        });\n        this.attribute = {}, pathNode.setAttributes(pathAttrs);\n    }\n}\n//# sourceMappingURL=large-symbols.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9sYXJnZS1zeW1ib2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpRDs7QUFFb0M7O0FBRTlFLDJCQUEyQix5REFBSztBQUN2QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLDhHQUE4RywwRUFBc0Isb0ZBQW9GLGdFQUFZO0FBQ3RTO0FBQ0E7QUFDQSx3QkFBd0IsNERBQVEsZ0JBQWdCLHFEQUFHO0FBQ25ELDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL21hcmsvbGFyZ2Utc3ltYm9scy5qcz8yOTRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTnVtYmVyLCBtYXggfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBDdXN0b21QYXRoMkQsIEdyb3VwLCBEZWZhdWx0U3ltYm9sQXR0cmlidXRlIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuZXhwb3J0IGNsYXNzIExhcmdlU3ltYm9scyBleHRlbmRzIEdyb3VwIHtcbiAgICBjb25zdHJ1Y3RvcihhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHN1cGVyKGF0dHJpYnV0ZXMpLCB0aGlzLmF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXMsIHRoaXMub25TZXRTdGFnZSgoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHBhdGhOb2RlID0gdGhpcy5jcmVhdGVPclVwZGF0ZUNoaWxkKFwibGFyZ2UtcGF0aFwiLCB7fSwgXCJwYXRoXCIpLCBwb2ludHMgPSB0aGlzLmF0dHJpYnV0ZS5wb2ludHMsIHNpemUgPSBudWxsICE9PSAoX2EgPSB0aGlzLmF0dHJpYnV0ZS5zaXplKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBEZWZhdWx0U3ltYm9sQXR0cmlidXRlLnNpemUsIHBhdGgyZCA9IG51bGwgIT09IChfYiA9IHBhdGhOb2RlLmF0dHJpYnV0ZS5wYXRoKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBuZXcgQ3VzdG9tUGF0aDJEO1xuICAgICAgICBsZXQgeCwgeTtcbiAgICAgICAgcGF0aDJkLmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IG1heFNpemUgPSBpc051bWJlcihzaXplKSA/IHNpemUgOiBtYXgoc2l6ZVswXSwgc2l6ZVsxXSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDQpIHggPSBwb2ludHNbaV0sIHkgPSBwb2ludHNbaSArIDFdLCBcbiAgICAgICAgcGF0aDJkLmFyYyh4LCB5LCBtYXhTaXplIC8gMiwgMCwgMiAqIE1hdGguUEkpLCBwYXRoMmQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnN0IHBhdGhBdHRycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYXR0cmlidXRlLCB7XG4gICAgICAgICAgICBwYXRoOiBwYXRoMmQsXG4gICAgICAgICAgICBwb2ludHM6IG51bGwsXG4gICAgICAgICAgICBzaXplOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZSA9IHt9LCBwYXRoTm9kZS5zZXRBdHRyaWJ1dGVzKHBhdGhBdHRycyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFyZ2Utc3ltYm9scy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/large-symbols.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/env.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/env.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   configureEnvironment: () => (/* binding */ configureEnvironment)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/modules.js\");\n\n\nfunction configureEnvironment(options) {\n    options.mode && _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.vglobal.setEnv(options.mode, options.modeParams || {});\n}\n//# sourceMappingURL=env.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9lbnYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUQ7O0FBRTFDO0FBQ1Asb0JBQW9CLDJEQUFPLDhDQUE4QztBQUN6RTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL3V0aWwvZW52LmpzPzRhZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmdsb2JhbCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVFbnZpcm9ubWVudChvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5tb2RlICYmIHZnbG9iYWwuc2V0RW52KG9wdGlvbnMubW9kZSwgb3B0aW9ucy5tb2RlUGFyYW1zIHx8IHt9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getExtendedEvents)\n/* harmony export */ });\n/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./point */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/point.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n\n\n\n\n\n\nfunction getExtendedEvents(view, event, type, source) {\n    var _a, _b;\n    if (source === _view_constants__WEBPACK_IMPORTED_MODULE_0__.EVENT_SOURCE_WINDOW) {\n        const e = event.changedTouches ? event.changedTouches[0] : event;\n        (0,_point__WEBPACK_IMPORTED_MODULE_1__.point)(e);\n    }\n    let element = null === (_a = event.target) || void 0 === _a ? void 0 : _a[_constants__WEBPACK_IMPORTED_MODULE_2__.BridgeElementKey];\n    if (!element && source === _view_constants__WEBPACK_IMPORTED_MODULE_0__.EVENT_SOURCE_VIEW) {\n        let target = event.target;\n        const rootGraphic = null === (_b = view.rootMark) || void 0 === _b ? void 0 : _b.graphicItem;\n        for (;(null == target ? void 0 : target.parent) && target.parent !== rootGraphic; ) if (target = target.parent, \n        target[_constants__WEBPACK_IMPORTED_MODULE_2__.BridgeElementKey]) {\n            element = target[_constants__WEBPACK_IMPORTED_MODULE_2__.BridgeElementKey];\n            break;\n        }\n    }\n    return event.element = element, event;\n}\n//# sourceMappingURL=events-extend.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9ldmVudHMtZXh0ZW5kLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0M7O0FBRThDOztBQUU5Qjs7QUFFakM7QUFDZjtBQUNBLG1CQUFtQixnRUFBbUI7QUFDdEM7QUFDQSxRQUFRLDZDQUFLO0FBQ2I7QUFDQSw4RUFBOEUsd0RBQWdCO0FBQzlGLCtCQUErQiw4REFBaUI7QUFDaEQ7QUFDQTtBQUNBLGNBQWMsNEVBQTRFO0FBQzFGLGVBQWUsd0RBQWdCO0FBQy9CLDZCQUE2Qix3REFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL3V0aWwvZXZlbnRzLWV4dGVuZC5qcz84NTlkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBvaW50IH0gZnJvbSBcIi4vcG9pbnRcIjtcblxuaW1wb3J0IHsgRVZFTlRfU09VUkNFX1ZJRVcsIEVWRU5UX1NPVVJDRV9XSU5ET1cgfSBmcm9tIFwiLi4vLi4vdmlldy9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgQnJpZGdlRWxlbWVudEtleSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RXh0ZW5kZWRFdmVudHModmlldywgZXZlbnQsIHR5cGUsIHNvdXJjZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHNvdXJjZSA9PT0gRVZFTlRfU09VUkNFX1dJTkRPVykge1xuICAgICAgICBjb25zdCBlID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IGV2ZW50O1xuICAgICAgICBwb2ludChlKTtcbiAgICB9XG4gICAgbGV0IGVsZW1lbnQgPSBudWxsID09PSAoX2EgPSBldmVudC50YXJnZXQpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVtCcmlkZ2VFbGVtZW50S2V5XTtcbiAgICBpZiAoIWVsZW1lbnQgJiYgc291cmNlID09PSBFVkVOVF9TT1VSQ0VfVklFVykge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBjb25zdCByb290R3JhcGhpYyA9IG51bGwgPT09IChfYiA9IHZpZXcucm9vdE1hcmspIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5ncmFwaGljSXRlbTtcbiAgICAgICAgZm9yICg7KG51bGwgPT0gdGFyZ2V0ID8gdm9pZCAwIDogdGFyZ2V0LnBhcmVudCkgJiYgdGFyZ2V0LnBhcmVudCAhPT0gcm9vdEdyYXBoaWM7ICkgaWYgKHRhcmdldCA9IHRhcmdldC5wYXJlbnQsIFxuICAgICAgICB0YXJnZXRbQnJpZGdlRWxlbWVudEtleV0pIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB0YXJnZXRbQnJpZGdlRWxlbWVudEtleV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXZlbnQuZWxlbWVudCA9IGVsZW1lbnQsIGV2ZW50O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRzLWV4dGVuZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGlyphGraphicItem: () => (/* binding */ createGlyphGraphicItem),\n/* harmony export */   createGraphicItem: () => (/* binding */ createGraphicItem),\n/* harmony export */   getMarkTypeOfLarge: () => (/* binding */ getMarkTypeOfLarge),\n/* harmony export */   isMarkType: () => (/* binding */ isMarkType),\n/* harmony export */   removeGraphicItem: () => (/* binding */ removeGraphicItem)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/logger.js\");\n\n\n\n\n\n\n\n\nconst isMarkType = type => !!_enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType[type];\n\nfunction createGraphicItem(mark, markType, attrs = {}) {\n    var _a;\n    const graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.getGraphicType(markType) ? _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.createGraphic(markType, attrs) : _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.createGraphicComponent(markType, attrs, {\n        skipDefault: null === (_a = null == mark ? void 0 : mark.spec) || void 0 === _a ? void 0 : _a.skipTheme\n    });\n    if (!graphicItem) {\n        _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.Logger.getInstance().error(`create ${markType} graphic failed!`);\n    }\n    return graphicItem;\n}\n\nfunction createGlyphGraphicItem(mark, glyphMeta, attrs = {}) {\n    if (!_core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.getGraphicType(_enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.glyph)) return;\n    const graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.createGraphic(_enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.glyph, attrs), glyphMarks = glyphMeta.getMarks(), subGraphics = Object.keys(glyphMarks).map((name => {\n        if (_core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.getGraphicType(glyphMarks[name])) {\n            const graphic = _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.createGraphic(glyphMarks[name]);\n            if (graphic) return graphic.name = name, graphic;\n        }\n    }));\n    return graphicItem.setSubGraphic(subGraphics), graphicItem;\n}\n\nconst removeGraphicItem = graphicItem => {\n    graphicItem && (graphicItem[_constants__WEBPACK_IMPORTED_MODULE_3__.BridgeElementKey] = null, graphicItem.release(), graphicItem.parent && graphicItem.parent.removeChild(graphicItem));\n};\n\nconst getMarkTypeOfLarge = markType => markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.rect ? _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.largeRects : markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.symbol ? _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.largeSymbols : markType;\n//# sourceMappingURL=graphic.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9ncmFwaGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyQzs7QUFFSzs7QUFFSDs7QUFFSDs7QUFFbkMsNkJBQTZCLG1EQUFlOztBQUU1QyxxREFBcUQ7QUFDNUQ7QUFDQSx3QkFBd0Isa0RBQU8sNEJBQTRCLGtEQUFPLGtDQUFrQyxrREFBTztBQUMzRztBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsb0RBQU0sK0JBQStCLFVBQVU7QUFDdkQ7QUFDQTtBQUNBOztBQUVPLDJEQUEyRDtBQUNsRSxTQUFTLGtEQUFPLGdCQUFnQixtREFBZTtBQUMvQyx3QkFBd0Isa0RBQU8sZUFBZSxtREFBZTtBQUM3RCxZQUFZLGtEQUFPO0FBQ25CLDRCQUE0QixrREFBTztBQUNuQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRU87QUFDUCxnQ0FBZ0Msd0RBQWdCO0FBQ2hEOztBQUVPLG9EQUFvRCxtREFBZSxRQUFRLG1EQUFlLDJCQUEyQixtREFBZSxVQUFVLG1EQUFlO0FBQ3BLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL3V0aWwvZ3JhcGhpYy5qcz84MDY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCcmlkZ2VFbGVtZW50S2V5IH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uLy4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgaXNNYXJrVHlwZSA9IHR5cGUgPT4gISFHcmFtbWFyTWFya1R5cGVbdHlwZV07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHcmFwaGljSXRlbShtYXJrLCBtYXJrVHlwZSwgYXR0cnMgPSB7fSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBncmFwaGljSXRlbSA9IEZhY3RvcnkuZ2V0R3JhcGhpY1R5cGUobWFya1R5cGUpID8gRmFjdG9yeS5jcmVhdGVHcmFwaGljKG1hcmtUeXBlLCBhdHRycykgOiBGYWN0b3J5LmNyZWF0ZUdyYXBoaWNDb21wb25lbnQobWFya1R5cGUsIGF0dHJzLCB7XG4gICAgICAgIHNraXBEZWZhdWx0OiBudWxsID09PSAoX2EgPSBudWxsID09IG1hcmsgPyB2b2lkIDAgOiBtYXJrLnNwZWMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5za2lwVGhlbWVcbiAgICB9KTtcbiAgICBpZiAoIWdyYXBoaWNJdGVtKSB7XG4gICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSgpLmVycm9yKGBjcmVhdGUgJHttYXJrVHlwZX0gZ3JhcGhpYyBmYWlsZWQhYCk7XG4gICAgfVxuICAgIHJldHVybiBncmFwaGljSXRlbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdseXBoR3JhcGhpY0l0ZW0obWFyaywgZ2x5cGhNZXRhLCBhdHRycyA9IHt9KSB7XG4gICAgaWYgKCFGYWN0b3J5LmdldEdyYXBoaWNUeXBlKEdyYW1tYXJNYXJrVHlwZS5nbHlwaCkpIHJldHVybjtcbiAgICBjb25zdCBncmFwaGljSXRlbSA9IEZhY3RvcnkuY3JlYXRlR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuZ2x5cGgsIGF0dHJzKSwgZ2x5cGhNYXJrcyA9IGdseXBoTWV0YS5nZXRNYXJrcygpLCBzdWJHcmFwaGljcyA9IE9iamVjdC5rZXlzKGdseXBoTWFya3MpLm1hcCgobmFtZSA9PiB7XG4gICAgICAgIGlmIChGYWN0b3J5LmdldEdyYXBoaWNUeXBlKGdseXBoTWFya3NbbmFtZV0pKSB7XG4gICAgICAgICAgICBjb25zdCBncmFwaGljID0gRmFjdG9yeS5jcmVhdGVHcmFwaGljKGdseXBoTWFya3NbbmFtZV0pO1xuICAgICAgICAgICAgaWYgKGdyYXBoaWMpIHJldHVybiBncmFwaGljLm5hbWUgPSBuYW1lLCBncmFwaGljO1xuICAgICAgICB9XG4gICAgfSkpO1xuICAgIHJldHVybiBncmFwaGljSXRlbS5zZXRTdWJHcmFwaGljKHN1YkdyYXBoaWNzKSwgZ3JhcGhpY0l0ZW07XG59XG5cbmV4cG9ydCBjb25zdCByZW1vdmVHcmFwaGljSXRlbSA9IGdyYXBoaWNJdGVtID0+IHtcbiAgICBncmFwaGljSXRlbSAmJiAoZ3JhcGhpY0l0ZW1bQnJpZGdlRWxlbWVudEtleV0gPSBudWxsLCBncmFwaGljSXRlbS5yZWxlYXNlKCksIGdyYXBoaWNJdGVtLnBhcmVudCAmJiBncmFwaGljSXRlbS5wYXJlbnQucmVtb3ZlQ2hpbGQoZ3JhcGhpY0l0ZW0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRNYXJrVHlwZU9mTGFyZ2UgPSBtYXJrVHlwZSA9PiBtYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLnJlY3QgPyBHcmFtbWFyTWFya1R5cGUubGFyZ2VSZWN0cyA6IG1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuc3ltYm9sID8gR3JhbW1hck1hcmtUeXBlLmxhcmdlU3ltYm9scyA6IG1hcmtUeXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhcGhpYy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/point.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/point.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   point: () => (/* binding */ point)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nfunction point(event) {\n    [ \"touches\", \"changedTouches\", \"targetTouches\" ].forEach((touchKey => {\n        event[touchKey] && event[touchKey].length && Array.from(event[touchKey]).forEach((touch => {\n            defineSrPosition(touch, clientToLocal(touch), !1);\n        }));\n    }));\n    const pos = clientToLocal(event);\n    return defineSrPosition(event, pos);\n}\n\nfunction clientToLocal(e) {\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.offsetX) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.x) ? e.changedTouches && e.changedTouches.length ? getChangedTouchesPos(e) : {\n        canvasX: 0,\n        canvasY: 0\n    } : getXYPos(e) : getOffsetPos(e);\n}\n\nfunction getOffsetPos(e) {\n    return {\n        canvasX: e.offsetX,\n        canvasY: e.offsetY\n    };\n}\n\nfunction getXYPos(e) {\n    return {\n        canvasX: e.x,\n        canvasY: e.y\n    };\n}\n\nfunction getChangedTouchesPos(e) {\n    const pos = e.changedTouches[0];\n    return {\n        canvasX: pos.x,\n        canvasY: pos.y\n    };\n}\n\nfunction defineSrPosition(event, pos, client = !0) {\n    const keys = [ \"canvasX\", \"canvasY\" ];\n    return client && (keys.push(\"clientX\"), keys.push(\"clientY\")), keys.forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(pos[key]) && Object.defineProperty(event, key, {\n            value: pos[key],\n            writable: !0\n        });\n    })), [ pos.canvasX, pos.canvasY ];\n}\n//# sourceMappingURL=point.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9wb2ludC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7O0FBRWpEO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDREQUFLLGNBQWMsNERBQUs7QUFDbkM7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQWE7QUFDckI7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC91dGlsL3BvaW50LmpzP2FkYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNWYWxpZE51bWJlciwgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcG9pbnQoZXZlbnQpIHtcbiAgICBbIFwidG91Y2hlc1wiLCBcImNoYW5nZWRUb3VjaGVzXCIsIFwidGFyZ2V0VG91Y2hlc1wiIF0uZm9yRWFjaCgodG91Y2hLZXkgPT4ge1xuICAgICAgICBldmVudFt0b3VjaEtleV0gJiYgZXZlbnRbdG91Y2hLZXldLmxlbmd0aCAmJiBBcnJheS5mcm9tKGV2ZW50W3RvdWNoS2V5XSkuZm9yRWFjaCgodG91Y2ggPT4ge1xuICAgICAgICAgICAgZGVmaW5lU3JQb3NpdGlvbih0b3VjaCwgY2xpZW50VG9Mb2NhbCh0b3VjaCksICExKTtcbiAgICAgICAgfSkpO1xuICAgIH0pKTtcbiAgICBjb25zdCBwb3MgPSBjbGllbnRUb0xvY2FsKGV2ZW50KTtcbiAgICByZXR1cm4gZGVmaW5lU3JQb3NpdGlvbihldmVudCwgcG9zKTtcbn1cblxuZnVuY3Rpb24gY2xpZW50VG9Mb2NhbChlKSB7XG4gICAgcmV0dXJuIGlzTmlsKGUub2Zmc2V0WCkgPyBpc05pbChlLngpID8gZS5jaGFuZ2VkVG91Y2hlcyAmJiBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCA/IGdldENoYW5nZWRUb3VjaGVzUG9zKGUpIDoge1xuICAgICAgICBjYW52YXNYOiAwLFxuICAgICAgICBjYW52YXNZOiAwXG4gICAgfSA6IGdldFhZUG9zKGUpIDogZ2V0T2Zmc2V0UG9zKGUpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXRQb3MoZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhbnZhc1g6IGUub2Zmc2V0WCxcbiAgICAgICAgY2FudmFzWTogZS5vZmZzZXRZXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0WFlQb3MoZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhbnZhc1g6IGUueCxcbiAgICAgICAgY2FudmFzWTogZS55XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2hhbmdlZFRvdWNoZXNQb3MoZSkge1xuICAgIGNvbnN0IHBvcyA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FudmFzWDogcG9zLngsXG4gICAgICAgIGNhbnZhc1k6IHBvcy55XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZGVmaW5lU3JQb3NpdGlvbihldmVudCwgcG9zLCBjbGllbnQgPSAhMCkge1xuICAgIGNvbnN0IGtleXMgPSBbIFwiY2FudmFzWFwiLCBcImNhbnZhc1lcIiBdO1xuICAgIHJldHVybiBjbGllbnQgJiYgKGtleXMucHVzaChcImNsaWVudFhcIiksIGtleXMucHVzaChcImNsaWVudFlcIikpLCBrZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGlzVmFsaWROdW1iZXIocG9zW2tleV0pICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwga2V5LCB7XG4gICAgICAgICAgICB2YWx1ZTogcG9zW2tleV0sXG4gICAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgfSk7XG4gICAgfSkpLCBbIHBvcy5jYW52YXNYLCBwb3MuY2FudmFzWSBdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9pbnQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/point.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/view-diff.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/view-diff.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewDiff: () => (/* binding */ ViewDiff)\n/* harmony export */ });\n/* harmony import */ var _mark_differ__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mark/differ */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\nconst EmptyKey = Symbol.for(\"key\");\n\nclass ViewDiff {\n    diffGrammar(prevGrammars, nextGrammars) {\n        return (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.diffSingle)(prevGrammars, nextGrammars, (grammar => {\n            var _a;\n            return null !== (_a = grammar.id()) && void 0 !== _a ? _a : Symbol();\n        }));\n    }\n    diffMark(prevMarks, nextMarks, runningConfig) {\n        const diffResult = {\n            enter: [],\n            exit: [],\n            update: []\n        };\n        let prevDiffMarks = [], nextDiffMarks = [];\n        prevMarks.forEach((mark => {\n            mark.markType !== _enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.group && (runningConfig.morph && mark.getMorphConfig().morph || runningConfig.morphAll || runningConfig.reuse) ? prevDiffMarks.push(mark) : diffResult.exit.push({\n                prev: [ mark ]\n            });\n        })), nextMarks.forEach((mark => {\n            mark.markType !== _enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.group && (runningConfig.morph && mark.getMorphConfig().morph || runningConfig.morphAll || runningConfig.reuse) ? nextDiffMarks.push(mark) : diffResult.enter.push({\n                next: [ mark ]\n            });\n        }));\n        const keyDiffResult = this.diffUpdateByGroup(prevDiffMarks, nextDiffMarks, (mark => mark.getMorphConfig().morphKey), (mark => mark.getMorphConfig().morphKey));\n        prevDiffMarks = keyDiffResult.prev, nextDiffMarks = keyDiffResult.next, diffResult.update = diffResult.update.concat(keyDiffResult.update);\n        const nameDiffResult = this.diffUpdateByGroup(prevDiffMarks, nextDiffMarks, (mark => mark.id()), (mark => mark.id()));\n        prevDiffMarks = nameDiffResult.prev, nextDiffMarks = nameDiffResult.next, diffResult.update = diffResult.update.concat(nameDiffResult.update);\n        const prevParentGroup = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(prevDiffMarks, (mark => {\n            var _a, _b;\n            return null === (_b = null === (_a = mark.group) || void 0 === _a ? void 0 : _a.id) || void 0 === _b ? void 0 : _b.call(_a);\n        })), nextParentGroup = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(nextDiffMarks, (mark => {\n            var _a, _b;\n            return null === (_b = null === (_a = mark.group) || void 0 === _a ? void 0 : _a.id) || void 0 === _b ? void 0 : _b.call(_a);\n        }));\n        return Object.keys(nextParentGroup).forEach((groupName => {\n            const prevChildren = prevParentGroup.data.get(groupName), nextChildren = nextParentGroup.data.get(groupName);\n            if (prevChildren && nextChildren) {\n                for (let i = 0; i < Math.max(prevChildren.length, nextChildren.length); i += 1) {\n                    const prevChild = prevChildren[i], nextChild = nextChildren[i];\n                    prevChild && nextChild ? diffResult.update.push({\n                        prev: [ prevChild ],\n                        next: [ nextChild ]\n                    }) : prevChild ? diffResult.exit.push({\n                        prev: [ prevChild ]\n                    }) : nextChild && diffResult.enter.push({\n                        next: [ nextChild ]\n                    });\n                }\n                prevDiffMarks = prevDiffMarks.filter((mark => !prevChildren.includes(mark))), nextDiffMarks = nextDiffMarks.filter((mark => !nextChildren.includes(mark)));\n            }\n        })), prevDiffMarks.forEach((mark => diffResult.exit.push({\n            prev: [ mark ]\n        }))), nextDiffMarks.forEach((mark => diffResult.enter.push({\n            next: [ mark ]\n        }))), diffResult;\n    }\n    diffUpdateByGroup(prev, next, prevKey, nextKey) {\n        const prevGroup = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(prev, (datum => {\n            var _a;\n            return null !== (_a = prevKey(datum)) && void 0 !== _a ? _a : EmptyKey;\n        })), nextGroup = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(next, (datum => {\n            var _a;\n            return null !== (_a = nextKey(datum)) && void 0 !== _a ? _a : EmptyKey;\n        }));\n        let prevAfterDiff = prev, nextAfterDiff = next;\n        const update = [];\n        return nextGroup.keys.forEach((key => {\n            if (key !== EmptyKey) {\n                const prevKeyData = prevGroup.data.get(key), nextKeyData = nextGroup.data.get(key);\n                prevKeyData && nextKeyData && (update.push({\n                    prev: prevKeyData,\n                    next: nextKeyData\n                }), prevAfterDiff = prevAfterDiff.filter((datum => !prevKeyData.includes(datum))), \n                nextAfterDiff = nextAfterDiff.filter((datum => !nextKeyData.includes(datum))));\n            }\n        })), {\n            prev: prevAfterDiff,\n            next: nextAfterDiff,\n            update: update\n        };\n    }\n}\n//# sourceMappingURL=view-diff.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdmlldy1kaWZmLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDs7QUFFWjs7QUFFMUM7O0FBRU87QUFDUDtBQUNBLGVBQWUsd0RBQVU7QUFDekI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbURBQWU7QUFDN0M7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULDhCQUE4QixtREFBZTtBQUM3QztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsdURBQVM7QUFDekM7QUFDQTtBQUNBLFNBQVMsc0JBQXNCLHVEQUFTO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdEQUF3RDtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQix1REFBUztBQUNuQztBQUNBO0FBQ0EsU0FBUyxnQkFBZ0IsdURBQVM7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdmlldy1kaWZmLmpzPzY2N2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGlmZlNpbmdsZSwgZ3JvdXBEYXRhIH0gZnJvbSBcIi4vbWFyay9kaWZmZXJcIjtcblxuaW1wb3J0IHsgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4vZW51bXNcIjtcblxuY29uc3QgRW1wdHlLZXkgPSBTeW1ib2wuZm9yKFwia2V5XCIpO1xuXG5leHBvcnQgY2xhc3MgVmlld0RpZmYge1xuICAgIGRpZmZHcmFtbWFyKHByZXZHcmFtbWFycywgbmV4dEdyYW1tYXJzKSB7XG4gICAgICAgIHJldHVybiBkaWZmU2luZ2xlKHByZXZHcmFtbWFycywgbmV4dEdyYW1tYXJzLCAoZ3JhbW1hciA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gZ3JhbW1hci5pZCgpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBTeW1ib2woKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBkaWZmTWFyayhwcmV2TWFya3MsIG5leHRNYXJrcywgcnVubmluZ0NvbmZpZykge1xuICAgICAgICBjb25zdCBkaWZmUmVzdWx0ID0ge1xuICAgICAgICAgICAgZW50ZXI6IFtdLFxuICAgICAgICAgICAgZXhpdDogW10sXG4gICAgICAgICAgICB1cGRhdGU6IFtdXG4gICAgICAgIH07XG4gICAgICAgIGxldCBwcmV2RGlmZk1hcmtzID0gW10sIG5leHREaWZmTWFya3MgPSBbXTtcbiAgICAgICAgcHJldk1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5tYXJrVHlwZSAhPT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwICYmIChydW5uaW5nQ29uZmlnLm1vcnBoICYmIG1hcmsuZ2V0TW9ycGhDb25maWcoKS5tb3JwaCB8fCBydW5uaW5nQ29uZmlnLm1vcnBoQWxsIHx8IHJ1bm5pbmdDb25maWcucmV1c2UpID8gcHJldkRpZmZNYXJrcy5wdXNoKG1hcmspIDogZGlmZlJlc3VsdC5leGl0LnB1c2goe1xuICAgICAgICAgICAgICAgIHByZXY6IFsgbWFyayBdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpLCBuZXh0TWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLm1hcmtUeXBlICE9PSBHcmFtbWFyTWFya1R5cGUuZ3JvdXAgJiYgKHJ1bm5pbmdDb25maWcubW9ycGggJiYgbWFyay5nZXRNb3JwaENvbmZpZygpLm1vcnBoIHx8IHJ1bm5pbmdDb25maWcubW9ycGhBbGwgfHwgcnVubmluZ0NvbmZpZy5yZXVzZSkgPyBuZXh0RGlmZk1hcmtzLnB1c2gobWFyaykgOiBkaWZmUmVzdWx0LmVudGVyLnB1c2goe1xuICAgICAgICAgICAgICAgIG5leHQ6IFsgbWFyayBdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBrZXlEaWZmUmVzdWx0ID0gdGhpcy5kaWZmVXBkYXRlQnlHcm91cChwcmV2RGlmZk1hcmtzLCBuZXh0RGlmZk1hcmtzLCAobWFyayA9PiBtYXJrLmdldE1vcnBoQ29uZmlnKCkubW9ycGhLZXkpLCAobWFyayA9PiBtYXJrLmdldE1vcnBoQ29uZmlnKCkubW9ycGhLZXkpKTtcbiAgICAgICAgcHJldkRpZmZNYXJrcyA9IGtleURpZmZSZXN1bHQucHJldiwgbmV4dERpZmZNYXJrcyA9IGtleURpZmZSZXN1bHQubmV4dCwgZGlmZlJlc3VsdC51cGRhdGUgPSBkaWZmUmVzdWx0LnVwZGF0ZS5jb25jYXQoa2V5RGlmZlJlc3VsdC51cGRhdGUpO1xuICAgICAgICBjb25zdCBuYW1lRGlmZlJlc3VsdCA9IHRoaXMuZGlmZlVwZGF0ZUJ5R3JvdXAocHJldkRpZmZNYXJrcywgbmV4dERpZmZNYXJrcywgKG1hcmsgPT4gbWFyay5pZCgpKSwgKG1hcmsgPT4gbWFyay5pZCgpKSk7XG4gICAgICAgIHByZXZEaWZmTWFya3MgPSBuYW1lRGlmZlJlc3VsdC5wcmV2LCBuZXh0RGlmZk1hcmtzID0gbmFtZURpZmZSZXN1bHQubmV4dCwgZGlmZlJlc3VsdC51cGRhdGUgPSBkaWZmUmVzdWx0LnVwZGF0ZS5jb25jYXQobmFtZURpZmZSZXN1bHQudXBkYXRlKTtcbiAgICAgICAgY29uc3QgcHJldlBhcmVudEdyb3VwID0gZ3JvdXBEYXRhKHByZXZEaWZmTWFya3MsIChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbWFyay5ncm91cCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmlkKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIH0pKSwgbmV4dFBhcmVudEdyb3VwID0gZ3JvdXBEYXRhKG5leHREaWZmTWFya3MsIChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbWFyay5ncm91cCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmlkKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG5leHRQYXJlbnRHcm91cCkuZm9yRWFjaCgoZ3JvdXBOYW1lID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZDaGlsZHJlbiA9IHByZXZQYXJlbnRHcm91cC5kYXRhLmdldChncm91cE5hbWUpLCBuZXh0Q2hpbGRyZW4gPSBuZXh0UGFyZW50R3JvdXAuZGF0YS5nZXQoZ3JvdXBOYW1lKTtcbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGRyZW4gJiYgbmV4dENoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1heChwcmV2Q2hpbGRyZW4ubGVuZ3RoLCBuZXh0Q2hpbGRyZW4ubGVuZ3RoKTsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IHByZXZDaGlsZHJlbltpXSwgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBwcmV2Q2hpbGQgJiYgbmV4dENoaWxkID8gZGlmZlJlc3VsdC51cGRhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2OiBbIHByZXZDaGlsZCBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogWyBuZXh0Q2hpbGQgXVxuICAgICAgICAgICAgICAgICAgICB9KSA6IHByZXZDaGlsZCA/IGRpZmZSZXN1bHQuZXhpdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXY6IFsgcHJldkNoaWxkIF1cbiAgICAgICAgICAgICAgICAgICAgfSkgOiBuZXh0Q2hpbGQgJiYgZGlmZlJlc3VsdC5lbnRlci5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IFsgbmV4dENoaWxkIF1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZEaWZmTWFya3MgPSBwcmV2RGlmZk1hcmtzLmZpbHRlcigobWFyayA9PiAhcHJldkNoaWxkcmVuLmluY2x1ZGVzKG1hcmspKSksIG5leHREaWZmTWFya3MgPSBuZXh0RGlmZk1hcmtzLmZpbHRlcigobWFyayA9PiAhbmV4dENoaWxkcmVuLmluY2x1ZGVzKG1hcmspKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSwgcHJldkRpZmZNYXJrcy5mb3JFYWNoKChtYXJrID0+IGRpZmZSZXN1bHQuZXhpdC5wdXNoKHtcbiAgICAgICAgICAgIHByZXY6IFsgbWFyayBdXG4gICAgICAgIH0pKSksIG5leHREaWZmTWFya3MuZm9yRWFjaCgobWFyayA9PiBkaWZmUmVzdWx0LmVudGVyLnB1c2goe1xuICAgICAgICAgICAgbmV4dDogWyBtYXJrIF1cbiAgICAgICAgfSkpKSwgZGlmZlJlc3VsdDtcbiAgICB9XG4gICAgZGlmZlVwZGF0ZUJ5R3JvdXAocHJldiwgbmV4dCwgcHJldktleSwgbmV4dEtleSkge1xuICAgICAgICBjb25zdCBwcmV2R3JvdXAgPSBncm91cERhdGEocHJldiwgKGRhdHVtID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSBwcmV2S2V5KGRhdHVtKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogRW1wdHlLZXk7XG4gICAgICAgIH0pKSwgbmV4dEdyb3VwID0gZ3JvdXBEYXRhKG5leHQsIChkYXR1bSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gbmV4dEtleShkYXR1bSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IEVtcHR5S2V5O1xuICAgICAgICB9KSk7XG4gICAgICAgIGxldCBwcmV2QWZ0ZXJEaWZmID0gcHJldiwgbmV4dEFmdGVyRGlmZiA9IG5leHQ7XG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9IFtdO1xuICAgICAgICByZXR1cm4gbmV4dEdyb3VwLmtleXMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09IEVtcHR5S2V5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldktleURhdGEgPSBwcmV2R3JvdXAuZGF0YS5nZXQoa2V5KSwgbmV4dEtleURhdGEgPSBuZXh0R3JvdXAuZGF0YS5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBwcmV2S2V5RGF0YSAmJiBuZXh0S2V5RGF0YSAmJiAodXBkYXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBwcmV2OiBwcmV2S2V5RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogbmV4dEtleURhdGFcbiAgICAgICAgICAgICAgICB9KSwgcHJldkFmdGVyRGlmZiA9IHByZXZBZnRlckRpZmYuZmlsdGVyKChkYXR1bSA9PiAhcHJldktleURhdGEuaW5jbHVkZXMoZGF0dW0pKSksIFxuICAgICAgICAgICAgICAgIG5leHRBZnRlckRpZmYgPSBuZXh0QWZ0ZXJEaWZmLmZpbHRlcigoZGF0dW0gPT4gIW5leHRLZXlEYXRhLmluY2x1ZGVzKGRhdHVtKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLCB7XG4gICAgICAgICAgICBwcmV2OiBwcmV2QWZ0ZXJEaWZmLFxuICAgICAgICAgICAgbmV4dDogbmV4dEFmdGVyRGlmZixcbiAgICAgICAgICAgIHVwZGF0ZTogdXBkYXRlXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy1kaWZmLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/view-diff.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/index.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/index.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.AxisEnum),\n/* harmony export */   BaseInteraction: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BaseInteraction),\n/* harmony export */   BaseTooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BaseTooltip),\n/* harmony export */   BrushActive: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BrushActive),\n/* harmony export */   BrushBase: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BrushBase),\n/* harmony export */   BrushHighlight: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BrushHighlight),\n/* harmony export */   BuiltInEncodeNames: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames),\n/* harmony export */   Cell: () => (/* reexport safe */ _semantic_marks_cell__WEBPACK_IMPORTED_MODULE_19__.Cell),\n/* harmony export */   ComponentEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum),\n/* harmony export */   Coordinate: () => (/* reexport safe */ _view_coordinate__WEBPACK_IMPORTED_MODULE_4__.Coordinate),\n/* harmony export */   Crosshair: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.Crosshair),\n/* harmony export */   CrosshairEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.CrosshairEnum),\n/* harmony export */   DataFilterRank: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.DataFilterRank),\n/* harmony export */   DiffState: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.DiffState),\n/* harmony export */   DimensionTooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.DimensionTooltip),\n/* harmony export */   DrillDown: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.DrillDown),\n/* harmony export */   Element: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.Element),\n/* harmony export */   ElementActive: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementActive),\n/* harmony export */   ElementActiveByLegend: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementActiveByLegend),\n/* harmony export */   ElementHighlight: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlight),\n/* harmony export */   ElementHighlightByGroup: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlightByGroup),\n/* harmony export */   ElementHighlightByKey: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlightByKey),\n/* harmony export */   ElementHighlightByLegend: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlightByLegend),\n/* harmony export */   ElementHighlightByName: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlightByName),\n/* harmony export */   ElementSelect: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementSelect),\n/* harmony export */   Factory: () => (/* reexport safe */ _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory),\n/* harmony export */   FilterMixin: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.FilterMixin),\n/* harmony export */   FishEye: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.FishEye),\n/* harmony export */   GlyphMark: () => (/* reexport safe */ _view_glyph__WEBPACK_IMPORTED_MODULE_23__.GlyphMark),\n/* harmony export */   GrammarBase: () => (/* reexport safe */ _view_grammar_base__WEBPACK_IMPORTED_MODULE_6__.GrammarBase),\n/* harmony export */   GrammarMarkType: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType),\n/* harmony export */   GrammarTypeEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.GrammarTypeEnum),\n/* harmony export */   GridEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.GridEnum),\n/* harmony export */   HOOK_EVENT: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT),\n/* harmony export */   InteractionStateEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.InteractionStateEnum),\n/* harmony export */   Interval: () => (/* reexport safe */ _semantic_marks_interval__WEBPACK_IMPORTED_MODULE_20__.Interval),\n/* harmony export */   LabelEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.LabelEnum),\n/* harmony export */   LayoutState: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.LayoutState),\n/* harmony export */   LegendEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.LegendEnum),\n/* harmony export */   PlayerEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.PlayerEnum),\n/* harmony export */   RollUp: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.RollUp),\n/* harmony export */   SIGNAL_AUTOFIT: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_AUTOFIT),\n/* harmony export */   SIGNAL_HEIGHT: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_HEIGHT),\n/* harmony export */   SIGNAL_PADDING: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_PADDING),\n/* harmony export */   SIGNAL_VIEW_BOX: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_VIEW_BOX),\n/* harmony export */   SIGNAL_VIEW_HEIGHT: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_VIEW_HEIGHT),\n/* harmony export */   SIGNAL_VIEW_WIDTH: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_VIEW_WIDTH),\n/* harmony export */   SIGNAL_WIDTH: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_WIDTH),\n/* harmony export */   Scale: () => (/* reexport safe */ _view_scale__WEBPACK_IMPORTED_MODULE_3__.Scale),\n/* harmony export */   ThemeManager: () => (/* reexport safe */ _theme_theme_manager__WEBPACK_IMPORTED_MODULE_12__.ThemeManager),\n/* harmony export */   Tooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.Tooltip),\n/* harmony export */   View: () => (/* reexport safe */ _view__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   ViewDrag: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewDrag),\n/* harmony export */   ViewDragMixin: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewDragMixin),\n/* harmony export */   ViewNavigationBase: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewNavigationBase),\n/* harmony export */   ViewRoam: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewRoam),\n/* harmony export */   ViewScroll: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewScroll),\n/* harmony export */   ViewScrollMixin: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewScrollMixin),\n/* harmony export */   ViewZoom: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewZoom),\n/* harmony export */   ViewZoomMixin: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewZoomMixin),\n/* harmony export */   clipIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.clipIn),\n/* harmony export */   clipOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.clipOut),\n/* harmony export */   defaultDoLayout: () => (/* reexport safe */ _graph_layout_layout__WEBPACK_IMPORTED_MODULE_22__.defaultDoLayout),\n/* harmony export */   fadeIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.fadeIn),\n/* harmony export */   fadeOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.fadeOut),\n/* harmony export */   getLinePoints: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.getLinePoints),\n/* harmony export */   getRulePoints: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.getRulePoints),\n/* harmony export */   growAngleIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growAngleIn),\n/* harmony export */   growAngleOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growAngleOut),\n/* harmony export */   growCenterIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growCenterIn),\n/* harmony export */   growCenterOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growCenterOut),\n/* harmony export */   growHeightIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growHeightIn),\n/* harmony export */   growHeightOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growHeightOut),\n/* harmony export */   growIntervalIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growIntervalIn),\n/* harmony export */   growIntervalOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growIntervalOut),\n/* harmony export */   growPointsIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsIn),\n/* harmony export */   growPointsOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsOut),\n/* harmony export */   growPointsXIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsXIn),\n/* harmony export */   growPointsXOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsXOut),\n/* harmony export */   growPointsYIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsYIn),\n/* harmony export */   growPointsYOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsYOut),\n/* harmony export */   growRadiusIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growRadiusIn),\n/* harmony export */   growRadiusOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growRadiusOut),\n/* harmony export */   growWidthIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growWidthIn),\n/* harmony export */   growWidthOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growWidthOut),\n/* harmony export */   initAutoEnv: () => (/* reexport safe */ _env__WEBPACK_IMPORTED_MODULE_18__.initAutoEnv),\n/* harmony export */   initBrowserEnv: () => (/* reexport safe */ _env__WEBPACK_IMPORTED_MODULE_18__.initBrowserEnv),\n/* harmony export */   initNodeEnv: () => (/* reexport safe */ _env__WEBPACK_IMPORTED_MODULE_18__.initNodeEnv),\n/* harmony export */   invokeFunctionType: () => (/* reexport safe */ _parse_util__WEBPACK_IMPORTED_MODULE_5__.invokeFunctionType),\n/* harmony export */   moveIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.moveIn),\n/* harmony export */   moveOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.moveOut),\n/* harmony export */   parseFunctionType: () => (/* reexport safe */ _parse_util__WEBPACK_IMPORTED_MODULE_5__.parseFunctionType),\n/* harmony export */   registerAnimate: () => (/* binding */ registerAnimate),\n/* harmony export */   registerArc3dGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerArc3dGraphic),\n/* harmony export */   registerArcGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerArcGraphic),\n/* harmony export */   registerAreaGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerAreaGraphic),\n/* harmony export */   registerAxis: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerAxis),\n/* harmony export */   registerBarBoxplotGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerBarBoxplotGlyph),\n/* harmony export */   registerBinTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerBinTransform),\n/* harmony export */   registerBoxplotGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerBoxplotGlyph),\n/* harmony export */   registerBrushActive: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerBrushActive),\n/* harmony export */   registerBrushFilter: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerBrushFilter),\n/* harmony export */   registerBrushHighlight: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerBrushHighlight),\n/* harmony export */   registerCellGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerCellGraphic),\n/* harmony export */   registerCellMark: () => (/* reexport safe */ _semantic_marks_cell__WEBPACK_IMPORTED_MODULE_19__.registerCellMark),\n/* harmony export */   registerCircleAxis: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerCircleAxis),\n/* harmony export */   registerCircleGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerCircleGraphic),\n/* harmony export */   registerCircleGrid: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerCircleGrid),\n/* harmony export */   registerCircularRelationTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerCircularRelationTransform),\n/* harmony export */   registerClipInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerClipInAnimation),\n/* harmony export */   registerClipOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerClipOutAnimation),\n/* harmony export */   registerContourTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerContourTransform),\n/* harmony export */   registerCoordinate: () => (/* reexport safe */ _view_coordinate__WEBPACK_IMPORTED_MODULE_4__.registerCoordinate),\n/* harmony export */   registerCrosshair: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerCrosshair),\n/* harmony export */   registerDataZoom: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerDataZoom),\n/* harmony export */   registerDefaultLayout: () => (/* reexport safe */ _graph_layout_layout__WEBPACK_IMPORTED_MODULE_22__.registerDefaultLayout),\n/* harmony export */   registerDimensionTooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerDimensionTooltip),\n/* harmony export */   registerDodgeTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerDodgeTransform),\n/* harmony export */   registerDragPlugin: () => (/* binding */ registerDragPlugin),\n/* harmony export */   registerDrillDown: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerDrillDown),\n/* harmony export */   registerElementActive: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementActive),\n/* harmony export */   registerElementActiveByLegend: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementActiveByLegend),\n/* harmony export */   registerElementHighlight: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlight),\n/* harmony export */   registerElementHighlightByGroup: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByGroup),\n/* harmony export */   registerElementHighlightByKey: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByKey),\n/* harmony export */   registerElementHighlightByLegend: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByLegend),\n/* harmony export */   registerElementHighlightByName: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByName),\n/* harmony export */   registerElementSelect: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementSelect),\n/* harmony export */   registerFadeInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerFadeInAnimation),\n/* harmony export */   registerFadeOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerFadeOutAnimation),\n/* harmony export */   registerFilterTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerFilterTransform),\n/* harmony export */   registerFishEye: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerFishEye),\n/* harmony export */   registerFoldTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerFoldTransform),\n/* harmony export */   registerFunnelTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerFunnelTransform),\n/* harmony export */   registerGesturePlugin: () => (/* binding */ registerGesturePlugin),\n/* harmony export */   registerGlyphGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerGlyphGraphic),\n/* harmony export */   registerGlyphMark: () => (/* reexport safe */ _view_glyph__WEBPACK_IMPORTED_MODULE_23__.registerGlyphMark),\n/* harmony export */   registerGrid: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerGrid),\n/* harmony export */   registerGroupGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerGroupGraphic),\n/* harmony export */   registerGrowAngleInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowAngleInAnimation),\n/* harmony export */   registerGrowAngleOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowAngleOutAnimation),\n/* harmony export */   registerGrowCenterInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowCenterInAnimation),\n/* harmony export */   registerGrowCenterOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowCenterOutAnimation),\n/* harmony export */   registerGrowHeightInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowHeightInAnimation),\n/* harmony export */   registerGrowHeightOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowHeightOutAnimation),\n/* harmony export */   registerGrowIntervalInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowIntervalInAnimation),\n/* harmony export */   registerGrowIntervalOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowIntervalOutAnimation),\n/* harmony export */   registerGrowPointsInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsInAnimation),\n/* harmony export */   registerGrowPointsOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsOutAnimation),\n/* harmony export */   registerGrowPointsXInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsXInAnimation),\n/* harmony export */   registerGrowPointsXOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsXOutAnimation),\n/* harmony export */   registerGrowPointsYInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsYInAnimation),\n/* harmony export */   registerGrowPointsYOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsYOutAnimation),\n/* harmony export */   registerGrowRadiusInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowRadiusInAnimation),\n/* harmony export */   registerGrowRadiusOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowRadiusOutAnimation),\n/* harmony export */   registerGrowWidthInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowWidthInAnimation),\n/* harmony export */   registerGrowWidthOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowWidthOutAnimation),\n/* harmony export */   registerIdentifierTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerIdentifierTransform),\n/* harmony export */   registerImageGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerImageGraphic),\n/* harmony export */   registerIntervalGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerIntervalGraphic),\n/* harmony export */   registerIntervalMark: () => (/* reexport safe */ _semantic_marks_interval__WEBPACK_IMPORTED_MODULE_20__.registerIntervalMark),\n/* harmony export */   registerJitterTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerJitterTransform),\n/* harmony export */   registerJitterXTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerJitterXTransform),\n/* harmony export */   registerJitterYTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerJitterYTransform),\n/* harmony export */   registerJoinTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerJoinTransform),\n/* harmony export */   registerKdeTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerKdeTransform),\n/* harmony export */   registerLabel: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerLabel),\n/* harmony export */   registerLargeRectsGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerLargeRectsGraphic),\n/* harmony export */   registerLargeSymbolsGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerLargeSymbolsGraphic),\n/* harmony export */   registerLegend: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerLegend),\n/* harmony export */   registerLineAxis: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerLineAxis),\n/* harmony export */   registerLineGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerLineGraphic),\n/* harmony export */   registerLineGrid: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerLineGrid),\n/* harmony export */   registerLinkPathGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerLinkPathGlyph),\n/* harmony export */   registerMapTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerMapTransform),\n/* harmony export */   registerMarkOverlapTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerMarkOverlapTransform),\n/* harmony export */   registerMoveInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerMoveInAnimation),\n/* harmony export */   registerMoveOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerMoveOutAnimation),\n/* harmony export */   registerPathGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerPathGraphic),\n/* harmony export */   registerPickTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerPickTransform),\n/* harmony export */   registerPieTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerPieTransform),\n/* harmony export */   registerPlayer: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerPlayer),\n/* harmony export */   registerPolygonGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerPolygonGraphic),\n/* harmony export */   registerPyramid3dGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerPyramid3dGraphic),\n/* harmony export */   registerRangeTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerRangeTransform),\n/* harmony export */   registerRect3dGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerRect3dGraphic),\n/* harmony export */   registerRectGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerRectGraphic),\n/* harmony export */   registerRichTextGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerRichTextGraphic),\n/* harmony export */   registerRippleGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerRippleGlyph),\n/* harmony export */   registerRollUp: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerRollUp),\n/* harmony export */   registerRotateInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerRotateInAnimation),\n/* harmony export */   registerRotateOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerRotateOutAnimation),\n/* harmony export */   registerRuleGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerRuleGraphic),\n/* harmony export */   registerSampleTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerSampleTransform),\n/* harmony export */   registerScale: () => (/* reexport safe */ _view_scale__WEBPACK_IMPORTED_MODULE_3__.registerScale),\n/* harmony export */   registerScaleInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerScaleInAnimation),\n/* harmony export */   registerScaleOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerScaleOutAnimation),\n/* harmony export */   registerScrollbar: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerScrollbar),\n/* harmony export */   registerShapeGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerShapeGraphic),\n/* harmony export */   registerSlider: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerSlider),\n/* harmony export */   registerSortTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerSortTransform),\n/* harmony export */   registerStackTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerStackTransform),\n/* harmony export */   registerSymbolGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerSymbolGraphic),\n/* harmony export */   registerSymmetryTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerSymmetryTransform),\n/* harmony export */   registerTextGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerTextGraphic),\n/* harmony export */   registerTitle: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerTitle),\n/* harmony export */   registerTooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerTooltip),\n/* harmony export */   registerTreePathGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerTreePathGlyph),\n/* harmony export */   registerUnfoldTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerUnfoldTransform),\n/* harmony export */   registerUpdateAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerUpdateAnimation),\n/* harmony export */   registerViewDrag: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerViewDrag),\n/* harmony export */   registerViewEventsAPI: () => (/* reexport safe */ _view_view_event_mixin__WEBPACK_IMPORTED_MODULE_10__.registerViewEventsAPI),\n/* harmony export */   registerViewMorphAPI: () => (/* reexport safe */ _view_view_morph_mixin__WEBPACK_IMPORTED_MODULE_11__.registerViewMorphAPI),\n/* harmony export */   registerViewRoam: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerViewRoam),\n/* harmony export */   registerViewScroll: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerViewScroll),\n/* harmony export */   registerViewZoom: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerViewZoom),\n/* harmony export */   registerViolinGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerViolinGlyph),\n/* harmony export */   registerWaveGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerWaveGlyph),\n/* harmony export */   richJsx: () => (/* reexport safe */ _util_text__WEBPACK_IMPORTED_MODULE_7__.richJsx),\n/* harmony export */   richXul: () => (/* reexport safe */ _util_text__WEBPACK_IMPORTED_MODULE_7__.richXul),\n/* harmony export */   rotateIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.rotateIn),\n/* harmony export */   rotateOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.rotateOut),\n/* harmony export */   scaleIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.scaleIn),\n/* harmony export */   scaleOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.scaleOut),\n/* harmony export */   update: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.update),\n/* harmony export */   version: () => (/* binding */ version),\n/* harmony export */   vglobal: () => (/* reexport safe */ _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_17__.vglobal)\n/* harmony export */ });\n/* harmony import */ var _graph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./graph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/index.js\");\n/* harmony import */ var _interactions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interactions */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/index.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/View.js\");\n/* harmony import */ var _view_scale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./view/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/scale.js\");\n/* harmony import */ var _view_coordinate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./view/coordinate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/coordinate.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _view_grammar_base__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./view/grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _util_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./util/text */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/text.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _view_view_event_mixin__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./view/view-event-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-event-mixin.js\");\n/* harmony import */ var _view_view_morph_mixin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./view/view-morph-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-morph-mixin.js\");\n/* harmony import */ var _theme_theme_manager__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./theme/theme-manager */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js\");\n/* harmony import */ var _glyph__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/glyph/index.js\");\n/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/component/index.js\");\n/* harmony import */ var _transforms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./transforms */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/index.js\");\n/* harmony import */ var _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./graph/animation/animation */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/index.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/modules.js\");\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./env */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/env.js\");\n/* harmony import */ var _semantic_marks_cell__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./semantic-marks/cell */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/cell.js\");\n/* harmony import */ var _semantic_marks_interval__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./semantic-marks/interval */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/interval.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _graph_layout_layout__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./graph/layout/layout */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/layout/layout.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/event/extension/drag.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.20.12/node_modules/@visactor/vrender-kits/es/event/extension/gesture.js\");\n/* harmony import */ var _view_view_animate_mixin__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./view/view-animate-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-animate-mixin.js\");\n/* harmony import */ var _view_mark_animate_mixin__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./view/mark-animate-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark-animate-mixin.js\");\nconst version = \"0.14.13\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerDragPlugin = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory.registerStageEventPlugin(\"drag\", _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__.DragNDrop);\n};\n\nconst registerGesturePlugin = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory.registerStageEventPlugin(\"gesture\", _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_25__.Gesture);\n};\n\n\n\n\n\nconst registerAnimate = () => {\n    (0,_view_view_animate_mixin__WEBPACK_IMPORTED_MODULE_26__.registerViewAnimateAPI)(), (0,_view_mark_animate_mixin__WEBPACK_IMPORTED_MODULE_27__.registerMarkAnimateAPI)();\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU87O0FBRWlCOztBQUVPOztBQUVEOztBQUVzQjs7QUFFZTs7QUFFRTs7QUFFbkI7O0FBRXRCOztBQUVKOztBQUVpQjs7QUFFOEc7O0FBRXZGOztBQUVEOztBQUVWOztBQUU3Qjs7QUFFSTs7QUFFQzs7QUFFZTs7QUFFSzs7QUFFM0I7O0FBRVM7O0FBRU87O0FBRUk7O0FBRUw7O0FBRTBDOztBQUVuQjs7QUFFQTs7QUFFbkI7O0FBRWxDO0FBQ1AsSUFBSSxrREFBTyxrQ0FBa0MsOERBQVM7QUFDdEQ7O0FBRU87QUFDUCxJQUFJLGtEQUFPLHFDQUFxQyw0REFBTztBQUN2RDs7QUFFbUU7O0FBRUE7O0FBRTVEO0FBQ1AsSUFBSSxpRkFBc0IsSUFBSSxpRkFBc0I7QUFDcEQ7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbmRleC5qcz82ODk3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCIwLjE0LjEzXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2dyYXBoXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2ludGVyYWN0aW9uc1wiO1xuXG5leHBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vdmlld1wiO1xuXG5leHBvcnQgeyBTY2FsZSwgcmVnaXN0ZXJTY2FsZSB9IGZyb20gXCIuL3ZpZXcvc2NhbGVcIjtcblxuZXhwb3J0IHsgQ29vcmRpbmF0ZSwgcmVnaXN0ZXJDb29yZGluYXRlIH0gZnJvbSBcIi4vdmlldy9jb29yZGluYXRlXCI7XG5cbmV4cG9ydCB7IHBhcnNlRnVuY3Rpb25UeXBlLCBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi9wYXJzZS91dGlsXCI7XG5cbmV4cG9ydCB7IEdyYW1tYXJCYXNlIH0gZnJvbSBcIi4vdmlldy9ncmFtbWFyLWJhc2VcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vdXRpbC90ZXh0XCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IHsgU0lHTkFMX0FVVE9GSVQsIFNJR05BTF9IRUlHSFQsIFNJR05BTF9QQURESU5HLCBTSUdOQUxfVklFV19IRUlHSFQsIFNJR05BTF9WSUVXX1dJRFRILCBTSUdOQUxfV0lEVEgsIFNJR05BTF9WSUVXX0JPWCB9IGZyb20gXCIuL3ZpZXcvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyVmlld0V2ZW50c0FQSSB9IGZyb20gXCIuL3ZpZXcvdmlldy1ldmVudC1taXhpblwiO1xuXG5leHBvcnQgeyByZWdpc3RlclZpZXdNb3JwaEFQSSB9IGZyb20gXCIuL3ZpZXcvdmlldy1tb3JwaC1taXhpblwiO1xuXG5leHBvcnQgeyBUaGVtZU1hbmFnZXIgfSBmcm9tIFwiLi90aGVtZS90aGVtZS1tYW5hZ2VyXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2dseXBoXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi90cmFuc2Zvcm1zXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb25cIjtcblxuZXhwb3J0IHsgdmdsb2JhbCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2VudlwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9pbnRlcmFjdGlvbnNcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vc2VtYW50aWMtbWFya3MvY2VsbFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9zZW1hbnRpYy1tYXJrcy9pbnRlcnZhbFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9ncmFwaC9tYXJrL2dyYXBoaWNcIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJEZWZhdWx0TGF5b3V0LCBkZWZhdWx0RG9MYXlvdXQgfSBmcm9tIFwiLi9ncmFwaC9sYXlvdXQvbGF5b3V0XCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyR2x5cGhNYXJrLCBHbHlwaE1hcmsgfSBmcm9tIFwiLi92aWV3L2dseXBoXCI7XG5cbmltcG9ydCB7IERyYWdORHJvcCwgR2VzdHVyZSB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1raXRzXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRHJhZ1BsdWdpbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyU3RhZ2VFdmVudFBsdWdpbihcImRyYWdcIiwgRHJhZ05Ecm9wKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdlc3R1cmVQbHVnaW4gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclN0YWdlRXZlbnRQbHVnaW4oXCJnZXN0dXJlXCIsIEdlc3R1cmUpO1xufTtcblxuaW1wb3J0IHsgcmVnaXN0ZXJWaWV3QW5pbWF0ZUFQSSB9IGZyb20gXCIuL3ZpZXcvdmlldy1hbmltYXRlLW1peGluXCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyTWFya0FuaW1hdGVBUEkgfSBmcm9tIFwiLi92aWV3L21hcmstYW5pbWF0ZS1taXhpblwiO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJBbmltYXRlID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyVmlld0FuaW1hdGVBUEkoKSwgcmVnaXN0ZXJNYXJrQW5pbWF0ZUFQSSgpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseTooltip: () => (/* binding */ BaseTooltip),\n/* harmony export */   generateTooltipAttributes: () => (/* binding */ generateTooltipAttributes)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/tooltip/tooltip.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isObjectLike.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateTooltipAttributes = (point, title, content, bounds, theme, addition) => {\n    var _a;\n    const tooltipTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.tooltip;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, tooltipTheme, {\n        visible: !0,\n        pointerX: point.x,\n        pointerY: point.y,\n        title: title,\n        content: content,\n        parentBounds: bounds\n    }, null != addition ? addition : {});\n};\n\nclass BaseTooltip extends _base__WEBPACK_IMPORTED_MODULE_1__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this._marks = view.getMarksBySelector(options.selector);\n    }\n    bind() {\n        super.bind();\n        const stage = this.view.renderer.stage();\n        !this._tooltipComponent && stage && (this._tooltipComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.Tooltip({}), \n        stage.defaultLayer.appendChild(this._tooltipComponent));\n    }\n    unbind() {\n        super.unbind();\n        const stage = this.view.renderer.stage();\n        this._tooltipComponent && stage && (stage.defaultLayer.removeChild(this._tooltipComponent), \n        this._tooltipComponent.release(), this._tooltipComponent = null);\n    }\n    _computeTooltipRow(row, datum) {\n        let key, value, symbol, visible = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(row.visible, this.parameters(), datum);\n        if (visible = !!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(visible) || !!visible, (0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.isFieldEncode)(row.key)) {\n            key = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_6__.field)(row.key.field)(datum);\n        } else key = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(row.key, this.parameters(), datum);\n        if (key = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(key) ? void 0 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(key) ? key : {\n            text: key\n        }, (0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.isFieldEncode)(row.value)) {\n            value = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_6__.field)(row.value.field)(datum);\n        } else value = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(row.value, this.parameters(), datum);\n        if (value = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value) ? void 0 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(value) ? value : {\n            text: value\n        }, (0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.isFieldEncode)(row.symbol)) {\n            symbol = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_6__.field)(row.symbol.field)(datum);\n        } else symbol = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(row.symbol, this.parameters(), datum);\n        return symbol = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(symbol) ? void 0 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(symbol) ? symbol : {\n            symbolType: symbol\n        }, {\n            visible: visible,\n            key: key,\n            value: value,\n            shape: symbol\n        };\n    }\n    _computeTitleContent(datum) {\n        const title = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.options.title) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.options.title) ? this.options.title.call(null, datum, null, {}) : this._computeTooltipRow((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(this.options.title) ? {\n            value: this.options.title\n        } : this.options.title, datum) : void 0, content = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.options.content) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.options.content) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__.array)(this.options.content.call(null, datum, null, {})) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__.array)(datum).reduce(((content, datumRow) => content.concat((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__.array)(this.options.content).map((row => this._computeTooltipRow(row, datumRow))))), []) : void 0;\n        return {\n            title: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(title) ? title[0] : title,\n            content: content\n        };\n    }\n}\n//# sourceMappingURL=base-tooltip.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Jhc2UtdG9vbHRpcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkU7O0FBRWtDOztBQUV6Qzs7QUFFM0I7O0FBRUs7O0FBRUs7O0FBRTVDO0FBQ1A7QUFDQTtBQUNBLFdBQVcsNERBQUssR0FBRztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTywwQkFBMEIsa0RBQWU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGlFQUFnQixHQUFHO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywrREFBa0I7QUFDNUQsd0JBQXdCLDREQUFLLHdCQUF3QiwwREFBYTtBQUNsRSxrQkFBa0IsOERBQWdCO0FBQ2xDLFVBQVUsV0FBVywrREFBa0I7QUFDdkMsa0JBQWtCLDREQUFLLGlCQUFpQiw0REFBWTtBQUNwRDtBQUNBLFNBQVMsRUFBRSwwREFBYTtBQUN4QixvQkFBb0IsOERBQWdCO0FBQ3BDLFVBQVUsYUFBYSwrREFBa0I7QUFDekMsb0JBQW9CLDREQUFLLG1CQUFtQiw0REFBWTtBQUN4RDtBQUNBLFNBQVMsRUFBRSwwREFBYTtBQUN4QixxQkFBcUIsOERBQWdCO0FBQ3JDLFVBQVUsY0FBYywrREFBa0I7QUFDMUMsd0JBQXdCLDREQUFLLG9CQUFvQiw0REFBWTtBQUM3RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBTyx1QkFBdUIsNERBQVUsb0VBQW9FLDRCQUE0Qiw2REFBUTtBQUN0SztBQUNBLFVBQVUsaURBQWlELDREQUFPLHlCQUF5Qiw0REFBVSx5QkFBeUIsd0RBQUssZ0RBQWdELEtBQUssd0RBQUssc0RBQXNELHdEQUFLO0FBQ3hQO0FBQ0EsbUJBQW1CLDZEQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Jhc2UtdG9vbHRpcC5qcz9lZDcwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRvb2x0aXAgYXMgVG9vbHRpcENvbXBvbmVudCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IGFycmF5LCBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNPYmplY3RMaWtlLCBpc1N0cmluZywgaXNWYWxpZCwgbWVyZ2UgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBmaWVsZCBhcyBnZXRGaWVsZEFjY2Vzc29yIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuaW1wb3J0IHsgaXNGaWVsZEVuY29kZSB9IGZyb20gXCIuLi9wYXJzZS9tYXJrXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRvb2x0aXBBdHRyaWJ1dGVzID0gKHBvaW50LCB0aXRsZSwgY29udGVudCwgYm91bmRzLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgdG9vbHRpcFRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS50b29sdGlwO1xuICAgIHJldHVybiBtZXJnZSh7fSwgdG9vbHRpcFRoZW1lLCB7XG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICBwb2ludGVyWDogcG9pbnQueCxcbiAgICAgICAgcG9pbnRlclk6IHBvaW50LnksXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgcGFyZW50Qm91bmRzOiBib3VuZHNcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY2xhc3MgQmFzZVRvb2x0aXAgZXh0ZW5kcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3Iob3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgfVxuICAgIGJpbmQoKSB7XG4gICAgICAgIHN1cGVyLmJpbmQoKTtcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSB0aGlzLnZpZXcucmVuZGVyZXIuc3RhZ2UoKTtcbiAgICAgICAgIXRoaXMuX3Rvb2x0aXBDb21wb25lbnQgJiYgc3RhZ2UgJiYgKHRoaXMuX3Rvb2x0aXBDb21wb25lbnQgPSBuZXcgVG9vbHRpcENvbXBvbmVudCh7fSksIFxuICAgICAgICBzdGFnZS5kZWZhdWx0TGF5ZXIuYXBwZW5kQ2hpbGQodGhpcy5fdG9vbHRpcENvbXBvbmVudCkpO1xuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIHN1cGVyLnVuYmluZCgpO1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMudmlldy5yZW5kZXJlci5zdGFnZSgpO1xuICAgICAgICB0aGlzLl90b29sdGlwQ29tcG9uZW50ICYmIHN0YWdlICYmIChzdGFnZS5kZWZhdWx0TGF5ZXIucmVtb3ZlQ2hpbGQodGhpcy5fdG9vbHRpcENvbXBvbmVudCksIFxuICAgICAgICB0aGlzLl90b29sdGlwQ29tcG9uZW50LnJlbGVhc2UoKSwgdGhpcy5fdG9vbHRpcENvbXBvbmVudCA9IG51bGwpO1xuICAgIH1cbiAgICBfY29tcHV0ZVRvb2x0aXBSb3cocm93LCBkYXR1bSkge1xuICAgICAgICBsZXQga2V5LCB2YWx1ZSwgc3ltYm9sLCB2aXNpYmxlID0gaW52b2tlRnVuY3Rpb25UeXBlKHJvdy52aXNpYmxlLCB0aGlzLnBhcmFtZXRlcnMoKSwgZGF0dW0pO1xuICAgICAgICBpZiAodmlzaWJsZSA9ICEhaXNOaWwodmlzaWJsZSkgfHwgISF2aXNpYmxlLCBpc0ZpZWxkRW5jb2RlKHJvdy5rZXkpKSB7XG4gICAgICAgICAgICBrZXkgPSBnZXRGaWVsZEFjY2Vzc29yKHJvdy5rZXkuZmllbGQpKGRhdHVtKTtcbiAgICAgICAgfSBlbHNlIGtleSA9IGludm9rZUZ1bmN0aW9uVHlwZShyb3cua2V5LCB0aGlzLnBhcmFtZXRlcnMoKSwgZGF0dW0pO1xuICAgICAgICBpZiAoa2V5ID0gaXNOaWwoa2V5KSA/IHZvaWQgMCA6IGlzT2JqZWN0TGlrZShrZXkpID8ga2V5IDoge1xuICAgICAgICAgICAgdGV4dDoga2V5XG4gICAgICAgIH0sIGlzRmllbGRFbmNvZGUocm93LnZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBnZXRGaWVsZEFjY2Vzc29yKHJvdy52YWx1ZS5maWVsZCkoZGF0dW0pO1xuICAgICAgICB9IGVsc2UgdmFsdWUgPSBpbnZva2VGdW5jdGlvblR5cGUocm93LnZhbHVlLCB0aGlzLnBhcmFtZXRlcnMoKSwgZGF0dW0pO1xuICAgICAgICBpZiAodmFsdWUgPSBpc05pbCh2YWx1ZSkgPyB2b2lkIDAgOiBpc09iamVjdExpa2UodmFsdWUpID8gdmFsdWUgOiB7XG4gICAgICAgICAgICB0ZXh0OiB2YWx1ZVxuICAgICAgICB9LCBpc0ZpZWxkRW5jb2RlKHJvdy5zeW1ib2wpKSB7XG4gICAgICAgICAgICBzeW1ib2wgPSBnZXRGaWVsZEFjY2Vzc29yKHJvdy5zeW1ib2wuZmllbGQpKGRhdHVtKTtcbiAgICAgICAgfSBlbHNlIHN5bWJvbCA9IGludm9rZUZ1bmN0aW9uVHlwZShyb3cuc3ltYm9sLCB0aGlzLnBhcmFtZXRlcnMoKSwgZGF0dW0pO1xuICAgICAgICByZXR1cm4gc3ltYm9sID0gaXNOaWwoc3ltYm9sKSA/IHZvaWQgMCA6IGlzT2JqZWN0TGlrZShzeW1ib2wpID8gc3ltYm9sIDoge1xuICAgICAgICAgICAgc3ltYm9sVHlwZTogc3ltYm9sXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHNoYXBlOiBzeW1ib2xcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2NvbXB1dGVUaXRsZUNvbnRlbnQoZGF0dW0pIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBpc1ZhbGlkKHRoaXMub3B0aW9ucy50aXRsZSkgPyBpc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy50aXRsZSkgPyB0aGlzLm9wdGlvbnMudGl0bGUuY2FsbChudWxsLCBkYXR1bSwgbnVsbCwge30pIDogdGhpcy5fY29tcHV0ZVRvb2x0aXBSb3coaXNTdHJpbmcodGhpcy5vcHRpb25zLnRpdGxlKSA/IHtcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLm9wdGlvbnMudGl0bGVcbiAgICAgICAgfSA6IHRoaXMub3B0aW9ucy50aXRsZSwgZGF0dW0pIDogdm9pZCAwLCBjb250ZW50ID0gaXNWYWxpZCh0aGlzLm9wdGlvbnMuY29udGVudCkgPyBpc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5jb250ZW50KSA/IGFycmF5KHRoaXMub3B0aW9ucy5jb250ZW50LmNhbGwobnVsbCwgZGF0dW0sIG51bGwsIHt9KSkgOiBhcnJheShkYXR1bSkucmVkdWNlKCgoY29udGVudCwgZGF0dW1Sb3cpID0+IGNvbnRlbnQuY29uY2F0KGFycmF5KHRoaXMub3B0aW9ucy5jb250ZW50KS5tYXAoKHJvdyA9PiB0aGlzLl9jb21wdXRlVG9vbHRpcFJvdyhyb3csIGRhdHVtUm93KSkpKSksIFtdKSA6IHZvaWQgMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiBpc0FycmF5KHRpdGxlKSA/IHRpdGxlWzBdIDogdGl0bGUsXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50XG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS10b29sdGlwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseInteraction: () => (/* binding */ BaseInteraction)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n\n\nclass BaseInteraction {\n    constructor(view, options) {\n        this.references = new Map, this.view = view, this.depend(null == options ? void 0 : options.dependency);\n    }\n    getStartState() {\n        return null;\n    }\n    depend(grammar) {\n        this.references.clear(), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(grammar).map((grammar => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(grammar) ? this.view.getGrammarById(grammar) : grammar)).filter((ref => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ref))).forEach((ref => {\n            var _a;\n            this.references.set(ref, (null !== (_a = this.references.get(ref)) && void 0 !== _a ? _a : 0) + 1);\n        }));\n    }\n    parameters() {\n        const params = {};\n        return this.references.forEach(((count, ref) => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ref.id()) && (params[ref.id()] = ref.output());\n        })), params;\n    }\n    bind() {\n        const events = this.getEvents();\n        (null != events ? events : []).forEach((evt => {\n            evt.type && evt.handler && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(evt.type) ? evt.type.forEach((evtType => {\n                evtType && \"none\" !== evtType && this.view.addEventListener(evtType, evt.handler);\n            })) : \"none\" !== evt.type && this.view.addEventListener(evt.type, evt.handler));\n        }));\n    }\n    unbind() {\n        const events = this.getEvents();\n        (null != events ? events : []).forEach((evt => {\n            evt.type && evt.handler && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(evt.type) ? evt.type.forEach((evtType => {\n                evtType && \"none\" !== evtType && this.view.removeEventListener(evtType, evt.handler);\n            })) : \"none\" !== evt.type && this.view.removeEventListener(evt.type, evt.handler));\n        }));\n    }\n    start(element) {}\n    reset(element) {}\n    dispatchEvent(type, params) {\n        this.view.emit(`${this.type}:${type}`, params), \"start\" === type && this.options.onStart ? this.options.onStart(params) : \"reset\" === type && this.options.onReset ? this.options.onReset(params) : \"update\" === type && this.options.onUpdate ? this.options.onUpdate(params) : \"end\" === type && this.options.onEnd && this.options.onEnd(params);\n    }\n}\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRFOztBQUVyRTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFLLDBCQUEwQiw0REFBUSwwRUFBMEUsNERBQUs7QUFDdko7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQU87QUFDbkIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDREQUFPO0FBQy9DO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw0REFBTztBQUMvQztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsVUFBVSxHQUFHLEtBQUs7QUFDNUM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9iYXNlLmpzPzEzNTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXksIGlzQXJyYXksIGlzTmlsLCBpc1N0cmluZywgaXNWYWxpZCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzID0gbmV3IE1hcCwgdGhpcy52aWV3ID0gdmlldywgdGhpcy5kZXBlbmQobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5kZXBlbmRlbmN5KTtcbiAgICB9XG4gICAgZ2V0U3RhcnRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGRlcGVuZChncmFtbWFyKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlcy5jbGVhcigpLCBhcnJheShncmFtbWFyKS5tYXAoKGdyYW1tYXIgPT4gaXNTdHJpbmcoZ3JhbW1hcikgPyB0aGlzLnZpZXcuZ2V0R3JhbW1hckJ5SWQoZ3JhbW1hcikgOiBncmFtbWFyKSkuZmlsdGVyKChyZWYgPT4gIWlzTmlsKHJlZikpKS5mb3JFYWNoKChyZWYgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VzLnNldChyZWYsIChudWxsICE9PSAoX2EgPSB0aGlzLnJlZmVyZW5jZXMuZ2V0KHJlZikpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDApICsgMSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge307XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZXMuZm9yRWFjaCgoKGNvdW50LCByZWYpID0+IHtcbiAgICAgICAgICAgIGlzVmFsaWQocmVmLmlkKCkpICYmIChwYXJhbXNbcmVmLmlkKCldID0gcmVmLm91dHB1dCgpKTtcbiAgICAgICAgfSkpLCBwYXJhbXM7XG4gICAgfVxuICAgIGJpbmQoKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZ2V0RXZlbnRzKCk7XG4gICAgICAgIChudWxsICE9IGV2ZW50cyA/IGV2ZW50cyA6IFtdKS5mb3JFYWNoKChldnQgPT4ge1xuICAgICAgICAgICAgZXZ0LnR5cGUgJiYgZXZ0LmhhbmRsZXIgJiYgKGlzQXJyYXkoZXZ0LnR5cGUpID8gZXZ0LnR5cGUuZm9yRWFjaCgoZXZ0VHlwZSA9PiB7XG4gICAgICAgICAgICAgICAgZXZ0VHlwZSAmJiBcIm5vbmVcIiAhPT0gZXZ0VHlwZSAmJiB0aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBldnQuaGFuZGxlcik7XG4gICAgICAgICAgICB9KSkgOiBcIm5vbmVcIiAhPT0gZXZ0LnR5cGUgJiYgdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoZXZ0LnR5cGUsIGV2dC5oYW5kbGVyKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLmdldEV2ZW50cygpO1xuICAgICAgICAobnVsbCAhPSBldmVudHMgPyBldmVudHMgOiBbXSkuZm9yRWFjaCgoZXZ0ID0+IHtcbiAgICAgICAgICAgIGV2dC50eXBlICYmIGV2dC5oYW5kbGVyICYmIChpc0FycmF5KGV2dC50eXBlKSA/IGV2dC50eXBlLmZvckVhY2goKGV2dFR5cGUgPT4ge1xuICAgICAgICAgICAgICAgIGV2dFR5cGUgJiYgXCJub25lXCIgIT09IGV2dFR5cGUgJiYgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgZXZ0LmhhbmRsZXIpO1xuICAgICAgICAgICAgfSkpIDogXCJub25lXCIgIT09IGV2dC50eXBlICYmIHRoaXMudmlldy5yZW1vdmVFdmVudExpc3RlbmVyKGV2dC50eXBlLCBldnQuaGFuZGxlcikpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXJ0KGVsZW1lbnQpIHt9XG4gICAgcmVzZXQoZWxlbWVudCkge31cbiAgICBkaXNwYXRjaEV2ZW50KHR5cGUsIHBhcmFtcykge1xuICAgICAgICB0aGlzLnZpZXcuZW1pdChgJHt0aGlzLnR5cGV9OiR7dHlwZX1gLCBwYXJhbXMpLCBcInN0YXJ0XCIgPT09IHR5cGUgJiYgdGhpcy5vcHRpb25zLm9uU3RhcnQgPyB0aGlzLm9wdGlvbnMub25TdGFydChwYXJhbXMpIDogXCJyZXNldFwiID09PSB0eXBlICYmIHRoaXMub3B0aW9ucy5vblJlc2V0ID8gdGhpcy5vcHRpb25zLm9uUmVzZXQocGFyYW1zKSA6IFwidXBkYXRlXCIgPT09IHR5cGUgJiYgdGhpcy5vcHRpb25zLm9uVXBkYXRlID8gdGhpcy5vcHRpb25zLm9uVXBkYXRlKHBhcmFtcykgOiBcImVuZFwiID09PSB0eXBlICYmIHRoaXMub3B0aW9ucy5vbkVuZCAmJiB0aGlzLm9wdGlvbnMub25FbmQocGFyYW1zKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-active.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-active.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrushActive: () => (/* binding */ BrushActive)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n\n\n\n\nclass BrushActive extends _brush_base__WEBPACK_IMPORTED_MODULE_0__.BrushBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, BrushActive.defaultOptions, option)), this.type = BrushActive.type, \n        this.handleBrushUpdate = event => {\n            const elements = [];\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    this.isBrushContainGraphicItem(event.detail.operateMask, el.getGraphicItem()) ? (elements.push(el), \n                    el.addState(this.options.state)) : el.removeState(this.options.state);\n                }));\n            })), this._dispatchEvent(event, elements);\n        };\n    }\n    getStartState() {\n        return this.options.state;\n    }\n}\n\nBrushActive.type = \"brush-active\", BrushActive.defaultOptions = {\n    state: _graph_enums__WEBPACK_IMPORTED_MODULE_1__.InteractionStateEnum.active\n};\n//# sourceMappingURL=brush-active.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWFjdGl2ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0Q7O0FBRWI7O0FBRWxDLDBCQUEwQixrREFBUztBQUMxQztBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsOERBQW9CO0FBQy9CO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWFjdGl2ZS5qcz8xMjc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVyYWN0aW9uU3RhdGVFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IEJydXNoQmFzZSB9IGZyb20gXCIuL2JydXNoLWJhc2VcIjtcblxuZXhwb3J0IGNsYXNzIEJydXNoQWN0aXZlIGV4dGVuZHMgQnJ1c2hCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb24pIHtcbiAgICAgICAgc3VwZXIodmlldywgT2JqZWN0LmFzc2lnbih7fSwgQnJ1c2hBY3RpdmUuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbikpLCB0aGlzLnR5cGUgPSBCcnVzaEFjdGl2ZS50eXBlLCBcbiAgICAgICAgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0JydXNoQ29udGFpbkdyYXBoaWNJdGVtKGV2ZW50LmRldGFpbC5vcGVyYXRlTWFzaywgZWwuZ2V0R3JhcGhpY0l0ZW0oKSkgPyAoZWxlbWVudHMucHVzaChlbCksIFxuICAgICAgICAgICAgICAgICAgICBlbC5hZGRTdGF0ZSh0aGlzLm9wdGlvbnMuc3RhdGUpKSA6IGVsLnJlbW92ZVN0YXRlKHRoaXMub3B0aW9ucy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLl9kaXNwYXRjaEV2ZW50KGV2ZW50LCBlbGVtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFN0YXJ0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuc3RhdGU7XG4gICAgfVxufVxuXG5CcnVzaEFjdGl2ZS50eXBlID0gXCJicnVzaC1hY3RpdmVcIiwgQnJ1c2hBY3RpdmUuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgc3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmFjdGl2ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJydXNoLWFjdGl2ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-active.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrushBase: () => (/* binding */ BrushBase)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/brush/brush.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/brush/type.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/graphics/polygon.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/graphics/algorithm/intersect.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\n\n\nclass BrushBase extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.handleAfterDraw = () => {\n            var _a, _b, _c, _d;\n            const stage = this.view.renderer.stage();\n            if (this._brushComp || !stage) return;\n            const viewBox = this.view.getViewBox();\n            this._brushComp = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.Brush({\n                interactiveRange: null !== (_a = this.options.interactiveRange) && void 0 !== _a ? _a : {\n                    minX: viewBox.x1,\n                    maxX: viewBox.x2,\n                    minY: viewBox.y1,\n                    maxY: viewBox.y2\n                },\n                xRange: null !== (_b = this.options.xRange) && void 0 !== _b ? _b : [ viewBox.x1, viewBox.x2 ],\n                yRange: null !== (_c = this.options.yRange) && void 0 !== _c ? _c : [ viewBox.y1, viewBox.y2 ],\n                brushMode: null !== (_d = this.options.brushMode) && void 0 !== _d ? _d : \"single\",\n                brushType: this.options.brushType,\n                brushStyle: this.options.brushStyle,\n                brushMoved: this.options.brushMoved,\n                removeOnClick: this.options.removeOnClick,\n                sizeThreshold: this.options.sizeThreshold,\n                delayType: this.options.delayType,\n                delayTime: this.options.delayTime\n            }), this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.brushClear, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moveEnd, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawEnd, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawStart, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moveStart, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawing, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moving, this.handleBrushUpdate), stage.defaultLayer.appendChild(this._brushComp);\n        }, this.options = options, this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getEvents() {\n        return [ {\n            type: _graph_enums__WEBPACK_IMPORTED_MODULE_3__.HOOK_EVENT.BEFORE_DO_RENDER,\n            handler: this.handleAfterDraw\n        } ];\n    }\n    isPolygonBrushContainGraphicItem(brushMask, graphicItem, offset) {\n        const points = brushMask.attribute.points, {a: a, b: b, c: c, d: d, e: e, f: f} = brushMask.globalTransMatrix, {x: dx = 0, y: dy = 0} = null != offset ? offset : {}, pointsCoord = points.map((p => ({\n            x: a * p.x + c * p.y + e + dx,\n            y: b * p.x + d * p.y + f + dy\n        }))), globalAABBBoundsOffset = brushMask.globalAABBBounds.clone().set(brushMask.globalAABBBounds.x1 + dx, brushMask.globalAABBBounds.y1 + dy, brushMask.globalAABBBounds.x2 + dx, brushMask.globalAABBBounds.y2 + dy), x = graphicItem.globalTransMatrix.e, y = graphicItem.globalTransMatrix.f;\n        if (\"symbol\" === graphicItem.type || \"circle\" === graphicItem.type) return globalAABBBoundsOffset.contains(x, y) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.polygonContainPoint)(pointsCoord, x, y);\n        if (\"rect\" === graphicItem.type) {\n            const {width: width = 0, height: height = 0} = null == graphicItem ? void 0 : graphicItem.attribute;\n            return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.polygonIntersectPolygon)(pointsCoord, [ {\n                x: x,\n                y: y\n            }, {\n                x: x + width,\n                y: y\n            }, {\n                x: x + width,\n                y: y + height\n            }, {\n                x: x,\n                y: y + height\n            } ]);\n        }\n        return brushMask.globalAABBBounds.intersects(graphicItem.globalAABBBounds);\n    }\n    isRectBrushContainGraphicItem(brushMask, graphicItem, offset) {\n        const {x: dx = 0, y: dy = 0} = null != offset ? offset : {}, globalAABBBoundsOffset = brushMask.globalAABBBounds.clone().set(brushMask.globalAABBBounds.x1 + dx, brushMask.globalAABBBounds.y1 + dy, brushMask.globalAABBBounds.x2 + dx, brushMask.globalAABBBounds.y2 + dy), x = graphicItem.globalTransMatrix.e, y = graphicItem.globalTransMatrix.f;\n        if (\"symbol\" === graphicItem.type || \"circle\" === graphicItem.type) return globalAABBBoundsOffset.contains(x, y);\n        if (\"rect\" === graphicItem.type) {\n            const {width: width = 0, height: height = 0} = graphicItem.attribute;\n            return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.isRectIntersect)(globalAABBBoundsOffset, {\n                x1: x,\n                y1: y,\n                x2: x + width,\n                y2: y + height\n            }, !1);\n        }\n        return brushMask.globalAABBBounds.intersects(graphicItem.globalAABBBounds);\n    }\n    isBrushContainGraphicItem(brushMask, graphicItem, offset) {\n        var _a;\n        return !(!((null == brushMask ? void 0 : brushMask.globalTransMatrix) && brushMask.globalAABBBounds && !brushMask.globalAABBBounds.empty() && graphicItem && (null === (_a = null == brushMask ? void 0 : brushMask.attribute) || void 0 === _a ? void 0 : _a.points)) || brushMask.attribute.points.length <= 1) && (\"polygon\" === this.options.brushType ? this.isPolygonBrushContainGraphicItem(brushMask, graphicItem, offset) : this.isRectBrushContainGraphicItem(brushMask, graphicItem, offset));\n    }\n    unbind() {\n        super.unbind();\n        const stage = this.view.renderer.stage();\n        this._brushComp && stage && (stage.defaultLayer.removeChild(this._brushComp), this._brushComp.releaseBrushEvents(), \n        this._brushComp.release(), this._brushComp = null);\n    }\n    _dispatchEvent(event, activeElements) {\n        const params = {\n            operateType: event.type,\n            operateMask: event.detail.operateMask,\n            activeElements: activeElements\n        };\n        event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawStart || event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moveStart ? this.dispatchEvent(\"start\", params) : event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawing || event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moving ? this.dispatchEvent(\"update\", params) : event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawEnd || event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moveEnd ? this.dispatchEvent(\"end\", params) : this.dispatchEvent(\"reset\", params);\n    }\n}\n//# sourceMappingURL=brush-base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtRTs7QUFFMUI7O0FBRXdEOztBQUVyRDs7QUFFckMsd0JBQXdCLGtEQUFlO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywrREFBSztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvQ0FBb0Msc0VBQVk7QUFDN0QsNkNBQTZDLHNFQUFZO0FBQ3pELDZDQUE2QyxzRUFBWTtBQUN6RCw2Q0FBNkMsc0VBQVk7QUFDekQsNkNBQTZDLHNFQUFZO0FBQ3pELDZDQUE2QyxzRUFBWTtBQUN6RCw2Q0FBNkMsc0VBQVk7QUFDekQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvREFBVTtBQUM1QjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0Esb0RBQW9ELG9DQUFvQyxnQ0FBZ0Msc0JBQXNCLDhCQUE4QjtBQUM1SztBQUNBO0FBQ0EsU0FBUztBQUNULDRIQUE0SCxxRUFBbUI7QUFDL0k7QUFDQSxtQkFBbUIsc0NBQXNDO0FBQ3pELG1CQUFtQix5RUFBdUI7QUFDMUM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0JBQXNCLDhCQUE4QjtBQUNuRTtBQUNBO0FBQ0EsbUJBQW1CLHNDQUFzQztBQUN6RCxtQkFBbUIsaUVBQWU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0VBQVksNkJBQTZCLHNFQUFZLGtFQUFrRSxzRUFBWSwyQkFBMkIsc0VBQVksZ0VBQWdFLHNFQUFZLDJCQUEyQixzRUFBWTtBQUNwVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWJhc2UuanM/ZGQ0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcnVzaCwgSU9wZXJhdGVUeXBlIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xuXG5pbXBvcnQgeyBwb2x5Z29uQ29udGFpblBvaW50LCBwb2x5Z29uSW50ZXJzZWN0UG9seWdvbiwgaXNSZWN0SW50ZXJzZWN0IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgSE9PS19FVkVOVCB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgQnJ1c2hCYXNlIGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLmhhbmRsZUFmdGVyRHJhdyA9ICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy52aWV3LnJlbmRlcmVyLnN0YWdlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fYnJ1c2hDb21wIHx8ICFzdGFnZSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgdmlld0JveCA9IHRoaXMudmlldy5nZXRWaWV3Qm94KCk7XG4gICAgICAgICAgICB0aGlzLl9icnVzaENvbXAgPSBuZXcgQnJ1c2goe1xuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUmFuZ2U6IG51bGwgIT09IChfYSA9IHRoaXMub3B0aW9ucy5pbnRlcmFjdGl2ZVJhbmdlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7XG4gICAgICAgICAgICAgICAgICAgIG1pblg6IHZpZXdCb3gueDEsXG4gICAgICAgICAgICAgICAgICAgIG1heFg6IHZpZXdCb3gueDIsXG4gICAgICAgICAgICAgICAgICAgIG1pblk6IHZpZXdCb3gueTEsXG4gICAgICAgICAgICAgICAgICAgIG1heFk6IHZpZXdCb3gueTJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHhSYW5nZTogbnVsbCAhPT0gKF9iID0gdGhpcy5vcHRpb25zLnhSYW5nZSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogWyB2aWV3Qm94LngxLCB2aWV3Qm94LngyIF0sXG4gICAgICAgICAgICAgICAgeVJhbmdlOiBudWxsICE9PSAoX2MgPSB0aGlzLm9wdGlvbnMueVJhbmdlKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBbIHZpZXdCb3gueTEsIHZpZXdCb3gueTIgXSxcbiAgICAgICAgICAgICAgICBicnVzaE1vZGU6IG51bGwgIT09IChfZCA9IHRoaXMub3B0aW9ucy5icnVzaE1vZGUpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IFwic2luZ2xlXCIsXG4gICAgICAgICAgICAgICAgYnJ1c2hUeXBlOiB0aGlzLm9wdGlvbnMuYnJ1c2hUeXBlLFxuICAgICAgICAgICAgICAgIGJydXNoU3R5bGU6IHRoaXMub3B0aW9ucy5icnVzaFN0eWxlLFxuICAgICAgICAgICAgICAgIGJydXNoTW92ZWQ6IHRoaXMub3B0aW9ucy5icnVzaE1vdmVkLFxuICAgICAgICAgICAgICAgIHJlbW92ZU9uQ2xpY2s6IHRoaXMub3B0aW9ucy5yZW1vdmVPbkNsaWNrLFxuICAgICAgICAgICAgICAgIHNpemVUaHJlc2hvbGQ6IHRoaXMub3B0aW9ucy5zaXplVGhyZXNob2xkLFxuICAgICAgICAgICAgICAgIGRlbGF5VHlwZTogdGhpcy5vcHRpb25zLmRlbGF5VHlwZSxcbiAgICAgICAgICAgICAgICBkZWxheVRpbWU6IHRoaXMub3B0aW9ucy5kZWxheVRpbWVcbiAgICAgICAgICAgIH0pLCB0aGlzLl9icnVzaENvbXAuYWRkRXZlbnRMaXN0ZW5lcihJT3BlcmF0ZVR5cGUuYnJ1c2hDbGVhciwgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5fYnJ1c2hDb21wLmFkZEV2ZW50TGlzdGVuZXIoSU9wZXJhdGVUeXBlLm1vdmVFbmQsIHRoaXMuaGFuZGxlQnJ1c2hVcGRhdGUpLCBcbiAgICAgICAgICAgIHRoaXMuX2JydXNoQ29tcC5hZGRFdmVudExpc3RlbmVyKElPcGVyYXRlVHlwZS5kcmF3RW5kLCB0aGlzLmhhbmRsZUJydXNoVXBkYXRlKSwgXG4gICAgICAgICAgICB0aGlzLl9icnVzaENvbXAuYWRkRXZlbnRMaXN0ZW5lcihJT3BlcmF0ZVR5cGUuZHJhd1N0YXJ0LCB0aGlzLmhhbmRsZUJydXNoVXBkYXRlKSwgXG4gICAgICAgICAgICB0aGlzLl9icnVzaENvbXAuYWRkRXZlbnRMaXN0ZW5lcihJT3BlcmF0ZVR5cGUubW92ZVN0YXJ0LCB0aGlzLmhhbmRsZUJydXNoVXBkYXRlKSwgXG4gICAgICAgICAgICB0aGlzLl9icnVzaENvbXAuYWRkRXZlbnRMaXN0ZW5lcihJT3BlcmF0ZVR5cGUuZHJhd2luZywgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5fYnJ1c2hDb21wLmFkZEV2ZW50TGlzdGVuZXIoSU9wZXJhdGVUeXBlLm1vdmluZywgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSksIHN0YWdlLmRlZmF1bHRMYXllci5hcHBlbmRDaGlsZCh0aGlzLl9icnVzaENvbXApO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBvcHRpb25zLCB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogSE9PS19FVkVOVC5CRUZPUkVfRE9fUkVOREVSLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVBZnRlckRyYXdcbiAgICAgICAgfSBdO1xuICAgIH1cbiAgICBpc1BvbHlnb25CcnVzaENvbnRhaW5HcmFwaGljSXRlbShicnVzaE1hc2ssIGdyYXBoaWNJdGVtLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gYnJ1c2hNYXNrLmF0dHJpYnV0ZS5wb2ludHMsIHthOiBhLCBiOiBiLCBjOiBjLCBkOiBkLCBlOiBlLCBmOiBmfSA9IGJydXNoTWFzay5nbG9iYWxUcmFuc01hdHJpeCwge3g6IGR4ID0gMCwgeTogZHkgPSAwfSA9IG51bGwgIT0gb2Zmc2V0ID8gb2Zmc2V0IDoge30sIHBvaW50c0Nvb3JkID0gcG9pbnRzLm1hcCgocCA9PiAoe1xuICAgICAgICAgICAgeDogYSAqIHAueCArIGMgKiBwLnkgKyBlICsgZHgsXG4gICAgICAgICAgICB5OiBiICogcC54ICsgZCAqIHAueSArIGYgKyBkeVxuICAgICAgICB9KSkpLCBnbG9iYWxBQUJCQm91bmRzT2Zmc2V0ID0gYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMuY2xvbmUoKS5zZXQoYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMueDEgKyBkeCwgYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMueTEgKyBkeSwgYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMueDIgKyBkeCwgYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMueTIgKyBkeSksIHggPSBncmFwaGljSXRlbS5nbG9iYWxUcmFuc01hdHJpeC5lLCB5ID0gZ3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXguZjtcbiAgICAgICAgaWYgKFwic3ltYm9sXCIgPT09IGdyYXBoaWNJdGVtLnR5cGUgfHwgXCJjaXJjbGVcIiA9PT0gZ3JhcGhpY0l0ZW0udHlwZSkgcmV0dXJuIGdsb2JhbEFBQkJCb3VuZHNPZmZzZXQuY29udGFpbnMoeCwgeSkgJiYgcG9seWdvbkNvbnRhaW5Qb2ludChwb2ludHNDb29yZCwgeCwgeSk7XG4gICAgICAgIGlmIChcInJlY3RcIiA9PT0gZ3JhcGhpY0l0ZW0udHlwZSkge1xuICAgICAgICAgICAgY29uc3Qge3dpZHRoOiB3aWR0aCA9IDAsIGhlaWdodDogaGVpZ2h0ID0gMH0gPSBudWxsID09IGdyYXBoaWNJdGVtID8gdm9pZCAwIDogZ3JhcGhpY0l0ZW0uYXR0cmlidXRlO1xuICAgICAgICAgICAgcmV0dXJuIHBvbHlnb25JbnRlcnNlY3RQb2x5Z29uKHBvaW50c0Nvb3JkLCBbIHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB4OiB4ICsgd2lkdGgsXG4gICAgICAgICAgICAgICAgeTogeVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHg6IHggKyB3aWR0aCxcbiAgICAgICAgICAgICAgICB5OiB5ICsgaGVpZ2h0XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiB5ICsgaGVpZ2h0XG4gICAgICAgICAgICB9IF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBicnVzaE1hc2suZ2xvYmFsQUFCQkJvdW5kcy5pbnRlcnNlY3RzKGdyYXBoaWNJdGVtLmdsb2JhbEFBQkJCb3VuZHMpO1xuICAgIH1cbiAgICBpc1JlY3RCcnVzaENvbnRhaW5HcmFwaGljSXRlbShicnVzaE1hc2ssIGdyYXBoaWNJdGVtLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3Qge3g6IGR4ID0gMCwgeTogZHkgPSAwfSA9IG51bGwgIT0gb2Zmc2V0ID8gb2Zmc2V0IDoge30sIGdsb2JhbEFBQkJCb3VuZHNPZmZzZXQgPSBicnVzaE1hc2suZ2xvYmFsQUFCQkJvdW5kcy5jbG9uZSgpLnNldChicnVzaE1hc2suZ2xvYmFsQUFCQkJvdW5kcy54MSArIGR4LCBicnVzaE1hc2suZ2xvYmFsQUFCQkJvdW5kcy55MSArIGR5LCBicnVzaE1hc2suZ2xvYmFsQUFCQkJvdW5kcy54MiArIGR4LCBicnVzaE1hc2suZ2xvYmFsQUFCQkJvdW5kcy55MiArIGR5KSwgeCA9IGdyYXBoaWNJdGVtLmdsb2JhbFRyYW5zTWF0cml4LmUsIHkgPSBncmFwaGljSXRlbS5nbG9iYWxUcmFuc01hdHJpeC5mO1xuICAgICAgICBpZiAoXCJzeW1ib2xcIiA9PT0gZ3JhcGhpY0l0ZW0udHlwZSB8fCBcImNpcmNsZVwiID09PSBncmFwaGljSXRlbS50eXBlKSByZXR1cm4gZ2xvYmFsQUFCQkJvdW5kc09mZnNldC5jb250YWlucyh4LCB5KTtcbiAgICAgICAgaWYgKFwicmVjdFwiID09PSBncmFwaGljSXRlbS50eXBlKSB7XG4gICAgICAgICAgICBjb25zdCB7d2lkdGg6IHdpZHRoID0gMCwgaGVpZ2h0OiBoZWlnaHQgPSAwfSA9IGdyYXBoaWNJdGVtLmF0dHJpYnV0ZTtcbiAgICAgICAgICAgIHJldHVybiBpc1JlY3RJbnRlcnNlY3QoZ2xvYmFsQUFCQkJvdW5kc09mZnNldCwge1xuICAgICAgICAgICAgICAgIHgxOiB4LFxuICAgICAgICAgICAgICAgIHkxOiB5LFxuICAgICAgICAgICAgICAgIHgyOiB4ICsgd2lkdGgsXG4gICAgICAgICAgICAgICAgeTI6IHkgKyBoZWlnaHRcbiAgICAgICAgICAgIH0sICExKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMuaW50ZXJzZWN0cyhncmFwaGljSXRlbS5nbG9iYWxBQUJCQm91bmRzKTtcbiAgICB9XG4gICAgaXNCcnVzaENvbnRhaW5HcmFwaGljSXRlbShicnVzaE1hc2ssIGdyYXBoaWNJdGVtLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gISghKChudWxsID09IGJydXNoTWFzayA/IHZvaWQgMCA6IGJydXNoTWFzay5nbG9iYWxUcmFuc01hdHJpeCkgJiYgYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMgJiYgIWJydXNoTWFzay5nbG9iYWxBQUJCQm91bmRzLmVtcHR5KCkgJiYgZ3JhcGhpY0l0ZW0gJiYgKG51bGwgPT09IChfYSA9IG51bGwgPT0gYnJ1c2hNYXNrID8gdm9pZCAwIDogYnJ1c2hNYXNrLmF0dHJpYnV0ZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnBvaW50cykpIHx8IGJydXNoTWFzay5hdHRyaWJ1dGUucG9pbnRzLmxlbmd0aCA8PSAxKSAmJiAoXCJwb2x5Z29uXCIgPT09IHRoaXMub3B0aW9ucy5icnVzaFR5cGUgPyB0aGlzLmlzUG9seWdvbkJydXNoQ29udGFpbkdyYXBoaWNJdGVtKGJydXNoTWFzaywgZ3JhcGhpY0l0ZW0sIG9mZnNldCkgOiB0aGlzLmlzUmVjdEJydXNoQ29udGFpbkdyYXBoaWNJdGVtKGJydXNoTWFzaywgZ3JhcGhpY0l0ZW0sIG9mZnNldCkpO1xuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIHN1cGVyLnVuYmluZCgpO1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMudmlldy5yZW5kZXJlci5zdGFnZSgpO1xuICAgICAgICB0aGlzLl9icnVzaENvbXAgJiYgc3RhZ2UgJiYgKHN0YWdlLmRlZmF1bHRMYXllci5yZW1vdmVDaGlsZCh0aGlzLl9icnVzaENvbXApLCB0aGlzLl9icnVzaENvbXAucmVsZWFzZUJydXNoRXZlbnRzKCksIFxuICAgICAgICB0aGlzLl9icnVzaENvbXAucmVsZWFzZSgpLCB0aGlzLl9icnVzaENvbXAgPSBudWxsKTtcbiAgICB9XG4gICAgX2Rpc3BhdGNoRXZlbnQoZXZlbnQsIGFjdGl2ZUVsZW1lbnRzKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIG9wZXJhdGVUeXBlOiBldmVudC50eXBlLFxuICAgICAgICAgICAgb3BlcmF0ZU1hc2s6IGV2ZW50LmRldGFpbC5vcGVyYXRlTWFzayxcbiAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnRzOiBhY3RpdmVFbGVtZW50c1xuICAgICAgICB9O1xuICAgICAgICBldmVudC50eXBlID09PSBJT3BlcmF0ZVR5cGUuZHJhd1N0YXJ0IHx8IGV2ZW50LnR5cGUgPT09IElPcGVyYXRlVHlwZS5tb3ZlU3RhcnQgPyB0aGlzLmRpc3BhdGNoRXZlbnQoXCJzdGFydFwiLCBwYXJhbXMpIDogZXZlbnQudHlwZSA9PT0gSU9wZXJhdGVUeXBlLmRyYXdpbmcgfHwgZXZlbnQudHlwZSA9PT0gSU9wZXJhdGVUeXBlLm1vdmluZyA/IHRoaXMuZGlzcGF0Y2hFdmVudChcInVwZGF0ZVwiLCBwYXJhbXMpIDogZXZlbnQudHlwZSA9PT0gSU9wZXJhdGVUeXBlLmRyYXdFbmQgfHwgZXZlbnQudHlwZSA9PT0gSU9wZXJhdGVUeXBlLm1vdmVFbmQgPyB0aGlzLmRpc3BhdGNoRXZlbnQoXCJlbmRcIiwgcGFyYW1zKSA6IHRoaXMuZGlzcGF0Y2hFdmVudChcInJlc2V0XCIsIHBhcmFtcyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJ1c2gtYmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-filter.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-filter.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrushFilter: () => (/* binding */ BrushFilter)\n/* harmony export */ });\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\nclass BrushFilter extends _brush_base__WEBPACK_IMPORTED_MODULE_0__.BrushBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, BrushFilter.defaultOptions, option)), this.type = BrushFilter.type, \n        this.handleBrushUpdate = event => {\n            const elements = [];\n            let filterValue = [];\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    this.isBrushContainGraphicItem(event.detail.operateMask, el.getGraphicItem()) && (elements.push(el), \n                    filterValue = filterValue.concat((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(el.getDatum())));\n                }));\n            })), this._data && (filterValue = Array.from(new Set(filterValue)), this._filterValue && filterValue.length === this._filterValue.length && !filterValue.some((datum => !this._filterValue.includes(datum))) || (this._filterValue = filterValue, \n            this.handleFilter())), this._dispatchEvent(event, elements);\n        }, this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._data) return [];\n        const transform = this.options.target.transform;\n        return this._filterData(this._data, null, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.DataFilterRank.brush, null, void 0, ((data, filterValue) => {\n            const nextData = filterValue || data;\n            return transform ? transform(data, filterValue) : nextData;\n        })), super.getEvents();\n    }\n}\n\nBrushFilter.type = \"brush-filter\", BrushFilter.defaultOptions = {};\n//# sourceMappingURL=brush-filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWZpbHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF5Qzs7QUFFVTs7QUFFSDs7QUFFekMsMEJBQTBCLGtEQUFTO0FBQzFDO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx1REFBSztBQUMxRCxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsU0FBUyxlQUFlLDREQUFRO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHdEQUFjO0FBQ2hFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9icnVzaC1maWx0ZXIuanM/ZTgxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcnVzaEJhc2UgfSBmcm9tIFwiLi9icnVzaC1iYXNlXCI7XG5cbmltcG9ydCB7IGlzU3RyaW5nLCBhcnJheSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IERhdGFGaWx0ZXJSYW5rIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmV4cG9ydCBjbGFzcyBCcnVzaEZpbHRlciBleHRlbmRzIEJydXNoQmFzZSB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9uKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIE9iamVjdC5hc3NpZ24oe30sIEJydXNoRmlsdGVyLmRlZmF1bHRPcHRpb25zLCBvcHRpb24pKSwgdGhpcy50eXBlID0gQnJ1c2hGaWx0ZXIudHlwZSwgXG4gICAgICAgIHRoaXMuaGFuZGxlQnJ1c2hVcGRhdGUgPSBldmVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgbGV0IGZpbHRlclZhbHVlID0gW107XG4gICAgICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0JydXNoQ29udGFpbkdyYXBoaWNJdGVtKGV2ZW50LmRldGFpbC5vcGVyYXRlTWFzaywgZWwuZ2V0R3JhcGhpY0l0ZW0oKSkgJiYgKGVsZW1lbnRzLnB1c2goZWwpLCBcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVmFsdWUgPSBmaWx0ZXJWYWx1ZS5jb25jYXQoYXJyYXkoZWwuZ2V0RGF0dW0oKSkpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSksIHRoaXMuX2RhdGEgJiYgKGZpbHRlclZhbHVlID0gQXJyYXkuZnJvbShuZXcgU2V0KGZpbHRlclZhbHVlKSksIHRoaXMuX2ZpbHRlclZhbHVlICYmIGZpbHRlclZhbHVlLmxlbmd0aCA9PT0gdGhpcy5fZmlsdGVyVmFsdWUubGVuZ3RoICYmICFmaWx0ZXJWYWx1ZS5zb21lKChkYXR1bSA9PiAhdGhpcy5fZmlsdGVyVmFsdWUuaW5jbHVkZXMoZGF0dW0pKSkgfHwgKHRoaXMuX2ZpbHRlclZhbHVlID0gZmlsdGVyVmFsdWUsIFxuICAgICAgICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIoKSkpLCB0aGlzLl9kaXNwYXRjaEV2ZW50KGV2ZW50LCBlbGVtZW50cyk7XG4gICAgICAgIH0sIHRoaXMuX2RhdGEgPSBpc1N0cmluZyh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpID8gdmlldy5nZXREYXRhQnlJZCh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpIDogdGhpcy5vcHRpb25zLnRhcmdldC5kYXRhO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZGF0YSkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLm9wdGlvbnMudGFyZ2V0LnRyYW5zZm9ybTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlckRhdGEodGhpcy5fZGF0YSwgbnVsbCwgRGF0YUZpbHRlclJhbmsuYnJ1c2gsIG51bGwsIHZvaWQgMCwgKChkYXRhLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dERhdGEgPSBmaWx0ZXJWYWx1ZSB8fCBkYXRhO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybSA/IHRyYW5zZm9ybShkYXRhLCBmaWx0ZXJWYWx1ZSkgOiBuZXh0RGF0YTtcbiAgICAgICAgfSkpLCBzdXBlci5nZXRFdmVudHMoKTtcbiAgICB9XG59XG5cbkJydXNoRmlsdGVyLnR5cGUgPSBcImJydXNoLWZpbHRlclwiLCBCcnVzaEZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJ1c2gtZmlsdGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-highlight.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-highlight.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrushHighlight: () => (/* binding */ BrushHighlight)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/brush/type.js\");\n\n\n\n\n\n\nclass BrushHighlight extends _brush_base__WEBPACK_IMPORTED_MODULE_0__.BrushBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, BrushHighlight.defaultOptions, option)), this.type = BrushHighlight.type, \n        this.handleBrushUpdate = event => {\n            const elements = [];\n            if (event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.IOperateType.brushClear) {\n                const states = [ this.options.blurState, this.options.highlightState ];\n                this._marks.forEach((mark => {\n                    mark.elements.forEach((el => {\n                        el.removeState(states);\n                    }));\n                }));\n            } else this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    this.isBrushContainGraphicItem(event.detail.operateMask, el.getGraphicItem()) ? (elements.push(el), \n                    el.updateStates({\n                        [this.options.blurState]: !1,\n                        [this.options.highlightState]: !0\n                    })) : el.updateStates({\n                        [this.options.blurState]: !0,\n                        [this.options.highlightState]: !1\n                    });\n                }));\n            }));\n            this._dispatchEvent(event, elements);\n        };\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n}\n\nBrushHighlight.type = \"brush-highlight\", BrushHighlight.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.blur\n};\n//# sourceMappingURL=brush-highlight.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWhpZ2hsaWdodC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNEOztBQUViOztBQUVtQjs7QUFFckQsNkJBQTZCLGtEQUFTO0FBQzdDO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSwrQkFBK0Isc0VBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiw4REFBb0I7QUFDeEMsZUFBZSw4REFBb0I7QUFDbkM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvYnJ1c2gtaGlnaGxpZ2h0LmpzP2FlZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW50ZXJhY3Rpb25TdGF0ZUVudW0gfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgQnJ1c2hCYXNlIH0gZnJvbSBcIi4vYnJ1c2gtYmFzZVwiO1xuXG5pbXBvcnQgeyBJT3BlcmF0ZVR5cGUgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5leHBvcnQgY2xhc3MgQnJ1c2hIaWdobGlnaHQgZXh0ZW5kcyBCcnVzaEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbikge1xuICAgICAgICBzdXBlcih2aWV3LCBPYmplY3QuYXNzaWduKHt9LCBCcnVzaEhpZ2hsaWdodC5kZWZhdWx0T3B0aW9ucywgb3B0aW9uKSksIHRoaXMudHlwZSA9IEJydXNoSGlnaGxpZ2h0LnR5cGUsIFxuICAgICAgICB0aGlzLmhhbmRsZUJydXNoVXBkYXRlID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBJT3BlcmF0ZVR5cGUuYnJ1c2hDbGVhcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlcyA9IFsgdGhpcy5vcHRpb25zLmJsdXJTdGF0ZSwgdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlIF07XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlU3RhdGUoc3RhdGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0JydXNoQ29udGFpbkdyYXBoaWNJdGVtKGV2ZW50LmRldGFpbC5vcGVyYXRlTWFzaywgZWwuZ2V0R3JhcGhpY0l0ZW0oKSkgPyAoZWxlbWVudHMucHVzaChlbCksIFxuICAgICAgICAgICAgICAgICAgICBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5ibHVyU3RhdGVdOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGVdOiAhMFxuICAgICAgICAgICAgICAgICAgICB9KSkgOiBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5ibHVyU3RhdGVdOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGVdOiAhMVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGV2ZW50LCBlbGVtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFN0YXJ0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGU7XG4gICAgfVxufVxuXG5CcnVzaEhpZ2hsaWdodC50eXBlID0gXCJicnVzaC1oaWdobGlnaHRcIiwgQnJ1c2hIaWdobGlnaHQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgaGlnaGxpZ2h0U3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmhpZ2hsaWdodCxcbiAgICBibHVyU3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmJsdXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icnVzaC1oaWdobGlnaHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-highlight.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/crosshair.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/crosshair.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Crosshair: () => (/* binding */ Crosshair),\n/* harmony export */   generateCircleCrosshairAttributes: () => (/* binding */ generateCircleCrosshairAttributes),\n/* harmony export */   generateLineCrosshairAttributes: () => (/* binding */ generateLineCrosshairAttributes),\n/* harmony export */   generatePolygonCrosshairAttributes: () => (/* binding */ generatePolygonCrosshairAttributes),\n/* harmony export */   generateRectCrosshairAttributes: () => (/* binding */ generateRectCrosshairAttributes),\n/* harmony export */   generateRingCrosshairAttributes: () => (/* binding */ generateRingCrosshairAttributes),\n/* harmony export */   generateSectorCrosshairAttributes: () => (/* binding */ generateSectorCrosshairAttributes)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/angle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/crosshair/line.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/crosshair/rect.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/crosshair/sector.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/crosshair/circle.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/crosshair/polygon.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst computeCrosshairStartEnd = (point, scale, type, groupSize, config, offset = 0) => {\n    var _a, _b;\n    const start = {\n        x: 0,\n        y: 0\n    }, end = {\n        x: 0,\n        y: 0\n    }, radius = \"angle\" === type ? null !== (_a = null == config ? void 0 : config.radius) && void 0 !== _a ? _a : Math.min(groupSize.width, groupSize.height) / 2 : null, center = \"angle\" === type ? null !== (_b = null == config ? void 0 : config.center) && void 0 !== _b ? _b : {\n        x: groupSize.width / 2,\n        y: groupSize.height / 2\n    } : null;\n    let current = 0;\n    if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isDiscrete)(scale.type)) {\n        if (\"x\" === type) current = scale.scale(scale.invert(point.x)); else if (\"y\" === type) current = scale.scale(scale.invert(point.y)); else if (\"angle\" === type) {\n            const angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.clampRadian)((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point) + 2 * Math.PI);\n            current = scale.scale(scale.invert(angle));\n        }\n    } else (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isContinuous)(scale.type) && (\"x\" === type ? current = point.x : \"y\" === type ? current = point.y : \"angle\" === type && (current = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point)));\n    switch (current += offset, type) {\n      case \"x\":\n        start.x = current, start.y = 0, end.x = current, end.y = groupSize.height;\n        break;\n\n      case \"y\":\n        start.x = 0, start.y = current, end.x = groupSize.width, end.y = current;\n        break;\n\n      case \"angle\":\n        start.x = center.x, start.y = center.y, end.x = center.x + radius * Math.cos(current), \n        end.y = center.y + radius * Math.sin(current);\n    }\n    return {\n        start: start,\n        end: end\n    };\n}, computeRadiusOfTangential = (point, scale, type, groupSize, config, addition) => {\n    var _a, _b, _c;\n    const center = null !== (_b = null !== (_a = null == addition ? void 0 : addition.center) && void 0 !== _a ? _a : null == config ? void 0 : config.center) && void 0 !== _b ? _b : {\n        x: groupSize.width / 2,\n        y: groupSize.height / 2\n    };\n    let currentRadius = 0;\n    if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isDiscrete)(scale.type)) {\n        const offset = \"band\" === scale.type ? scale.bandwidth() / 2 : 0, radius = Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n        currentRadius = scale.scale(scale.invert(radius)) + offset;\n    } else if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isContinuous)(scale.type)) {\n        const maxRadius = null !== (_c = null == config ? void 0 : config.radius) && void 0 !== _c ? _c : Math.min(groupSize.width, groupSize.height) / 2;\n        currentRadius = Math.min(maxRadius, Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2));\n    }\n    return {\n        radius: currentRadius,\n        center: center\n    };\n};\n\nconst generateLineCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a, _b, _c;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.lineCrosshair, offset = \"band\" === scale.type ? scale.bandwidth() / 2 : 0, points = computeCrosshairStartEnd(point, scale, type, groupSize, {\n        radius: null !== (_b = null == addition ? void 0 : addition.radius) && void 0 !== _b ? _b : null == config ? void 0 : config.radius,\n        center: null !== (_c = null == addition ? void 0 : addition.center) && void 0 !== _c ? _c : null == config ? void 0 : config.center\n    }, offset);\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, points, null != addition ? addition : {});\n};\n\nconst generateRectCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a, _b, _c;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.rectCrosshair, defaultSize = \"band\" === scale.type || \"point\" === scale.type ? scale.step() : void 0, customRectStyle = null == addition ? void 0 : addition.rectStyle, size = null != defaultSize ? defaultSize : \"y\" === type ? null !== (_b = null == customRectStyle ? void 0 : customRectStyle.width) && void 0 !== _b ? _b : crosshairTheme.rectStyle.width : null !== (_c = null == customRectStyle ? void 0 : customRectStyle.height) && void 0 !== _c ? _c : crosshairTheme.rectStyle.height, points = computeCrosshairStartEnd(point, scale, type, groupSize, config, \"band\" === scale.type ? 0 : -size / 2), rectStyle = {};\n    \"x\" === type ? rectStyle.width = size : rectStyle.height = size;\n    const attribute = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        start: points.start,\n        end: points.end,\n        rectStyle: rectStyle\n    }, null != addition ? addition : {});\n    return \"x\" === type ? attribute.rectStyle.height = attribute.end.y - attribute.start.y : attribute.rectStyle.width = attribute.end.x - attribute.start.x, \n    attribute;\n};\n\nconst generateRingCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleCrosshair, {center: center, radius: radius} = computeRadiusOfTangential(point, scale, 0, groupSize, config, addition), startAngle = crosshairTheme.startAngle, endAngle = crosshairTheme.endAngle, deltaRadius = \"band\" === scale.type || \"point\" === scale.type ? scale.step() : 0;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        center: center,\n        innerRadius: radius - deltaRadius / 2,\n        radius: radius + deltaRadius / 2,\n        startAngle: startAngle,\n        endAngle: endAngle\n    }, null != addition ? addition : {});\n};\n\nconst generateSectorCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a, _b, _c, _d, _e;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.sectorCrosshair, radius = null !== (_c = null !== (_b = null == addition ? void 0 : addition.radius) && void 0 !== _b ? _b : null == config ? void 0 : config.radius) && void 0 !== _c ? _c : Math.min(groupSize.width, groupSize.height) / 2, center = null !== (_e = null !== (_d = null == addition ? void 0 : addition.center) && void 0 !== _d ? _d : null == config ? void 0 : config.center) && void 0 !== _e ? _e : {\n        x: groupSize.width / 2,\n        y: groupSize.height / 2\n    }, defaultAngle = crosshairTheme.endAngle - crosshairTheme.startAngle, angle = \"band\" === scale.type || \"point\" === scale.type ? scale.step() : defaultAngle;\n    let currentAngle = 0;\n    if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isDiscrete)(scale.type)) {\n        const angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.clampRadian)((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point) + 2 * Math.PI);\n        currentAngle = scale.scale(scale.invert(angle)) + (\"band\" === scale.type ? scale.bandwidth() / 2 : 0);\n    } else (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isContinuous)(scale.type) && (currentAngle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point));\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        center: center,\n        radius: radius,\n        startAngle: currentAngle - angle / 2,\n        endAngle: currentAngle + angle / 2\n    }, null != addition ? addition : {});\n};\n\nconst generateCircleCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleCrosshair, {center: center, radius: radius} = computeRadiusOfTangential(point, scale, 0, groupSize, config, addition), startAngle = crosshairTheme.startAngle, endAngle = crosshairTheme.endAngle;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        center: center,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle\n    }, null != addition ? addition : {});\n};\n\nconst generatePolygonCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleCrosshair, {center: center, radius: radius} = computeRadiusOfTangential(point, scale, 0, groupSize, config, addition), startAngle = crosshairTheme.startAngle, endAngle = crosshairTheme.endAngle;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        center: center,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle\n    }, null != addition ? addition : {});\n};\n\nclass Crosshair extends _base__WEBPACK_IMPORTED_MODULE_3__.BaseInteraction {\n    constructor(view, options) {\n        var _a, _b;\n        super(view, options), this.type = Crosshair.type, this.handleCrosshairShow = event => {\n            var _a;\n            if (!this._crosshairComponent) return;\n            const groupGraphicItem = this._container.getGroupGraphicItem(), point = {\n                x: 0,\n                y: 0\n            }, globalTransMatrix = groupGraphicItem.globalTransMatrix, containerPoint = {\n                x: globalTransMatrix.e,\n                y: globalTransMatrix.f\n            };\n            if (globalTransMatrix.transformPoint(event.canvas, point), point.x < 0 || point.x > groupGraphicItem.attribute.width || point.y < 0 || point.y > groupGraphicItem.attribute.height) return void this._crosshairComponent.hideAll();\n            const crosshairType = null !== (_a = this.options.crosshairType) && void 0 !== _a ? _a : \"x\", groupSize = {\n                width: groupGraphicItem.attribute.width,\n                height: groupGraphicItem.attribute.height\n            }, scale = ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.options.scale) ? this.view.getScaleById(this.options.scale) : this.options.scale).getScale(), config = {\n                center: this.options.center,\n                radius: this.options.radius\n            }, theme = this.view.getCurrentTheme(), addition = (0,_parse_util__WEBPACK_IMPORTED_MODULE_5__.invokeFunctionType)(this.options.attributes, this.parameters(), {}, {});\n            let attributes = {};\n            switch (this.getCrosshairComponentType()) {\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.lineCrosshair:\n                attributes = generateLineCrosshairAttributes(point, scale, crosshairType, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.rectCrosshair:\n                attributes = generateRectCrosshairAttributes(point, scale, crosshairType, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.sectorCrosshair:\n                attributes = generateSectorCrosshairAttributes(point, scale, 0, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.circleCrosshair:\n                attributes = generateCircleCrosshairAttributes(point, scale, 0, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.polygonCrosshair:\n                attributes = generatePolygonCrosshairAttributes(point, scale, 0, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.ringCrosshair:\n                attributes = generateRingCrosshairAttributes(point, scale, 0, groupSize, config, theme, addition);\n            }\n            this.getCrosshairComponentType() !== _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.circleCrosshair && (attributes.x = containerPoint.x, \n            attributes.y = containerPoint.y), this._crosshairComponent.showAll(), this._crosshairComponent.setAttributes(attributes);\n        }, this.handleCrosshairHide = () => {\n            this._crosshairComponent && this._crosshairComponent.hideAll();\n        }, this.options = Object.assign({}, Crosshair.defaultOptions, options), this._container = null !== (_b = null === (_a = view.getMarksBySelector(this.options.container)) || void 0 === _a ? void 0 : _a[0]) && void 0 !== _b ? _b : view.rootMark;\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleCrosshairShow\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleCrosshairHide\n        } ];\n    }\n    getCrosshairComponentType() {\n        var _a, _b;\n        if (this._crosshairComponentType) return this._crosshairComponentType;\n        const shape = null !== (_a = this.options.crosshairShape) && void 0 !== _a ? _a : \"line\", type = null !== (_b = this.options.crosshairType) && void 0 !== _b ? _b : \"x\";\n        return this._crosshairComponentType = \"rect\" === shape ? \"angle\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.sectorCrosshair : \"radius\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.ringCrosshair : \"radius-polygon\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.polygonCrosshair : _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.rectCrosshair : \"radius\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.circleCrosshair : \"radius-polygon\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.polygonCrosshair : _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.lineCrosshair, \n        this._crosshairComponentType;\n    }\n    getDefaultCrosshairAttribute() {\n        var _a;\n        const type = null !== (_a = this.options.crosshairType) && void 0 !== _a ? _a : \"x\";\n        return \"radius\" === type || \"radius-polygon\" === type ? {\n            center: {\n                x: 0,\n                y: 0\n            },\n            zIndex: -1\n        } : {\n            start: {\n                x: 0,\n                y: 0\n            },\n            end: {\n                x: 0,\n                y: 0\n            },\n            zIndex: -1\n        };\n    }\n    bind() {\n        super.bind();\n        const stage = this.view.renderer.stage();\n        if (!this._crosshairComponent && stage) {\n            switch (this.getCrosshairComponentType()) {\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.lineCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.LineCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.rectCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.RectCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.sectorCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.SectorCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.circleCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_10__.CircleCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.polygonCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_11__.PolygonCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.ringCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.SectorCrosshair(this.getDefaultCrosshairAttribute());\n            }\n            stage.defaultLayer.appendChild(this._crosshairComponent);\n        }\n    }\n    unbind() {\n        super.unbind();\n        const stage = this.view.renderer.stage();\n        this._crosshairComponent && stage && (stage.defaultLayer.removeChild(this._crosshairComponent), \n        this._crosshairComponent.release(), this._crosshairComponent = null);\n    }\n}\n\nCrosshair.type = \"crosshair\", Crosshair.defaultOptions = {\n    trigger: \"pointermove\",\n    triggerOff: \"pointerleave\",\n    crosshairType: \"x\",\n    crosshairShape: \"line\"\n};\n//# sourceMappingURL=crosshair.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Nyb3NzaGFpci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlGOztBQUUrQzs7QUFFdkY7O0FBRU07O0FBRWE7O0FBRVQ7O0FBRW5EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsUUFBUSw0REFBVTtBQUNsQix3RUFBd0UscUVBQXFFO0FBQzdJLDBCQUEwQiw2REFBVyxDQUFDLGlFQUFlO0FBQ3JEO0FBQ0E7QUFDQSxNQUFNLEtBQUssOERBQVksc0hBQXNILGlFQUFlO0FBQzVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQVU7QUFDbEI7QUFDQTtBQUNBLE1BQU0sU0FBUyw4REFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVyw0REFBSyxHQUFHLDBEQUEwRDtBQUM3RTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBSyxHQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0Esc0lBQXNJLGdDQUFnQztBQUN0SyxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLDREQUFVO0FBQ2xCLHNCQUFzQiw2REFBVyxDQUFDLGlFQUFlO0FBQ2pEO0FBQ0EsTUFBTSxLQUFLLDhEQUFZLGdDQUFnQyxpRUFBZTtBQUN0RSxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTztBQUNQO0FBQ0Esc0lBQXNJLGdDQUFnQztBQUN0SyxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTztBQUNQO0FBQ0Esc0lBQXNJLGdDQUFnQztBQUN0SyxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTyx3QkFBd0Isa0RBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsV0FBVyw0REFBUTtBQUNoQztBQUNBO0FBQ0EsYUFBYSxrREFBa0QsK0RBQWtCLCtDQUErQyxJQUFJO0FBQ3BJO0FBQ0E7QUFDQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTtBQUNBLGlEQUFpRCx1REFBYTtBQUM5RDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsaUNBQWlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLHVEQUFhLHVDQUF1Qyx1REFBYSw2Q0FBNkMsdURBQWEsb0JBQW9CLHVEQUFhLHFDQUFxQyx1REFBYSwrQ0FBK0MsdURBQWEsb0JBQW9CLHVEQUFhO0FBQy9YO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQWE7QUFDaEMsK0NBQStDLHVFQUFhO0FBQzVEOztBQUVBLG1CQUFtQix1REFBYTtBQUNoQywrQ0FBK0MsdUVBQWE7QUFDNUQ7O0FBRUEsbUJBQW1CLHVEQUFhO0FBQ2hDLCtDQUErQyx5RUFBZTtBQUM5RDs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEMsK0NBQStDLDBFQUFlO0FBQzlEOztBQUVBLG1CQUFtQix1REFBYTtBQUNoQywrQ0FBK0MsMkVBQWdCO0FBQy9EOztBQUVBLG1CQUFtQix1REFBYTtBQUNoQywrQ0FBK0MseUVBQWU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvY3Jvc3NoYWlyLmpzPzgwNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xhbXBSYWRpYW4sIGdldEFuZ2xlQnlQb2ludCwgaXNTdHJpbmcsIG1lcmdlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ2lyY2xlQ3Jvc3NoYWlyLCBMaW5lQ3Jvc3NoYWlyLCBQb2x5Z29uQ3Jvc3NoYWlyLCBSZWN0Q3Jvc3NoYWlyLCBTZWN0b3JDcm9zc2hhaXIgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IENyb3NzaGFpckVudW0gfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgaXNDb250aW51b3VzLCBpc0Rpc2NyZXRlIH0gZnJvbSBcIkB2aXNhY3Rvci92c2NhbGVcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuY29uc3QgY29tcHV0ZUNyb3NzaGFpclN0YXJ0RW5kID0gKHBvaW50LCBzY2FsZSwgdHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIG9mZnNldCA9IDApID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHN0YXJ0ID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfSwgZW5kID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfSwgcmFkaXVzID0gXCJhbmdsZVwiID09PSB0eXBlID8gbnVsbCAhPT0gKF9hID0gbnVsbCA9PSBjb25maWcgPyB2b2lkIDAgOiBjb25maWcucmFkaXVzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBNYXRoLm1pbihncm91cFNpemUud2lkdGgsIGdyb3VwU2l6ZS5oZWlnaHQpIC8gMiA6IG51bGwsIGNlbnRlciA9IFwiYW5nbGVcIiA9PT0gdHlwZSA/IG51bGwgIT09IChfYiA9IG51bGwgPT0gY29uZmlnID8gdm9pZCAwIDogY29uZmlnLmNlbnRlcikgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDoge1xuICAgICAgICB4OiBncm91cFNpemUud2lkdGggLyAyLFxuICAgICAgICB5OiBncm91cFNpemUuaGVpZ2h0IC8gMlxuICAgIH0gOiBudWxsO1xuICAgIGxldCBjdXJyZW50ID0gMDtcbiAgICBpZiAoaXNEaXNjcmV0ZShzY2FsZS50eXBlKSkge1xuICAgICAgICBpZiAoXCJ4XCIgPT09IHR5cGUpIGN1cnJlbnQgPSBzY2FsZS5zY2FsZShzY2FsZS5pbnZlcnQocG9pbnQueCkpOyBlbHNlIGlmIChcInlcIiA9PT0gdHlwZSkgY3VycmVudCA9IHNjYWxlLnNjYWxlKHNjYWxlLmludmVydChwb2ludC55KSk7IGVsc2UgaWYgKFwiYW5nbGVcIiA9PT0gdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBjbGFtcFJhZGlhbihnZXRBbmdsZUJ5UG9pbnQoY2VudGVyLCBwb2ludCkgKyAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICBjdXJyZW50ID0gc2NhbGUuc2NhbGUoc2NhbGUuaW52ZXJ0KGFuZ2xlKSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaXNDb250aW51b3VzKHNjYWxlLnR5cGUpICYmIChcInhcIiA9PT0gdHlwZSA/IGN1cnJlbnQgPSBwb2ludC54IDogXCJ5XCIgPT09IHR5cGUgPyBjdXJyZW50ID0gcG9pbnQueSA6IFwiYW5nbGVcIiA9PT0gdHlwZSAmJiAoY3VycmVudCA9IGdldEFuZ2xlQnlQb2ludChjZW50ZXIsIHBvaW50KSkpO1xuICAgIHN3aXRjaCAoY3VycmVudCArPSBvZmZzZXQsIHR5cGUpIHtcbiAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgIHN0YXJ0LnggPSBjdXJyZW50LCBzdGFydC55ID0gMCwgZW5kLnggPSBjdXJyZW50LCBlbmQueSA9IGdyb3VwU2l6ZS5oZWlnaHQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwieVwiOlxuICAgICAgICBzdGFydC54ID0gMCwgc3RhcnQueSA9IGN1cnJlbnQsIGVuZC54ID0gZ3JvdXBTaXplLndpZHRoLCBlbmQueSA9IGN1cnJlbnQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiYW5nbGVcIjpcbiAgICAgICAgc3RhcnQueCA9IGNlbnRlci54LCBzdGFydC55ID0gY2VudGVyLnksIGVuZC54ID0gY2VudGVyLnggKyByYWRpdXMgKiBNYXRoLmNvcyhjdXJyZW50KSwgXG4gICAgICAgIGVuZC55ID0gY2VudGVyLnkgKyByYWRpdXMgKiBNYXRoLnNpbihjdXJyZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZFxuICAgIH07XG59LCBjb21wdXRlUmFkaXVzT2ZUYW5nZW50aWFsID0gKHBvaW50LCBzY2FsZSwgdHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgY2VudGVyID0gbnVsbCAhPT0gKF9iID0gbnVsbCAhPT0gKF9hID0gbnVsbCA9PSBhZGRpdGlvbiA/IHZvaWQgMCA6IGFkZGl0aW9uLmNlbnRlcikgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbCA9PSBjb25maWcgPyB2b2lkIDAgOiBjb25maWcuY2VudGVyKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiB7XG4gICAgICAgIHg6IGdyb3VwU2l6ZS53aWR0aCAvIDIsXG4gICAgICAgIHk6IGdyb3VwU2l6ZS5oZWlnaHQgLyAyXG4gICAgfTtcbiAgICBsZXQgY3VycmVudFJhZGl1cyA9IDA7XG4gICAgaWYgKGlzRGlzY3JldGUoc2NhbGUudHlwZSkpIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gXCJiYW5kXCIgPT09IHNjYWxlLnR5cGUgPyBzY2FsZS5iYW5kd2lkdGgoKSAvIDIgOiAwLCByYWRpdXMgPSBNYXRoLnNxcnQoKHBvaW50LnggLSBjZW50ZXIueCkgKiogMiArIChwb2ludC55IC0gY2VudGVyLnkpICoqIDIpO1xuICAgICAgICBjdXJyZW50UmFkaXVzID0gc2NhbGUuc2NhbGUoc2NhbGUuaW52ZXJ0KHJhZGl1cykpICsgb2Zmc2V0O1xuICAgIH0gZWxzZSBpZiAoaXNDb250aW51b3VzKHNjYWxlLnR5cGUpKSB7XG4gICAgICAgIGNvbnN0IG1heFJhZGl1cyA9IG51bGwgIT09IChfYyA9IG51bGwgPT0gY29uZmlnID8gdm9pZCAwIDogY29uZmlnLnJhZGl1cykgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogTWF0aC5taW4oZ3JvdXBTaXplLndpZHRoLCBncm91cFNpemUuaGVpZ2h0KSAvIDI7XG4gICAgICAgIGN1cnJlbnRSYWRpdXMgPSBNYXRoLm1pbihtYXhSYWRpdXMsIE1hdGguc3FydCgocG9pbnQueCAtIGNlbnRlci54KSAqKiAyICsgKHBvaW50LnkgLSBjZW50ZXIueSkgKiogMikpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByYWRpdXM6IGN1cnJlbnRSYWRpdXMsXG4gICAgICAgIGNlbnRlcjogY2VudGVyXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUxpbmVDcm9zc2hhaXJBdHRyaWJ1dGVzID0gKHBvaW50LCBzY2FsZSwgdHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGNyb3NzaGFpclRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5saW5lQ3Jvc3NoYWlyLCBvZmZzZXQgPSBcImJhbmRcIiA9PT0gc2NhbGUudHlwZSA/IHNjYWxlLmJhbmR3aWR0aCgpIC8gMiA6IDAsIHBvaW50cyA9IGNvbXB1dGVDcm9zc2hhaXJTdGFydEVuZChwb2ludCwgc2NhbGUsIHR5cGUsIGdyb3VwU2l6ZSwge1xuICAgICAgICByYWRpdXM6IG51bGwgIT09IChfYiA9IG51bGwgPT0gYWRkaXRpb24gPyB2b2lkIDAgOiBhZGRpdGlvbi5yYWRpdXMpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IG51bGwgPT0gY29uZmlnID8gdm9pZCAwIDogY29uZmlnLnJhZGl1cyxcbiAgICAgICAgY2VudGVyOiBudWxsICE9PSAoX2MgPSBudWxsID09IGFkZGl0aW9uID8gdm9pZCAwIDogYWRkaXRpb24uY2VudGVyKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBudWxsID09IGNvbmZpZyA/IHZvaWQgMCA6IGNvbmZpZy5jZW50ZXJcbiAgICB9LCBvZmZzZXQpO1xuICAgIHJldHVybiBtZXJnZSh7fSwgY3Jvc3NoYWlyVGhlbWUsIHBvaW50cywgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmVjdENyb3NzaGFpckF0dHJpYnV0ZXMgPSAocG9pbnQsIHNjYWxlLCB0eXBlLCBncm91cFNpemUsIGNvbmZpZywgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgY3Jvc3NoYWlyVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnJlY3RDcm9zc2hhaXIsIGRlZmF1bHRTaXplID0gXCJiYW5kXCIgPT09IHNjYWxlLnR5cGUgfHwgXCJwb2ludFwiID09PSBzY2FsZS50eXBlID8gc2NhbGUuc3RlcCgpIDogdm9pZCAwLCBjdXN0b21SZWN0U3R5bGUgPSBudWxsID09IGFkZGl0aW9uID8gdm9pZCAwIDogYWRkaXRpb24ucmVjdFN0eWxlLCBzaXplID0gbnVsbCAhPSBkZWZhdWx0U2l6ZSA/IGRlZmF1bHRTaXplIDogXCJ5XCIgPT09IHR5cGUgPyBudWxsICE9PSAoX2IgPSBudWxsID09IGN1c3RvbVJlY3RTdHlsZSA/IHZvaWQgMCA6IGN1c3RvbVJlY3RTdHlsZS53aWR0aCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogY3Jvc3NoYWlyVGhlbWUucmVjdFN0eWxlLndpZHRoIDogbnVsbCAhPT0gKF9jID0gbnVsbCA9PSBjdXN0b21SZWN0U3R5bGUgPyB2b2lkIDAgOiBjdXN0b21SZWN0U3R5bGUuaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBjcm9zc2hhaXJUaGVtZS5yZWN0U3R5bGUuaGVpZ2h0LCBwb2ludHMgPSBjb21wdXRlQ3Jvc3NoYWlyU3RhcnRFbmQocG9pbnQsIHNjYWxlLCB0eXBlLCBncm91cFNpemUsIGNvbmZpZywgXCJiYW5kXCIgPT09IHNjYWxlLnR5cGUgPyAwIDogLXNpemUgLyAyKSwgcmVjdFN0eWxlID0ge307XG4gICAgXCJ4XCIgPT09IHR5cGUgPyByZWN0U3R5bGUud2lkdGggPSBzaXplIDogcmVjdFN0eWxlLmhlaWdodCA9IHNpemU7XG4gICAgY29uc3QgYXR0cmlidXRlID0gbWVyZ2Uoe30sIGNyb3NzaGFpclRoZW1lLCB7XG4gICAgICAgIHN0YXJ0OiBwb2ludHMuc3RhcnQsXG4gICAgICAgIGVuZDogcG9pbnRzLmVuZCxcbiAgICAgICAgcmVjdFN0eWxlOiByZWN0U3R5bGVcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG4gICAgcmV0dXJuIFwieFwiID09PSB0eXBlID8gYXR0cmlidXRlLnJlY3RTdHlsZS5oZWlnaHQgPSBhdHRyaWJ1dGUuZW5kLnkgLSBhdHRyaWJ1dGUuc3RhcnQueSA6IGF0dHJpYnV0ZS5yZWN0U3R5bGUud2lkdGggPSBhdHRyaWJ1dGUuZW5kLnggLSBhdHRyaWJ1dGUuc3RhcnQueCwgXG4gICAgYXR0cmlidXRlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmluZ0Nyb3NzaGFpckF0dHJpYnV0ZXMgPSAocG9pbnQsIHNjYWxlLCB0eXBlLCBncm91cFNpemUsIGNvbmZpZywgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGNyb3NzaGFpclRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jaXJjbGVDcm9zc2hhaXIsIHtjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXN9ID0gY29tcHV0ZVJhZGl1c09mVGFuZ2VudGlhbChwb2ludCwgc2NhbGUsIDAsIGdyb3VwU2l6ZSwgY29uZmlnLCBhZGRpdGlvbiksIHN0YXJ0QW5nbGUgPSBjcm9zc2hhaXJUaGVtZS5zdGFydEFuZ2xlLCBlbmRBbmdsZSA9IGNyb3NzaGFpclRoZW1lLmVuZEFuZ2xlLCBkZWx0YVJhZGl1cyA9IFwiYmFuZFwiID09PSBzY2FsZS50eXBlIHx8IFwicG9pbnRcIiA9PT0gc2NhbGUudHlwZSA/IHNjYWxlLnN0ZXAoKSA6IDA7XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBjcm9zc2hhaXJUaGVtZSwge1xuICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgaW5uZXJSYWRpdXM6IHJhZGl1cyAtIGRlbHRhUmFkaXVzIC8gMixcbiAgICAgICAgcmFkaXVzOiByYWRpdXMgKyBkZWx0YVJhZGl1cyAvIDIsXG4gICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZVxuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNlY3RvckNyb3NzaGFpckF0dHJpYnV0ZXMgPSAocG9pbnQsIHNjYWxlLCB0eXBlLCBncm91cFNpemUsIGNvbmZpZywgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBjb25zdCBjcm9zc2hhaXJUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc2VjdG9yQ3Jvc3NoYWlyLCByYWRpdXMgPSBudWxsICE9PSAoX2MgPSBudWxsICE9PSAoX2IgPSBudWxsID09IGFkZGl0aW9uID8gdm9pZCAwIDogYWRkaXRpb24ucmFkaXVzKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBudWxsID09IGNvbmZpZyA/IHZvaWQgMCA6IGNvbmZpZy5yYWRpdXMpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IE1hdGgubWluKGdyb3VwU2l6ZS53aWR0aCwgZ3JvdXBTaXplLmhlaWdodCkgLyAyLCBjZW50ZXIgPSBudWxsICE9PSAoX2UgPSBudWxsICE9PSAoX2QgPSBudWxsID09IGFkZGl0aW9uID8gdm9pZCAwIDogYWRkaXRpb24uY2VudGVyKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBudWxsID09IGNvbmZpZyA/IHZvaWQgMCA6IGNvbmZpZy5jZW50ZXIpICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IHtcbiAgICAgICAgeDogZ3JvdXBTaXplLndpZHRoIC8gMixcbiAgICAgICAgeTogZ3JvdXBTaXplLmhlaWdodCAvIDJcbiAgICB9LCBkZWZhdWx0QW5nbGUgPSBjcm9zc2hhaXJUaGVtZS5lbmRBbmdsZSAtIGNyb3NzaGFpclRoZW1lLnN0YXJ0QW5nbGUsIGFuZ2xlID0gXCJiYW5kXCIgPT09IHNjYWxlLnR5cGUgfHwgXCJwb2ludFwiID09PSBzY2FsZS50eXBlID8gc2NhbGUuc3RlcCgpIDogZGVmYXVsdEFuZ2xlO1xuICAgIGxldCBjdXJyZW50QW5nbGUgPSAwO1xuICAgIGlmIChpc0Rpc2NyZXRlKHNjYWxlLnR5cGUpKSB7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gY2xhbXBSYWRpYW4oZ2V0QW5nbGVCeVBvaW50KGNlbnRlciwgcG9pbnQpICsgMiAqIE1hdGguUEkpO1xuICAgICAgICBjdXJyZW50QW5nbGUgPSBzY2FsZS5zY2FsZShzY2FsZS5pbnZlcnQoYW5nbGUpKSArIChcImJhbmRcIiA9PT0gc2NhbGUudHlwZSA/IHNjYWxlLmJhbmR3aWR0aCgpIC8gMiA6IDApO1xuICAgIH0gZWxzZSBpc0NvbnRpbnVvdXMoc2NhbGUudHlwZSkgJiYgKGN1cnJlbnRBbmdsZSA9IGdldEFuZ2xlQnlQb2ludChjZW50ZXIsIHBvaW50KSk7XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBjcm9zc2hhaXJUaGVtZSwge1xuICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgIHN0YXJ0QW5nbGU6IGN1cnJlbnRBbmdsZSAtIGFuZ2xlIC8gMixcbiAgICAgICAgZW5kQW5nbGU6IGN1cnJlbnRBbmdsZSArIGFuZ2xlIC8gMlxuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUNpcmNsZUNyb3NzaGFpckF0dHJpYnV0ZXMgPSAocG9pbnQsIHNjYWxlLCB0eXBlLCBncm91cFNpemUsIGNvbmZpZywgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGNyb3NzaGFpclRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jaXJjbGVDcm9zc2hhaXIsIHtjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXN9ID0gY29tcHV0ZVJhZGl1c09mVGFuZ2VudGlhbChwb2ludCwgc2NhbGUsIDAsIGdyb3VwU2l6ZSwgY29uZmlnLCBhZGRpdGlvbiksIHN0YXJ0QW5nbGUgPSBjcm9zc2hhaXJUaGVtZS5zdGFydEFuZ2xlLCBlbmRBbmdsZSA9IGNyb3NzaGFpclRoZW1lLmVuZEFuZ2xlO1xuICAgIHJldHVybiBtZXJnZSh7fSwgY3Jvc3NoYWlyVGhlbWUsIHtcbiAgICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGVcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVQb2x5Z29uQ3Jvc3NoYWlyQXR0cmlidXRlcyA9IChwb2ludCwgc2NhbGUsIHR5cGUsIGdyb3VwU2l6ZSwgY29uZmlnLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY3Jvc3NoYWlyVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmNpcmNsZUNyb3NzaGFpciwge2NlbnRlcjogY2VudGVyLCByYWRpdXM6IHJhZGl1c30gPSBjb21wdXRlUmFkaXVzT2ZUYW5nZW50aWFsKHBvaW50LCBzY2FsZSwgMCwgZ3JvdXBTaXplLCBjb25maWcsIGFkZGl0aW9uKSwgc3RhcnRBbmdsZSA9IGNyb3NzaGFpclRoZW1lLnN0YXJ0QW5nbGUsIGVuZEFuZ2xlID0gY3Jvc3NoYWlyVGhlbWUuZW5kQW5nbGU7XG4gICAgcmV0dXJuIG1lcmdlKHt9LCBjcm9zc2hhaXJUaGVtZSwge1xuICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZVxuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBDcm9zc2hhaXIgZXh0ZW5kcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IENyb3NzaGFpci50eXBlLCB0aGlzLmhhbmRsZUNyb3NzaGFpclNob3cgPSBldmVudCA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBHcmFwaGljSXRlbSA9IHRoaXMuX2NvbnRhaW5lci5nZXRHcm91cEdyYXBoaWNJdGVtKCksIHBvaW50ID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSwgZ2xvYmFsVHJhbnNNYXRyaXggPSBncm91cEdyYXBoaWNJdGVtLmdsb2JhbFRyYW5zTWF0cml4LCBjb250YWluZXJQb2ludCA9IHtcbiAgICAgICAgICAgICAgICB4OiBnbG9iYWxUcmFuc01hdHJpeC5lLFxuICAgICAgICAgICAgICAgIHk6IGdsb2JhbFRyYW5zTWF0cml4LmZcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZ2xvYmFsVHJhbnNNYXRyaXgudHJhbnNmb3JtUG9pbnQoZXZlbnQuY2FudmFzLCBwb2ludCksIHBvaW50LnggPCAwIHx8IHBvaW50LnggPiBncm91cEdyYXBoaWNJdGVtLmF0dHJpYnV0ZS53aWR0aCB8fCBwb2ludC55IDwgMCB8fCBwb2ludC55ID4gZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUuaGVpZ2h0KSByZXR1cm4gdm9pZCB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQuaGlkZUFsbCgpO1xuICAgICAgICAgICAgY29uc3QgY3Jvc3NoYWlyVHlwZSA9IG51bGwgIT09IChfYSA9IHRoaXMub3B0aW9ucy5jcm9zc2hhaXJUeXBlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBcInhcIiwgZ3JvdXBTaXplID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBncm91cEdyYXBoaWNJdGVtLmF0dHJpYnV0ZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGdyb3VwR3JhcGhpY0l0ZW0uYXR0cmlidXRlLmhlaWdodFxuICAgICAgICAgICAgfSwgc2NhbGUgPSAoaXNTdHJpbmcodGhpcy5vcHRpb25zLnNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5vcHRpb25zLnNjYWxlKSA6IHRoaXMub3B0aW9ucy5zY2FsZSkuZ2V0U2NhbGUoKSwgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGNlbnRlcjogdGhpcy5vcHRpb25zLmNlbnRlcixcbiAgICAgICAgICAgICAgICByYWRpdXM6IHRoaXMub3B0aW9ucy5yYWRpdXNcbiAgICAgICAgICAgIH0sIHRoZW1lID0gdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpLCBhZGRpdGlvbiA9IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLm9wdGlvbnMuYXR0cmlidXRlcywgdGhpcy5wYXJhbWV0ZXJzKCksIHt9LCB7fSk7XG4gICAgICAgICAgICBsZXQgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmdldENyb3NzaGFpckNvbXBvbmVudFR5cGUoKSkge1xuICAgICAgICAgICAgICBjYXNlIENyb3NzaGFpckVudW0ubGluZUNyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZ2VuZXJhdGVMaW5lQ3Jvc3NoYWlyQXR0cmlidXRlcyhwb2ludCwgc2NhbGUsIGNyb3NzaGFpclR5cGUsIGdyb3VwU2l6ZSwgY29uZmlnLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgQ3Jvc3NoYWlyRW51bS5yZWN0Q3Jvc3NoYWlyOlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBnZW5lcmF0ZVJlY3RDcm9zc2hhaXJBdHRyaWJ1dGVzKHBvaW50LCBzY2FsZSwgY3Jvc3NoYWlyVHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLnNlY3RvckNyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZ2VuZXJhdGVTZWN0b3JDcm9zc2hhaXJBdHRyaWJ1dGVzKHBvaW50LCBzY2FsZSwgMCwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLmNpcmNsZUNyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZ2VuZXJhdGVDaXJjbGVDcm9zc2hhaXJBdHRyaWJ1dGVzKHBvaW50LCBzY2FsZSwgMCwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLnBvbHlnb25Dcm9zc2hhaXI6XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGdlbmVyYXRlUG9seWdvbkNyb3NzaGFpckF0dHJpYnV0ZXMocG9pbnQsIHNjYWxlLCAwLCBncm91cFNpemUsIGNvbmZpZywgdGhlbWUsIGFkZGl0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIENyb3NzaGFpckVudW0ucmluZ0Nyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZ2VuZXJhdGVSaW5nQ3Jvc3NoYWlyQXR0cmlidXRlcyhwb2ludCwgc2NhbGUsIDAsIGdyb3VwU2l6ZSwgY29uZmlnLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5nZXRDcm9zc2hhaXJDb21wb25lbnRUeXBlKCkgIT09IENyb3NzaGFpckVudW0uY2lyY2xlQ3Jvc3NoYWlyICYmIChhdHRyaWJ1dGVzLnggPSBjb250YWluZXJQb2ludC54LCBcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMueSA9IGNvbnRhaW5lclBvaW50LnkpLCB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQuc2hvd0FsbCgpLCB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQuc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVDcm9zc2hhaXJIaWRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50ICYmIHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudC5oaWRlQWxsKCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIENyb3NzaGFpci5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIHRoaXMuX2NvbnRhaW5lciA9IG51bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5jb250YWluZXIpKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2FbMF0pICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHZpZXcucm9vdE1hcms7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZUNyb3NzaGFpclNob3dcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZUNyb3NzaGFpckhpZGVcbiAgICAgICAgfSBdO1xuICAgIH1cbiAgICBnZXRDcm9zc2hhaXJDb21wb25lbnRUeXBlKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50VHlwZSkgcmV0dXJuIHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudFR5cGU7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbnVsbCAhPT0gKF9hID0gdGhpcy5vcHRpb25zLmNyb3NzaGFpclNoYXBlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBcImxpbmVcIiwgdHlwZSA9IG51bGwgIT09IChfYiA9IHRoaXMub3B0aW9ucy5jcm9zc2hhaXJUeXBlKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBcInhcIjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudFR5cGUgPSBcInJlY3RcIiA9PT0gc2hhcGUgPyBcImFuZ2xlXCIgPT09IHR5cGUgPyBDcm9zc2hhaXJFbnVtLnNlY3RvckNyb3NzaGFpciA6IFwicmFkaXVzXCIgPT09IHR5cGUgPyBDcm9zc2hhaXJFbnVtLnJpbmdDcm9zc2hhaXIgOiBcInJhZGl1cy1wb2x5Z29uXCIgPT09IHR5cGUgPyBDcm9zc2hhaXJFbnVtLnBvbHlnb25Dcm9zc2hhaXIgOiBDcm9zc2hhaXJFbnVtLnJlY3RDcm9zc2hhaXIgOiBcInJhZGl1c1wiID09PSB0eXBlID8gQ3Jvc3NoYWlyRW51bS5jaXJjbGVDcm9zc2hhaXIgOiBcInJhZGl1cy1wb2x5Z29uXCIgPT09IHR5cGUgPyBDcm9zc2hhaXJFbnVtLnBvbHlnb25Dcm9zc2hhaXIgOiBDcm9zc2hhaXJFbnVtLmxpbmVDcm9zc2hhaXIsIFxuICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICBnZXREZWZhdWx0Q3Jvc3NoYWlyQXR0cmlidXRlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBudWxsICE9PSAoX2EgPSB0aGlzLm9wdGlvbnMuY3Jvc3NoYWlyVHlwZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogXCJ4XCI7XG4gICAgICAgIHJldHVybiBcInJhZGl1c1wiID09PSB0eXBlIHx8IFwicmFkaXVzLXBvbHlnb25cIiA9PT0gdHlwZSA/IHtcbiAgICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpJbmRleDogLTFcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5kOiB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgekluZGV4OiAtMVxuICAgICAgICB9O1xuICAgIH1cbiAgICBiaW5kKCkge1xuICAgICAgICBzdXBlci5iaW5kKCk7XG4gICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy52aWV3LnJlbmRlcmVyLnN0YWdlKCk7XG4gICAgICAgIGlmICghdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50ICYmIHN0YWdlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZ2V0Q3Jvc3NoYWlyQ29tcG9uZW50VHlwZSgpKSB7XG4gICAgICAgICAgICAgIGNhc2UgQ3Jvc3NoYWlyRW51bS5saW5lQ3Jvc3NoYWlyOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudCA9IG5ldyBMaW5lQ3Jvc3NoYWlyKHRoaXMuZ2V0RGVmYXVsdENyb3NzaGFpckF0dHJpYnV0ZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIENyb3NzaGFpckVudW0ucmVjdENyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQgPSBuZXcgUmVjdENyb3NzaGFpcih0aGlzLmdldERlZmF1bHRDcm9zc2hhaXJBdHRyaWJ1dGUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLnNlY3RvckNyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQgPSBuZXcgU2VjdG9yQ3Jvc3NoYWlyKHRoaXMuZ2V0RGVmYXVsdENyb3NzaGFpckF0dHJpYnV0ZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIENyb3NzaGFpckVudW0uY2lyY2xlQ3Jvc3NoYWlyOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudCA9IG5ldyBDaXJjbGVDcm9zc2hhaXIodGhpcy5nZXREZWZhdWx0Q3Jvc3NoYWlyQXR0cmlidXRlKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgQ3Jvc3NoYWlyRW51bS5wb2x5Z29uQ3Jvc3NoYWlyOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudCA9IG5ldyBQb2x5Z29uQ3Jvc3NoYWlyKHRoaXMuZ2V0RGVmYXVsdENyb3NzaGFpckF0dHJpYnV0ZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIENyb3NzaGFpckVudW0ucmluZ0Nyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQgPSBuZXcgU2VjdG9yQ3Jvc3NoYWlyKHRoaXMuZ2V0RGVmYXVsdENyb3NzaGFpckF0dHJpYnV0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWdlLmRlZmF1bHRMYXllci5hcHBlbmRDaGlsZCh0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuYmluZCgpIHtcbiAgICAgICAgc3VwZXIudW5iaW5kKCk7XG4gICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy52aWV3LnJlbmRlcmVyLnN0YWdlKCk7XG4gICAgICAgIHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudCAmJiBzdGFnZSAmJiAoc3RhZ2UuZGVmYXVsdExheWVyLnJlbW92ZUNoaWxkKHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudCksIFxuICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQucmVsZWFzZSgpLCB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQgPSBudWxsKTtcbiAgICB9XG59XG5cbkNyb3NzaGFpci50eXBlID0gXCJjcm9zc2hhaXJcIiwgQ3Jvc3NoYWlyLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHRyaWdnZXI6IFwicG9pbnRlcm1vdmVcIixcbiAgICB0cmlnZ2VyT2ZmOiBcInBvaW50ZXJsZWF2ZVwiLFxuICAgIGNyb3NzaGFpclR5cGU6IFwieFwiLFxuICAgIGNyb3NzaGFpclNoYXBlOiBcImxpbmVcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyb3NzaGFpci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/crosshair.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/datazoom-filter.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/datazoom-filter.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatazoomFilter: () => (/* binding */ DatazoomFilter)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n\n\n\n\n\n\n\n\nclass DatazoomFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = DatazoomFilter.type, this.options = Object.assign({}, DatazoomFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"datazoom\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const datazoom = this._marks[0];\n        if (!this._data || !datazoom) return [];\n        const filter = this.options.target.filter, transform = this.options.target.transform, dataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter) ? (datum, filterValue) => {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(filterValue.start) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(filterValue.end)) return !0;\n            const scale = datazoom.getDatazoomMainScale(), datumRatio = (0,_util_scale__WEBPACK_IMPORTED_MODULE_4__.getScaleRangeRatio)(scale, datum[filter]);\n            return filterValue.startRatio <= datumRatio && filterValue.endRatio >= datumRatio;\n        } : filter;\n        return this._filterData(this._data, datazoom, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.datazoom, (event => {\n            const startRatio = event.detail.start, endRatio = event.detail.end;\n            return {\n                startRatio: startRatio,\n                endRatio: endRatio,\n                start: datazoom.invertDatazoomRatio(startRatio),\n                end: datazoom.invertDatazoomRatio(endRatio)\n            };\n        }), dataFilter, transform), [ {\n            type: \"change\",\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nDatazoomFilter.type = \"datazoom-filter\", DatazoomFilter.defaultOptions = {};\n//# sourceMappingURL=datazoom-filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2RhdGF6b29tLWZpbHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7O0FBRWQ7O0FBRWpCOztBQUVpQjs7QUFFNUMsNkJBQTZCLDJDQUFNO0FBQzFDO0FBQ0EsOEZBQThGO0FBQzlGLHFHQUFxRyx5REFBZTtBQUNwSCxxQkFBcUIsNERBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRyw0REFBUTtBQUNuSCxnQkFBZ0IsNERBQUssdUJBQXVCLDREQUFLO0FBQ2pELHdFQUF3RSwrREFBa0I7QUFDMUY7QUFDQSxVQUFVO0FBQ1Ysc0RBQXNELHdEQUFjO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9kYXRhem9vbS1maWx0ZXIuanM/NGFiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhRmlsdGVyUmFuaywgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGlzTmlsLCBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL2ZpbHRlclwiO1xuXG5pbXBvcnQgeyBnZXRTY2FsZVJhbmdlUmF0aW8gfSBmcm9tIFwiLi4vdXRpbC9zY2FsZVwiO1xuXG5leHBvcnQgY2xhc3MgRGF0YXpvb21GaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IERhdGF6b29tRmlsdGVyLnR5cGUsIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIERhdGF6b29tRmlsdGVyLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNvdXJjZSkuZmlsdGVyKChtYXJrID0+IG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQgJiYgXCJkYXRhem9vbVwiID09PSBtYXJrLmNvbXBvbmVudFR5cGUpKSwgXG4gICAgICAgIHRoaXMuX2RhdGEgPSBpc1N0cmluZyh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpID8gdmlldy5nZXREYXRhQnlJZCh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpIDogdGhpcy5vcHRpb25zLnRhcmdldC5kYXRhO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFya3MgfHwgMCA9PT0gdGhpcy5fbWFya3MubGVuZ3RoKSByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IGRhdGF6b29tID0gdGhpcy5fbWFya3NbMF07XG4gICAgICAgIGlmICghdGhpcy5fZGF0YSB8fCAhZGF0YXpvb20pIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgZmlsdGVyID0gdGhpcy5vcHRpb25zLnRhcmdldC5maWx0ZXIsIHRyYW5zZm9ybSA9IHRoaXMub3B0aW9ucy50YXJnZXQudHJhbnNmb3JtLCBkYXRhRmlsdGVyID0gaXNTdHJpbmcoZmlsdGVyKSA/IChkYXR1bSwgZmlsdGVyVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChpc05pbChmaWx0ZXJWYWx1ZS5zdGFydCkgfHwgaXNOaWwoZmlsdGVyVmFsdWUuZW5kKSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBkYXRhem9vbS5nZXREYXRhem9vbU1haW5TY2FsZSgpLCBkYXR1bVJhdGlvID0gZ2V0U2NhbGVSYW5nZVJhdGlvKHNjYWxlLCBkYXR1bVtmaWx0ZXJdKTtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJWYWx1ZS5zdGFydFJhdGlvIDw9IGRhdHVtUmF0aW8gJiYgZmlsdGVyVmFsdWUuZW5kUmF0aW8gPj0gZGF0dW1SYXRpbztcbiAgICAgICAgfSA6IGZpbHRlcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlckRhdGEodGhpcy5fZGF0YSwgZGF0YXpvb20sIERhdGFGaWx0ZXJSYW5rLmRhdGF6b29tLCAoZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRSYXRpbyA9IGV2ZW50LmRldGFpbC5zdGFydCwgZW5kUmF0aW8gPSBldmVudC5kZXRhaWwuZW5kO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydFJhdGlvOiBzdGFydFJhdGlvLFxuICAgICAgICAgICAgICAgIGVuZFJhdGlvOiBlbmRSYXRpbyxcbiAgICAgICAgICAgICAgICBzdGFydDogZGF0YXpvb20uaW52ZXJ0RGF0YXpvb21SYXRpbyhzdGFydFJhdGlvKSxcbiAgICAgICAgICAgICAgICBlbmQ6IGRhdGF6b29tLmludmVydERhdGF6b29tUmF0aW8oZW5kUmF0aW8pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSwgZGF0YUZpbHRlciwgdHJhbnNmb3JtKSwgWyB7XG4gICAgICAgICAgICB0eXBlOiBcImNoYW5nZVwiLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVGaWx0ZXJcbiAgICAgICAgfSBdO1xuICAgIH1cbn1cblxuRGF0YXpvb21GaWx0ZXIudHlwZSA9IFwiZGF0YXpvb20tZmlsdGVyXCIsIERhdGF6b29tRmlsdGVyLmRlZmF1bHRPcHRpb25zID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhem9vbS1maWx0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/datazoom-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/dimension-tooltip.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/dimension-tooltip.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DimensionTooltip: () => (/* binding */ DimensionTooltip)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/angle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n/* harmony import */ var _base_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\n\n\n\n\nconst isEqualTooltipDatum = (current, previous) => {\n    const currentDatum = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(current), previousDatum = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(previous);\n    return currentDatum.length === previousDatum.length && (currentDatum.every((datum => previousDatum.includes(datum))) && previousDatum.every((datum => currentDatum.includes(datum))));\n}, computeTooltipFilterValue = (point, scale, type, groupSize, tooltipCenter) => {\n    if (\"x\" === type) return scale.invert(point.x);\n    if (\"y\" === type) return scale.invert(point.y);\n    if (\"radius\" === type) {\n        const center = null != tooltipCenter ? tooltipCenter : {\n            x: groupSize.width / 2,\n            y: groupSize.height / 2\n        }, radius = Math.sqrt((center.x - point.x) ** 2 + (center.y - point.y) ** 2);\n        return scale.invert(radius);\n    }\n    if (\"angle\" === type) {\n        const center = null != tooltipCenter ? tooltipCenter : {\n            x: groupSize.width / 2,\n            y: groupSize.height / 2\n        }, angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point);\n        return scale.invert(angle < 0 ? angle + 2 * Math.PI : angle);\n    }\n    return scale.invert(point.x);\n};\n\nclass DimensionTooltip extends _base_tooltip__WEBPACK_IMPORTED_MODULE_2__.BaseTooltip {\n    constructor(view, options) {\n        var _a, _b, _c;\n        super(view, options), this.type = DimensionTooltip.type, this._avoidMarks = [], \n        this._tooltipDataFilter = null, this.handleTooltipShow = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])((event => {\n            var _a, _b, _c;\n            if (!this._tooltipComponent) return;\n            const scale = ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.options.scale) ? this.view.getScaleById(this.options.scale) : this.options.scale).getScale(), groupGraphicItem = this._container.getGroupGraphicItem(), point = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint(event.canvas, point);\n            const groupSize = {\n                width: groupGraphicItem.attribute.width,\n                height: groupGraphicItem.attribute.height\n            };\n            if (point.x < 0 || point.x > groupGraphicItem.attribute.width || point.y < 0 || point.y > groupGraphicItem.attribute.height) return void this._tooltipComponent.hideAll();\n            const eventTargetMark = null === (_b = null === (_a = event.target) || void 0 === _a ? void 0 : _a[_graph_constants__WEBPACK_IMPORTED_MODULE_5__.BridgeElementKey]) || void 0 === _b ? void 0 : _b.mark;\n            if (this._avoidMarks.includes(eventTargetMark)) return void this._tooltipComponent.hideAll();\n            const target = null === (_c = this.options.target) || void 0 === _c ? void 0 : _c.data, lastDataGrammar = target ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(target) ? this.view.getDataById(target) : target : null, data = lastDataGrammar ? lastDataGrammar.getValue() : [], filterValue = computeTooltipFilterValue(point, scale, this.options.tooltipType, groupSize, this.options.center), tooltipDatum = this._tooltipDataFilter ? data.filter((datum => this._tooltipDataFilter(datum, filterValue))) : [];\n            if (this._tooltipComponent.showAll(), isEqualTooltipDatum(tooltipDatum, this._lastDatum)) return void this._tooltipComponent.setAttributes({\n                pointerX: point.x,\n                pointerY: point.y\n            });\n            this._lastDatum = tooltipDatum;\n            const boundsStart = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint({\n                x: 0,\n                y: 0\n            }, boundsStart);\n            const boundsEnd = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint({\n                x: this.view.getSignalById(\"width\").getValue(),\n                y: this.view.getSignalById(\"height\").getValue()\n            }, boundsEnd);\n            const bounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.AABBBounds).set(boundsStart.x, boundsStart.y, boundsEnd.x, boundsEnd.y), {title: title, content: content} = this._computeTitleContent(tooltipDatum), theme = this.view.getCurrentTheme(), addition = (0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.invokeFunctionType)(this.options.attributes, this.parameters(), {}), attributes = (0,_base_tooltip__WEBPACK_IMPORTED_MODULE_2__.generateTooltipAttributes)(point, title, content, bounds, theme, addition);\n            this._tooltipComponent.setAttributes(attributes);\n        }), 10), this.handleTooltipHide = event => {\n            this._tooltipComponent && this._tooltipComponent.hideAll();\n        }, this.options = Object.assign({}, DimensionTooltip.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector), \n        this._avoidMarks = null !== (_a = view.getMarksBySelector(this.options.avoidMark)) && void 0 !== _a ? _a : [], \n        this._container = null !== (_c = null === (_b = view.getMarksBySelector(this.options.container)) || void 0 === _b ? void 0 : _b[0]) && void 0 !== _c ? _c : view.rootMark;\n    }\n    getEvents() {\n        const filter = this.options.target.filter;\n        return this._tooltipDataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(filter) ? (datum, filterValue) => filterValue === datum[filter] : filter, \n        [ {\n            type: this.options.trigger,\n            handler: this.handleTooltipShow\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleTooltipHide\n        } ];\n    }\n}\n\nDimensionTooltip.type = \"dimension-tooltip\", DimensionTooltip.defaultOptions = {\n    trigger: \"pointermove\",\n    triggerOff: \"pointerleave\"\n};\n//# sourceMappingURL=dimension-tooltip.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2RpbWVuc2lvbi10b29sdGlwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwRjs7QUFFN0M7O0FBRWM7O0FBRUw7O0FBRUg7O0FBRW5EO0FBQ0EseUJBQXlCLHVEQUFLLDJCQUEyQix1REFBSztBQUM5RDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVLGlFQUFlO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVPLCtCQUErQixzREFBVztBQUNqRDtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsNERBQVE7QUFDekU7QUFDQTtBQUNBLDJCQUEyQiw0REFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrR0FBK0csOERBQWdCO0FBQy9IO0FBQ0EsK0hBQStILDREQUFRO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGdDQUFnQyx3REFBVSxnRUFBZ0UsZ0NBQWdDLDJGQUEyRiwrREFBa0IsK0NBQStDLGdCQUFnQix3RUFBeUI7QUFDL1U7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLGlDQUFpQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDREQUFRO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvZGltZW5zaW9uLXRvb2x0aXAuanM/OTM3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBQUJCQm91bmRzLCBhcnJheSwgZ2V0QW5nbGVCeVBvaW50LCBpc1N0cmluZywgdGhyb3R0bGUgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBCYXNlVG9vbHRpcCB9IGZyb20gXCIuL2Jhc2UtdG9vbHRpcFwiO1xuXG5pbXBvcnQgeyBnZW5lcmF0ZVRvb2x0aXBBdHRyaWJ1dGVzIH0gZnJvbSBcIi4vYmFzZS10b29sdGlwXCI7XG5cbmltcG9ydCB7IEJyaWRnZUVsZW1lbnRLZXkgfSBmcm9tIFwiLi4vZ3JhcGgvY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmNvbnN0IGlzRXF1YWxUb29sdGlwRGF0dW0gPSAoY3VycmVudCwgcHJldmlvdXMpID0+IHtcbiAgICBjb25zdCBjdXJyZW50RGF0dW0gPSBhcnJheShjdXJyZW50KSwgcHJldmlvdXNEYXR1bSA9IGFycmF5KHByZXZpb3VzKTtcbiAgICByZXR1cm4gY3VycmVudERhdHVtLmxlbmd0aCA9PT0gcHJldmlvdXNEYXR1bS5sZW5ndGggJiYgKGN1cnJlbnREYXR1bS5ldmVyeSgoZGF0dW0gPT4gcHJldmlvdXNEYXR1bS5pbmNsdWRlcyhkYXR1bSkpKSAmJiBwcmV2aW91c0RhdHVtLmV2ZXJ5KChkYXR1bSA9PiBjdXJyZW50RGF0dW0uaW5jbHVkZXMoZGF0dW0pKSkpO1xufSwgY29tcHV0ZVRvb2x0aXBGaWx0ZXJWYWx1ZSA9IChwb2ludCwgc2NhbGUsIHR5cGUsIGdyb3VwU2l6ZSwgdG9vbHRpcENlbnRlcikgPT4ge1xuICAgIGlmIChcInhcIiA9PT0gdHlwZSkgcmV0dXJuIHNjYWxlLmludmVydChwb2ludC54KTtcbiAgICBpZiAoXCJ5XCIgPT09IHR5cGUpIHJldHVybiBzY2FsZS5pbnZlcnQocG9pbnQueSk7XG4gICAgaWYgKFwicmFkaXVzXCIgPT09IHR5cGUpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gbnVsbCAhPSB0b29sdGlwQ2VudGVyID8gdG9vbHRpcENlbnRlciA6IHtcbiAgICAgICAgICAgIHg6IGdyb3VwU2l6ZS53aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiBncm91cFNpemUuaGVpZ2h0IC8gMlxuICAgICAgICB9LCByYWRpdXMgPSBNYXRoLnNxcnQoKGNlbnRlci54IC0gcG9pbnQueCkgKiogMiArIChjZW50ZXIueSAtIHBvaW50LnkpICoqIDIpO1xuICAgICAgICByZXR1cm4gc2NhbGUuaW52ZXJ0KHJhZGl1cyk7XG4gICAgfVxuICAgIGlmIChcImFuZ2xlXCIgPT09IHR5cGUpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gbnVsbCAhPSB0b29sdGlwQ2VudGVyID8gdG9vbHRpcENlbnRlciA6IHtcbiAgICAgICAgICAgIHg6IGdyb3VwU2l6ZS53aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiBncm91cFNpemUuaGVpZ2h0IC8gMlxuICAgICAgICB9LCBhbmdsZSA9IGdldEFuZ2xlQnlQb2ludChjZW50ZXIsIHBvaW50KTtcbiAgICAgICAgcmV0dXJuIHNjYWxlLmludmVydChhbmdsZSA8IDAgPyBhbmdsZSArIDIgKiBNYXRoLlBJIDogYW5nbGUpO1xuICAgIH1cbiAgICByZXR1cm4gc2NhbGUuaW52ZXJ0KHBvaW50LngpO1xufTtcblxuZXhwb3J0IGNsYXNzIERpbWVuc2lvblRvb2x0aXAgZXh0ZW5kcyBCYXNlVG9vbHRpcCB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IERpbWVuc2lvblRvb2x0aXAudHlwZSwgdGhpcy5fYXZvaWRNYXJrcyA9IFtdLCBcbiAgICAgICAgdGhpcy5fdG9vbHRpcERhdGFGaWx0ZXIgPSBudWxsLCB0aGlzLmhhbmRsZVRvb2x0aXBTaG93ID0gdGhyb3R0bGUoKGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl90b29sdGlwQ29tcG9uZW50KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IChpc1N0cmluZyh0aGlzLm9wdGlvbnMuc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0aGlzLm9wdGlvbnMuc2NhbGUpIDogdGhpcy5vcHRpb25zLnNjYWxlKS5nZXRTY2FsZSgpLCBncm91cEdyYXBoaWNJdGVtID0gdGhpcy5fY29udGFpbmVyLmdldEdyb3VwR3JhcGhpY0l0ZW0oKSwgcG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ3JvdXBHcmFwaGljSXRlbS5nbG9iYWxUcmFuc01hdHJpeC50cmFuc2Zvcm1Qb2ludChldmVudC5jYW52YXMsIHBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwU2l6ZSA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBncm91cEdyYXBoaWNJdGVtLmF0dHJpYnV0ZS5oZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocG9pbnQueCA8IDAgfHwgcG9pbnQueCA+IGdyb3VwR3JhcGhpY0l0ZW0uYXR0cmlidXRlLndpZHRoIHx8IHBvaW50LnkgPCAwIHx8IHBvaW50LnkgPiBncm91cEdyYXBoaWNJdGVtLmF0dHJpYnV0ZS5oZWlnaHQpIHJldHVybiB2b2lkIHRoaXMuX3Rvb2x0aXBDb21wb25lbnQuaGlkZUFsbCgpO1xuICAgICAgICAgICAgY29uc3QgZXZlbnRUYXJnZXRNYXJrID0gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gZXZlbnQudGFyZ2V0KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2FbQnJpZGdlRWxlbWVudEtleV0pIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5tYXJrO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F2b2lkTWFya3MuaW5jbHVkZXMoZXZlbnRUYXJnZXRNYXJrKSkgcmV0dXJuIHZvaWQgdGhpcy5fdG9vbHRpcENvbXBvbmVudC5oaWRlQWxsKCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBudWxsID09PSAoX2MgPSB0aGlzLm9wdGlvbnMudGFyZ2V0KSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuZGF0YSwgbGFzdERhdGFHcmFtbWFyID0gdGFyZ2V0ID8gaXNTdHJpbmcodGFyZ2V0KSA/IHRoaXMudmlldy5nZXREYXRhQnlJZCh0YXJnZXQpIDogdGFyZ2V0IDogbnVsbCwgZGF0YSA9IGxhc3REYXRhR3JhbW1hciA/IGxhc3REYXRhR3JhbW1hci5nZXRWYWx1ZSgpIDogW10sIGZpbHRlclZhbHVlID0gY29tcHV0ZVRvb2x0aXBGaWx0ZXJWYWx1ZShwb2ludCwgc2NhbGUsIHRoaXMub3B0aW9ucy50b29sdGlwVHlwZSwgZ3JvdXBTaXplLCB0aGlzLm9wdGlvbnMuY2VudGVyKSwgdG9vbHRpcERhdHVtID0gdGhpcy5fdG9vbHRpcERhdGFGaWx0ZXIgPyBkYXRhLmZpbHRlcigoZGF0dW0gPT4gdGhpcy5fdG9vbHRpcERhdGFGaWx0ZXIoZGF0dW0sIGZpbHRlclZhbHVlKSkpIDogW107XG4gICAgICAgICAgICBpZiAodGhpcy5fdG9vbHRpcENvbXBvbmVudC5zaG93QWxsKCksIGlzRXF1YWxUb29sdGlwRGF0dW0odG9vbHRpcERhdHVtLCB0aGlzLl9sYXN0RGF0dW0pKSByZXR1cm4gdm9pZCB0aGlzLl90b29sdGlwQ29tcG9uZW50LnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHBvaW50ZXJYOiBwb2ludC54LFxuICAgICAgICAgICAgICAgIHBvaW50ZXJZOiBwb2ludC55XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3REYXR1bSA9IHRvb2x0aXBEYXR1bTtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kc1N0YXJ0ID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdyb3VwR3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXgudHJhbnNmb3JtUG9pbnQoe1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSwgYm91bmRzU3RhcnQpO1xuICAgICAgICAgICAgY29uc3QgYm91bmRzRW5kID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdyb3VwR3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXgudHJhbnNmb3JtUG9pbnQoe1xuICAgICAgICAgICAgICAgIHg6IHRoaXMudmlldy5nZXRTaWduYWxCeUlkKFwid2lkdGhcIikuZ2V0VmFsdWUoKSxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnZpZXcuZ2V0U2lnbmFsQnlJZChcImhlaWdodFwiKS5nZXRWYWx1ZSgpXG4gICAgICAgICAgICB9LCBib3VuZHNFbmQpO1xuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gKG5ldyBBQUJCQm91bmRzKS5zZXQoYm91bmRzU3RhcnQueCwgYm91bmRzU3RhcnQueSwgYm91bmRzRW5kLngsIGJvdW5kc0VuZC55KSwge3RpdGxlOiB0aXRsZSwgY29udGVudDogY29udGVudH0gPSB0aGlzLl9jb21wdXRlVGl0bGVDb250ZW50KHRvb2x0aXBEYXR1bSksIHRoZW1lID0gdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpLCBhZGRpdGlvbiA9IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLm9wdGlvbnMuYXR0cmlidXRlcywgdGhpcy5wYXJhbWV0ZXJzKCksIHt9KSwgYXR0cmlidXRlcyA9IGdlbmVyYXRlVG9vbHRpcEF0dHJpYnV0ZXMocG9pbnQsIHRpdGxlLCBjb250ZW50LCBib3VuZHMsIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICB0aGlzLl90b29sdGlwQ29tcG9uZW50LnNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcyk7XG4gICAgICAgIH0pLCAxMCksIHRoaXMuaGFuZGxlVG9vbHRpcEhpZGUgPSBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLl90b29sdGlwQ29tcG9uZW50ICYmIHRoaXMuX3Rvb2x0aXBDb21wb25lbnQuaGlkZUFsbCgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBEaW1lbnNpb25Ub29sdGlwLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc2VsZWN0b3IpLCBcbiAgICAgICAgdGhpcy5fYXZvaWRNYXJrcyA9IG51bGwgIT09IChfYSA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5hdm9pZE1hcmspKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXSwgXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG51bGwgIT09IChfYyA9IG51bGwgPT09IChfYiA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5jb250YWluZXIpKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2JbMF0pICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IHZpZXcucm9vdE1hcms7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyID0gdGhpcy5vcHRpb25zLnRhcmdldC5maWx0ZXI7XG4gICAgICAgIHJldHVybiB0aGlzLl90b29sdGlwRGF0YUZpbHRlciA9IGlzU3RyaW5nKGZpbHRlcikgPyAoZGF0dW0sIGZpbHRlclZhbHVlKSA9PiBmaWx0ZXJWYWx1ZSA9PT0gZGF0dW1bZmlsdGVyXSA6IGZpbHRlciwgXG4gICAgICAgIFsge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVRvb2x0aXBTaG93XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVUb29sdGlwSGlkZVxuICAgICAgICB9IF07XG4gICAgfVxufVxuXG5EaW1lbnNpb25Ub29sdGlwLnR5cGUgPSBcImRpbWVuc2lvbi10b29sdGlwXCIsIERpbWVuc2lvblRvb2x0aXAuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgdHJpZ2dlcjogXCJwb2ludGVybW92ZVwiLFxuICAgIHRyaWdnZXJPZmY6IFwicG9pbnRlcmxlYXZlXCJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaW1lbnNpb24tdG9vbHRpcC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/dimension-tooltip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/drill-down.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/drill-down.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DrillDown: () => (/* binding */ DrillDown)\n/* harmony export */ });\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\nclass DrillDown extends _brush_base__WEBPACK_IMPORTED_MODULE_0__.BrushBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, DrillDown.defaultOptions, option)), this.type = DrillDown.type, \n        this.handleBrushUpdate = event => {\n            const elements = [];\n            let filterValue = [];\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    this.isBrushContainGraphicItem(event.detail.operateMask, el.getGraphicItem()) && (elements.push(el), \n                    filterValue = filterValue.concat((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(el.getDatum())));\n                }));\n            })), this._data && (filterValue = Array.from(new Set(filterValue)), this._filterValue && filterValue.length === this._filterValue.length && !filterValue.some((datum => !this._filterValue.includes(datum))) || (this._filterValue = filterValue, \n            this.handleFilter())), this._dispatchEvent(event, elements);\n        }, this.handleTrigger = event => {\n            const element = event.element;\n            if (element && this._marks && this._marks.includes(element.mark)) {\n                const filterValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(element.getDatum());\n                this._filterValue && filterValue.length === this._filterValue.length && !filterValue.some((datum => !this._filterValue.includes(datum))) || (this._filterValue = filterValue, \n                this.handleFilter());\n            }\n        }, this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._data) return [];\n        const transform = this.options.target.transform;\n        return this._filterData(this._data, null, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.DataFilterRank.drillDown, null, void 0, ((data, filterValue) => {\n            const nextData = filterValue || data;\n            return transform ? transform(data, filterValue) : nextData;\n        })), this.options.brush ? super.getEvents() : [ {\n            type: this.options.trigger,\n            handler: this.handleTrigger\n        } ];\n    }\n}\n\nDrillDown.type = \"drill-down\", DrillDown.defaultOptions = {\n    brush: !1,\n    trigger: \"click\"\n};\n//# sourceMappingURL=drill-down.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2RyaWxsLWRvd24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBeUM7O0FBRVU7O0FBRUg7O0FBRXpDLHdCQUF3QixrREFBUztBQUN4QztBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsdURBQUs7QUFDMUQsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0NBQW9DLHVEQUFLO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZUFBZSw0REFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx3REFBYztBQUNoRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9kcmlsbC1kb3duLmpzPzNmZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnJ1c2hCYXNlIH0gZnJvbSBcIi4vYnJ1c2gtYmFzZVwiO1xuXG5pbXBvcnQgeyBpc1N0cmluZywgYXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBEYXRhRmlsdGVyUmFuayB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgRHJpbGxEb3duIGV4dGVuZHMgQnJ1c2hCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb24pIHtcbiAgICAgICAgc3VwZXIodmlldywgT2JqZWN0LmFzc2lnbih7fSwgRHJpbGxEb3duLmRlZmF1bHRPcHRpb25zLCBvcHRpb24pKSwgdGhpcy50eXBlID0gRHJpbGxEb3duLnR5cGUsIFxuICAgICAgICB0aGlzLmhhbmRsZUJydXNoVXBkYXRlID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBmaWx0ZXJWYWx1ZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCcnVzaENvbnRhaW5HcmFwaGljSXRlbShldmVudC5kZXRhaWwub3BlcmF0ZU1hc2ssIGVsLmdldEdyYXBoaWNJdGVtKCkpICYmIChlbGVtZW50cy5wdXNoKGVsKSwgXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlID0gZmlsdGVyVmFsdWUuY29uY2F0KGFycmF5KGVsLmdldERhdHVtKCkpKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLl9kYXRhICYmIChmaWx0ZXJWYWx1ZSA9IEFycmF5LmZyb20obmV3IFNldChmaWx0ZXJWYWx1ZSkpLCB0aGlzLl9maWx0ZXJWYWx1ZSAmJiBmaWx0ZXJWYWx1ZS5sZW5ndGggPT09IHRoaXMuX2ZpbHRlclZhbHVlLmxlbmd0aCAmJiAhZmlsdGVyVmFsdWUuc29tZSgoZGF0dW0gPT4gIXRoaXMuX2ZpbHRlclZhbHVlLmluY2x1ZGVzKGRhdHVtKSkpIHx8ICh0aGlzLl9maWx0ZXJWYWx1ZSA9IGZpbHRlclZhbHVlLCBcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsdGVyKCkpKSwgdGhpcy5fZGlzcGF0Y2hFdmVudChldmVudCwgZWxlbWVudHMpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVRyaWdnZXIgPSBldmVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IGFycmF5KGVsZW1lbnQuZ2V0RGF0dW0oKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsdGVyVmFsdWUgJiYgZmlsdGVyVmFsdWUubGVuZ3RoID09PSB0aGlzLl9maWx0ZXJWYWx1ZS5sZW5ndGggJiYgIWZpbHRlclZhbHVlLnNvbWUoKGRhdHVtID0+ICF0aGlzLl9maWx0ZXJWYWx1ZS5pbmNsdWRlcyhkYXR1bSkpKSB8fCAodGhpcy5fZmlsdGVyVmFsdWUgPSBmaWx0ZXJWYWx1ZSwgXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuX2RhdGEgPSBpc1N0cmluZyh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpID8gdmlldy5nZXREYXRhQnlJZCh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpIDogdGhpcy5vcHRpb25zLnRhcmdldC5kYXRhO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZGF0YSkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLm9wdGlvbnMudGFyZ2V0LnRyYW5zZm9ybTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlckRhdGEodGhpcy5fZGF0YSwgbnVsbCwgRGF0YUZpbHRlclJhbmsuZHJpbGxEb3duLCBudWxsLCB2b2lkIDAsICgoZGF0YSwgZmlsdGVyVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHREYXRhID0gZmlsdGVyVmFsdWUgfHwgZGF0YTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0oZGF0YSwgZmlsdGVyVmFsdWUpIDogbmV4dERhdGE7XG4gICAgICAgIH0pKSwgdGhpcy5vcHRpb25zLmJydXNoID8gc3VwZXIuZ2V0RXZlbnRzKCkgOiBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVUcmlnZ2VyXG4gICAgICAgIH0gXTtcbiAgICB9XG59XG5cbkRyaWxsRG93bi50eXBlID0gXCJkcmlsbC1kb3duXCIsIERyaWxsRG93bi5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBicnVzaDogITEsXG4gICAgdHJpZ2dlcjogXCJjbGlja1wiXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHJpbGwtZG93bi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/drill-down.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-active-by-legend.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-active-by-legend.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementActiveByLegend: () => (/* binding */ ElementActiveByLegend)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/legend/constant.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n\n\n\n\n\n\n\n\n\n\nclass ElementActiveByLegend extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementActiveByLegend.type, this.handleStart = e => {\n            var _a, _b;\n            this.start(null === (_b = null === (_a = e.detail) || void 0 === _a ? void 0 : _a.data) || void 0 === _b ? void 0 : _b.id);\n        }, this.handleReset = e => {\n            this.reset();\n        }, this.options = Object.assign({}, ElementActiveByLegend.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getEvents() {\n        return [ {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.LegendEvent.legendItemHover,\n            handler: this.handleStart\n        }, {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.LegendEvent.legendItemUnHover,\n            handler: this.handleReset\n        } ];\n    }\n    getStartState() {\n        return this.options.state;\n    }\n    start(element) {\n        const itemKey = element;\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(itemKey)) return;\n        const filterValue = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.generateFilterValue)(this.options);\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                filterValue(el) === itemKey ? el.addState(this.options.state) : el.removeState(this.options.state);\n            }));\n        }));\n    }\n    reset() {\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(this.options.state);\n            }));\n        }));\n    }\n}\n\nElementActiveByLegend.type = \"element-active-by-legend\", ElementActiveByLegend.defaultOptions = {\n    state: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.active,\n    filterType: \"groupKey\"\n};\n//# sourceMappingURL=element-active-by-legend.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtYWN0aXZlLWJ5LWxlZ2VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0Q7O0FBRWI7O0FBRWtCOztBQUVsQjs7QUFFSzs7QUFFdkMsb0NBQW9DLGtEQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUVBQVc7QUFDN0I7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLHFFQUFXO0FBQzdCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQUs7QUFDakIsNEJBQTRCLDJEQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDhEQUFvQjtBQUMvQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtYWN0aXZlLWJ5LWxlZ2VuZC5qcz84ZTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVyYWN0aW9uU3RhdGVFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuaW1wb3J0IHsgTGVnZW5kRXZlbnQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGdlbmVyYXRlRmlsdGVyVmFsdWUgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgRWxlbWVudEFjdGl2ZUJ5TGVnZW5kIGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBFbGVtZW50QWN0aXZlQnlMZWdlbmQudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IGUgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQobnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gZS5kZXRhaWwpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5kYXRhKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuaWQpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIEVsZW1lbnRBY3RpdmVCeUxlZ2VuZC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIFxuICAgICAgICB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogTGVnZW5kRXZlbnQubGVnZW5kSXRlbUhvdmVyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiBMZWdlbmRFdmVudC5sZWdlbmRJdGVtVW5Ib3ZlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUmVzZXRcbiAgICAgICAgfSBdO1xuICAgIH1cbiAgICBnZXRTdGFydFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnN0YXRlO1xuICAgIH1cbiAgICBzdGFydChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGl0ZW1LZXkgPSBlbGVtZW50O1xuICAgICAgICBpZiAoaXNOaWwoaXRlbUtleSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBnZW5lcmF0ZUZpbHRlclZhbHVlKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZmlsdGVyVmFsdWUoZWwpID09PSBpdGVtS2V5ID8gZWwuYWRkU3RhdGUodGhpcy5vcHRpb25zLnN0YXRlKSA6IGVsLnJlbW92ZVN0YXRlKHRoaXMub3B0aW9ucy5zdGF0ZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlU3RhdGUodGhpcy5vcHRpb25zLnN0YXRlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuRWxlbWVudEFjdGl2ZUJ5TGVnZW5kLnR5cGUgPSBcImVsZW1lbnQtYWN0aXZlLWJ5LWxlZ2VuZFwiLCBFbGVtZW50QWN0aXZlQnlMZWdlbmQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgc3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmFjdGl2ZSxcbiAgICBmaWx0ZXJUeXBlOiBcImdyb3VwS2V5XCJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LWFjdGl2ZS1ieS1sZWdlbmQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-active-by-legend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-active.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-active.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementActive: () => (/* binding */ ElementActive)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n\n\n\n\nclass ElementActive extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementActive.type, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            this.reset(e.element);\n        }, this.options = Object.assign({}, ElementActive.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    getStartState() {\n        return this.options.state;\n    }\n    start(element) {\n        element && this._marks && this._marks.includes(element.mark) && element.addState(this.options.state);\n    }\n    reset(element) {\n        element && this._marks && this._marks.includes(element.mark) && element.removeState(this.options.state);\n    }\n}\n\nElementActive.type = \"element-active\", ElementActive.defaultOptions = {\n    state: _graph_enums__WEBPACK_IMPORTED_MODULE_1__.InteractionStateEnum.active,\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtYWN0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDs7QUFFYjs7QUFFbEMsNEJBQTRCLGtEQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsaUNBQWlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyw4REFBb0I7QUFDL0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9lbGVtZW50LWFjdGl2ZS5qcz9iMDIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVyYWN0aW9uU3RhdGVFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRBY3RpdmUgZXh0ZW5kcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IEVsZW1lbnRBY3RpdmUudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydChlLmVsZW1lbnQpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KGUuZWxlbWVudCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIEVsZW1lbnRBY3RpdmUuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVN0YXJ0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSZXNldFxuICAgICAgICB9IF07XG4gICAgfVxuICAgIGdldFN0YXJ0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuc3RhdGU7XG4gICAgfVxuICAgIHN0YXJ0KGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudCAmJiB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlbGVtZW50Lm1hcmspICYmIGVsZW1lbnQuYWRkU3RhdGUodGhpcy5vcHRpb25zLnN0YXRlKTtcbiAgICB9XG4gICAgcmVzZXQoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykgJiYgZWxlbWVudC5yZW1vdmVTdGF0ZSh0aGlzLm9wdGlvbnMuc3RhdGUpO1xuICAgIH1cbn1cblxuRWxlbWVudEFjdGl2ZS50eXBlID0gXCJlbGVtZW50LWFjdGl2ZVwiLCBFbGVtZW50QWN0aXZlLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5hY3RpdmUsXG4gICAgdHJpZ2dlcjogXCJwb2ludGVyb3ZlclwiLFxuICAgIHRyaWdnZXJPZmY6IFwicG9pbnRlcm91dFwiXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-active.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-group.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-group.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByGroup: () => (/* binding */ ElementHighlightByGroup)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n\n\n\n\n\n\nclass ElementHighlightByGroup extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByGroup.type, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            this.reset(e.element);\n        }, this.options = Object.assign({}, ElementHighlightByGroup.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    clearPrevElements() {\n        const states = [ this.options.highlightState, this.options.blurState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n    start(element) {\n        if (element && this._marks && this._marks.includes(element.mark)) {\n            const highlightKey = element.groupKey;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(highlightKey)) return;\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    el.groupKey === highlightKey ? el.updateStates({\n                        [this.options.blurState]: !1,\n                        [this.options.highlightState]: !0\n                    }) : el.updateStates({\n                        [this.options.blurState]: !0,\n                        [this.options.highlightState]: !1\n                    });\n                }));\n            }));\n        }\n    }\n    reset(element) {\n        element && this._marks && this._marks.includes(element.mark) && this.clearPrevElements();\n    }\n}\n\nElementHighlightByGroup.type = \"element-highlight-by-group\", ElementHighlightByGroup.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.blur,\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\"\n};\n//# sourceMappingURL=element-highlight-by-group.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWdyb3VwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7O0FBRWE7O0FBRWI7O0FBRWxDLHNDQUFzQyxrREFBZTtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLGlDQUFpQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiw4REFBb0I7QUFDeEMsZUFBZSw4REFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWdyb3VwLmpzP2MzN2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50SGlnaGxpZ2h0QnlHcm91cCBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEhpZ2hsaWdodEJ5R3JvdXAudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydChlLmVsZW1lbnQpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KGUuZWxlbWVudCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIEVsZW1lbnRIaWdobGlnaHRCeUdyb3VwLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKTtcbiAgICB9XG4gICAgZ2V0U3RhcnRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlU3RhcnRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgIH0gXTtcbiAgICB9XG4gICAgY2xlYXJQcmV2RWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IFsgdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlLCB0aGlzLm9wdGlvbnMuYmx1clN0YXRlIF07XG4gICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlU3RhdGUoc3RhdGVzKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdGFydChlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodEtleSA9IGVsZW1lbnQuZ3JvdXBLZXk7XG4gICAgICAgICAgICBpZiAoaXNOaWwoaGlnaGxpZ2h0S2V5KSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmdyb3VwS2V5ID09PSBoaWdobGlnaHRLZXkgPyBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5ibHVyU3RhdGVdOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGVdOiAhMFxuICAgICAgICAgICAgICAgICAgICB9KSA6IGVsLnVwZGF0ZVN0YXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmJsdXJTdGF0ZV06ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZV06ICExXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSAmJiB0aGlzLmNsZWFyUHJldkVsZW1lbnRzKCk7XG4gICAgfVxufVxuXG5FbGVtZW50SGlnaGxpZ2h0QnlHcm91cC50eXBlID0gXCJlbGVtZW50LWhpZ2hsaWdodC1ieS1ncm91cFwiLCBFbGVtZW50SGlnaGxpZ2h0QnlHcm91cC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBoaWdobGlnaHRTdGF0ZTogSW50ZXJhY3Rpb25TdGF0ZUVudW0uaGlnaGxpZ2h0LFxuICAgIGJsdXJTdGF0ZTogSW50ZXJhY3Rpb25TdGF0ZUVudW0uYmx1cixcbiAgICB0cmlnZ2VyOiBcInBvaW50ZXJvdmVyXCIsXG4gICAgdHJpZ2dlck9mZjogXCJwb2ludGVyb3V0XCJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LWhpZ2hsaWdodC1ieS1ncm91cC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-group.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-key.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-key.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByKey: () => (/* binding */ ElementHighlightByKey)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\nclass ElementHighlightByKey extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByKey.type, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            e.element && this._marks && this._marks.includes(e.element.mark) && this.clearPrevElements();\n        }, this.options = Object.assign({}, ElementHighlightByKey.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    clearPrevElements() {\n        const states = [ this.options.highlightState, this.options.blurState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n    start(element) {\n        if (element && this._marks && this._marks.includes(element.mark)) {\n            const highlightKey = element.key;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(highlightKey)) return;\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    el.key === highlightKey ? el.updateStates({\n                        [this.options.blurState]: !1,\n                        [this.options.highlightState]: !0\n                    }) : el.updateStates({\n                        [this.options.blurState]: !0,\n                        [this.options.highlightState]: !1\n                    });\n                }));\n            }));\n        }\n    }\n    reset(element) {\n        if (element && this._marks && this._marks.includes(element.mark)) {\n            const highlightKey = element.key;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(highlightKey)) return;\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    el.key === highlightKey ? el.updateStates({\n                        [this.options.blurState]: !1,\n                        [this.options.highlightState]: !0\n                    }) : el.updateStates({\n                        [this.options.blurState]: !0,\n                        [this.options.highlightState]: !1\n                    });\n                }));\n            }));\n        }\n    }\n}\n\nElementHighlightByKey.type = \"element-highlight-by-key\", ElementHighlightByKey.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.blur,\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\"\n};\n//# sourceMappingURL=element-highlight-by-key.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWtleS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDOztBQUVBOztBQUVhOztBQUUvQyxvQ0FBb0Msa0RBQWU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiw4REFBb0I7QUFDeEMsZUFBZSw4REFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWtleS5qcz84NTY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xuXG5pbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgRWxlbWVudEhpZ2hsaWdodEJ5S2V5IGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBFbGVtZW50SGlnaGxpZ2h0QnlLZXkudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydChlLmVsZW1lbnQpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICBlLmVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZS5lbGVtZW50Lm1hcmspICYmIHRoaXMuY2xlYXJQcmV2RWxlbWVudHMoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRWxlbWVudEhpZ2hsaWdodEJ5S2V5LmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKTtcbiAgICB9XG4gICAgZ2V0U3RhcnRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlU3RhcnRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgIH0gXTtcbiAgICB9XG4gICAgY2xlYXJQcmV2RWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IFsgdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlLCB0aGlzLm9wdGlvbnMuYmx1clN0YXRlIF07XG4gICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlU3RhdGUoc3RhdGVzKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdGFydChlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodEtleSA9IGVsZW1lbnQua2V5O1xuICAgICAgICAgICAgaWYgKGlzTmlsKGhpZ2hsaWdodEtleSkpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlbC5rZXkgPT09IGhpZ2hsaWdodEtleSA/IGVsLnVwZGF0ZVN0YXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmJsdXJTdGF0ZV06ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZV06ICEwXG4gICAgICAgICAgICAgICAgICAgIH0pIDogZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITFcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSkge1xuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0S2V5ID0gZWxlbWVudC5rZXk7XG4gICAgICAgICAgICBpZiAoaXNOaWwoaGlnaGxpZ2h0S2V5KSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmtleSA9PT0gaGlnaGxpZ2h0S2V5ID8gZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITBcbiAgICAgICAgICAgICAgICAgICAgfSkgOiBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5ibHVyU3RhdGVdOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGVdOiAhMVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkVsZW1lbnRIaWdobGlnaHRCeUtleS50eXBlID0gXCJlbGVtZW50LWhpZ2hsaWdodC1ieS1rZXlcIiwgRWxlbWVudEhpZ2hsaWdodEJ5S2V5LmRlZmF1bHRPcHRpb25zID0ge1xuICAgIGhpZ2hsaWdodFN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5oaWdobGlnaHQsXG4gICAgYmx1clN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5ibHVyLFxuICAgIHRyaWdnZXI6IFwicG9pbnRlcm92ZXJcIixcbiAgICB0cmlnZ2VyT2ZmOiBcInBvaW50ZXJvdXRcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnQtaGlnaGxpZ2h0LWJ5LWtleS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-key.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-legend.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-legend.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByLegend: () => (/* binding */ ElementHighlightByLegend)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/legend/constant.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n\n\n\n\n\n\n\n\n\n\nclass ElementHighlightByLegend extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByLegend.type, this.handleStart = (e, element) => {\n            var _a, _b;\n            this.start(null === (_b = null === (_a = e.detail) || void 0 === _a ? void 0 : _a.data) || void 0 === _b ? void 0 : _b.id);\n        }, this.handleReset = e => {\n            this.reset();\n        }, this.options = Object.assign({}, ElementHighlightByLegend.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        return [ {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.LegendEvent.legendItemHover,\n            handler: this.handleStart\n        }, {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.LegendEvent.legendItemUnHover,\n            handler: this.handleReset\n        } ];\n    }\n    start(itemKey) {\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(itemKey)) return;\n        const filterValue = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.generateFilterValue)(this.options);\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                filterValue(el) === itemKey ? el.updateStates({\n                    [this.options.blurState]: !1,\n                    [this.options.highlightState]: !0\n                }) : el.updateStates({\n                    [this.options.blurState]: !0,\n                    [this.options.highlightState]: !1\n                });\n            }));\n        }));\n    }\n    reset() {\n        const states = [ this.options.blurState, this.options.highlightState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n}\n\nElementHighlightByLegend.type = \"element-highlight-by-legend\", ElementHighlightByLegend.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.blur,\n    filterType: \"groupKey\"\n};\n//# sourceMappingURL=element-highlight-by-legend.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWxlZ2VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0Q7O0FBRWI7O0FBRWtCOztBQUVsQjs7QUFFSzs7QUFFdkMsdUNBQXVDLGtEQUFlO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUVBQVc7QUFDN0I7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLHFFQUFXO0FBQzdCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZLDREQUFLO0FBQ2pCLDRCQUE0QiwyREFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLDhEQUFvQjtBQUN4QyxlQUFlLDhEQUFvQjtBQUNuQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWxlZ2VuZC5qcz81MmVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVyYWN0aW9uU3RhdGVFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuaW1wb3J0IHsgTGVnZW5kRXZlbnQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGdlbmVyYXRlRmlsdGVyVmFsdWUgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgRWxlbWVudEhpZ2hsaWdodEJ5TGVnZW5kIGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBFbGVtZW50SGlnaGxpZ2h0QnlMZWdlbmQudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IChlLCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgdGhpcy5zdGFydChudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBlLmRldGFpbCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmRhdGEpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5pZCk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUmVzZXQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRWxlbWVudEhpZ2hsaWdodEJ5TGVnZW5kLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKTtcbiAgICB9XG4gICAgZ2V0U3RhcnRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiBMZWdlbmRFdmVudC5sZWdlbmRJdGVtSG92ZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVN0YXJ0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IExlZ2VuZEV2ZW50LmxlZ2VuZEl0ZW1VbkhvdmVyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSZXNldFxuICAgICAgICB9IF07XG4gICAgfVxuICAgIHN0YXJ0KGl0ZW1LZXkpIHtcbiAgICAgICAgaWYgKGlzTmlsKGl0ZW1LZXkpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gZ2VuZXJhdGVGaWx0ZXJWYWx1ZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlKGVsKSA9PT0gaXRlbUtleSA/IGVsLnVwZGF0ZVN0YXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITEsXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGVdOiAhMFxuICAgICAgICAgICAgICAgIH0pIDogZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5ibHVyU3RhdGVdOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZV06ICExXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IFsgdGhpcy5vcHRpb25zLmJsdXJTdGF0ZSwgdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlIF07XG4gICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlU3RhdGUoc3RhdGVzKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuRWxlbWVudEhpZ2hsaWdodEJ5TGVnZW5kLnR5cGUgPSBcImVsZW1lbnQtaGlnaGxpZ2h0LWJ5LWxlZ2VuZFwiLCBFbGVtZW50SGlnaGxpZ2h0QnlMZWdlbmQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgaGlnaGxpZ2h0U3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmhpZ2hsaWdodCxcbiAgICBibHVyU3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmJsdXIsXG4gICAgZmlsdGVyVHlwZTogXCJncm91cEtleVwiXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudC1oaWdobGlnaHQtYnktbGVnZW5kLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-legend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-name.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-name.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByName: () => (/* binding */ ElementHighlightByName)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n\n\n\n\n\n\n\n\nclass ElementHighlightByName extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByName.type, this.handleStart = (e, element) => {\n            if (this.options.shouldStart ? this.options.shouldStart(e) : this._filterByName(e)) {\n                const itemKey = this._parseTargetKey(e, element);\n                this.start(itemKey);\n            }\n        }, this.handleReset = e => {\n            (this.options.shouldReset ? this.options.shouldReset(e) : this._filterByName(e)) && this.reset();\n        }, this.options = Object.assign({}, ElementHighlightByName.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    _filterByName(e) {\n        var _a;\n        const names = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(this.options.graphicName);\n        return (null === (_a = null == e ? void 0 : e.target) || void 0 === _a ? void 0 : _a.name) && names.includes(e.target.name);\n    }\n    _parseTargetKey(e, element) {\n        return this.options.parseData ? this.options.parseData(e) : \"text\" === e.target.type ? e.target.attribute.text : null;\n    }\n    start(itemKey) {\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(itemKey)) return;\n        const filterValue = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.generateFilterValue)(this.options);\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                filterValue(el) === itemKey ? el.updateStates({\n                    [this.options.blurState]: !1,\n                    [this.options.highlightState]: !0\n                }) : el.updateStates({\n                    [this.options.blurState]: !0,\n                    [this.options.highlightState]: !1\n                });\n            }));\n        }));\n    }\n    reset() {\n        const states = [ this.options.blurState, this.options.highlightState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n}\n\nElementHighlightByName.type = \"element-highlight-by-name\", ElementHighlightByName.defaultOptions = {\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\",\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.blur,\n    filterType: \"groupKey\"\n};\n//# sourceMappingURL=element-highlight-by-name.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LW5hbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNEOztBQUViOztBQUVPOztBQUVGOztBQUV2QyxxQ0FBcUMsa0RBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQUs7QUFDakIsNEJBQTRCLDJEQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhEQUFvQjtBQUN4QyxlQUFlLDhEQUFvQjtBQUNuQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LW5hbWUuanM/YjcwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IGFycmF5LCBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGdlbmVyYXRlRmlsdGVyVmFsdWUgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgRWxlbWVudEhpZ2hsaWdodEJ5TmFtZSBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEhpZ2hsaWdodEJ5TmFtZS50eXBlLCB0aGlzLmhhbmRsZVN0YXJ0ID0gKGUsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQgPyB0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQoZSkgOiB0aGlzLl9maWx0ZXJCeU5hbWUoZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtS2V5ID0gdGhpcy5fcGFyc2VUYXJnZXRLZXkoZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydChpdGVtS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5oYW5kbGVSZXNldCA9IGUgPT4ge1xuICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5zaG91bGRSZXNldCA/IHRoaXMub3B0aW9ucy5zaG91bGRSZXNldChlKSA6IHRoaXMuX2ZpbHRlckJ5TmFtZShlKSkgJiYgdGhpcy5yZXNldCgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBFbGVtZW50SGlnaGxpZ2h0QnlOYW1lLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKTtcbiAgICB9XG4gICAgZ2V0U3RhcnRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlU3RhcnRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgIH0gXTtcbiAgICB9XG4gICAgX2ZpbHRlckJ5TmFtZShlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBhcnJheSh0aGlzLm9wdGlvbnMuZ3JhcGhpY05hbWUpO1xuICAgICAgICByZXR1cm4gKG51bGwgPT09IChfYSA9IG51bGwgPT0gZSA/IHZvaWQgMCA6IGUudGFyZ2V0KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubmFtZSkgJiYgbmFtZXMuaW5jbHVkZXMoZS50YXJnZXQubmFtZSk7XG4gICAgfVxuICAgIF9wYXJzZVRhcmdldEtleShlLCBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMucGFyc2VEYXRhID8gdGhpcy5vcHRpb25zLnBhcnNlRGF0YShlKSA6IFwidGV4dFwiID09PSBlLnRhcmdldC50eXBlID8gZS50YXJnZXQuYXR0cmlidXRlLnRleHQgOiBudWxsO1xuICAgIH1cbiAgICBzdGFydChpdGVtS2V5KSB7XG4gICAgICAgIGlmIChpc05pbChpdGVtS2V5KSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IGdlbmVyYXRlRmlsdGVyVmFsdWUodGhpcy5vcHRpb25zKTtcbiAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJWYWx1ZShlbCkgPT09IGl0ZW1LZXkgPyBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmJsdXJTdGF0ZV06ICExLFxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITBcbiAgICAgICAgICAgICAgICB9KSA6IGVsLnVwZGF0ZVN0YXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITAsXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGVdOiAhMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBbIHRoaXMub3B0aW9ucy5ibHVyU3RhdGUsIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZSBdO1xuICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZVN0YXRlKHN0YXRlcyk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbkVsZW1lbnRIaWdobGlnaHRCeU5hbWUudHlwZSA9IFwiZWxlbWVudC1oaWdobGlnaHQtYnktbmFtZVwiLCBFbGVtZW50SGlnaGxpZ2h0QnlOYW1lLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHRyaWdnZXI6IFwicG9pbnRlcm92ZXJcIixcbiAgICB0cmlnZ2VyT2ZmOiBcInBvaW50ZXJvdXRcIixcbiAgICBoaWdobGlnaHRTdGF0ZTogSW50ZXJhY3Rpb25TdGF0ZUVudW0uaGlnaGxpZ2h0LFxuICAgIGJsdXJTdGF0ZTogSW50ZXJhY3Rpb25TdGF0ZUVudW0uYmx1cixcbiAgICBmaWx0ZXJUeXBlOiBcImdyb3VwS2V5XCJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LWhpZ2hsaWdodC1ieS1uYW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-name.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlight: () => (/* binding */ ElementHighlight)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n\n\n\n\n\n\n\n\nclass ElementHighlight extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlight.type, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            this.reset(e.element);\n        }, this.options = Object.assign({}, ElementHighlight.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector), \n        this._stateMarks = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.groupMarksByState)(this._marks, [ this.options.highlightState, this.options.blurState ]);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        const triggerOff = this.options.triggerOff, events = [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        } ];\n        let eventName = triggerOff;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(triggerOff) && triggerOff.includes(\"view:\") ? (eventName = triggerOff.replace(\"view:\", \"\"), \n        this._resetType = \"view\") : this._resetType = \"self\", events.push({\n            type: eventName,\n            handler: this.handleReset\n        }), events;\n    }\n    clearPrevElements() {\n        const {highlightState: highlightState, blurState: blurState} = this.options;\n        this._lastElement && (this.clearAllStates(highlightState, blurState), this.dispatchEvent(\"reset\", {\n            elements: [ this._lastElement ],\n            options: this.options\n        }), this._lastElement = null, this._statedElements = null);\n    }\n    start(element) {\n        if (element && this._marks && this._marks.includes(element.mark)) {\n            const {highlightState: highlightState, blurState: blurState} = this.options;\n            if (this._lastElement === element) return;\n            this._statedElements = this.updateStates([ element ], this._statedElements, highlightState, blurState), \n            this._lastElement = element, this.dispatchEvent(\"start\", {\n                elements: [ element ],\n                options: this.options\n            });\n        } else this._lastElement && \"view\" === this._resetType && this.clearPrevElements();\n    }\n    reset(element) {\n        if (!this._statedElements || !this._statedElements.length) return;\n        const hasActiveElement = element && this._marks && this._marks.includes(element.mark);\n        \"view\" !== this._resetType || hasActiveElement ? \"self\" === this._resetType && hasActiveElement && this.clearPrevElements() : this.clearPrevElements();\n    }\n}\n\nElementHighlight.type = \"element-highlight\", ElementHighlight.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_3__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_3__.InteractionStateEnum.blur,\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\"\n};\n//# sourceMappingURL=element-highlight.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNEOztBQUViOztBQUVHOztBQUVBOztBQUVyQywrQkFBK0Isa0RBQWU7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUMsMkJBQTJCLHlEQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsZUFBZSw0REFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsc0RBQXNEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0RBQXNEO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLDhEQUFvQjtBQUN4QyxlQUFlLDhEQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvZWxlbWVudC1oaWdobGlnaHQuanM/NjI2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IGdyb3VwTWFya3NCeVN0YXRlIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgRWxlbWVudEhpZ2hsaWdodCBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEhpZ2hsaWdodC50eXBlLCB0aGlzLmhhbmRsZVN0YXJ0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KGUuZWxlbWVudCk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUmVzZXQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoZS5lbGVtZW50KTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRWxlbWVudEhpZ2hsaWdodC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKSwgXG4gICAgICAgIHRoaXMuX3N0YXRlTWFya3MgPSBncm91cE1hcmtzQnlTdGF0ZSh0aGlzLl9tYXJrcywgWyB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGUsIHRoaXMub3B0aW9ucy5ibHVyU3RhdGUgXSk7XG4gICAgfVxuICAgIGdldFN0YXJ0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGU7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgdHJpZ2dlck9mZiA9IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLCBldmVudHMgPSBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9IF07XG4gICAgICAgIGxldCBldmVudE5hbWUgPSB0cmlnZ2VyT2ZmO1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodHJpZ2dlck9mZikgJiYgdHJpZ2dlck9mZi5pbmNsdWRlcyhcInZpZXc6XCIpID8gKGV2ZW50TmFtZSA9IHRyaWdnZXJPZmYucmVwbGFjZShcInZpZXc6XCIsIFwiXCIpLCBcbiAgICAgICAgdGhpcy5fcmVzZXRUeXBlID0gXCJ2aWV3XCIpIDogdGhpcy5fcmVzZXRUeXBlID0gXCJzZWxmXCIsIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUmVzZXRcbiAgICAgICAgfSksIGV2ZW50cztcbiAgICB9XG4gICAgY2xlYXJQcmV2RWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHtoaWdobGlnaHRTdGF0ZTogaGlnaGxpZ2h0U3RhdGUsIGJsdXJTdGF0ZTogYmx1clN0YXRlfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy5fbGFzdEVsZW1lbnQgJiYgKHRoaXMuY2xlYXJBbGxTdGF0ZXMoaGlnaGxpZ2h0U3RhdGUsIGJsdXJTdGF0ZSksIHRoaXMuZGlzcGF0Y2hFdmVudChcInJlc2V0XCIsIHtcbiAgICAgICAgICAgIGVsZW1lbnRzOiBbIHRoaXMuX2xhc3RFbGVtZW50IF0sXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnNcbiAgICAgICAgfSksIHRoaXMuX2xhc3RFbGVtZW50ID0gbnVsbCwgdGhpcy5fc3RhdGVkRWxlbWVudHMgPSBudWxsKTtcbiAgICB9XG4gICAgc3RhcnQoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudCAmJiB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlbGVtZW50Lm1hcmspKSB7XG4gICAgICAgICAgICBjb25zdCB7aGlnaGxpZ2h0U3RhdGU6IGhpZ2hsaWdodFN0YXRlLCBibHVyU3RhdGU6IGJsdXJTdGF0ZX0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGFzdEVsZW1lbnQgPT09IGVsZW1lbnQpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlZEVsZW1lbnRzID0gdGhpcy51cGRhdGVTdGF0ZXMoWyBlbGVtZW50IF0sIHRoaXMuX3N0YXRlZEVsZW1lbnRzLCBoaWdobGlnaHRTdGF0ZSwgYmx1clN0YXRlKSwgXG4gICAgICAgICAgICB0aGlzLl9sYXN0RWxlbWVudCA9IGVsZW1lbnQsIHRoaXMuZGlzcGF0Y2hFdmVudChcInN0YXJ0XCIsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50czogWyBlbGVtZW50IF0sXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHRoaXMuX2xhc3RFbGVtZW50ICYmIFwidmlld1wiID09PSB0aGlzLl9yZXNldFR5cGUgJiYgdGhpcy5jbGVhclByZXZFbGVtZW50cygpO1xuICAgIH1cbiAgICByZXNldChlbGVtZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fc3RhdGVkRWxlbWVudHMgfHwgIXRoaXMuX3N0YXRlZEVsZW1lbnRzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYXNBY3RpdmVFbGVtZW50ID0gZWxlbWVudCAmJiB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlbGVtZW50Lm1hcmspO1xuICAgICAgICBcInZpZXdcIiAhPT0gdGhpcy5fcmVzZXRUeXBlIHx8IGhhc0FjdGl2ZUVsZW1lbnQgPyBcInNlbGZcIiA9PT0gdGhpcy5fcmVzZXRUeXBlICYmIGhhc0FjdGl2ZUVsZW1lbnQgJiYgdGhpcy5jbGVhclByZXZFbGVtZW50cygpIDogdGhpcy5jbGVhclByZXZFbGVtZW50cygpO1xuICAgIH1cbn1cblxuRWxlbWVudEhpZ2hsaWdodC50eXBlID0gXCJlbGVtZW50LWhpZ2hsaWdodFwiLCBFbGVtZW50SGlnaGxpZ2h0LmRlZmF1bHRPcHRpb25zID0ge1xuICAgIGhpZ2hsaWdodFN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5oaWdobGlnaHQsXG4gICAgYmx1clN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5ibHVyLFxuICAgIHRyaWdnZXI6IFwicG9pbnRlcm92ZXJcIixcbiAgICB0cmlnZ2VyT2ZmOiBcInBvaW50ZXJvdXRcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnQtaGlnaGxpZ2h0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementSelect: () => (/* binding */ ElementSelect)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n\n\n\n\n\n\n\n\nclass ElementSelect extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementSelect.type, this._resetType = [], this.clearPrevElements = () => {\n            const {state: state, reverseState: reverseState} = this.options;\n            this._statedElements && this._statedElements.length && (this.clearAllStates(state, reverseState), \n            this.dispatchEvent(\"reset\", {\n                elements: this._statedElements,\n                options: this.options\n            }), this._statedElements = []);\n        }, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            this.reset(e.element);\n        }, this.options = Object.assign({}, ElementSelect.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector), \n        this._stateMarks = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.groupMarksByState)(this._marks, [ this.options.state, this.options.reverseState ]);\n    }\n    getStartState() {\n        return this.options.state;\n    }\n    getEvents() {\n        const triggerOff = this.options.triggerOff, trigger = this.options.trigger, events = [ {\n            type: trigger,\n            handler: this.handleStart\n        } ], {eventNames: eventNames, resetType: resetType} = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.parseTriggerOffOfSelect)(triggerOff);\n        return eventNames.forEach((evt => {\n            evt && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(trigger) ? !trigger.includes(evt) : evt !== trigger) && events.push({\n                type: evt,\n                handler: this.handleReset\n            });\n        })), this._resetType = resetType, events;\n    }\n    start(element) {\n        const {state: state, reverseState: reverseState, isMultiple: isMultiple} = this.options;\n        if (element && this._marks && this._marks.includes(element.mark)) if (element.hasState(state)) {\n            if (this._resetType.includes(\"self\")) {\n                const newStatedElements = this._statedElements && this._statedElements.filter((el => el !== element));\n                newStatedElements && newStatedElements.length ? this._statedElements = this.updateStates(newStatedElements, this._statedElements, state, reverseState) : this.clearPrevElements();\n            }\n        } else this._timer && clearTimeout(this._timer), element.addState(state), this._statedElements = this.updateStates(isMultiple && this._statedElements ? [ ...this._statedElements, element ] : [ element ], this._statedElements, state, reverseState), \n        this.dispatchEvent(\"start\", {\n            elements: this._statedElements,\n            options: this.options\n        }), this._resetType.includes(\"timeout\") && (this._timer = setTimeout((() => {\n            this.clearPrevElements();\n        }), this.options.triggerOff)); else this._resetType.includes(\"view\") && this._statedElements && this._statedElements.length && this.clearPrevElements();\n    }\n    reset(element) {\n        if (!this._statedElements || !this._statedElements.length) return;\n        const hasActiveElement = element && this._marks && this._marks.includes(element.mark);\n        (this._resetType.includes(\"view\") && !hasActiveElement || this._resetType.includes(\"self\") && hasActiveElement) && this.clearPrevElements();\n    }\n}\n\nElementSelect.type = \"element-select\", ElementSelect.defaultOptions = {\n    state: _graph_enums__WEBPACK_IMPORTED_MODULE_3__.InteractionStateEnum.selected,\n    trigger: \"click\"\n};\n//# sourceMappingURL=element-select.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtc2VsZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUVXOztBQUVlOztBQUU1Qjs7QUFFbEMsNEJBQTRCLGtEQUFlO0FBQ2xEO0FBQ0E7QUFDQSxtQkFBbUIsMENBQTBDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsaUNBQWlDO0FBQzFDLDJCQUEyQix5REFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsSUFBSSw4Q0FBOEMsRUFBRSwrREFBdUI7QUFDckY7QUFDQSxvQkFBb0IsNERBQU87QUFDM0I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsa0VBQWtFO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyw4QkFBOEI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDhEQUFvQjtBQUMvQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtc2VsZWN0LmpzPzc0OGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEludGVyYWN0aW9uU3RhdGVFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGdyb3VwTWFya3NCeVN0YXRlLCBwYXJzZVRyaWdnZXJPZmZPZlNlbGVjdCB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRTZWxlY3QgZXh0ZW5kcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IEVsZW1lbnRTZWxlY3QudHlwZSwgdGhpcy5fcmVzZXRUeXBlID0gW10sIHRoaXMuY2xlYXJQcmV2RWxlbWVudHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7c3RhdGU6IHN0YXRlLCByZXZlcnNlU3RhdGU6IHJldmVyc2VTdGF0ZX0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZWRFbGVtZW50cyAmJiB0aGlzLl9zdGF0ZWRFbGVtZW50cy5sZW5ndGggJiYgKHRoaXMuY2xlYXJBbGxTdGF0ZXMoc3RhdGUsIHJldmVyc2VTdGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFwicmVzZXRcIiwge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzOiB0aGlzLl9zdGF0ZWRFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnNcbiAgICAgICAgICAgIH0pLCB0aGlzLl9zdGF0ZWRFbGVtZW50cyA9IFtdKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVTdGFydCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydChlLmVsZW1lbnQpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KGUuZWxlbWVudCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIEVsZW1lbnRTZWxlY3QuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3RvciksIFxuICAgICAgICB0aGlzLl9zdGF0ZU1hcmtzID0gZ3JvdXBNYXJrc0J5U3RhdGUodGhpcy5fbWFya3MsIFsgdGhpcy5vcHRpb25zLnN0YXRlLCB0aGlzLm9wdGlvbnMucmV2ZXJzZVN0YXRlIF0pO1xuICAgIH1cbiAgICBnZXRTdGFydFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnN0YXRlO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHRyaWdnZXJPZmYgPSB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZiwgdHJpZ2dlciA9IHRoaXMub3B0aW9ucy50cmlnZ2VyLCBldmVudHMgPSBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVN0YXJ0XG4gICAgICAgIH0gXSwge2V2ZW50TmFtZXM6IGV2ZW50TmFtZXMsIHJlc2V0VHlwZTogcmVzZXRUeXBlfSA9IHBhcnNlVHJpZ2dlck9mZk9mU2VsZWN0KHRyaWdnZXJPZmYpO1xuICAgICAgICByZXR1cm4gZXZlbnROYW1lcy5mb3JFYWNoKChldnQgPT4ge1xuICAgICAgICAgICAgZXZ0ICYmIChpc0FycmF5KHRyaWdnZXIpID8gIXRyaWdnZXIuaW5jbHVkZXMoZXZ0KSA6IGV2dCAhPT0gdHJpZ2dlcikgJiYgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IGV2dCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpLCB0aGlzLl9yZXNldFR5cGUgPSByZXNldFR5cGUsIGV2ZW50cztcbiAgICB9XG4gICAgc3RhcnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCB7c3RhdGU6IHN0YXRlLCByZXZlcnNlU3RhdGU6IHJldmVyc2VTdGF0ZSwgaXNNdWx0aXBsZTogaXNNdWx0aXBsZX0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChlbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykpIGlmIChlbGVtZW50Lmhhc1N0YXRlKHN0YXRlKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc2V0VHlwZS5pbmNsdWRlcyhcInNlbGZcIikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZWRFbGVtZW50cyA9IHRoaXMuX3N0YXRlZEVsZW1lbnRzICYmIHRoaXMuX3N0YXRlZEVsZW1lbnRzLmZpbHRlcigoZWwgPT4gZWwgIT09IGVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZWRFbGVtZW50cyAmJiBuZXdTdGF0ZWRFbGVtZW50cy5sZW5ndGggPyB0aGlzLl9zdGF0ZWRFbGVtZW50cyA9IHRoaXMudXBkYXRlU3RhdGVzKG5ld1N0YXRlZEVsZW1lbnRzLCB0aGlzLl9zdGF0ZWRFbGVtZW50cywgc3RhdGUsIHJldmVyc2VTdGF0ZSkgOiB0aGlzLmNsZWFyUHJldkVsZW1lbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB0aGlzLl90aW1lciAmJiBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLCBlbGVtZW50LmFkZFN0YXRlKHN0YXRlKSwgdGhpcy5fc3RhdGVkRWxlbWVudHMgPSB0aGlzLnVwZGF0ZVN0YXRlcyhpc011bHRpcGxlICYmIHRoaXMuX3N0YXRlZEVsZW1lbnRzID8gWyAuLi50aGlzLl9zdGF0ZWRFbGVtZW50cywgZWxlbWVudCBdIDogWyBlbGVtZW50IF0sIHRoaXMuX3N0YXRlZEVsZW1lbnRzLCBzdGF0ZSwgcmV2ZXJzZVN0YXRlKSwgXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcInN0YXJ0XCIsIHtcbiAgICAgICAgICAgIGVsZW1lbnRzOiB0aGlzLl9zdGF0ZWRFbGVtZW50cyxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9uc1xuICAgICAgICB9KSwgdGhpcy5fcmVzZXRUeXBlLmluY2x1ZGVzKFwidGltZW91dFwiKSAmJiAodGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyUHJldkVsZW1lbnRzKCk7XG4gICAgICAgIH0pLCB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZikpOyBlbHNlIHRoaXMuX3Jlc2V0VHlwZS5pbmNsdWRlcyhcInZpZXdcIikgJiYgdGhpcy5fc3RhdGVkRWxlbWVudHMgJiYgdGhpcy5fc3RhdGVkRWxlbWVudHMubGVuZ3RoICYmIHRoaXMuY2xlYXJQcmV2RWxlbWVudHMoKTtcbiAgICB9XG4gICAgcmVzZXQoZWxlbWVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX3N0YXRlZEVsZW1lbnRzIHx8ICF0aGlzLl9zdGF0ZWRFbGVtZW50cy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFzQWN0aXZlRWxlbWVudCA9IGVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKTtcbiAgICAgICAgKHRoaXMuX3Jlc2V0VHlwZS5pbmNsdWRlcyhcInZpZXdcIikgJiYgIWhhc0FjdGl2ZUVsZW1lbnQgfHwgdGhpcy5fcmVzZXRUeXBlLmluY2x1ZGVzKFwic2VsZlwiKSAmJiBoYXNBY3RpdmVFbGVtZW50KSAmJiB0aGlzLmNsZWFyUHJldkVsZW1lbnRzKCk7XG4gICAgfVxufVxuXG5FbGVtZW50U2VsZWN0LnR5cGUgPSBcImVsZW1lbnQtc2VsZWN0XCIsIEVsZW1lbnRTZWxlY3QuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgc3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLnNlbGVjdGVkLFxuICAgIHRyaWdnZXI6IFwiY2xpY2tcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnQtc2VsZWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Filter: () => (/* binding */ Filter),\n/* harmony export */   FilterMixin: () => (/* binding */ FilterMixin)\n/* harmony export */ });\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n\n\n\n\nclass FilterMixin {\n    _filterData(data, source, filterRank, getFilterValue, filter, transform) {\n        const dataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(data) ? this.view.getDataById(data) : data;\n        return dataGrammar && (this.handleFilter = event => {\n            const element = null == event ? void 0 : event.element;\n            dataGrammar && (!source || element && element.mark === source) && (getFilterValue && (this._filterValue = getFilterValue(event)), \n            dataGrammar.commit(), this.view.run());\n        }, this._dataFilter = {\n            source: source ? `${source.uid}` : null,\n            rank: filterRank,\n            filter: data => {\n                if (!this._filterValue) return data;\n                const filteredData = filter ? data.filter((datum => filter(datum, this._filterValue))) : data;\n                return transform ? transform(filteredData, this._filterValue) : filteredData;\n            }\n        }, dataGrammar.addDataFilter(this._dataFilter)), this;\n    }\n}\n\nclass Filter extends _base__WEBPACK_IMPORTED_MODULE_1__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), options.target && (this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.target.data) ? view.getDataById(options.target.data) : options.target.data);\n    }\n}\n\nFilter.defaultOptions = {};\n//# sourceMappingURL=filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2ZpbHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDOztBQUVHOztBQUVyQztBQUNQO0FBQ0EsNEJBQTRCLDREQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdDQUFnQyxXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVPLHFCQUFxQixrREFBZTtBQUMzQztBQUNBLDhEQUE4RCw0REFBUTtBQUN0RTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2ZpbHRlci5qcz85MzZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgRmlsdGVyTWl4aW4ge1xuICAgIF9maWx0ZXJEYXRhKGRhdGEsIHNvdXJjZSwgZmlsdGVyUmFuaywgZ2V0RmlsdGVyVmFsdWUsIGZpbHRlciwgdHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbnN0IGRhdGFHcmFtbWFyID0gaXNTdHJpbmcoZGF0YSkgPyB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQoZGF0YSkgOiBkYXRhO1xuICAgICAgICByZXR1cm4gZGF0YUdyYW1tYXIgJiYgKHRoaXMuaGFuZGxlRmlsdGVyID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG51bGwgPT0gZXZlbnQgPyB2b2lkIDAgOiBldmVudC5lbGVtZW50O1xuICAgICAgICAgICAgZGF0YUdyYW1tYXIgJiYgKCFzb3VyY2UgfHwgZWxlbWVudCAmJiBlbGVtZW50Lm1hcmsgPT09IHNvdXJjZSkgJiYgKGdldEZpbHRlclZhbHVlICYmICh0aGlzLl9maWx0ZXJWYWx1ZSA9IGdldEZpbHRlclZhbHVlKGV2ZW50KSksIFxuICAgICAgICAgICAgZGF0YUdyYW1tYXIuY29tbWl0KCksIHRoaXMudmlldy5ydW4oKSk7XG4gICAgICAgIH0sIHRoaXMuX2RhdGFGaWx0ZXIgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSA/IGAke3NvdXJjZS51aWR9YCA6IG51bGwsXG4gICAgICAgICAgICByYW5rOiBmaWx0ZXJSYW5rLFxuICAgICAgICAgICAgZmlsdGVyOiBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2ZpbHRlclZhbHVlKSByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSBmaWx0ZXIgPyBkYXRhLmZpbHRlcigoZGF0dW0gPT4gZmlsdGVyKGRhdHVtLCB0aGlzLl9maWx0ZXJWYWx1ZSkpKSA6IGRhdGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybSA/IHRyYW5zZm9ybShmaWx0ZXJlZERhdGEsIHRoaXMuX2ZpbHRlclZhbHVlKSA6IGZpbHRlcmVkRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZGF0YUdyYW1tYXIuYWRkRGF0YUZpbHRlcih0aGlzLl9kYXRhRmlsdGVyKSksIHRoaXM7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyIGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCBvcHRpb25zLnRhcmdldCAmJiAodGhpcy5fZGF0YSA9IGlzU3RyaW5nKG9wdGlvbnMudGFyZ2V0LmRhdGEpID8gdmlldy5nZXREYXRhQnlJZChvcHRpb25zLnRhcmdldC5kYXRhKSA6IG9wdGlvbnMudGFyZ2V0LmRhdGEpO1xuICAgIH1cbn1cblxuRmlsdGVyLmRlZmF1bHRPcHRpb25zID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/fish-eye.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/fish-eye.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FishEye: () => (/* binding */ FishEye)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n\n\n\n\nclass FishEye extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = FishEye.type, this.handleStart = e => {\n            e && (this.options.shouldStart ? this.options.shouldStart(e) : this.shouldHandle(e)) && (this._inited || this._initGrammars(), \n            this._isActive || (this._isActive = !0, this.updateView({\n                x: e.canvasX,\n                y: e.canvasY\n            }, e)));\n        }, this.handleUpdateInner = e => {\n            e && (this.options.shouldUpdate ? this.options.shouldUpdate(e) : this.shouldUpdate(e)) && this._isActive && this.updateView({\n                x: e.canvasX,\n                y: e.canvasY\n            }, e);\n        }, this.handleEnd = e => {\n            e && (this.options.shouldEnd ? this.options.shouldEnd(e) : this.shouldHandle(e)) && !this.options.triggerOff && this._isActive && (this._isActive = !1, \n            this.updateView(null, e));\n        }, this.handleReset = e => {\n            e && (this.options.shouldReset ? this.options.shouldReset(e) : this.shouldHandle(e)) && this._isActive && (this.updateView(null, e), \n            this._isActive = !1);\n        }, this.options = Object.assign({}, FishEye.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector), \n        this.handleUpdate = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.handleUpdateInner, this.options.throttle);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.updateTrigger,\n            handler: this.handleUpdate\n        }, {\n            type: this.options.endTrigger,\n            handler: this.handleEnd\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    _initStateByDim(dim, distortion, scale, radius, radiusRatio) {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(scale) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(scale) ? this.view.getScaleById(scale) : scale;\n        this._state[dim] = {\n            scale: scaleGrammar,\n            distortion: distortion,\n            radius: radius,\n            radiusRatio: radiusRatio\n        };\n    }\n    _initGrammars() {\n        const {enableX: enableX, enableY: enableY, scaleX: scaleX, scaleY: scaleY, distortionX: distortionX, distortionY: distortionY, radiusRatioX: radiusRatioX, radiusRatioY: radiusRatioY, radiusX: radiusX, radiusY: radiusY} = this.options;\n        this._state = {}, !1 !== enableX && this._initStateByDim(\"x\", distortionX, scaleX, radiusX, radiusRatioX), \n        !1 !== enableY && this._initStateByDim(\"y\", distortionY, scaleY, radiusY, radiusRatioY), \n        this._inited = !0;\n    }\n    updateView(focus, e) {\n        let needUpdate = !1;\n        focus ? Object.keys(this._state).forEach((dim => {\n            const dimState = this._state[dim];\n            dimState.scale && dimState.focus !== focus[dim] && (needUpdate = !0, dimState.focus = focus[dim], \n            dimState.scale.setFishEye({\n                distortion: dimState.distortion,\n                radius: dimState.radius,\n                radiusRatio: dimState.radiusRatio,\n                focus: focus[dim]\n            }), dimState.scale.commit());\n        })) : Object.keys(this._state).forEach((dim => {\n            const dimState = this._state[dim];\n            dimState.scale && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(dimState.focus) && (needUpdate = !0, dimState.focus = null, \n            dimState.scale.setFishEye(null), dimState.scale.commit());\n        })), needUpdate && this.view.run();\n    }\n    shouldHandle(e) {\n        var _a, _b, _c;\n        return this._marks ? e.element && this._marks && this._marks.includes(e.element.mark) : e.target === (null === (_c = null === (_b = null === (_a = this.view) || void 0 === _a ? void 0 : _a.renderer) || void 0 === _b ? void 0 : _b.stage) || void 0 === _c ? void 0 : _c.call(_b));\n    }\n    shouldUpdate(e) {\n        if (this._marks) return e.element && this._marks && this._marks.includes(e.element.mark);\n        const viewBox = this.view.getViewBox();\n        return e.canvasX >= viewBox.x1 && e.canvasX <= viewBox.x2 && e.canvasY >= viewBox.y1 && e.canvasY <= viewBox.y2;\n    }\n    unbind() {\n        super.unbind(), this._state && Object.keys(this._state).forEach((dim => {\n            const {scale: scale} = this._state[dim];\n            scale && (scale.setRangeFactor(null), scale.commit());\n        })), this._state = null;\n    }\n}\n\nFishEye.type = \"fish-eye\", FishEye.defaultOptions = {\n    trigger: \"pointerenter\",\n    updateTrigger: \"pointermove\",\n    endTrigger: \"pointerleave\",\n    distortionX: 2,\n    distortionY: 2,\n    throttle: 100\n};\n//# sourceMappingURL=fish-eye.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Zpc2gtZXllLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTZEOztBQUVwQjs7QUFFbEMsc0JBQXNCLGtEQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTLGlDQUFpQztBQUMxQyw0QkFBNEIsNERBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsNkJBQTZCLDREQUFLLGlCQUFpQiw0REFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvTkFBb047QUFDbk8sd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLCtCQUErQiw0REFBSztBQUNwQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvZmlzaC1leWUuanM/ZDU1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgaXNTdHJpbmcsIHRocm90dGxlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xuXG5leHBvcnQgY2xhc3MgRmlzaEV5ZSBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRmlzaEV5ZS50eXBlLCB0aGlzLmhhbmRsZVN0YXJ0ID0gZSA9PiB7XG4gICAgICAgICAgICBlICYmICh0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQgPyB0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQoZSkgOiB0aGlzLnNob3VsZEhhbmRsZShlKSkgJiYgKHRoaXMuX2luaXRlZCB8fCB0aGlzLl9pbml0R3JhbW1hcnMoKSwgXG4gICAgICAgICAgICB0aGlzLl9pc0FjdGl2ZSB8fCAodGhpcy5faXNBY3RpdmUgPSAhMCwgdGhpcy51cGRhdGVWaWV3KHtcbiAgICAgICAgICAgICAgICB4OiBlLmNhbnZhc1gsXG4gICAgICAgICAgICAgICAgeTogZS5jYW52YXNZXG4gICAgICAgICAgICB9LCBlKSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVVwZGF0ZUlubmVyID0gZSA9PiB7XG4gICAgICAgICAgICBlICYmICh0aGlzLm9wdGlvbnMuc2hvdWxkVXBkYXRlID8gdGhpcy5vcHRpb25zLnNob3VsZFVwZGF0ZShlKSA6IHRoaXMuc2hvdWxkVXBkYXRlKGUpKSAmJiB0aGlzLl9pc0FjdGl2ZSAmJiB0aGlzLnVwZGF0ZVZpZXcoe1xuICAgICAgICAgICAgICAgIHg6IGUuY2FudmFzWCxcbiAgICAgICAgICAgICAgICB5OiBlLmNhbnZhc1lcbiAgICAgICAgICAgIH0sIGUpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZUVuZCA9IGUgPT4ge1xuICAgICAgICAgICAgZSAmJiAodGhpcy5vcHRpb25zLnNob3VsZEVuZCA/IHRoaXMub3B0aW9ucy5zaG91bGRFbmQoZSkgOiB0aGlzLnNob3VsZEhhbmRsZShlKSkgJiYgIXRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmICYmIHRoaXMuX2lzQWN0aXZlICYmICh0aGlzLl9pc0FjdGl2ZSA9ICExLCBcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlldyhudWxsLCBlKSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUmVzZXQgPSBlID0+IHtcbiAgICAgICAgICAgIGUgJiYgKHRoaXMub3B0aW9ucy5zaG91bGRSZXNldCA/IHRoaXMub3B0aW9ucy5zaG91bGRSZXNldChlKSA6IHRoaXMuc2hvdWxkSGFuZGxlKGUpKSAmJiB0aGlzLl9pc0FjdGl2ZSAmJiAodGhpcy51cGRhdGVWaWV3KG51bGwsIGUpLCBcbiAgICAgICAgICAgIHRoaXMuX2lzQWN0aXZlID0gITEpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBGaXNoRXllLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc2VsZWN0b3IpLCBcbiAgICAgICAgdGhpcy5oYW5kbGVVcGRhdGUgPSB0aHJvdHRsZSh0aGlzLmhhbmRsZVVwZGF0ZUlubmVyLCB0aGlzLm9wdGlvbnMudGhyb3R0bGUpO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudXBkYXRlVHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlVXBkYXRlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5lbmRUcmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVFbmRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgIH0gXTtcbiAgICB9XG4gICAgX2luaXRTdGF0ZUJ5RGltKGRpbSwgZGlzdG9ydGlvbiwgc2NhbGUsIHJhZGl1cywgcmFkaXVzUmF0aW8pIHtcbiAgICAgICAgY29uc3Qgc2NhbGVHcmFtbWFyID0gaXNOaWwoc2NhbGUpID8gbnVsbCA6IGlzU3RyaW5nKHNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQoc2NhbGUpIDogc2NhbGU7XG4gICAgICAgIHRoaXMuX3N0YXRlW2RpbV0gPSB7XG4gICAgICAgICAgICBzY2FsZTogc2NhbGVHcmFtbWFyLFxuICAgICAgICAgICAgZGlzdG9ydGlvbjogZGlzdG9ydGlvbixcbiAgICAgICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICAgICAgcmFkaXVzUmF0aW86IHJhZGl1c1JhdGlvXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9pbml0R3JhbW1hcnMoKSB7XG4gICAgICAgIGNvbnN0IHtlbmFibGVYOiBlbmFibGVYLCBlbmFibGVZOiBlbmFibGVZLCBzY2FsZVg6IHNjYWxlWCwgc2NhbGVZOiBzY2FsZVksIGRpc3RvcnRpb25YOiBkaXN0b3J0aW9uWCwgZGlzdG9ydGlvblk6IGRpc3RvcnRpb25ZLCByYWRpdXNSYXRpb1g6IHJhZGl1c1JhdGlvWCwgcmFkaXVzUmF0aW9ZOiByYWRpdXNSYXRpb1ksIHJhZGl1c1g6IHJhZGl1c1gsIHJhZGl1c1k6IHJhZGl1c1l9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHt9LCAhMSAhPT0gZW5hYmxlWCAmJiB0aGlzLl9pbml0U3RhdGVCeURpbShcInhcIiwgZGlzdG9ydGlvblgsIHNjYWxlWCwgcmFkaXVzWCwgcmFkaXVzUmF0aW9YKSwgXG4gICAgICAgICExICE9PSBlbmFibGVZICYmIHRoaXMuX2luaXRTdGF0ZUJ5RGltKFwieVwiLCBkaXN0b3J0aW9uWSwgc2NhbGVZLCByYWRpdXNZLCByYWRpdXNSYXRpb1kpLCBcbiAgICAgICAgdGhpcy5faW5pdGVkID0gITA7XG4gICAgfVxuICAgIHVwZGF0ZVZpZXcoZm9jdXMsIGUpIHtcbiAgICAgICAgbGV0IG5lZWRVcGRhdGUgPSAhMTtcbiAgICAgICAgZm9jdXMgPyBPYmplY3Qua2V5cyh0aGlzLl9zdGF0ZSkuZm9yRWFjaCgoZGltID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpbVN0YXRlID0gdGhpcy5fc3RhdGVbZGltXTtcbiAgICAgICAgICAgIGRpbVN0YXRlLnNjYWxlICYmIGRpbVN0YXRlLmZvY3VzICE9PSBmb2N1c1tkaW1dICYmIChuZWVkVXBkYXRlID0gITAsIGRpbVN0YXRlLmZvY3VzID0gZm9jdXNbZGltXSwgXG4gICAgICAgICAgICBkaW1TdGF0ZS5zY2FsZS5zZXRGaXNoRXllKHtcbiAgICAgICAgICAgICAgICBkaXN0b3J0aW9uOiBkaW1TdGF0ZS5kaXN0b3J0aW9uLFxuICAgICAgICAgICAgICAgIHJhZGl1czogZGltU3RhdGUucmFkaXVzLFxuICAgICAgICAgICAgICAgIHJhZGl1c1JhdGlvOiBkaW1TdGF0ZS5yYWRpdXNSYXRpbyxcbiAgICAgICAgICAgICAgICBmb2N1czogZm9jdXNbZGltXVxuICAgICAgICAgICAgfSksIGRpbVN0YXRlLnNjYWxlLmNvbW1pdCgpKTtcbiAgICAgICAgfSkpIDogT2JqZWN0LmtleXModGhpcy5fc3RhdGUpLmZvckVhY2goKGRpbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaW1TdGF0ZSA9IHRoaXMuX3N0YXRlW2RpbV07XG4gICAgICAgICAgICBkaW1TdGF0ZS5zY2FsZSAmJiAhaXNOaWwoZGltU3RhdGUuZm9jdXMpICYmIChuZWVkVXBkYXRlID0gITAsIGRpbVN0YXRlLmZvY3VzID0gbnVsbCwgXG4gICAgICAgICAgICBkaW1TdGF0ZS5zY2FsZS5zZXRGaXNoRXllKG51bGwpLCBkaW1TdGF0ZS5zY2FsZS5jb21taXQoKSk7XG4gICAgICAgIH0pKSwgbmVlZFVwZGF0ZSAmJiB0aGlzLnZpZXcucnVuKCk7XG4gICAgfVxuICAgIHNob3VsZEhhbmRsZShlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFya3MgPyBlLmVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZS5lbGVtZW50Lm1hcmspIDogZS50YXJnZXQgPT09IChudWxsID09PSAoX2MgPSBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSB0aGlzLnZpZXcpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5yZW5kZXJlcikgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLnN0YWdlKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuY2FsbChfYikpO1xuICAgIH1cbiAgICBzaG91bGRVcGRhdGUoZSkge1xuICAgICAgICBpZiAodGhpcy5fbWFya3MpIHJldHVybiBlLmVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZS5lbGVtZW50Lm1hcmspO1xuICAgICAgICBjb25zdCB2aWV3Qm94ID0gdGhpcy52aWV3LmdldFZpZXdCb3goKTtcbiAgICAgICAgcmV0dXJuIGUuY2FudmFzWCA+PSB2aWV3Qm94LngxICYmIGUuY2FudmFzWCA8PSB2aWV3Qm94LngyICYmIGUuY2FudmFzWSA+PSB2aWV3Qm94LnkxICYmIGUuY2FudmFzWSA8PSB2aWV3Qm94LnkyO1xuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIHN1cGVyLnVuYmluZCgpLCB0aGlzLl9zdGF0ZSAmJiBPYmplY3Qua2V5cyh0aGlzLl9zdGF0ZSkuZm9yRWFjaCgoZGltID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtzY2FsZTogc2NhbGV9ID0gdGhpcy5fc3RhdGVbZGltXTtcbiAgICAgICAgICAgIHNjYWxlICYmIChzY2FsZS5zZXRSYW5nZUZhY3RvcihudWxsKSwgc2NhbGUuY29tbWl0KCkpO1xuICAgICAgICB9KSksIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICB9XG59XG5cbkZpc2hFeWUudHlwZSA9IFwiZmlzaC1leWVcIiwgRmlzaEV5ZS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICB0cmlnZ2VyOiBcInBvaW50ZXJlbnRlclwiLFxuICAgIHVwZGF0ZVRyaWdnZXI6IFwicG9pbnRlcm1vdmVcIixcbiAgICBlbmRUcmlnZ2VyOiBcInBvaW50ZXJsZWF2ZVwiLFxuICAgIGRpc3RvcnRpb25YOiAyLFxuICAgIGRpc3RvcnRpb25ZOiAyLFxuICAgIHRocm90dGxlOiAxMDBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maXNoLWV5ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/fish-eye.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/index.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/index.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseInteraction: () => (/* reexport safe */ _base__WEBPACK_IMPORTED_MODULE_1__.BaseInteraction),\n/* harmony export */   BaseTooltip: () => (/* reexport safe */ _base_tooltip__WEBPACK_IMPORTED_MODULE_0__.BaseTooltip),\n/* harmony export */   BrushActive: () => (/* reexport safe */ _brush_active__WEBPACK_IMPORTED_MODULE_13__.BrushActive),\n/* harmony export */   BrushBase: () => (/* reexport safe */ _brush_base__WEBPACK_IMPORTED_MODULE_2__.BrushBase),\n/* harmony export */   BrushHighlight: () => (/* reexport safe */ _brush_highlight__WEBPACK_IMPORTED_MODULE_12__.BrushHighlight),\n/* harmony export */   Crosshair: () => (/* reexport safe */ _crosshair__WEBPACK_IMPORTED_MODULE_18__.Crosshair),\n/* harmony export */   DimensionTooltip: () => (/* reexport safe */ _dimension_tooltip__WEBPACK_IMPORTED_MODULE_17__.DimensionTooltip),\n/* harmony export */   DrillDown: () => (/* reexport safe */ _drill_down__WEBPACK_IMPORTED_MODULE_14__.DrillDown),\n/* harmony export */   ElementActive: () => (/* reexport safe */ _element_active__WEBPACK_IMPORTED_MODULE_4__.ElementActive),\n/* harmony export */   ElementActiveByLegend: () => (/* reexport safe */ _element_active_by_legend__WEBPACK_IMPORTED_MODULE_9__.ElementActiveByLegend),\n/* harmony export */   ElementHighlight: () => (/* reexport safe */ _element_highlight__WEBPACK_IMPORTED_MODULE_6__.ElementHighlight),\n/* harmony export */   ElementHighlightByGroup: () => (/* reexport safe */ _element_highlight_by_group__WEBPACK_IMPORTED_MODULE_8__.ElementHighlightByGroup),\n/* harmony export */   ElementHighlightByKey: () => (/* reexport safe */ _element_highlight_by_key__WEBPACK_IMPORTED_MODULE_7__.ElementHighlightByKey),\n/* harmony export */   ElementHighlightByLegend: () => (/* reexport safe */ _element_highlight_by_legend__WEBPACK_IMPORTED_MODULE_10__.ElementHighlightByLegend),\n/* harmony export */   ElementHighlightByName: () => (/* reexport safe */ _element_highlight_by_name__WEBPACK_IMPORTED_MODULE_11__.ElementHighlightByName),\n/* harmony export */   ElementSelect: () => (/* reexport safe */ _element_select__WEBPACK_IMPORTED_MODULE_5__.ElementSelect),\n/* harmony export */   FilterMixin: () => (/* reexport safe */ _filter__WEBPACK_IMPORTED_MODULE_19__.FilterMixin),\n/* harmony export */   FishEye: () => (/* reexport safe */ _fish_eye__WEBPACK_IMPORTED_MODULE_27__.FishEye),\n/* harmony export */   RollUp: () => (/* reexport safe */ _roll_up__WEBPACK_IMPORTED_MODULE_15__.RollUp),\n/* harmony export */   Tooltip: () => (/* reexport safe */ _tooltip__WEBPACK_IMPORTED_MODULE_16__.Tooltip),\n/* harmony export */   ViewDrag: () => (/* reexport safe */ _view_drag__WEBPACK_IMPORTED_MODULE_22__.ViewDrag),\n/* harmony export */   ViewDragMixin: () => (/* reexport safe */ _view_drag_mixin__WEBPACK_IMPORTED_MODULE_26__.ViewDragMixin),\n/* harmony export */   ViewNavigationBase: () => (/* reexport safe */ _view_navigation_base__WEBPACK_IMPORTED_MODULE_3__.ViewNavigationBase),\n/* harmony export */   ViewRoam: () => (/* reexport safe */ _view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam),\n/* harmony export */   ViewScroll: () => (/* reexport safe */ _view_scroll__WEBPACK_IMPORTED_MODULE_21__.ViewScroll),\n/* harmony export */   ViewScrollMixin: () => (/* reexport safe */ _view_scroll_mixin__WEBPACK_IMPORTED_MODULE_24__.ViewScrollMixin),\n/* harmony export */   ViewZoom: () => (/* reexport safe */ _view_zoom__WEBPACK_IMPORTED_MODULE_20__.ViewZoom),\n/* harmony export */   ViewZoomMixin: () => (/* reexport safe */ _view_zoom_mixin__WEBPACK_IMPORTED_MODULE_25__.ViewZoomMixin),\n/* harmony export */   registerBrushActive: () => (/* binding */ registerBrushActive),\n/* harmony export */   registerBrushFilter: () => (/* binding */ registerBrushFilter),\n/* harmony export */   registerBrushHighlight: () => (/* binding */ registerBrushHighlight),\n/* harmony export */   registerCrosshair: () => (/* binding */ registerCrosshair),\n/* harmony export */   registerDimensionTooltip: () => (/* binding */ registerDimensionTooltip),\n/* harmony export */   registerDrillDown: () => (/* binding */ registerDrillDown),\n/* harmony export */   registerElementActive: () => (/* binding */ registerElementActive),\n/* harmony export */   registerElementActiveByLegend: () => (/* binding */ registerElementActiveByLegend),\n/* harmony export */   registerElementHighlight: () => (/* binding */ registerElementHighlight),\n/* harmony export */   registerElementHighlightByGroup: () => (/* binding */ registerElementHighlightByGroup),\n/* harmony export */   registerElementHighlightByKey: () => (/* binding */ registerElementHighlightByKey),\n/* harmony export */   registerElementHighlightByLegend: () => (/* binding */ registerElementHighlightByLegend),\n/* harmony export */   registerElementHighlightByName: () => (/* binding */ registerElementHighlightByName),\n/* harmony export */   registerElementSelect: () => (/* binding */ registerElementSelect),\n/* harmony export */   registerFishEye: () => (/* binding */ registerFishEye),\n/* harmony export */   registerRollUp: () => (/* binding */ registerRollUp),\n/* harmony export */   registerTooltip: () => (/* binding */ registerTooltip),\n/* harmony export */   registerViewDrag: () => (/* binding */ registerViewDrag),\n/* harmony export */   registerViewRoam: () => (/* binding */ registerViewRoam),\n/* harmony export */   registerViewScroll: () => (/* binding */ registerViewScroll),\n/* harmony export */   registerViewZoom: () => (/* binding */ registerViewZoom)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _element_active__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./element-active */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-active.js\");\n/* harmony import */ var _element_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./element-select */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js\");\n/* harmony import */ var _element_highlight__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./element-highlight */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js\");\n/* harmony import */ var _element_highlight_by_key__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./element-highlight-by-key */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-key.js\");\n/* harmony import */ var _element_highlight_by_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./element-highlight-by-group */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-group.js\");\n/* harmony import */ var _element_active_by_legend__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./element-active-by-legend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-active-by-legend.js\");\n/* harmony import */ var _element_highlight_by_legend__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./element-highlight-by-legend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-legend.js\");\n/* harmony import */ var _element_highlight_by_name__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./element-highlight-by-name */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-name.js\");\n/* harmony import */ var _brush_highlight__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./brush-highlight */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-highlight.js\");\n/* harmony import */ var _brush_active__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./brush-active */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-active.js\");\n/* harmony import */ var _brush_filter__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./brush-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-filter.js\");\n/* harmony import */ var _drill_down__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./drill-down */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/drill-down.js\");\n/* harmony import */ var _roll_up__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./roll-up */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/roll-up.js\");\n/* harmony import */ var _tooltip__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/tooltip.js\");\n/* harmony import */ var _dimension_tooltip__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dimension-tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/dimension-tooltip.js\");\n/* harmony import */ var _crosshair__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./crosshair */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/crosshair.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n/* harmony import */ var _view_zoom__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./view-zoom */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom.js\");\n/* harmony import */ var _view_scroll__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./view-scroll */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll.js\");\n/* harmony import */ var _view_drag__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./view-drag */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-drag.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _view_zoom_mixin__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./view-zoom-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom-mixin.js\");\n/* harmony import */ var _view_scroll_mixin__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./view-scroll-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll-mixin.js\");\n/* harmony import */ var _view_drag_mixin__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./view-drag-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-drag-mixin.js\");\n/* harmony import */ var _view_roam__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./view-roam */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-roam.js\");\n/* harmony import */ var _fish_eye__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./fish-eye */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/fish-eye.js\");\n/* harmony import */ var _toggle_state_mixin__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./toggle-state-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/toggle-state-mixin.js\");\n/* harmony import */ var _base_tooltip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerElementActive = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_active__WEBPACK_IMPORTED_MODULE_4__.ElementActive.type, _element_active__WEBPACK_IMPORTED_MODULE_4__.ElementActive);\n};\n\nconst registerElementSelect = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_element_select__WEBPACK_IMPORTED_MODULE_5__.ElementSelect, _toggle_state_mixin__WEBPACK_IMPORTED_MODULE_30__.ToggleStateMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_select__WEBPACK_IMPORTED_MODULE_5__.ElementSelect.type, _element_select__WEBPACK_IMPORTED_MODULE_5__.ElementSelect);\n};\n\nconst registerElementHighlight = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_element_highlight__WEBPACK_IMPORTED_MODULE_6__.ElementHighlight, _toggle_state_mixin__WEBPACK_IMPORTED_MODULE_30__.ToggleStateMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight__WEBPACK_IMPORTED_MODULE_6__.ElementHighlight.type, _element_highlight__WEBPACK_IMPORTED_MODULE_6__.ElementHighlight);\n};\n\nconst registerElementHighlightByKey = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_key__WEBPACK_IMPORTED_MODULE_7__.ElementHighlightByKey.type, _element_highlight_by_key__WEBPACK_IMPORTED_MODULE_7__.ElementHighlightByKey);\n};\n\nconst registerElementHighlightByGroup = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_group__WEBPACK_IMPORTED_MODULE_8__.ElementHighlightByGroup.type, _element_highlight_by_group__WEBPACK_IMPORTED_MODULE_8__.ElementHighlightByGroup);\n};\n\nconst registerElementActiveByLegend = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_active_by_legend__WEBPACK_IMPORTED_MODULE_9__.ElementActiveByLegend.type, _element_active_by_legend__WEBPACK_IMPORTED_MODULE_9__.ElementActiveByLegend);\n};\n\nconst registerElementHighlightByLegend = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_legend__WEBPACK_IMPORTED_MODULE_10__.ElementHighlightByLegend.type, _element_highlight_by_legend__WEBPACK_IMPORTED_MODULE_10__.ElementHighlightByLegend);\n};\n\nconst registerElementHighlightByName = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_name__WEBPACK_IMPORTED_MODULE_11__.ElementHighlightByName.type, _element_highlight_by_name__WEBPACK_IMPORTED_MODULE_11__.ElementHighlightByName);\n};\n\nconst registerBrushHighlight = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_brush_highlight__WEBPACK_IMPORTED_MODULE_12__.BrushHighlight.type, _brush_highlight__WEBPACK_IMPORTED_MODULE_12__.BrushHighlight);\n};\n\nconst registerBrushActive = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_brush_active__WEBPACK_IMPORTED_MODULE_13__.BrushActive.type, _brush_active__WEBPACK_IMPORTED_MODULE_13__.BrushActive);\n};\n\nconst registerBrushFilter = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_brush_filter__WEBPACK_IMPORTED_MODULE_31__.BrushFilter, _filter__WEBPACK_IMPORTED_MODULE_19__.FilterMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_brush_filter__WEBPACK_IMPORTED_MODULE_31__.BrushFilter.type, _brush_filter__WEBPACK_IMPORTED_MODULE_31__.BrushFilter);\n};\n\nconst registerDrillDown = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_drill_down__WEBPACK_IMPORTED_MODULE_14__.DrillDown, _filter__WEBPACK_IMPORTED_MODULE_19__.FilterMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_drill_down__WEBPACK_IMPORTED_MODULE_14__.DrillDown.type, _drill_down__WEBPACK_IMPORTED_MODULE_14__.DrillDown);\n};\n\nconst registerRollUp = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_roll_up__WEBPACK_IMPORTED_MODULE_15__.RollUp.type, _roll_up__WEBPACK_IMPORTED_MODULE_15__.RollUp);\n};\n\nconst registerTooltip = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_tooltip__WEBPACK_IMPORTED_MODULE_16__.Tooltip.type, _tooltip__WEBPACK_IMPORTED_MODULE_16__.Tooltip);\n};\n\nconst registerDimensionTooltip = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_dimension_tooltip__WEBPACK_IMPORTED_MODULE_17__.DimensionTooltip.type, _dimension_tooltip__WEBPACK_IMPORTED_MODULE_17__.DimensionTooltip);\n};\n\nconst registerCrosshair = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_crosshair__WEBPACK_IMPORTED_MODULE_18__.Crosshair.type, _crosshair__WEBPACK_IMPORTED_MODULE_18__.Crosshair);\n};\n\nconst registerViewZoom = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_zoom__WEBPACK_IMPORTED_MODULE_20__.ViewZoom, _view_zoom_mixin__WEBPACK_IMPORTED_MODULE_25__.ViewZoomMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_view_zoom__WEBPACK_IMPORTED_MODULE_20__.ViewZoom.type, _view_zoom__WEBPACK_IMPORTED_MODULE_20__.ViewZoom);\n};\n\nconst registerViewScroll = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_scroll__WEBPACK_IMPORTED_MODULE_21__.ViewScroll, _view_scroll_mixin__WEBPACK_IMPORTED_MODULE_24__.ViewScrollMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_view_scroll__WEBPACK_IMPORTED_MODULE_21__.ViewScroll.type, _view_scroll__WEBPACK_IMPORTED_MODULE_21__.ViewScroll);\n};\n\nconst registerViewDrag = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_drag__WEBPACK_IMPORTED_MODULE_22__.ViewDrag, _view_drag_mixin__WEBPACK_IMPORTED_MODULE_26__.ViewDragMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_view_drag__WEBPACK_IMPORTED_MODULE_22__.ViewDrag.type, _view_drag__WEBPACK_IMPORTED_MODULE_22__.ViewDrag);\n};\n\nconst registerViewRoam = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam, _view_zoom_mixin__WEBPACK_IMPORTED_MODULE_25__.ViewZoomMixin), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam, _view_drag_mixin__WEBPACK_IMPORTED_MODULE_26__.ViewDragMixin), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam, _view_scroll_mixin__WEBPACK_IMPORTED_MODULE_24__.ViewScrollMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam.type, _view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam);\n};\n\nconst registerFishEye = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_fish_eye__WEBPACK_IMPORTED_MODULE_27__.FishEye.type, _fish_eye__WEBPACK_IMPORTED_MODULE_27__.FishEye);\n};\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQzs7QUFFTzs7QUFFQTs7QUFFTTs7QUFFWTs7QUFFSTs7QUFFSjs7QUFFTTs7QUFFSjs7QUFFbEI7O0FBRU47O0FBRUE7O0FBRUo7O0FBRU47O0FBRUM7O0FBRW1COztBQUVmOztBQUVEOztBQUVBOztBQUVJOztBQUVKOztBQUVFOztBQUVTOztBQUVJOztBQUVKOztBQUVYOztBQUVGOztBQUVtQjs7QUFFWDs7QUFFSjs7QUFFQTs7QUFFbUI7O0FBRTRUOztBQUVqWDtBQUNQLElBQUksbURBQU8scUJBQXFCLDBEQUFhLE9BQU8sMERBQWE7QUFDakU7O0FBRU87QUFDUCxJQUFJLHdEQUFLLENBQUMsMERBQWEsRUFBRSxrRUFBZ0IsR0FBRyxtREFBTyxxQkFBcUIsMERBQWEsT0FBTywwREFBYTtBQUN6Rzs7QUFFTztBQUNQLElBQUksd0RBQUssQ0FBQyxnRUFBZ0IsRUFBRSxrRUFBZ0IsR0FBRyxtREFBTyxxQkFBcUIsZ0VBQWdCLE9BQU8sZ0VBQWdCO0FBQ2xIOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsNEVBQXFCLE9BQU8sNEVBQXFCO0FBQ2pGOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsZ0ZBQXVCLE9BQU8sZ0ZBQXVCO0FBQ3JGOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsNEVBQXFCLE9BQU8sNEVBQXFCO0FBQ2pGOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsbUZBQXdCLE9BQU8sbUZBQXdCO0FBQ3ZGOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsK0VBQXNCLE9BQU8sK0VBQXNCO0FBQ25GOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsNkRBQWMsT0FBTyw2REFBYztBQUNuRTs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLHVEQUFXLE9BQU8sdURBQVc7QUFDN0Q7O0FBRU87QUFDUCxJQUFJLHdEQUFLLENBQUMsdURBQVcsRUFBRSxpREFBVyxHQUFHLG1EQUFPLHFCQUFxQix1REFBVyxPQUFPLHVEQUFXO0FBQzlGOztBQUVPO0FBQ1AsSUFBSSx3REFBSyxDQUFDLG1EQUFTLEVBQUUsaURBQVcsR0FBRyxtREFBTyxxQkFBcUIsbURBQVMsT0FBTyxtREFBUztBQUN4Rjs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLDZDQUFNLE9BQU8sNkNBQU07QUFDbkQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHFCQUFxQiw4Q0FBTyxPQUFPLDhDQUFPO0FBQ3JEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsaUVBQWdCLE9BQU8saUVBQWdCO0FBQ3ZFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsa0RBQVMsT0FBTyxrREFBUztBQUN6RDs7QUFFTztBQUNQLElBQUksd0RBQUssQ0FBQyxpREFBUSxFQUFFLDREQUFhLEdBQUcsbURBQU8scUJBQXFCLGlEQUFRLE9BQU8saURBQVE7QUFDdkY7O0FBRU87QUFDUCxJQUFJLHdEQUFLLENBQUMscURBQVUsRUFBRSxnRUFBZSxHQUFHLG1EQUFPLHFCQUFxQixxREFBVSxPQUFPLHFEQUFVO0FBQy9GOztBQUVPO0FBQ1AsSUFBSSx3REFBSyxDQUFDLGlEQUFRLEVBQUUsNERBQWEsR0FBRyxtREFBTyxxQkFBcUIsaURBQVEsT0FBTyxpREFBUTtBQUN2Rjs7QUFFTztBQUNQLElBQUksd0RBQUssQ0FBQyxpREFBUSxFQUFFLDREQUFhLEdBQUcsd0RBQUssQ0FBQyxpREFBUSxFQUFFLDREQUFhLEdBQUcsd0RBQUssQ0FBQyxpREFBUSxFQUFFLGdFQUFlO0FBQ25HLElBQUksbURBQU8scUJBQXFCLGlEQUFRLE9BQU8saURBQVE7QUFDdkQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHFCQUFxQiwrQ0FBTyxPQUFPLCtDQUFPO0FBQ3JEO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2luZGV4LmpzP2FkNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgRWxlbWVudEFjdGl2ZSB9IGZyb20gXCIuL2VsZW1lbnQtYWN0aXZlXCI7XG5cbmltcG9ydCB7IEVsZW1lbnRTZWxlY3QgfSBmcm9tIFwiLi9lbGVtZW50LXNlbGVjdFwiO1xuXG5pbXBvcnQgeyBFbGVtZW50SGlnaGxpZ2h0IH0gZnJvbSBcIi4vZWxlbWVudC1oaWdobGlnaHRcIjtcblxuaW1wb3J0IHsgRWxlbWVudEhpZ2hsaWdodEJ5S2V5IH0gZnJvbSBcIi4vZWxlbWVudC1oaWdobGlnaHQtYnkta2V5XCI7XG5cbmltcG9ydCB7IEVsZW1lbnRIaWdobGlnaHRCeUdyb3VwIH0gZnJvbSBcIi4vZWxlbWVudC1oaWdobGlnaHQtYnktZ3JvdXBcIjtcblxuaW1wb3J0IHsgRWxlbWVudEFjdGl2ZUJ5TGVnZW5kIH0gZnJvbSBcIi4vZWxlbWVudC1hY3RpdmUtYnktbGVnZW5kXCI7XG5cbmltcG9ydCB7IEVsZW1lbnRIaWdobGlnaHRCeUxlZ2VuZCB9IGZyb20gXCIuL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWxlZ2VuZFwiO1xuXG5pbXBvcnQgeyBFbGVtZW50SGlnaGxpZ2h0QnlOYW1lIH0gZnJvbSBcIi4vZWxlbWVudC1oaWdobGlnaHQtYnktbmFtZVwiO1xuXG5pbXBvcnQgeyBCcnVzaEhpZ2hsaWdodCB9IGZyb20gXCIuL2JydXNoLWhpZ2hsaWdodFwiO1xuXG5pbXBvcnQgeyBCcnVzaEFjdGl2ZSB9IGZyb20gXCIuL2JydXNoLWFjdGl2ZVwiO1xuXG5pbXBvcnQgeyBCcnVzaEZpbHRlciB9IGZyb20gXCIuL2JydXNoLWZpbHRlclwiO1xuXG5pbXBvcnQgeyBEcmlsbERvd24gfSBmcm9tIFwiLi9kcmlsbC1kb3duXCI7XG5cbmltcG9ydCB7IFJvbGxVcCB9IGZyb20gXCIuL3JvbGwtdXBcIjtcblxuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gXCIuL3Rvb2x0aXBcIjtcblxuaW1wb3J0IHsgRGltZW5zaW9uVG9vbHRpcCB9IGZyb20gXCIuL2RpbWVuc2lvbi10b29sdGlwXCI7XG5cbmltcG9ydCB7IENyb3NzaGFpciB9IGZyb20gXCIuL2Nyb3NzaGFpclwiO1xuXG5pbXBvcnQgeyBGaWx0ZXJNaXhpbiB9IGZyb20gXCIuL2ZpbHRlclwiO1xuXG5pbXBvcnQgeyBWaWV3Wm9vbSB9IGZyb20gXCIuL3ZpZXctem9vbVwiO1xuXG5pbXBvcnQgeyBWaWV3U2Nyb2xsIH0gZnJvbSBcIi4vdmlldy1zY3JvbGxcIjtcblxuaW1wb3J0IHsgVmlld0RyYWcgfSBmcm9tIFwiLi92aWV3LWRyYWdcIjtcblxuaW1wb3J0IHsgbWl4aW4gfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBWaWV3Wm9vbU1peGluIH0gZnJvbSBcIi4vdmlldy16b29tLW1peGluXCI7XG5cbmltcG9ydCB7IFZpZXdTY3JvbGxNaXhpbiB9IGZyb20gXCIuL3ZpZXctc2Nyb2xsLW1peGluXCI7XG5cbmltcG9ydCB7IFZpZXdEcmFnTWl4aW4gfSBmcm9tIFwiLi92aWV3LWRyYWctbWl4aW5cIjtcblxuaW1wb3J0IHsgVmlld1JvYW0gfSBmcm9tIFwiLi92aWV3LXJvYW1cIjtcblxuaW1wb3J0IHsgRmlzaEV5ZSB9IGZyb20gXCIuL2Zpc2gtZXllXCI7XG5cbmltcG9ydCB7IFRvZ2dsZVN0YXRlTWl4aW4gfSBmcm9tIFwiLi90b2dnbGUtc3RhdGUtbWl4aW5cIjtcblxuZXhwb3J0IHsgQmFzZVRvb2x0aXAgfSBmcm9tIFwiLi9iYXNlLXRvb2x0aXBcIjtcblxuZXhwb3J0IHsgQmFzZUludGVyYWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xuXG5leHBvcnQgeyBCcnVzaEJhc2UgfSBmcm9tIFwiLi9icnVzaC1iYXNlXCI7XG5cbmV4cG9ydCB7IFZpZXdOYXZpZ2F0aW9uQmFzZSB9IGZyb20gXCIuL3ZpZXctbmF2aWdhdGlvbi1iYXNlXCI7XG5cbmV4cG9ydCB7IEVsZW1lbnRBY3RpdmUsIEVsZW1lbnRTZWxlY3QsIEVsZW1lbnRIaWdobGlnaHQsIEVsZW1lbnRIaWdobGlnaHRCeUtleSwgRWxlbWVudEhpZ2hsaWdodEJ5R3JvdXAsIEVsZW1lbnRBY3RpdmVCeUxlZ2VuZCwgRWxlbWVudEhpZ2hsaWdodEJ5TGVnZW5kLCBFbGVtZW50SGlnaGxpZ2h0QnlOYW1lLCBCcnVzaEhpZ2hsaWdodCwgQnJ1c2hBY3RpdmUsIERyaWxsRG93biwgUm9sbFVwLCBUb29sdGlwLCBEaW1lbnNpb25Ub29sdGlwLCBDcm9zc2hhaXIsIEZpbHRlck1peGluLCBWaWV3Wm9vbSwgVmlld1Njcm9sbCwgVmlld0RyYWcsIFZpZXdSb2FtLCBWaWV3U2Nyb2xsTWl4aW4sIFZpZXdab29tTWl4aW4sIFZpZXdEcmFnTWl4aW4sIEZpc2hFeWUgfTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRWxlbWVudEFjdGl2ZSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRWxlbWVudEFjdGl2ZS50eXBlLCBFbGVtZW50QWN0aXZlKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckVsZW1lbnRTZWxlY3QgPSAoKSA9PiB7XG4gICAgbWl4aW4oRWxlbWVudFNlbGVjdCwgVG9nZ2xlU3RhdGVNaXhpbiksIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihFbGVtZW50U2VsZWN0LnR5cGUsIEVsZW1lbnRTZWxlY3QpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRWxlbWVudEhpZ2hsaWdodCA9ICgpID0+IHtcbiAgICBtaXhpbihFbGVtZW50SGlnaGxpZ2h0LCBUb2dnbGVTdGF0ZU1peGluKSwgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKEVsZW1lbnRIaWdobGlnaHQudHlwZSwgRWxlbWVudEhpZ2hsaWdodCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFbGVtZW50SGlnaGxpZ2h0QnlLZXkgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKEVsZW1lbnRIaWdobGlnaHRCeUtleS50eXBlLCBFbGVtZW50SGlnaGxpZ2h0QnlLZXkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRWxlbWVudEhpZ2hsaWdodEJ5R3JvdXAgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKEVsZW1lbnRIaWdobGlnaHRCeUdyb3VwLnR5cGUsIEVsZW1lbnRIaWdobGlnaHRCeUdyb3VwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckVsZW1lbnRBY3RpdmVCeUxlZ2VuZCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRWxlbWVudEFjdGl2ZUJ5TGVnZW5kLnR5cGUsIEVsZW1lbnRBY3RpdmVCeUxlZ2VuZCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFbGVtZW50SGlnaGxpZ2h0QnlMZWdlbmQgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKEVsZW1lbnRIaWdobGlnaHRCeUxlZ2VuZC50eXBlLCBFbGVtZW50SGlnaGxpZ2h0QnlMZWdlbmQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRWxlbWVudEhpZ2hsaWdodEJ5TmFtZSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRWxlbWVudEhpZ2hsaWdodEJ5TmFtZS50eXBlLCBFbGVtZW50SGlnaGxpZ2h0QnlOYW1lKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckJydXNoSGlnaGxpZ2h0ID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihCcnVzaEhpZ2hsaWdodC50eXBlLCBCcnVzaEhpZ2hsaWdodCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJCcnVzaEFjdGl2ZSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oQnJ1c2hBY3RpdmUudHlwZSwgQnJ1c2hBY3RpdmUpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQnJ1c2hGaWx0ZXIgPSAoKSA9PiB7XG4gICAgbWl4aW4oQnJ1c2hGaWx0ZXIsIEZpbHRlck1peGluKSwgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKEJydXNoRmlsdGVyLnR5cGUsIEJydXNoRmlsdGVyKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckRyaWxsRG93biA9ICgpID0+IHtcbiAgICBtaXhpbihEcmlsbERvd24sIEZpbHRlck1peGluKSwgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKERyaWxsRG93bi50eXBlLCBEcmlsbERvd24pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUm9sbFVwID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihSb2xsVXAudHlwZSwgUm9sbFVwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclRvb2x0aXAgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKFRvb2x0aXAudHlwZSwgVG9vbHRpcCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJEaW1lbnNpb25Ub29sdGlwID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihEaW1lbnNpb25Ub29sdGlwLnR5cGUsIERpbWVuc2lvblRvb2x0aXApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQ3Jvc3NoYWlyID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihDcm9zc2hhaXIudHlwZSwgQ3Jvc3NoYWlyKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclZpZXdab29tID0gKCkgPT4ge1xuICAgIG1peGluKFZpZXdab29tLCBWaWV3Wm9vbU1peGluKSwgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKFZpZXdab29tLnR5cGUsIFZpZXdab29tKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclZpZXdTY3JvbGwgPSAoKSA9PiB7XG4gICAgbWl4aW4oVmlld1Njcm9sbCwgVmlld1Njcm9sbE1peGluKSwgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKFZpZXdTY3JvbGwudHlwZSwgVmlld1Njcm9sbCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWaWV3RHJhZyA9ICgpID0+IHtcbiAgICBtaXhpbihWaWV3RHJhZywgVmlld0RyYWdNaXhpbiksIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihWaWV3RHJhZy50eXBlLCBWaWV3RHJhZyk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWaWV3Um9hbSA9ICgpID0+IHtcbiAgICBtaXhpbihWaWV3Um9hbSwgVmlld1pvb21NaXhpbiksIG1peGluKFZpZXdSb2FtLCBWaWV3RHJhZ01peGluKSwgbWl4aW4oVmlld1JvYW0sIFZpZXdTY3JvbGxNaXhpbiksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihWaWV3Um9hbS50eXBlLCBWaWV3Um9hbSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJGaXNoRXllID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihGaXNoRXllLnR5cGUsIEZpc2hFeWUpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/legend-filter.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/legend-filter.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LegendFilter: () => (/* binding */ LegendFilter)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/legend/constant.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\nclass LegendFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = LegendFilter.type, this.options = Object.assign({}, LegendFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"legend\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const legend = this._marks[0];\n        if (!this._data || !legend) return [];\n        const isContinuous = legend.isContinuousLegend(), filter = this.options.target.filter, transform = this.options.target.transform, dataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter) ? isContinuous ? (datum, filterValue) => datum[filter] >= filterValue.start && datum[filter] <= filterValue.end : (datum, filterValue) => filterValue.includes(datum[filter]) : filter;\n        this._filterData(this._data, legend, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.legend, (event => isContinuous ? {\n            start: event.detail.value[0],\n            end: event.detail.value[1]\n        } : event.detail.currentSelected), dataFilter, transform);\n        return [ {\n            type: isContinuous ? \"change\" : _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_3__.LegendEvent.legendItemClick,\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nLegendFilter.type = \"legend-filter\", LegendFilter.defaultOptions = {};\n//# sourceMappingURL=legend-filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2xlZ2VuZC1maWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkQ7O0FBRU07O0FBRXJCOztBQUVWOztBQUUzQiwyQkFBMkIsMkNBQU07QUFDeEM7QUFDQSw0RkFBNEY7QUFDNUYscUdBQXFHLHlEQUFlO0FBQ3BILHFCQUFxQiw0REFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUpBQXVKLDREQUFRO0FBQy9KLDZDQUE2Qyx3REFBYztBQUMzRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsNENBQTRDLHFFQUFXO0FBQ3ZEO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvbGVnZW5kLWZpbHRlci5qcz8yMTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExlZ2VuZEV2ZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgRGF0YUZpbHRlclJhbmssIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL2ZpbHRlclwiO1xuXG5leHBvcnQgY2xhc3MgTGVnZW5kRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBMZWdlbmRGaWx0ZXIudHlwZSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgTGVnZW5kRmlsdGVyLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNvdXJjZSkuZmlsdGVyKChtYXJrID0+IG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQgJiYgXCJsZWdlbmRcIiA9PT0gbWFyay5jb21wb25lbnRUeXBlKSksIFxuICAgICAgICB0aGlzLl9kYXRhID0gaXNTdHJpbmcodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA/IHZpZXcuZ2V0RGF0YUJ5SWQodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA6IHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcmtzIHx8IDAgPT09IHRoaXMuX21hcmtzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLl9tYXJrc1swXTtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhIHx8ICFsZWdlbmQpIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgaXNDb250aW51b3VzID0gbGVnZW5kLmlzQ29udGludW91c0xlZ2VuZCgpLCBmaWx0ZXIgPSB0aGlzLm9wdGlvbnMudGFyZ2V0LmZpbHRlciwgdHJhbnNmb3JtID0gdGhpcy5vcHRpb25zLnRhcmdldC50cmFuc2Zvcm0sIGRhdGFGaWx0ZXIgPSBpc1N0cmluZyhmaWx0ZXIpID8gaXNDb250aW51b3VzID8gKGRhdHVtLCBmaWx0ZXJWYWx1ZSkgPT4gZGF0dW1bZmlsdGVyXSA+PSBmaWx0ZXJWYWx1ZS5zdGFydCAmJiBkYXR1bVtmaWx0ZXJdIDw9IGZpbHRlclZhbHVlLmVuZCA6IChkYXR1bSwgZmlsdGVyVmFsdWUpID0+IGZpbHRlclZhbHVlLmluY2x1ZGVzKGRhdHVtW2ZpbHRlcl0pIDogZmlsdGVyO1xuICAgICAgICB0aGlzLl9maWx0ZXJEYXRhKHRoaXMuX2RhdGEsIGxlZ2VuZCwgRGF0YUZpbHRlclJhbmsubGVnZW5kLCAoZXZlbnQgPT4gaXNDb250aW51b3VzID8ge1xuICAgICAgICAgICAgc3RhcnQ6IGV2ZW50LmRldGFpbC52YWx1ZVswXSxcbiAgICAgICAgICAgIGVuZDogZXZlbnQuZGV0YWlsLnZhbHVlWzFdXG4gICAgICAgIH0gOiBldmVudC5kZXRhaWwuY3VycmVudFNlbGVjdGVkKSwgZGF0YUZpbHRlciwgdHJhbnNmb3JtKTtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogaXNDb250aW51b3VzID8gXCJjaGFuZ2VcIiA6IExlZ2VuZEV2ZW50LmxlZ2VuZEl0ZW1DbGljayxcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyXG4gICAgICAgIH0gXTtcbiAgICB9XG59XG5cbkxlZ2VuZEZpbHRlci50eXBlID0gXCJsZWdlbmQtZmlsdGVyXCIsIExlZ2VuZEZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGVnZW5kLWZpbHRlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/legend-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/player-filter.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/player-filter.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PlayerFilter: () => (/* binding */ PlayerFilter)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.20.12/node_modules/@visactor/vrender-components/es/player/type/event.js\");\n\n\n\n\n\n\n\n\nclass PlayerFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = PlayerFilter.type, this.options = Object.assign({}, PlayerFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"player\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const player = this._marks[0];\n        if (!this._data || !player) return [];\n        const transform = this.options.target.transform;\n        return this._filterData(this._data, player, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.player, (event => ({\n            index: event.detail.index,\n            value: event.detail.value\n        })), void 0, ((data, filterValue) => transform ? transform(data, filterValue) : filterValue.value)), \n        [ {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_3__.PlayerEventEnum.OnChange,\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nPlayerFilter.type = \"player-filter\", PlayerFilter.defaultOptions = {};\n//# sourceMappingURL=player-filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3BsYXllci1maWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUU7O0FBRXJCOztBQUVWOztBQUU2Qjs7QUFFeEQsMkJBQTJCLDJDQUFNO0FBQ3hDO0FBQ0EsNEZBQTRGO0FBQzVGLHFHQUFxRyx5REFBZTtBQUNwSCxxQkFBcUIsNERBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHdEQUFjO0FBQ2xFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrQkFBa0IseUVBQWU7QUFDakM7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9wbGF5ZXItZmlsdGVyLmpzPzg3NWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YUZpbHRlclJhbmssIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL2ZpbHRlclwiO1xuXG5pbXBvcnQgeyBQbGF5ZXJFdmVudEVudW0gfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBQbGF5ZXJGaWx0ZXIudHlwZSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgUGxheWVyRmlsdGVyLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNvdXJjZSkuZmlsdGVyKChtYXJrID0+IG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQgJiYgXCJwbGF5ZXJcIiA9PT0gbWFyay5jb21wb25lbnRUeXBlKSksIFxuICAgICAgICB0aGlzLl9kYXRhID0gaXNTdHJpbmcodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA/IHZpZXcuZ2V0RGF0YUJ5SWQodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA6IHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcmtzIHx8IDAgPT09IHRoaXMuX21hcmtzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9tYXJrc1swXTtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhIHx8ICFwbGF5ZXIpIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5vcHRpb25zLnRhcmdldC50cmFuc2Zvcm07XG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJEYXRhKHRoaXMuX2RhdGEsIHBsYXllciwgRGF0YUZpbHRlclJhbmsucGxheWVyLCAoZXZlbnQgPT4gKHtcbiAgICAgICAgICAgIGluZGV4OiBldmVudC5kZXRhaWwuaW5kZXgsXG4gICAgICAgICAgICB2YWx1ZTogZXZlbnQuZGV0YWlsLnZhbHVlXG4gICAgICAgIH0pKSwgdm9pZCAwLCAoKGRhdGEsIGZpbHRlclZhbHVlKSA9PiB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0oZGF0YSwgZmlsdGVyVmFsdWUpIDogZmlsdGVyVmFsdWUudmFsdWUpKSwgXG4gICAgICAgIFsge1xuICAgICAgICAgICAgdHlwZTogUGxheWVyRXZlbnRFbnVtLk9uQ2hhbmdlLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVGaWx0ZXJcbiAgICAgICAgfSBdO1xuICAgIH1cbn1cblxuUGxheWVyRmlsdGVyLnR5cGUgPSBcInBsYXllci1maWx0ZXJcIiwgUGxheWVyRmlsdGVyLmRlZmF1bHRPcHRpb25zID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbGF5ZXItZmlsdGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/player-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/roll-up.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/roll-up.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RollUp: () => (/* binding */ RollUp)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\nclass RollUp extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = RollUp.type, this._isToggle = !1, this.handleStart = event => {\n            var _a, _b;\n            const element = event.element;\n            if (element && this._marks && this._marks.includes(element.mark)) {\n                const filterValue = null === (_b = null === (_a = event.element) || void 0 === _a ? void 0 : _a.getDatum) || void 0 === _b ? void 0 : _b.call(_a);\n                filterValue === this._filterData || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(filterValue) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this._filterValue) && filterValue.length === this._filterValue.length && filterValue.every((datum => !this._filterValue.includes(datum))) ? this._isToggle && (this._filterValue = null, \n                this.handleFilter(event)) : this.handleFilter(event);\n            }\n        }, this.handleReset = event => {\n            this._filterValue && (this._filterValue = null, this.handleFilter(event));\n        }, this.options = Object.assign({}, RollUp.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.source), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        if (!this._data) return [];\n        const transform = this.options.target.transform;\n        this._filterData(this._data, null, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.DataFilterRank.rollUp, (event => {\n            var _a, _b;\n            return null === (_b = null === (_a = null == event ? void 0 : event.element) || void 0 === _a ? void 0 : _a.getDatum) || void 0 === _b ? void 0 : _b.call(_a);\n        }), void 0, ((data, filterValue) => transform(data, filterValue)));\n        const events = [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        } ], eventName = \"empty\" === this.options.triggerOff ? this.options.trigger : this.options.triggerOff.includes(\"view:\") ? this.options.triggerOff.replace(\"view:\", \"\") : this.options.triggerOff;\n        return eventName !== this.options.trigger ? (events.push({\n            type: eventName,\n            handler: this.handleReset\n        }), this._isToggle = !1) : this._isToggle = !0, events;\n    }\n}\n\nRollUp.type = \"roll-up\", RollUp.defaultOptions = {\n    trigger: \"click\",\n    triggerOff: \"empty\"\n};\n//# sourceMappingURL=roll-up.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3JvbGwtdXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7O0FBRUs7O0FBRW5COztBQUUzQixxQkFBcUIsMkNBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELDREQUFPLGlCQUFpQiw0REFBTztBQUNuRjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUMscUJBQXFCLDREQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsd0RBQWM7QUFDekQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvcm9sbC11cC5qcz8xYmE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFGaWx0ZXJSYW5rIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGlzQXJyYXksIGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vZmlsdGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBSb2xsVXAgZXh0ZW5kcyBGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IFJvbGxVcC50eXBlLCB0aGlzLl9pc1RvZ2dsZSA9ICExLCB0aGlzLmhhbmRsZVN0YXJ0ID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gZXZlbnQuZWxlbWVudCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmdldERhdHVtKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgICAgICAgICAgZmlsdGVyVmFsdWUgPT09IHRoaXMuX2ZpbHRlckRhdGEgfHwgaXNBcnJheShmaWx0ZXJWYWx1ZSkgJiYgaXNBcnJheSh0aGlzLl9maWx0ZXJWYWx1ZSkgJiYgZmlsdGVyVmFsdWUubGVuZ3RoID09PSB0aGlzLl9maWx0ZXJWYWx1ZS5sZW5ndGggJiYgZmlsdGVyVmFsdWUuZXZlcnkoKGRhdHVtID0+ICF0aGlzLl9maWx0ZXJWYWx1ZS5pbmNsdWRlcyhkYXR1bSkpKSA/IHRoaXMuX2lzVG9nZ2xlICYmICh0aGlzLl9maWx0ZXJWYWx1ZSA9IG51bGwsIFxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsdGVyKGV2ZW50KSkgOiB0aGlzLmhhbmRsZUZpbHRlcihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUmVzZXQgPSBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9maWx0ZXJWYWx1ZSAmJiAodGhpcy5fZmlsdGVyVmFsdWUgPSBudWxsLCB0aGlzLmhhbmRsZUZpbHRlcihldmVudCkpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBSb2xsVXAuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zb3VyY2UpLCBcbiAgICAgICAgdGhpcy5fZGF0YSA9IGlzU3RyaW5nKHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YSkgPyB2aWV3LmdldERhdGFCeUlkKHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YSkgOiB0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGE7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXJrcyB8fCAwID09PSB0aGlzLl9tYXJrcy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhKSByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMub3B0aW9ucy50YXJnZXQudHJhbnNmb3JtO1xuICAgICAgICB0aGlzLl9maWx0ZXJEYXRhKHRoaXMuX2RhdGEsIG51bGwsIERhdGFGaWx0ZXJSYW5rLnJvbGxVcCwgKGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSBldmVudCA/IHZvaWQgMCA6IGV2ZW50LmVsZW1lbnQpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5nZXREYXR1bSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9KSwgdm9pZCAwLCAoKGRhdGEsIGZpbHRlclZhbHVlKSA9PiB0cmFuc2Zvcm0oZGF0YSwgZmlsdGVyVmFsdWUpKSk7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IFsge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVN0YXJ0XG4gICAgICAgIH0gXSwgZXZlbnROYW1lID0gXCJlbXB0eVwiID09PSB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZiA/IHRoaXMub3B0aW9ucy50cmlnZ2VyIDogdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYuaW5jbHVkZXMoXCJ2aWV3OlwiKSA/IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLnJlcGxhY2UoXCJ2aWV3OlwiLCBcIlwiKSA6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmO1xuICAgICAgICByZXR1cm4gZXZlbnROYW1lICE9PSB0aGlzLm9wdGlvbnMudHJpZ2dlciA/IChldmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBldmVudE5hbWUsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgIH0pLCB0aGlzLl9pc1RvZ2dsZSA9ICExKSA6IHRoaXMuX2lzVG9nZ2xlID0gITAsIGV2ZW50cztcbiAgICB9XG59XG5cblJvbGxVcC50eXBlID0gXCJyb2xsLXVwXCIsIFJvbGxVcC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICB0cmlnZ2VyOiBcImNsaWNrXCIsXG4gICAgdHJpZ2dlck9mZjogXCJlbXB0eVwiXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm9sbC11cC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/roll-up.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/scrollbar-filter.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/scrollbar-filter.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollbarFilter: () => (/* binding */ ScrollbarFilter)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\nclass ScrollbarFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = ScrollbarFilter.type, this.options = Object.assign({}, ScrollbarFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"scrollbar\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const scrollbar = this._marks[0];\n        if (!this._data || !scrollbar) return [];\n        const filter = this.options.target.filter, transform = this.options.target.transform, dataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter) ? (datum, filterValue) => {\n            const scale = scrollbar.getScale().getScale(), range = scale.range(), datumRatio = (scale.scale(datum[filter]) - range[0]) / (range[range.length - 1] - range[0]);\n            return filterValue.startRatio <= datumRatio && filterValue.endRatio >= datumRatio;\n        } : filter;\n        return this._filterData(this._data, scrollbar, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.scrollbar, (event => {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter)) {\n                const range = event.detail.value, scaleGrammar = scrollbar.getScale();\n                if (scaleGrammar) {\n                    const scale = scaleGrammar.getScale(), scaleRange = scale.range();\n                    return {\n                        start: scale.invert(range[0] * (scaleRange[1] - scaleRange[0]) + scaleRange[0]),\n                        end: scale.invert(range[1] * (scaleRange[1] - scaleRange[0]) + scaleRange[0]),\n                        startRatio: range[0],\n                        endRatio: range[1]\n                    };\n                }\n                return {\n                    startRatio: range[0],\n                    endRatio: range[1]\n                };\n            }\n            return {\n                startRatio: event.detail.value[0],\n                endRatio: event.detail.value[1]\n            };\n        }), dataFilter, transform), [ {\n            type: \"scrollUp\",\n            handler: this.handleFilter\n        }, {\n            type: \"scrollDrag\",\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nScrollbarFilter.type = \"scrollbar-filter\", ScrollbarFilter.defaultOptions = {};\n//# sourceMappingURL=scrollbar-filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3Njcm9sbGJhci1maWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRTs7QUFFckI7O0FBRVY7O0FBRTNCLDhCQUE4QiwyQ0FBTTtBQUMzQztBQUNBLCtGQUErRjtBQUMvRixxR0FBcUcseURBQWU7QUFDcEgscUJBQXFCLDREQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsNERBQVE7QUFDbkg7QUFDQTtBQUNBLFVBQVU7QUFDVix1REFBdUQsd0RBQWM7QUFDckUsZ0JBQWdCLDREQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3Njcm9sbGJhci1maWx0ZXIuanM/NGJkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhRmlsdGVyUmFuaywgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vZmlsdGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBTY3JvbGxiYXJGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IFNjcm9sbGJhckZpbHRlci50eXBlLCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBTY3JvbGxiYXJGaWx0ZXIuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBcbiAgICAgICAgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc291cmNlKS5maWx0ZXIoKG1hcmsgPT4gbWFyay5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudCAmJiBcInNjcm9sbGJhclwiID09PSBtYXJrLmNvbXBvbmVudFR5cGUpKSwgXG4gICAgICAgIHRoaXMuX2RhdGEgPSBpc1N0cmluZyh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpID8gdmlldy5nZXREYXRhQnlJZCh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpIDogdGhpcy5vcHRpb25zLnRhcmdldC5kYXRhO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFya3MgfHwgMCA9PT0gdGhpcy5fbWFya3MubGVuZ3RoKSByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IHNjcm9sbGJhciA9IHRoaXMuX21hcmtzWzBdO1xuICAgICAgICBpZiAoIXRoaXMuX2RhdGEgfHwgIXNjcm9sbGJhcikgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBmaWx0ZXIgPSB0aGlzLm9wdGlvbnMudGFyZ2V0LmZpbHRlciwgdHJhbnNmb3JtID0gdGhpcy5vcHRpb25zLnRhcmdldC50cmFuc2Zvcm0sIGRhdGFGaWx0ZXIgPSBpc1N0cmluZyhmaWx0ZXIpID8gKGRhdHVtLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBzY3JvbGxiYXIuZ2V0U2NhbGUoKS5nZXRTY2FsZSgpLCByYW5nZSA9IHNjYWxlLnJhbmdlKCksIGRhdHVtUmF0aW8gPSAoc2NhbGUuc2NhbGUoZGF0dW1bZmlsdGVyXSkgLSByYW5nZVswXSkgLyAocmFuZ2VbcmFuZ2UubGVuZ3RoIC0gMV0gLSByYW5nZVswXSk7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyVmFsdWUuc3RhcnRSYXRpbyA8PSBkYXR1bVJhdGlvICYmIGZpbHRlclZhbHVlLmVuZFJhdGlvID49IGRhdHVtUmF0aW87XG4gICAgICAgIH0gOiBmaWx0ZXI7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJEYXRhKHRoaXMuX2RhdGEsIHNjcm9sbGJhciwgRGF0YUZpbHRlclJhbmsuc2Nyb2xsYmFyLCAoZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGV2ZW50LmRldGFpbC52YWx1ZSwgc2NhbGVHcmFtbWFyID0gc2Nyb2xsYmFyLmdldFNjYWxlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlR3JhbW1hcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IHNjYWxlR3JhbW1hci5nZXRTY2FsZSgpLCBzY2FsZVJhbmdlID0gc2NhbGUucmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzY2FsZS5pbnZlcnQocmFuZ2VbMF0gKiAoc2NhbGVSYW5nZVsxXSAtIHNjYWxlUmFuZ2VbMF0pICsgc2NhbGVSYW5nZVswXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHNjYWxlLmludmVydChyYW5nZVsxXSAqIChzY2FsZVJhbmdlWzFdIC0gc2NhbGVSYW5nZVswXSkgKyBzY2FsZVJhbmdlWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UmF0aW86IHJhbmdlWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kUmF0aW86IHJhbmdlWzFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UmF0aW86IHJhbmdlWzBdLFxuICAgICAgICAgICAgICAgICAgICBlbmRSYXRpbzogcmFuZ2VbMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydFJhdGlvOiBldmVudC5kZXRhaWwudmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgZW5kUmF0aW86IGV2ZW50LmRldGFpbC52YWx1ZVsxXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksIGRhdGFGaWx0ZXIsIHRyYW5zZm9ybSksIFsge1xuICAgICAgICAgICAgdHlwZTogXCJzY3JvbGxVcFwiLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVGaWx0ZXJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogXCJzY3JvbGxEcmFnXCIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZUZpbHRlclxuICAgICAgICB9IF07XG4gICAgfVxufVxuXG5TY3JvbGxiYXJGaWx0ZXIudHlwZSA9IFwic2Nyb2xsYmFyLWZpbHRlclwiLCBTY3JvbGxiYXJGaWx0ZXIuZGVmYXVsdE9wdGlvbnMgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcm9sbGJhci1maWx0ZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/scrollbar-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/slider-filter.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/slider-filter.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SliderFilter: () => (/* binding */ SliderFilter)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\nclass SliderFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = SliderFilter.type, this.options = Object.assign({}, SliderFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"slider\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const slider = this._marks[0];\n        if (!this._data || !slider) return [];\n        const filter = this.options.target.filter, transform = this.options.target.transform, dataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter) ? (datum, filterValue) => datum[filter] >= filterValue.start && datum[filter] <= filterValue.end : filter;\n        return this._filterData(this._data, slider, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.slider, (event => ({\n            start: event.detail.value[0],\n            end: event.detail.value[1]\n        })), dataFilter, transform), [ {\n            type: \"change\",\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nSliderFilter.type = \"slider-filter\", SliderFilter.defaultOptions = {};\n//# sourceMappingURL=slider-filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3NsaWRlci1maWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRTs7QUFFckI7O0FBRVY7O0FBRTNCLDJCQUEyQiwyQ0FBTTtBQUN4QztBQUNBLDRGQUE0RjtBQUM1RixxR0FBcUcseURBQWU7QUFDcEgscUJBQXFCLDREQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsNERBQVE7QUFDbkgsb0RBQW9ELHdEQUFjO0FBQ2xFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3NsaWRlci1maWx0ZXIuanM/MDczOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhRmlsdGVyUmFuaywgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vZmlsdGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBTbGlkZXJGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IFNsaWRlckZpbHRlci50eXBlLCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBTbGlkZXJGaWx0ZXIuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBcbiAgICAgICAgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc291cmNlKS5maWx0ZXIoKG1hcmsgPT4gbWFyay5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudCAmJiBcInNsaWRlclwiID09PSBtYXJrLmNvbXBvbmVudFR5cGUpKSwgXG4gICAgICAgIHRoaXMuX2RhdGEgPSBpc1N0cmluZyh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpID8gdmlldy5nZXREYXRhQnlJZCh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpIDogdGhpcy5vcHRpb25zLnRhcmdldC5kYXRhO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFya3MgfHwgMCA9PT0gdGhpcy5fbWFya3MubGVuZ3RoKSByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IHNsaWRlciA9IHRoaXMuX21hcmtzWzBdO1xuICAgICAgICBpZiAoIXRoaXMuX2RhdGEgfHwgIXNsaWRlcikgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBmaWx0ZXIgPSB0aGlzLm9wdGlvbnMudGFyZ2V0LmZpbHRlciwgdHJhbnNmb3JtID0gdGhpcy5vcHRpb25zLnRhcmdldC50cmFuc2Zvcm0sIGRhdGFGaWx0ZXIgPSBpc1N0cmluZyhmaWx0ZXIpID8gKGRhdHVtLCBmaWx0ZXJWYWx1ZSkgPT4gZGF0dW1bZmlsdGVyXSA+PSBmaWx0ZXJWYWx1ZS5zdGFydCAmJiBkYXR1bVtmaWx0ZXJdIDw9IGZpbHRlclZhbHVlLmVuZCA6IGZpbHRlcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlckRhdGEodGhpcy5fZGF0YSwgc2xpZGVyLCBEYXRhRmlsdGVyUmFuay5zbGlkZXIsIChldmVudCA9PiAoe1xuICAgICAgICAgICAgc3RhcnQ6IGV2ZW50LmRldGFpbC52YWx1ZVswXSxcbiAgICAgICAgICAgIGVuZDogZXZlbnQuZGV0YWlsLnZhbHVlWzFdXG4gICAgICAgIH0pKSwgZGF0YUZpbHRlciwgdHJhbnNmb3JtKSwgWyB7XG4gICAgICAgICAgICB0eXBlOiBcImNoYW5nZVwiLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVGaWx0ZXJcbiAgICAgICAgfSBdO1xuICAgIH1cbn1cblxuU2xpZGVyRmlsdGVyLnR5cGUgPSBcInNsaWRlci1maWx0ZXJcIiwgU2xpZGVyRmlsdGVyLmRlZmF1bHRPcHRpb25zID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zbGlkZXItZmlsdGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/slider-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/toggle-state-mixin.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/toggle-state-mixin.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToggleStateMixin: () => (/* binding */ ToggleStateMixin)\n/* harmony export */ });\nclass ToggleStateMixin {\n    updateStates(newStatedElements, prevStatedElements, state, reverseState) {\n        return newStatedElements && newStatedElements.length ? (state && reverseState ? prevStatedElements && prevStatedElements.length ? (this.toggleReverseStateOfElements(newStatedElements, prevStatedElements, reverseState), \n        this.toggleStateOfElements(newStatedElements, prevStatedElements, state)) : this.addBothStateOfElements(newStatedElements, state, reverseState) : state && (prevStatedElements && prevStatedElements.length ? this.toggleStateOfElements(newStatedElements, prevStatedElements, state) : this.addStateOfElements(newStatedElements, state)), \n        newStatedElements) : null;\n    }\n    toggleReverseStateOfElements(newStatedElements, prevStatedElements, reverseState) {\n        prevStatedElements.forEach((element => {\n            reverseState && this._stateMarks[reverseState] && this._stateMarks[reverseState].includes(element.mark) && element.addState(reverseState);\n        })), newStatedElements.forEach((element => {\n            reverseState && this._stateMarks[reverseState] && this._stateMarks[reverseState].includes(element.mark) && element.removeState(reverseState);\n        }));\n    }\n    toggleStateOfElements(newStatedElements, prevStatedElements, state) {\n        prevStatedElements.forEach((element => {\n            state && this._stateMarks[state] && this._stateMarks[state].includes(element.mark) && element.removeState(state);\n        })), newStatedElements.forEach((element => {\n            state && this._stateMarks[state] && this._stateMarks[state].includes(element.mark) && element.addState(state);\n        }));\n    }\n    addBothStateOfElements(statedElements, state, reverseState) {\n        this._marks.forEach((mark => {\n            var _a;\n            const hasReverse = reverseState && this._stateMarks[reverseState] && this._stateMarks[reverseState].includes(mark), hasState = state && this._stateMarks[state] && this._stateMarks[state].includes(mark);\n            (hasReverse || hasState) && (null === (_a = mark.elements) || void 0 === _a || _a.forEach((el => {\n                statedElements && statedElements.includes(el) ? hasState && el.addState(state) : hasReverse && el.addState(reverseState);\n            })));\n        }));\n    }\n    addStateOfElements(statedElements, state) {\n        this._marks.forEach((mark => {\n            var _a;\n            const hasState = state && this._stateMarks[state] && this._stateMarks[state].includes(mark);\n            hasState && (null === (_a = mark.elements) || void 0 === _a || _a.forEach((el => {\n                statedElements && statedElements.includes(el) && hasState && el.addState(state);\n            })));\n        }));\n    }\n    clearAllStates(state, reverseState) {\n        this._statedElements && this._statedElements.length && this._marks.forEach((mark => {\n            mark && mark.elements && (reverseState && this._stateMarks[reverseState] && this._stateMarks[reverseState].includes(mark) && mark.elements.forEach((el => {\n                el.removeState(reverseState);\n            })), state && this._stateMarks[state] && this._stateMarks[state].includes(mark) && mark.elements.forEach((el => {\n                this._statedElements.includes(el) && el.removeState(state);\n            })));\n        }));\n    }\n}\n//# sourceMappingURL=toggle-state-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3RvZ2dsZS1zdGF0ZS1taXhpbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy90b2dnbGUtc3RhdGUtbWl4aW4uanM/YzNjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVG9nZ2xlU3RhdGVNaXhpbiB7XG4gICAgdXBkYXRlU3RhdGVzKG5ld1N0YXRlZEVsZW1lbnRzLCBwcmV2U3RhdGVkRWxlbWVudHMsIHN0YXRlLCByZXZlcnNlU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlZEVsZW1lbnRzICYmIG5ld1N0YXRlZEVsZW1lbnRzLmxlbmd0aCA/IChzdGF0ZSAmJiByZXZlcnNlU3RhdGUgPyBwcmV2U3RhdGVkRWxlbWVudHMgJiYgcHJldlN0YXRlZEVsZW1lbnRzLmxlbmd0aCA/ICh0aGlzLnRvZ2dsZVJldmVyc2VTdGF0ZU9mRWxlbWVudHMobmV3U3RhdGVkRWxlbWVudHMsIHByZXZTdGF0ZWRFbGVtZW50cywgcmV2ZXJzZVN0YXRlKSwgXG4gICAgICAgIHRoaXMudG9nZ2xlU3RhdGVPZkVsZW1lbnRzKG5ld1N0YXRlZEVsZW1lbnRzLCBwcmV2U3RhdGVkRWxlbWVudHMsIHN0YXRlKSkgOiB0aGlzLmFkZEJvdGhTdGF0ZU9mRWxlbWVudHMobmV3U3RhdGVkRWxlbWVudHMsIHN0YXRlLCByZXZlcnNlU3RhdGUpIDogc3RhdGUgJiYgKHByZXZTdGF0ZWRFbGVtZW50cyAmJiBwcmV2U3RhdGVkRWxlbWVudHMubGVuZ3RoID8gdGhpcy50b2dnbGVTdGF0ZU9mRWxlbWVudHMobmV3U3RhdGVkRWxlbWVudHMsIHByZXZTdGF0ZWRFbGVtZW50cywgc3RhdGUpIDogdGhpcy5hZGRTdGF0ZU9mRWxlbWVudHMobmV3U3RhdGVkRWxlbWVudHMsIHN0YXRlKSksIFxuICAgICAgICBuZXdTdGF0ZWRFbGVtZW50cykgOiBudWxsO1xuICAgIH1cbiAgICB0b2dnbGVSZXZlcnNlU3RhdGVPZkVsZW1lbnRzKG5ld1N0YXRlZEVsZW1lbnRzLCBwcmV2U3RhdGVkRWxlbWVudHMsIHJldmVyc2VTdGF0ZSkge1xuICAgICAgICBwcmV2U3RhdGVkRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICByZXZlcnNlU3RhdGUgJiYgdGhpcy5fc3RhdGVNYXJrc1tyZXZlcnNlU3RhdGVdICYmIHRoaXMuX3N0YXRlTWFya3NbcmV2ZXJzZVN0YXRlXS5pbmNsdWRlcyhlbGVtZW50Lm1hcmspICYmIGVsZW1lbnQuYWRkU3RhdGUocmV2ZXJzZVN0YXRlKTtcbiAgICAgICAgfSkpLCBuZXdTdGF0ZWRFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHJldmVyc2VTdGF0ZSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3JldmVyc2VTdGF0ZV0gJiYgdGhpcy5fc3RhdGVNYXJrc1tyZXZlcnNlU3RhdGVdLmluY2x1ZGVzKGVsZW1lbnQubWFyaykgJiYgZWxlbWVudC5yZW1vdmVTdGF0ZShyZXZlcnNlU3RhdGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHRvZ2dsZVN0YXRlT2ZFbGVtZW50cyhuZXdTdGF0ZWRFbGVtZW50cywgcHJldlN0YXRlZEVsZW1lbnRzLCBzdGF0ZSkge1xuICAgICAgICBwcmV2U3RhdGVkRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBzdGF0ZSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3N0YXRlXSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3N0YXRlXS5pbmNsdWRlcyhlbGVtZW50Lm1hcmspICYmIGVsZW1lbnQucmVtb3ZlU3RhdGUoc3RhdGUpO1xuICAgICAgICB9KSksIG5ld1N0YXRlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgc3RhdGUgJiYgdGhpcy5fc3RhdGVNYXJrc1tzdGF0ZV0gJiYgdGhpcy5fc3RhdGVNYXJrc1tzdGF0ZV0uaW5jbHVkZXMoZWxlbWVudC5tYXJrKSAmJiBlbGVtZW50LmFkZFN0YXRlKHN0YXRlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhZGRCb3RoU3RhdGVPZkVsZW1lbnRzKHN0YXRlZEVsZW1lbnRzLCBzdGF0ZSwgcmV2ZXJzZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgaGFzUmV2ZXJzZSA9IHJldmVyc2VTdGF0ZSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3JldmVyc2VTdGF0ZV0gJiYgdGhpcy5fc3RhdGVNYXJrc1tyZXZlcnNlU3RhdGVdLmluY2x1ZGVzKG1hcmspLCBoYXNTdGF0ZSA9IHN0YXRlICYmIHRoaXMuX3N0YXRlTWFya3Nbc3RhdGVdICYmIHRoaXMuX3N0YXRlTWFya3Nbc3RhdGVdLmluY2x1ZGVzKG1hcmspO1xuICAgICAgICAgICAgKGhhc1JldmVyc2UgfHwgaGFzU3RhdGUpICYmIChudWxsID09PSAoX2EgPSBtYXJrLmVsZW1lbnRzKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZWRFbGVtZW50cyAmJiBzdGF0ZWRFbGVtZW50cy5pbmNsdWRlcyhlbCkgPyBoYXNTdGF0ZSAmJiBlbC5hZGRTdGF0ZShzdGF0ZSkgOiBoYXNSZXZlcnNlICYmIGVsLmFkZFN0YXRlKHJldmVyc2VTdGF0ZSk7XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFkZFN0YXRlT2ZFbGVtZW50cyhzdGF0ZWRFbGVtZW50cywgc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBoYXNTdGF0ZSA9IHN0YXRlICYmIHRoaXMuX3N0YXRlTWFya3Nbc3RhdGVdICYmIHRoaXMuX3N0YXRlTWFya3Nbc3RhdGVdLmluY2x1ZGVzKG1hcmspO1xuICAgICAgICAgICAgaGFzU3RhdGUgJiYgKG51bGwgPT09IChfYSA9IG1hcmsuZWxlbWVudHMpIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2EuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXRlZEVsZW1lbnRzICYmIHN0YXRlZEVsZW1lbnRzLmluY2x1ZGVzKGVsKSAmJiBoYXNTdGF0ZSAmJiBlbC5hZGRTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNsZWFyQWxsU3RhdGVzKHN0YXRlLCByZXZlcnNlU3RhdGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdGVkRWxlbWVudHMgJiYgdGhpcy5fc3RhdGVkRWxlbWVudHMubGVuZ3RoICYmIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyayAmJiBtYXJrLmVsZW1lbnRzICYmIChyZXZlcnNlU3RhdGUgJiYgdGhpcy5fc3RhdGVNYXJrc1tyZXZlcnNlU3RhdGVdICYmIHRoaXMuX3N0YXRlTWFya3NbcmV2ZXJzZVN0YXRlXS5pbmNsdWRlcyhtYXJrKSAmJiBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVTdGF0ZShyZXZlcnNlU3RhdGUpO1xuICAgICAgICAgICAgfSkpLCBzdGF0ZSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3N0YXRlXSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3N0YXRlXS5pbmNsdWRlcyhtYXJrKSAmJiBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZWRFbGVtZW50cy5pbmNsdWRlcyhlbCkgJiYgZWwucmVtb3ZlU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvZ2dsZS1zdGF0ZS1taXhpbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/toggle-state-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/tooltip.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/tooltip.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n/* harmony import */ var _base_tooltip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\nclass Tooltip extends _base_tooltip__WEBPACK_IMPORTED_MODULE_0__.BaseTooltip {\n    constructor(view, options) {\n        super(view, options), this.type = Tooltip.type, this.handleTooltipShow = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((event => {\n            if (!this._tooltipComponent) return;\n            const element = event.element;\n            if (!this._marks.includes(null == element ? void 0 : element.mark)) return void this._tooltipComponent.hideAll();\n            this._tooltipComponent.showAll();\n            const groupGraphicItem = this.view.rootMark.getGroupGraphicItem(), point = {\n                x: 0,\n                y: 0\n            };\n            if (groupGraphicItem.globalTransMatrix.transformPoint(event.canvas, point), element === this._lastElement) return void this._tooltipComponent.setAttributes({\n                pointerX: point.x,\n                pointerY: point.y\n            });\n            const boundsStart = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint({\n                x: 0,\n                y: 0\n            }, boundsStart);\n            const boundsEnd = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint({\n                x: this.view.getSignalById(\"width\").getValue(),\n                y: this.view.getSignalById(\"height\").getValue()\n            }, boundsEnd);\n            const bounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.AABBBounds).set(boundsStart.x, boundsStart.y, boundsEnd.x, boundsEnd.y), {title: title, content: content} = this._computeTitleContent(element.getDatum()), theme = this.view.getCurrentTheme(), addition = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(this.options.attributes, this.parameters(), element.getDatum()), attributes = (0,_base_tooltip__WEBPACK_IMPORTED_MODULE_0__.generateTooltipAttributes)(point, title, content, bounds, theme, addition);\n            this._tooltipComponent.setAttributes(attributes);\n        }), 10), this.handleTooltipHide = event => {\n            this._tooltipComponent && this._tooltipComponent.hideAll();\n        }, this.options = Object.assign({}, Tooltip.defaultOptions, options);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleTooltipShow\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleTooltipHide\n        } ];\n    }\n}\n\nTooltip.type = \"tooltip\", Tooltip.defaultOptions = {\n    trigger: \"pointermove\",\n    triggerOff: \"pointerleave\"\n};\n//# sourceMappingURL=tooltip.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3Rvb2x0aXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7O0FBRWdCOztBQUVyQjs7QUFFNUMsc0JBQXNCLHNEQUFXO0FBQ3hDO0FBQ0EsaUZBQWlGLDREQUFRO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDLHdEQUFVLGdFQUFnRSxnQ0FBZ0MsaUdBQWlHLCtEQUFrQiwrRUFBK0Usd0VBQXlCO0FBQ3JXO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvdG9vbHRpcC5qcz8wN2NhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFBQkJCb3VuZHMsIHRocm90dGxlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQmFzZVRvb2x0aXAsIGdlbmVyYXRlVG9vbHRpcEF0dHJpYnV0ZXMgfSBmcm9tIFwiLi9iYXNlLXRvb2x0aXBcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBCYXNlVG9vbHRpcCB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gVG9vbHRpcC50eXBlLCB0aGlzLmhhbmRsZVRvb2x0aXBTaG93ID0gdGhyb3R0bGUoKGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdG9vbHRpcENvbXBvbmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21hcmtzLmluY2x1ZGVzKG51bGwgPT0gZWxlbWVudCA/IHZvaWQgMCA6IGVsZW1lbnQubWFyaykpIHJldHVybiB2b2lkIHRoaXMuX3Rvb2x0aXBDb21wb25lbnQuaGlkZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcENvbXBvbmVudC5zaG93QWxsKCk7XG4gICAgICAgICAgICBjb25zdCBncm91cEdyYXBoaWNJdGVtID0gdGhpcy52aWV3LnJvb3RNYXJrLmdldEdyb3VwR3JhcGhpY0l0ZW0oKSwgcG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGdyb3VwR3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXgudHJhbnNmb3JtUG9pbnQoZXZlbnQuY2FudmFzLCBwb2ludCksIGVsZW1lbnQgPT09IHRoaXMuX2xhc3RFbGVtZW50KSByZXR1cm4gdm9pZCB0aGlzLl90b29sdGlwQ29tcG9uZW50LnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHBvaW50ZXJYOiBwb2ludC54LFxuICAgICAgICAgICAgICAgIHBvaW50ZXJZOiBwb2ludC55XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kc1N0YXJ0ID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdyb3VwR3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXgudHJhbnNmb3JtUG9pbnQoe1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSwgYm91bmRzU3RhcnQpO1xuICAgICAgICAgICAgY29uc3QgYm91bmRzRW5kID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdyb3VwR3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXgudHJhbnNmb3JtUG9pbnQoe1xuICAgICAgICAgICAgICAgIHg6IHRoaXMudmlldy5nZXRTaWduYWxCeUlkKFwid2lkdGhcIikuZ2V0VmFsdWUoKSxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnZpZXcuZ2V0U2lnbmFsQnlJZChcImhlaWdodFwiKS5nZXRWYWx1ZSgpXG4gICAgICAgICAgICB9LCBib3VuZHNFbmQpO1xuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gKG5ldyBBQUJCQm91bmRzKS5zZXQoYm91bmRzU3RhcnQueCwgYm91bmRzU3RhcnQueSwgYm91bmRzRW5kLngsIGJvdW5kc0VuZC55KSwge3RpdGxlOiB0aXRsZSwgY29udGVudDogY29udGVudH0gPSB0aGlzLl9jb21wdXRlVGl0bGVDb250ZW50KGVsZW1lbnQuZ2V0RGF0dW0oKSksIHRoZW1lID0gdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpLCBhZGRpdGlvbiA9IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLm9wdGlvbnMuYXR0cmlidXRlcywgdGhpcy5wYXJhbWV0ZXJzKCksIGVsZW1lbnQuZ2V0RGF0dW0oKSksIGF0dHJpYnV0ZXMgPSBnZW5lcmF0ZVRvb2x0aXBBdHRyaWJ1dGVzKHBvaW50LCB0aXRsZSwgY29udGVudCwgYm91bmRzLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcENvbXBvbmVudC5zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xuICAgICAgICB9KSwgMTApLCB0aGlzLmhhbmRsZVRvb2x0aXBIaWRlID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcENvbXBvbmVudCAmJiB0aGlzLl90b29sdGlwQ29tcG9uZW50LmhpZGVBbGwoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgVG9vbHRpcC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVRvb2x0aXBTaG93XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVUb29sdGlwSGlkZVxuICAgICAgICB9IF07XG4gICAgfVxufVxuXG5Ub29sdGlwLnR5cGUgPSBcInRvb2x0aXBcIiwgVG9vbHRpcC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICB0cmlnZ2VyOiBcInBvaW50ZXJtb3ZlXCIsXG4gICAgdHJpZ2dlck9mZjogXCJwb2ludGVybGVhdmVcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2x0aXAuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/tooltip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/utils.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/utils.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateFilterValue: () => (/* binding */ generateFilterValue),\n/* harmony export */   groupMarksByState: () => (/* binding */ groupMarksByState),\n/* harmony export */   parseTriggerOffOfSelect: () => (/* binding */ parseTriggerOffOfSelect)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nconst generateFilterValue = options => options.filterField ? el => {\n    var _a;\n    return null === (_a = el.getDatum()) || void 0 === _a ? void 0 : _a[options.filterField];\n} : el => el[options.filterType];\n\nconst groupMarksByState = (marks, states) => {\n    if (!states || !marks) return null;\n    const res = {};\n    return marks.forEach((mark => {\n        const markSpec = mark && mark.getSpec(), encode = markSpec && markSpec.encode;\n        encode && states.forEach((state => {\n            state && encode[state] && (res[state] || (res[state] = []), res[state].push(mark));\n        }));\n    })), res;\n};\n\nconst parseTriggerOffOfSelect = triggerOff => {\n    const triggerOffArray = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(triggerOff), resetType = [], eventNames = [];\n    return triggerOffArray.forEach((off => {\n        \"empty\" === off ? resetType.push(\"view\") : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(off) && \"none\" !== off ? off.includes(\"view:\") ? (eventNames.push(off.replace(\"view:\", \"\")), \n        resetType.push(\"view\")) : (eventNames.push(off), resetType.push(\"self\")) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(off) && resetType.push(\"timeout\");\n    })), {\n        eventNames: eventNames,\n        resetType: resetType\n    };\n};\n//# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE2RDs7QUFFdEQ7QUFDUDtBQUNBO0FBQ0EsRUFBRTs7QUFFSztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUCw0QkFBNEIsdURBQUs7QUFDakM7QUFDQSxtREFBbUQsNERBQVE7QUFDM0QsbUZBQW1GLDREQUFRO0FBQzNGLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy91dGlscy5qcz81NTlmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5LCBpc051bWJlciwgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVGaWx0ZXJWYWx1ZSA9IG9wdGlvbnMgPT4gb3B0aW9ucy5maWx0ZXJGaWVsZCA/IGVsID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG51bGwgPT09IChfYSA9IGVsLmdldERhdHVtKCkpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVtvcHRpb25zLmZpbHRlckZpZWxkXTtcbn0gOiBlbCA9PiBlbFtvcHRpb25zLmZpbHRlclR5cGVdO1xuXG5leHBvcnQgY29uc3QgZ3JvdXBNYXJrc0J5U3RhdGUgPSAobWFya3MsIHN0YXRlcykgPT4ge1xuICAgIGlmICghc3RhdGVzIHx8ICFtYXJrcykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgcmV0dXJuIG1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICBjb25zdCBtYXJrU3BlYyA9IG1hcmsgJiYgbWFyay5nZXRTcGVjKCksIGVuY29kZSA9IG1hcmtTcGVjICYmIG1hcmtTcGVjLmVuY29kZTtcbiAgICAgICAgZW5jb2RlICYmIHN0YXRlcy5mb3JFYWNoKChzdGF0ZSA9PiB7XG4gICAgICAgICAgICBzdGF0ZSAmJiBlbmNvZGVbc3RhdGVdICYmIChyZXNbc3RhdGVdIHx8IChyZXNbc3RhdGVdID0gW10pLCByZXNbc3RhdGVdLnB1c2gobWFyaykpO1xuICAgICAgICB9KSk7XG4gICAgfSkpLCByZXM7XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VUcmlnZ2VyT2ZmT2ZTZWxlY3QgPSB0cmlnZ2VyT2ZmID0+IHtcbiAgICBjb25zdCB0cmlnZ2VyT2ZmQXJyYXkgPSBhcnJheSh0cmlnZ2VyT2ZmKSwgcmVzZXRUeXBlID0gW10sIGV2ZW50TmFtZXMgPSBbXTtcbiAgICByZXR1cm4gdHJpZ2dlck9mZkFycmF5LmZvckVhY2goKG9mZiA9PiB7XG4gICAgICAgIFwiZW1wdHlcIiA9PT0gb2ZmID8gcmVzZXRUeXBlLnB1c2goXCJ2aWV3XCIpIDogaXNTdHJpbmcob2ZmKSAmJiBcIm5vbmVcIiAhPT0gb2ZmID8gb2ZmLmluY2x1ZGVzKFwidmlldzpcIikgPyAoZXZlbnROYW1lcy5wdXNoKG9mZi5yZXBsYWNlKFwidmlldzpcIiwgXCJcIikpLCBcbiAgICAgICAgcmVzZXRUeXBlLnB1c2goXCJ2aWV3XCIpKSA6IChldmVudE5hbWVzLnB1c2gob2ZmKSwgcmVzZXRUeXBlLnB1c2goXCJzZWxmXCIpKSA6IGlzTnVtYmVyKG9mZikgJiYgcmVzZXRUeXBlLnB1c2goXCJ0aW1lb3V0XCIpO1xuICAgIH0pKSwge1xuICAgICAgICBldmVudE5hbWVzOiBldmVudE5hbWVzLFxuICAgICAgICByZXNldFR5cGU6IHJlc2V0VHlwZVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-drag-mixin.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-drag-mixin.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewDragMixin: () => (/* binding */ ViewDragMixin)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _view_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view-utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js\");\n\n\n\n\nclass ViewDragMixin {\n    _shouldTriggerDragByPointer(e) {\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.pointerId)) {\n            const shouldStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._pointerId) || this._pointerId === e.pointerId;\n            return this._pointerId = e.pointerId, shouldStart;\n        }\n        return !0;\n    }\n    _shouldStart(e) {\n        return this._shouldTriggerDragByPointer(e);\n    }\n    _shouldUpdate(e) {\n        return this._shouldTriggerDragByPointer(e);\n    }\n    handleDragStart(e, navState, dragOptions) {\n        if (this._shouldStart(e)) return this._dragStart = {\n            x: e.canvasX,\n            y: e.canvasY\n        }, null;\n    }\n    handleDragUpdate(e, navState, dragOptions) {\n        if (this._dragStart && this._shouldUpdate(e)) {\n            if (null == dragOptions ? void 0 : dragOptions.realtime) {\n                const x = e.canvasX - this._dragStart.x, y = e.canvasY - this._dragStart.y;\n                return (0,_view_utils__WEBPACK_IMPORTED_MODULE_1__.handleScrolling)({\n                    x: x,\n                    y: y\n                }, navState, dragOptions);\n            }\n            return null;\n        }\n    }\n    handleDragEnd(e, navState, dragOptions) {\n        if (!this._dragStart) return;\n        const res = !1 === (null == dragOptions ? void 0 : dragOptions.realtime) ? (0,_view_utils__WEBPACK_IMPORTED_MODULE_1__.handleScrolling)({\n            x: e.canvasX - this._dragStart.x,\n            y: e.canvasY - this._dragStart.y\n        }, navState, dragOptions) : null;\n        return this._pointerId = null, this._dragStart = null, res;\n    }\n}\n//# sourceMappingURL=view-drag-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctZHJhZy1taXhpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7O0FBRU07O0FBRXhDO0FBQ1A7QUFDQSxhQUFhLDREQUFLO0FBQ2xCLGdDQUFnQyw0REFBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNERBQWU7QUFDdEM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsNERBQWU7QUFDbEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvdmlldy1kcmFnLW1peGluLmpzPzE4NjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBoYW5kbGVTY3JvbGxpbmcgfSBmcm9tIFwiLi92aWV3LXV0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3RHJhZ01peGluIHtcbiAgICBfc2hvdWxkVHJpZ2dlckRyYWdCeVBvaW50ZXIoZSkge1xuICAgICAgICBpZiAoIWlzTmlsKGUucG9pbnRlcklkKSkge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkU3RhcnQgPSBpc05pbCh0aGlzLl9wb2ludGVySWQpIHx8IHRoaXMuX3BvaW50ZXJJZCA9PT0gZS5wb2ludGVySWQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlcklkID0gZS5wb2ludGVySWQsIHNob3VsZFN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgX3Nob3VsZFN0YXJ0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3VsZFRyaWdnZXJEcmFnQnlQb2ludGVyKGUpO1xuICAgIH1cbiAgICBfc2hvdWxkVXBkYXRlKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3VsZFRyaWdnZXJEcmFnQnlQb2ludGVyKGUpO1xuICAgIH1cbiAgICBoYW5kbGVEcmFnU3RhcnQoZSwgbmF2U3RhdGUsIGRyYWdPcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRTdGFydChlKSkgcmV0dXJuIHRoaXMuX2RyYWdTdGFydCA9IHtcbiAgICAgICAgICAgIHg6IGUuY2FudmFzWCxcbiAgICAgICAgICAgIHk6IGUuY2FudmFzWVxuICAgICAgICB9LCBudWxsO1xuICAgIH1cbiAgICBoYW5kbGVEcmFnVXBkYXRlKGUsIG5hdlN0YXRlLCBkcmFnT3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fZHJhZ1N0YXJ0ICYmIHRoaXMuX3Nob3VsZFVwZGF0ZShlKSkge1xuICAgICAgICAgICAgaWYgKG51bGwgPT0gZHJhZ09wdGlvbnMgPyB2b2lkIDAgOiBkcmFnT3B0aW9ucy5yZWFsdGltZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBlLmNhbnZhc1ggLSB0aGlzLl9kcmFnU3RhcnQueCwgeSA9IGUuY2FudmFzWSAtIHRoaXMuX2RyYWdTdGFydC55O1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVTY3JvbGxpbmcoe1xuICAgICAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgICAgICB5OiB5XG4gICAgICAgICAgICAgICAgfSwgbmF2U3RhdGUsIGRyYWdPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZURyYWdFbmQoZSwgbmF2U3RhdGUsIGRyYWdPcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5fZHJhZ1N0YXJ0KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlcyA9ICExID09PSAobnVsbCA9PSBkcmFnT3B0aW9ucyA/IHZvaWQgMCA6IGRyYWdPcHRpb25zLnJlYWx0aW1lKSA/IGhhbmRsZVNjcm9sbGluZyh7XG4gICAgICAgICAgICB4OiBlLmNhbnZhc1ggLSB0aGlzLl9kcmFnU3RhcnQueCxcbiAgICAgICAgICAgIHk6IGUuY2FudmFzWSAtIHRoaXMuX2RyYWdTdGFydC55XG4gICAgICAgIH0sIG5hdlN0YXRlLCBkcmFnT3B0aW9ucykgOiBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlcklkID0gbnVsbCwgdGhpcy5fZHJhZ1N0YXJ0ID0gbnVsbCwgcmVzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctZHJhZy1taXhpbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-drag-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-drag.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-drag.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewDrag: () => (/* binding */ ViewDrag)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\nclass ViewDrag extends _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__.ViewNavigationBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, ViewDrag.defaultOptions, option)), this.type = ViewDrag.type, \n        this.handleStart = e => {\n            !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._isStarted = !0, \n            this._inited || this._initGrammars(), this.updateView(\"start\", this.handleDragStart(e, this._state, {\n                reversed: this.options.reversed\n            }), \"drag\", e));\n        }, this.handleUpdateInner = e => {\n            this._isStarted && e && (!this.options.shouldUpdate || this.options.shouldUpdate(e)) && this.updateView(\"update\", this.handleDragUpdate(e, this._state, {\n                reversed: this.options.reversed\n            }), \"drag\", e);\n        }, this.handleEnd = e => {\n            this._isStarted && e && (!this.options.shouldEnd || this.options.shouldEnd(e)) && (this.updateView(\"end\", this.handleDragEnd(e, this._state, {\n                reversed: this.options.reversed\n            }), \"drag\", e), this._isStarted = !1);\n        }, this.handleUpdate = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.handleUpdateInner, this.options.throttle);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.endTrigger,\n            handler: this.handleEnd\n        }, {\n            type: this.options.updateTrigger,\n            handler: this.handleUpdate\n        } ];\n    }\n}\n\nViewDrag.type = \"view-drag\", ViewDrag.defaultOptions = {\n    realtime: !0,\n    reversed: !1,\n    trigger: \"pointerdown\",\n    updateTrigger: \"pointermove\",\n    endTrigger: \"pointerup\",\n    throttle: 100\n};\n//# sourceMappingURL=view-drag.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctZHJhZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7O0FBRWdCOztBQUVyRCx1QkFBdUIscUVBQWtCO0FBQ2hEO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsc0JBQXNCLDREQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy92aWV3LWRyYWcuanM/MmYzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IFZpZXdOYXZpZ2F0aW9uQmFzZSB9IGZyb20gXCIuL3ZpZXctbmF2aWdhdGlvbi1iYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3RHJhZyBleHRlbmRzIFZpZXdOYXZpZ2F0aW9uQmFzZSB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9uKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIE9iamVjdC5hc3NpZ24oe30sIFZpZXdEcmFnLmRlZmF1bHRPcHRpb25zLCBvcHRpb24pKSwgdGhpcy50eXBlID0gVmlld0RyYWcudHlwZSwgXG4gICAgICAgIHRoaXMuaGFuZGxlU3RhcnQgPSBlID0+IHtcbiAgICAgICAgICAgICFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRTdGFydCAmJiAhdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0KGUpIHx8ICh0aGlzLl9pc1N0YXJ0ZWQgPSAhMCwgXG4gICAgICAgICAgICB0aGlzLl9pbml0ZWQgfHwgdGhpcy5faW5pdEdyYW1tYXJzKCksIHRoaXMudXBkYXRlVmlldyhcInN0YXJ0XCIsIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0KGUsIHRoaXMuX3N0YXRlLCB7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZWQ6IHRoaXMub3B0aW9ucy5yZXZlcnNlZFxuICAgICAgICAgICAgfSksIFwiZHJhZ1wiLCBlKSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlVXBkYXRlSW5uZXIgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzU3RhcnRlZCAmJiBlICYmICghdGhpcy5vcHRpb25zLnNob3VsZFVwZGF0ZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkVXBkYXRlKGUpKSAmJiB0aGlzLnVwZGF0ZVZpZXcoXCJ1cGRhdGVcIiwgdGhpcy5oYW5kbGVEcmFnVXBkYXRlKGUsIHRoaXMuX3N0YXRlLCB7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZWQ6IHRoaXMub3B0aW9ucy5yZXZlcnNlZFxuICAgICAgICAgICAgfSksIFwiZHJhZ1wiLCBlKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVFbmQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzU3RhcnRlZCAmJiBlICYmICghdGhpcy5vcHRpb25zLnNob3VsZEVuZCB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkRW5kKGUpKSAmJiAodGhpcy51cGRhdGVWaWV3KFwiZW5kXCIsIHRoaXMuaGFuZGxlRHJhZ0VuZChlLCB0aGlzLl9zdGF0ZSwge1xuICAgICAgICAgICAgICAgIHJldmVyc2VkOiB0aGlzLm9wdGlvbnMucmV2ZXJzZWRcbiAgICAgICAgICAgIH0pLCBcImRyYWdcIiwgZSksIHRoaXMuX2lzU3RhcnRlZCA9ICExKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVVcGRhdGUgPSB0aHJvdHRsZSh0aGlzLmhhbmRsZVVwZGF0ZUlubmVyLCB0aGlzLm9wdGlvbnMudGhyb3R0bGUpO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuZW5kVHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlRW5kXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy51cGRhdGVUcmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVVcGRhdGVcbiAgICAgICAgfSBdO1xuICAgIH1cbn1cblxuVmlld0RyYWcudHlwZSA9IFwidmlldy1kcmFnXCIsIFZpZXdEcmFnLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHJlYWx0aW1lOiAhMCxcbiAgICByZXZlcnNlZDogITEsXG4gICAgdHJpZ2dlcjogXCJwb2ludGVyZG93blwiLFxuICAgIHVwZGF0ZVRyaWdnZXI6IFwicG9pbnRlcm1vdmVcIixcbiAgICBlbmRUcmlnZ2VyOiBcInBvaW50ZXJ1cFwiLFxuICAgIHRocm90dGxlOiAxMDBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LWRyYWcuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-drag.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewNavigationBase: () => (/* binding */ ViewNavigationBase)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n\n\n\n\n\n\n\n\nclass ViewNavigationBase extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.options = options;\n    }\n    _parseLinkedComponent(option) {\n        if (!option) return null;\n        const comp = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(option) ? this.view.getMarkById(option) : option;\n        return !comp || comp.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.component || comp.componentType !== _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom && comp.componentType !== _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.scrollbar ? null : comp;\n    }\n    _initStateByDim(dim, linkedComponent, scale, dataTarget, rangeOptions) {\n        const comp = this._parseLinkedComponent(linkedComponent);\n        if (comp) return void (this._state[dim] = {\n            linkedComponent: comp\n        });\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(scale) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(scale) ? this.view.getScaleById(scale) : scale, dataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(null == dataTarget ? void 0 : dataTarget.data) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dataTarget.data) ? this.view.getDataById(dataTarget.data) : dataTarget.data;\n        if (!scaleGrammar || !dataGrammar) return this._state[dim] = {\n            data: dataGrammar,\n            scale: scaleGrammar\n        }, void ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(rangeOptions) ? (this._state[dim].rangeFactor = rangeOptions, this._state[dim].initRangeFactor = rangeOptions) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rangeOptions) ? this._state[dim].getCurrentRange = rangeOptions : scaleGrammar && scaleGrammar.getRangeFactor() && (this._state[dim].rangeFactor = scaleGrammar.getRangeFactor(), \n        this._state[dim].initRangeFactor = scaleGrammar.getRangeFactor()));\n        dataGrammar.attach(scaleGrammar);\n        const filterByScale = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dataTarget.filter) ? (datum, filterValue) => {\n            const scale = scaleGrammar.getScale(), ratio = (0,_util_scale__WEBPACK_IMPORTED_MODULE_6__.getScaleRangeRatio)(scale, datum[dataTarget.filter]);\n            return ratio >= filterValue[0] && ratio <= filterValue[1];\n        } : dataTarget.filter, dataFilter = {\n            source: `${scaleGrammar.uid}`,\n            rank: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.DataFilterRank.normal,\n            filter: data => {\n                var _a, _b, _c, _d;\n                const filterValue = \"x\" === dim ? null === (_b = null === (_a = this._state) || void 0 === _a ? void 0 : _a.x) || void 0 === _b ? void 0 : _b.filterValue : null === (_d = null === (_c = this._state) || void 0 === _c ? void 0 : _c.y) || void 0 === _d ? void 0 : _d.filterValue;\n                if (!filterValue) return data;\n                const filteredData = data.filter((datum => filterByScale(datum, filterValue)));\n                return dataTarget.transform ? dataTarget.transform(filteredData, filterValue) : filteredData;\n            }\n        };\n        \"x\" === dim ? this._dataFilterX = dataFilter : this._dataFilterY = dataFilter, dataGrammar.addDataFilter(dataFilter), \n        this._state[dim] = {\n            data: dataGrammar,\n            scale: scaleGrammar\n        };\n    }\n    _initGrammars() {\n        const {enableX: enableX, enableY: enableY, scaleX: scaleX, scaleY: scaleY, dataTargetX: dataTargetX, dataTargetY: dataTargetY, linkedComponentX: linkedComponentX, linkedComponentY: linkedComponentY, rangeX: rangeX, rangeY: rangeY} = this.options;\n        this._state = {}, !1 !== enableX && this._initStateByDim(\"x\", linkedComponentX, scaleX, dataTargetX, rangeX), \n        !1 !== enableY && this._initStateByDim(\"y\", linkedComponentY, scaleY, dataTargetY, rangeY), \n        this._inited = !0;\n    }\n    _updateLinkedComponent(comp, newRange) {\n        comp.componentType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom ? comp.setStartEndValue(newRange[0], newRange[1]) : comp.setScrollStart(newRange[0]);\n    }\n    updateView(type, newRange, eventType, e) {\n        var _a, _b, _c, _d;\n        newRange && newRange.x && (null === (_b = null === (_a = this._state) || void 0 === _a ? void 0 : _a.x) || void 0 === _b ? void 0 : _b.linkedComponent) && this._updateLinkedComponent(this._state.x.linkedComponent, newRange.x), \n        newRange && newRange.y && (null === (_d = null === (_c = this._state) || void 0 === _c ? void 0 : _c.y) || void 0 === _d ? void 0 : _d.linkedComponent) && this._updateLinkedComponent(this._state.y.linkedComponent, newRange.y), \n        newRange && newRange.needUpdate && this.view.run(), this.dispatchEvent(type, {\n            viewRange: newRange,\n            event: e,\n            eventType: eventType\n        });\n    }\n    unbind() {\n        super.unbind(), this._state && Object.keys(this._state).forEach((dim => {\n            const {data: data, scale: scale} = this._state[dim];\n            data && scale ? (data.detach(scale), data.removeDataFilter(\"x\" === dim ? this._dataFilterX : this._dataFilterY)) : scale && (scale.setRangeFactor(null), \n            scale.commit());\n        })), this._state = null;\n    }\n}\n//# sourceMappingURL=view-navigation-base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctbmF2aWdhdGlvbi1iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdFOztBQUUvQjs7QUFFdUM7O0FBRTdCOztBQUU1QyxpQ0FBaUMsa0RBQWU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0REFBUTtBQUM3QiwwQ0FBMEMseURBQWUscUNBQXFDLHVEQUFhLG9DQUFvQyx1REFBYTtBQUM1SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDZCQUE2Qiw0REFBSyxpQkFBaUIsNERBQVEsK0RBQStELDREQUFLLHlEQUF5RCw0REFBUTtBQUNoTTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFFBQVEsNERBQU8sa0hBQWtILDREQUFVO0FBQ3BKO0FBQ0E7QUFDQSw4QkFBOEIsNERBQVE7QUFDdEMsMkRBQTJELCtEQUFrQjtBQUM3RTtBQUNBLFVBQVU7QUFDVix1QkFBdUIsaUJBQWlCO0FBQ3hDLGtCQUFrQix3REFBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdPQUFnTztBQUMvTyx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdURBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwwQkFBMEI7QUFDN0M7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctbmF2aWdhdGlvbi1iYXNlLmpzP2RmYWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNOaWwsIGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRFbnVtLCBEYXRhRmlsdGVyUmFuaywgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGdldFNjYWxlUmFuZ2VSYXRpbyB9IGZyb20gXCIuLi91dGlsL3NjYWxlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3TmF2aWdhdGlvbkJhc2UgZXh0ZW5kcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIF9wYXJzZUxpbmtlZENvbXBvbmVudChvcHRpb24pIHtcbiAgICAgICAgaWYgKCFvcHRpb24pIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBjb21wID0gaXNTdHJpbmcob3B0aW9uKSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZChvcHRpb24pIDogb3B0aW9uO1xuICAgICAgICByZXR1cm4gIWNvbXAgfHwgY29tcC5tYXJrVHlwZSAhPT0gR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudCB8fCBjb21wLmNvbXBvbmVudFR5cGUgIT09IENvbXBvbmVudEVudW0uZGF0YXpvb20gJiYgY29tcC5jb21wb25lbnRUeXBlICE9PSBDb21wb25lbnRFbnVtLnNjcm9sbGJhciA/IG51bGwgOiBjb21wO1xuICAgIH1cbiAgICBfaW5pdFN0YXRlQnlEaW0oZGltLCBsaW5rZWRDb21wb25lbnQsIHNjYWxlLCBkYXRhVGFyZ2V0LCByYW5nZU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuX3BhcnNlTGlua2VkQ29tcG9uZW50KGxpbmtlZENvbXBvbmVudCk7XG4gICAgICAgIGlmIChjb21wKSByZXR1cm4gdm9pZCAodGhpcy5fc3RhdGVbZGltXSA9IHtcbiAgICAgICAgICAgIGxpbmtlZENvbXBvbmVudDogY29tcFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2NhbGVHcmFtbWFyID0gaXNOaWwoc2NhbGUpID8gbnVsbCA6IGlzU3RyaW5nKHNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQoc2NhbGUpIDogc2NhbGUsIGRhdGFHcmFtbWFyID0gaXNOaWwobnVsbCA9PSBkYXRhVGFyZ2V0ID8gdm9pZCAwIDogZGF0YVRhcmdldC5kYXRhKSA/IG51bGwgOiBpc1N0cmluZyhkYXRhVGFyZ2V0LmRhdGEpID8gdGhpcy52aWV3LmdldERhdGFCeUlkKGRhdGFUYXJnZXQuZGF0YSkgOiBkYXRhVGFyZ2V0LmRhdGE7XG4gICAgICAgIGlmICghc2NhbGVHcmFtbWFyIHx8ICFkYXRhR3JhbW1hcikgcmV0dXJuIHRoaXMuX3N0YXRlW2RpbV0gPSB7XG4gICAgICAgICAgICBkYXRhOiBkYXRhR3JhbW1hcixcbiAgICAgICAgICAgIHNjYWxlOiBzY2FsZUdyYW1tYXJcbiAgICAgICAgfSwgdm9pZCAoaXNBcnJheShyYW5nZU9wdGlvbnMpID8gKHRoaXMuX3N0YXRlW2RpbV0ucmFuZ2VGYWN0b3IgPSByYW5nZU9wdGlvbnMsIHRoaXMuX3N0YXRlW2RpbV0uaW5pdFJhbmdlRmFjdG9yID0gcmFuZ2VPcHRpb25zKSA6IGlzRnVuY3Rpb24ocmFuZ2VPcHRpb25zKSA/IHRoaXMuX3N0YXRlW2RpbV0uZ2V0Q3VycmVudFJhbmdlID0gcmFuZ2VPcHRpb25zIDogc2NhbGVHcmFtbWFyICYmIHNjYWxlR3JhbW1hci5nZXRSYW5nZUZhY3RvcigpICYmICh0aGlzLl9zdGF0ZVtkaW1dLnJhbmdlRmFjdG9yID0gc2NhbGVHcmFtbWFyLmdldFJhbmdlRmFjdG9yKCksIFxuICAgICAgICB0aGlzLl9zdGF0ZVtkaW1dLmluaXRSYW5nZUZhY3RvciA9IHNjYWxlR3JhbW1hci5nZXRSYW5nZUZhY3RvcigpKSk7XG4gICAgICAgIGRhdGFHcmFtbWFyLmF0dGFjaChzY2FsZUdyYW1tYXIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJCeVNjYWxlID0gaXNTdHJpbmcoZGF0YVRhcmdldC5maWx0ZXIpID8gKGRhdHVtLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBzY2FsZUdyYW1tYXIuZ2V0U2NhbGUoKSwgcmF0aW8gPSBnZXRTY2FsZVJhbmdlUmF0aW8oc2NhbGUsIGRhdHVtW2RhdGFUYXJnZXQuZmlsdGVyXSk7XG4gICAgICAgICAgICByZXR1cm4gcmF0aW8gPj0gZmlsdGVyVmFsdWVbMF0gJiYgcmF0aW8gPD0gZmlsdGVyVmFsdWVbMV07XG4gICAgICAgIH0gOiBkYXRhVGFyZ2V0LmZpbHRlciwgZGF0YUZpbHRlciA9IHtcbiAgICAgICAgICAgIHNvdXJjZTogYCR7c2NhbGVHcmFtbWFyLnVpZH1gLFxuICAgICAgICAgICAgcmFuazogRGF0YUZpbHRlclJhbmsubm9ybWFsLFxuICAgICAgICAgICAgZmlsdGVyOiBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBcInhcIiA9PT0gZGltID8gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy5fc3RhdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS54KSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuZmlsdGVyVmFsdWUgOiBudWxsID09PSAoX2QgPSBudWxsID09PSAoX2MgPSB0aGlzLl9zdGF0ZSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLnkpIHx8IHZvaWQgMCA9PT0gX2QgPyB2b2lkIDAgOiBfZC5maWx0ZXJWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlclZhbHVlKSByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSBkYXRhLmZpbHRlcigoZGF0dW0gPT4gZmlsdGVyQnlTY2FsZShkYXR1bSwgZmlsdGVyVmFsdWUpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFUYXJnZXQudHJhbnNmb3JtID8gZGF0YVRhcmdldC50cmFuc2Zvcm0oZmlsdGVyZWREYXRhLCBmaWx0ZXJWYWx1ZSkgOiBmaWx0ZXJlZERhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFwieFwiID09PSBkaW0gPyB0aGlzLl9kYXRhRmlsdGVyWCA9IGRhdGFGaWx0ZXIgOiB0aGlzLl9kYXRhRmlsdGVyWSA9IGRhdGFGaWx0ZXIsIGRhdGFHcmFtbWFyLmFkZERhdGFGaWx0ZXIoZGF0YUZpbHRlciksIFxuICAgICAgICB0aGlzLl9zdGF0ZVtkaW1dID0ge1xuICAgICAgICAgICAgZGF0YTogZGF0YUdyYW1tYXIsXG4gICAgICAgICAgICBzY2FsZTogc2NhbGVHcmFtbWFyXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9pbml0R3JhbW1hcnMoKSB7XG4gICAgICAgIGNvbnN0IHtlbmFibGVYOiBlbmFibGVYLCBlbmFibGVZOiBlbmFibGVZLCBzY2FsZVg6IHNjYWxlWCwgc2NhbGVZOiBzY2FsZVksIGRhdGFUYXJnZXRYOiBkYXRhVGFyZ2V0WCwgZGF0YVRhcmdldFk6IGRhdGFUYXJnZXRZLCBsaW5rZWRDb21wb25lbnRYOiBsaW5rZWRDb21wb25lbnRYLCBsaW5rZWRDb21wb25lbnRZOiBsaW5rZWRDb21wb25lbnRZLCByYW5nZVg6IHJhbmdlWCwgcmFuZ2VZOiByYW5nZVl9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHt9LCAhMSAhPT0gZW5hYmxlWCAmJiB0aGlzLl9pbml0U3RhdGVCeURpbShcInhcIiwgbGlua2VkQ29tcG9uZW50WCwgc2NhbGVYLCBkYXRhVGFyZ2V0WCwgcmFuZ2VYKSwgXG4gICAgICAgICExICE9PSBlbmFibGVZICYmIHRoaXMuX2luaXRTdGF0ZUJ5RGltKFwieVwiLCBsaW5rZWRDb21wb25lbnRZLCBzY2FsZVksIGRhdGFUYXJnZXRZLCByYW5nZVkpLCBcbiAgICAgICAgdGhpcy5faW5pdGVkID0gITA7XG4gICAgfVxuICAgIF91cGRhdGVMaW5rZWRDb21wb25lbnQoY29tcCwgbmV3UmFuZ2UpIHtcbiAgICAgICAgY29tcC5jb21wb25lbnRUeXBlID09PSBDb21wb25lbnRFbnVtLmRhdGF6b29tID8gY29tcC5zZXRTdGFydEVuZFZhbHVlKG5ld1JhbmdlWzBdLCBuZXdSYW5nZVsxXSkgOiBjb21wLnNldFNjcm9sbFN0YXJ0KG5ld1JhbmdlWzBdKTtcbiAgICB9XG4gICAgdXBkYXRlVmlldyh0eXBlLCBuZXdSYW5nZSwgZXZlbnRUeXBlLCBlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgbmV3UmFuZ2UgJiYgbmV3UmFuZ2UueCAmJiAobnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy5fc3RhdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS54KSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IubGlua2VkQ29tcG9uZW50KSAmJiB0aGlzLl91cGRhdGVMaW5rZWRDb21wb25lbnQodGhpcy5fc3RhdGUueC5saW5rZWRDb21wb25lbnQsIG5ld1JhbmdlLngpLCBcbiAgICAgICAgbmV3UmFuZ2UgJiYgbmV3UmFuZ2UueSAmJiAobnVsbCA9PT0gKF9kID0gbnVsbCA9PT0gKF9jID0gdGhpcy5fc3RhdGUpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy55KSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2QubGlua2VkQ29tcG9uZW50KSAmJiB0aGlzLl91cGRhdGVMaW5rZWRDb21wb25lbnQodGhpcy5fc3RhdGUueS5saW5rZWRDb21wb25lbnQsIG5ld1JhbmdlLnkpLCBcbiAgICAgICAgbmV3UmFuZ2UgJiYgbmV3UmFuZ2UubmVlZFVwZGF0ZSAmJiB0aGlzLnZpZXcucnVuKCksIHRoaXMuZGlzcGF0Y2hFdmVudCh0eXBlLCB7XG4gICAgICAgICAgICB2aWV3UmFuZ2U6IG5ld1JhbmdlLFxuICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICBldmVudFR5cGU6IGV2ZW50VHlwZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBzdXBlci51bmJpbmQoKSwgdGhpcy5fc3RhdGUgJiYgT2JqZWN0LmtleXModGhpcy5fc3RhdGUpLmZvckVhY2goKGRpbSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7ZGF0YTogZGF0YSwgc2NhbGU6IHNjYWxlfSA9IHRoaXMuX3N0YXRlW2RpbV07XG4gICAgICAgICAgICBkYXRhICYmIHNjYWxlID8gKGRhdGEuZGV0YWNoKHNjYWxlKSwgZGF0YS5yZW1vdmVEYXRhRmlsdGVyKFwieFwiID09PSBkaW0gPyB0aGlzLl9kYXRhRmlsdGVyWCA6IHRoaXMuX2RhdGFGaWx0ZXJZKSkgOiBzY2FsZSAmJiAoc2NhbGUuc2V0UmFuZ2VGYWN0b3IobnVsbCksIFxuICAgICAgICAgICAgc2NhbGUuY29tbWl0KCkpO1xuICAgICAgICB9KSksIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LW5hdmlnYXRpb24tYmFzZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-roam.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-roam.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewRoam: () => (/* binding */ ViewRoam)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\nclass ViewRoam extends _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__.ViewNavigationBase {\n    constructor(view, option) {\n        super(view, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, ViewRoam.defaultOptions, option)), this.type = ViewRoam.type, \n        this.handleRoamZoomStartInner = e => {\n            this.formatZoomEvent(e), !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._inited || this._initGrammars(), \n            this._isZoomStarted = !0, this.updateView(\"start\", this.handleZoomStart(e, this._state, this.options.zoom), \"zoom\", e));\n        }, this.handleRoamZoomEnd = e => {\n            this._isZoomStarted && (this.formatZoomEvent(e), !e || this.options.shouldEnd && !this.options.shouldEnd(e) || (this.updateView(\"end\", this.handleZoomEnd(e, this._state, this.options.zoom), \"zoom\", e), \n            this._isZoomStarted = !1));\n        }, this.handleRoamZoomReset = e => {\n            this._isZoomStarted && e && (!this.options.shouldReset || this.options.shouldReset(e)) && (this.updateView(\"reset\", this.handleZoomReset(e, this._state, this.options.zoom), \"zoom\", e), \n            this._isZoomStarted = !1);\n        }, this.handleRoamDragStart = e => {\n            !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._inited || this._initGrammars(), \n            this._isDragStarted = !0, this.updateView(\"start\", this.handleDragStart(e, this._state, this.options.drag), \"drag\", e));\n        }, this.handleRoamDragUpdateInner = e => {\n            this._isDragStarted && e && (!this.options.shouldUpdate || this.options.shouldUpdate(e)) && this.updateView(\"update\", this.handleDragUpdate(e, this._state, this.options.drag), \"drag\", e);\n        }, this.handleRoamDragEnd = e => {\n            this._isDragStarted && e && (!this.options.shouldEnd || this.options.shouldEnd(e)) && (this.updateView(\"end\", this.handleDragEnd(e, this._state, this.options.drag), \"drag\", e), \n            this._isDragStarted = !1);\n        }, this.handleRoamScrollStartInner = e => {\n            this.formatScrollEvent(e), !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._inited || this._initGrammars(), \n            this._isScrollStarted = !0, this.updateView(\"start\", this.handleScrollStart(e, this._state, this.options.scroll), \"scroll\", e));\n        }, this.handleRoamScrollEnd = e => {\n            this._isScrollStarted && (this.formatScrollEvent(e), !e || this.options.shouldEnd && !this.options.shouldEnd(e) || (this.updateView(\"end\", this.handleScrollEnd(e, this._state, this.options.scroll), \"scroll\", e), \n            this._isScrollStarted = !0));\n        }, this.handleRoamZoomStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.handleRoamZoomStartInner, this.options.throttle), \n        this.handleRoamDragUpdate = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.handleRoamDragUpdateInner, this.options.throttle), \n        this.handleRoamScrollStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.handleRoamScrollStartInner, this.options.throttle);\n    }\n    getEvents() {\n        var _a, _b, _c;\n        const events = [];\n        return (null === (_a = this.options.zoom) || void 0 === _a ? void 0 : _a.enable) && (this.options.zoom.trigger && events.push({\n            type: this.options.zoom.trigger,\n            handler: this.handleRoamZoomStart\n        }), this.options.zoom.endTrigger && events.push({\n            type: this.options.zoom.endTrigger,\n            handler: this.handleRoamZoomEnd\n        }), this.options.zoom.triggerOff && events.push({\n            type: this.options.zoom.triggerOff,\n            handler: this.handleRoamZoomReset\n        })), (null === (_b = this.options.scroll) || void 0 === _b ? void 0 : _b.enable) && (this.options.scroll.trigger && events.push({\n            type: this.options.scroll.trigger,\n            handler: this.handleRoamScrollStart\n        }), this.options.scroll.trigger && events.push({\n            type: this.options.scroll.endTrigger,\n            handler: this.handleRoamScrollEnd\n        })), (null === (_c = this.options.drag) || void 0 === _c ? void 0 : _c.enable) && (this.options.drag.trigger && events.push({\n            type: this.options.drag.trigger,\n            handler: this.handleRoamDragStart\n        }), this.options.drag.updateTrigger && events.push({\n            type: this.options.drag.updateTrigger,\n            handler: this.handleRoamDragUpdate\n        }), this.options.drag.endTrigger && events.push({\n            type: this.options.drag.endTrigger,\n            handler: this.handleRoamDragEnd\n        })), events;\n    }\n}\n\nViewRoam.type = \"view-roam\", ViewRoam.defaultOptions = {\n    zoom: {\n        realtime: !0,\n        enable: !0,\n        focus: !0,\n        trigger: \"wheel\",\n        endTrigger: \"pointerup\",\n        triggerOff: \"dblclick\",\n        rate: 1\n    },\n    scroll: {\n        realtime: !0,\n        enable: !1,\n        reversed: !1,\n        trigger: \"wheel\",\n        endTrigger: \"pointerup\"\n    },\n    drag: {\n        realtime: !0,\n        enable: !0,\n        reversed: !1,\n        trigger: \"pointerdown\",\n        updateTrigger: \"pointermove\",\n        endTrigger: \"pointerup\"\n    },\n    throttle: 100\n};\n//# sourceMappingURL=view-roam.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctcm9hbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1EOztBQUVTOztBQUVyRCx1QkFBdUIscUVBQWtCO0FBQ2hEO0FBQ0Esb0JBQW9CLDREQUFLLEdBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUyw2QkFBNkIsNERBQVE7QUFDOUMsb0NBQW9DLDREQUFRO0FBQzVDLHFDQUFxQyw0REFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctcm9hbS5qcz9kZTFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1lcmdlLCB0aHJvdHRsZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IFZpZXdOYXZpZ2F0aW9uQmFzZSB9IGZyb20gXCIuL3ZpZXctbmF2aWdhdGlvbi1iYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3Um9hbSBleHRlbmRzIFZpZXdOYXZpZ2F0aW9uQmFzZSB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9uKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG1lcmdlKHt9LCBWaWV3Um9hbS5kZWZhdWx0T3B0aW9ucywgb3B0aW9uKSksIHRoaXMudHlwZSA9IFZpZXdSb2FtLnR5cGUsIFxuICAgICAgICB0aGlzLmhhbmRsZVJvYW1ab29tU3RhcnRJbm5lciA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb3JtYXRab29tRXZlbnQoZSksICFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRTdGFydCAmJiAhdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0KGUpIHx8ICh0aGlzLl9pbml0ZWQgfHwgdGhpcy5faW5pdEdyYW1tYXJzKCksIFxuICAgICAgICAgICAgdGhpcy5faXNab29tU3RhcnRlZCA9ICEwLCB0aGlzLnVwZGF0ZVZpZXcoXCJzdGFydFwiLCB0aGlzLmhhbmRsZVpvb21TdGFydChlLCB0aGlzLl9zdGF0ZSwgdGhpcy5vcHRpb25zLnpvb20pLCBcInpvb21cIiwgZSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJvYW1ab29tRW5kID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc1pvb21TdGFydGVkICYmICh0aGlzLmZvcm1hdFpvb21FdmVudChlKSwgIWUgfHwgdGhpcy5vcHRpb25zLnNob3VsZEVuZCAmJiAhdGhpcy5vcHRpb25zLnNob3VsZEVuZChlKSB8fCAodGhpcy51cGRhdGVWaWV3KFwiZW5kXCIsIHRoaXMuaGFuZGxlWm9vbUVuZChlLCB0aGlzLl9zdGF0ZSwgdGhpcy5vcHRpb25zLnpvb20pLCBcInpvb21cIiwgZSksIFxuICAgICAgICAgICAgdGhpcy5faXNab29tU3RhcnRlZCA9ICExKSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUm9hbVpvb21SZXNldCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5faXNab29tU3RhcnRlZCAmJiBlICYmICghdGhpcy5vcHRpb25zLnNob3VsZFJlc2V0IHx8IHRoaXMub3B0aW9ucy5zaG91bGRSZXNldChlKSkgJiYgKHRoaXMudXBkYXRlVmlldyhcInJlc2V0XCIsIHRoaXMuaGFuZGxlWm9vbVJlc2V0KGUsIHRoaXMuX3N0YXRlLCB0aGlzLm9wdGlvbnMuem9vbSksIFwiem9vbVwiLCBlKSwgXG4gICAgICAgICAgICB0aGlzLl9pc1pvb21TdGFydGVkID0gITEpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJvYW1EcmFnU3RhcnQgPSBlID0+IHtcbiAgICAgICAgICAgICFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRTdGFydCAmJiAhdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0KGUpIHx8ICh0aGlzLl9pbml0ZWQgfHwgdGhpcy5faW5pdEdyYW1tYXJzKCksIFxuICAgICAgICAgICAgdGhpcy5faXNEcmFnU3RhcnRlZCA9ICEwLCB0aGlzLnVwZGF0ZVZpZXcoXCJzdGFydFwiLCB0aGlzLmhhbmRsZURyYWdTdGFydChlLCB0aGlzLl9zdGF0ZSwgdGhpcy5vcHRpb25zLmRyYWcpLCBcImRyYWdcIiwgZSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJvYW1EcmFnVXBkYXRlSW5uZXIgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhZ1N0YXJ0ZWQgJiYgZSAmJiAoIXRoaXMub3B0aW9ucy5zaG91bGRVcGRhdGUgfHwgdGhpcy5vcHRpb25zLnNob3VsZFVwZGF0ZShlKSkgJiYgdGhpcy51cGRhdGVWaWV3KFwidXBkYXRlXCIsIHRoaXMuaGFuZGxlRHJhZ1VwZGF0ZShlLCB0aGlzLl9zdGF0ZSwgdGhpcy5vcHRpb25zLmRyYWcpLCBcImRyYWdcIiwgZSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUm9hbURyYWdFbmQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhZ1N0YXJ0ZWQgJiYgZSAmJiAoIXRoaXMub3B0aW9ucy5zaG91bGRFbmQgfHwgdGhpcy5vcHRpb25zLnNob3VsZEVuZChlKSkgJiYgKHRoaXMudXBkYXRlVmlldyhcImVuZFwiLCB0aGlzLmhhbmRsZURyYWdFbmQoZSwgdGhpcy5fc3RhdGUsIHRoaXMub3B0aW9ucy5kcmFnKSwgXCJkcmFnXCIsIGUpLCBcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhZ1N0YXJ0ZWQgPSAhMSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUm9hbVNjcm9sbFN0YXJ0SW5uZXIgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0U2Nyb2xsRXZlbnQoZSksICFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRTdGFydCAmJiAhdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0KGUpIHx8ICh0aGlzLl9pbml0ZWQgfHwgdGhpcy5faW5pdEdyYW1tYXJzKCksIFxuICAgICAgICAgICAgdGhpcy5faXNTY3JvbGxTdGFydGVkID0gITAsIHRoaXMudXBkYXRlVmlldyhcInN0YXJ0XCIsIHRoaXMuaGFuZGxlU2Nyb2xsU3RhcnQoZSwgdGhpcy5fc3RhdGUsIHRoaXMub3B0aW9ucy5zY3JvbGwpLCBcInNjcm9sbFwiLCBlKSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUm9hbVNjcm9sbEVuZCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5faXNTY3JvbGxTdGFydGVkICYmICh0aGlzLmZvcm1hdFNjcm9sbEV2ZW50KGUpLCAhZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkRW5kICYmICF0aGlzLm9wdGlvbnMuc2hvdWxkRW5kKGUpIHx8ICh0aGlzLnVwZGF0ZVZpZXcoXCJlbmRcIiwgdGhpcy5oYW5kbGVTY3JvbGxFbmQoZSwgdGhpcy5fc3RhdGUsIHRoaXMub3B0aW9ucy5zY3JvbGwpLCBcInNjcm9sbFwiLCBlKSwgXG4gICAgICAgICAgICB0aGlzLl9pc1Njcm9sbFN0YXJ0ZWQgPSAhMCkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJvYW1ab29tU3RhcnQgPSB0aHJvdHRsZSh0aGlzLmhhbmRsZVJvYW1ab29tU3RhcnRJbm5lciwgdGhpcy5vcHRpb25zLnRocm90dGxlKSwgXG4gICAgICAgIHRoaXMuaGFuZGxlUm9hbURyYWdVcGRhdGUgPSB0aHJvdHRsZSh0aGlzLmhhbmRsZVJvYW1EcmFnVXBkYXRlSW5uZXIsIHRoaXMub3B0aW9ucy50aHJvdHRsZSksIFxuICAgICAgICB0aGlzLmhhbmRsZVJvYW1TY3JvbGxTdGFydCA9IHRocm90dGxlKHRoaXMuaGFuZGxlUm9hbVNjcm9sbFN0YXJ0SW5uZXIsIHRoaXMub3B0aW9ucy50aHJvdHRsZSk7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IFtdO1xuICAgICAgICByZXR1cm4gKG51bGwgPT09IChfYSA9IHRoaXMub3B0aW9ucy56b29tKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZW5hYmxlKSAmJiAodGhpcy5vcHRpb25zLnpvb20udHJpZ2dlciAmJiBldmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuem9vbS50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSb2FtWm9vbVN0YXJ0XG4gICAgICAgIH0pLCB0aGlzLm9wdGlvbnMuem9vbS5lbmRUcmlnZ2VyICYmIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy56b29tLmVuZFRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJvYW1ab29tRW5kXG4gICAgICAgIH0pLCB0aGlzLm9wdGlvbnMuem9vbS50cmlnZ2VyT2ZmICYmIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy56b29tLnRyaWdnZXJPZmYsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJvYW1ab29tUmVzZXRcbiAgICAgICAgfSkpLCAobnVsbCA9PT0gKF9iID0gdGhpcy5vcHRpb25zLnNjcm9sbCkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmVuYWJsZSkgJiYgKHRoaXMub3B0aW9ucy5zY3JvbGwudHJpZ2dlciAmJiBldmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuc2Nyb2xsLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJvYW1TY3JvbGxTdGFydFxuICAgICAgICB9KSwgdGhpcy5vcHRpb25zLnNjcm9sbC50cmlnZ2VyICYmIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zY3JvbGwuZW5kVHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUm9hbVNjcm9sbEVuZFxuICAgICAgICB9KSksIChudWxsID09PSAoX2MgPSB0aGlzLm9wdGlvbnMuZHJhZykgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmVuYWJsZSkgJiYgKHRoaXMub3B0aW9ucy5kcmFnLnRyaWdnZXIgJiYgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLmRyYWcudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUm9hbURyYWdTdGFydFxuICAgICAgICB9KSwgdGhpcy5vcHRpb25zLmRyYWcudXBkYXRlVHJpZ2dlciAmJiBldmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuZHJhZy51cGRhdGVUcmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSb2FtRHJhZ1VwZGF0ZVxuICAgICAgICB9KSwgdGhpcy5vcHRpb25zLmRyYWcuZW5kVHJpZ2dlciAmJiBldmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuZHJhZy5lbmRUcmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSb2FtRHJhZ0VuZFxuICAgICAgICB9KSksIGV2ZW50cztcbiAgICB9XG59XG5cblZpZXdSb2FtLnR5cGUgPSBcInZpZXctcm9hbVwiLCBWaWV3Um9hbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICB6b29tOiB7XG4gICAgICAgIHJlYWx0aW1lOiAhMCxcbiAgICAgICAgZW5hYmxlOiAhMCxcbiAgICAgICAgZm9jdXM6ICEwLFxuICAgICAgICB0cmlnZ2VyOiBcIndoZWVsXCIsXG4gICAgICAgIGVuZFRyaWdnZXI6IFwicG9pbnRlcnVwXCIsXG4gICAgICAgIHRyaWdnZXJPZmY6IFwiZGJsY2xpY2tcIixcbiAgICAgICAgcmF0ZTogMVxuICAgIH0sXG4gICAgc2Nyb2xsOiB7XG4gICAgICAgIHJlYWx0aW1lOiAhMCxcbiAgICAgICAgZW5hYmxlOiAhMSxcbiAgICAgICAgcmV2ZXJzZWQ6ICExLFxuICAgICAgICB0cmlnZ2VyOiBcIndoZWVsXCIsXG4gICAgICAgIGVuZFRyaWdnZXI6IFwicG9pbnRlcnVwXCJcbiAgICB9LFxuICAgIGRyYWc6IHtcbiAgICAgICAgcmVhbHRpbWU6ICEwLFxuICAgICAgICBlbmFibGU6ICEwLFxuICAgICAgICByZXZlcnNlZDogITEsXG4gICAgICAgIHRyaWdnZXI6IFwicG9pbnRlcmRvd25cIixcbiAgICAgICAgdXBkYXRlVHJpZ2dlcjogXCJwb2ludGVybW92ZVwiLFxuICAgICAgICBlbmRUcmlnZ2VyOiBcInBvaW50ZXJ1cFwiXG4gICAgfSxcbiAgICB0aHJvdHRsZTogMTAwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy1yb2FtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-roam.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll-mixin.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll-mixin.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewScrollMixin: () => (/* binding */ ViewScrollMixin)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _view_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view-utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js\");\n\n\n\n\nclass ViewScrollMixin {\n    formatPanScroll(e) {\n        return e;\n    }\n    formatWheelScroll(e) {\n        return e.ctrlKey || 0 === e.deltaY && 0 === e.deltaX || (e.scrollX = e.deltaX, e.scrollY = e.deltaY), \n        e;\n    }\n    formatScrollEvent(e) {\n        return e ? \"pan\" === e.type ? this.formatPanScroll(e) : \"wheel\" === e.type ? this.formatWheelScroll(e) : e : e;\n    }\n    handleScrollStart(e, navState, scrollOptions) {\n        if (e.stopPropagation(), e.preventDefault(), !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.scrollX) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.scrollY)) {\n            if (scrollOptions && scrollOptions.realtime) return (0,_view_utils__WEBPACK_IMPORTED_MODULE_1__.handleScrolling)({\n                x: e.scrollX,\n                y: e.scrollY\n            }, navState, scrollOptions);\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.scrollX) || (this._scrollX = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._scrollX) ? e.scrollX : this._scrollX + e.scrollX), \n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.scrollY) || (this._scrollY = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._scrollY) ? e.scrollY : this._scrollY + e.scrollY);\n        }\n    }\n    handleScrollEnd(e, navState, scrollOptions) {\n        if (!1 === (null == scrollOptions ? void 0 : scrollOptions.realtime) && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._scrollX) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._scrollY))) {\n            const res = (0,_view_utils__WEBPACK_IMPORTED_MODULE_1__.handleScrolling)({\n                x: this._scrollX,\n                y: this._scrollY\n            }, navState, scrollOptions);\n            return this._scrollX = null, this._scrollY = null, res;\n        }\n        return null;\n    }\n}\n//# sourceMappingURL=view-scroll-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctc2Nyb2xsLW1peGluLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5Qzs7QUFFTTs7QUFFeEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDREQUFLLGdCQUFnQiw0REFBSztBQUNoRixnRUFBZ0UsNERBQWU7QUFDL0U7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDREQUFLLGdDQUFnQyw0REFBSztBQUN0RCxZQUFZLDREQUFLLGdDQUFnQyw0REFBSztBQUN0RDtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsNERBQUssbUJBQW1CLDREQUFLO0FBQzlHLHdCQUF3Qiw0REFBZTtBQUN2QztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvdmlldy1zY3JvbGwtbWl4aW4uanM/YTkxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGhhbmRsZVNjcm9sbGluZyB9IGZyb20gXCIuL3ZpZXctdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIFZpZXdTY3JvbGxNaXhpbiB7XG4gICAgZm9ybWF0UGFuU2Nyb2xsKGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIGZvcm1hdFdoZWVsU2Nyb2xsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuY3RybEtleSB8fCAwID09PSBlLmRlbHRhWSAmJiAwID09PSBlLmRlbHRhWCB8fCAoZS5zY3JvbGxYID0gZS5kZWx0YVgsIGUuc2Nyb2xsWSA9IGUuZGVsdGFZKSwgXG4gICAgICAgIGU7XG4gICAgfVxuICAgIGZvcm1hdFNjcm9sbEV2ZW50KGUpIHtcbiAgICAgICAgcmV0dXJuIGUgPyBcInBhblwiID09PSBlLnR5cGUgPyB0aGlzLmZvcm1hdFBhblNjcm9sbChlKSA6IFwid2hlZWxcIiA9PT0gZS50eXBlID8gdGhpcy5mb3JtYXRXaGVlbFNjcm9sbChlKSA6IGUgOiBlO1xuICAgIH1cbiAgICBoYW5kbGVTY3JvbGxTdGFydChlLCBuYXZTdGF0ZSwgc2Nyb2xsT3B0aW9ucykge1xuICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCAhaXNOaWwoZS5zY3JvbGxYKSB8fCAhaXNOaWwoZS5zY3JvbGxZKSkge1xuICAgICAgICAgICAgaWYgKHNjcm9sbE9wdGlvbnMgJiYgc2Nyb2xsT3B0aW9ucy5yZWFsdGltZSkgcmV0dXJuIGhhbmRsZVNjcm9sbGluZyh7XG4gICAgICAgICAgICAgICAgeDogZS5zY3JvbGxYLFxuICAgICAgICAgICAgICAgIHk6IGUuc2Nyb2xsWVxuICAgICAgICAgICAgfSwgbmF2U3RhdGUsIHNjcm9sbE9wdGlvbnMpO1xuICAgICAgICAgICAgaXNOaWwoZS5zY3JvbGxYKSB8fCAodGhpcy5fc2Nyb2xsWCA9IGlzTmlsKHRoaXMuX3Njcm9sbFgpID8gZS5zY3JvbGxYIDogdGhpcy5fc2Nyb2xsWCArIGUuc2Nyb2xsWCksIFxuICAgICAgICAgICAgaXNOaWwoZS5zY3JvbGxZKSB8fCAodGhpcy5fc2Nyb2xsWSA9IGlzTmlsKHRoaXMuX3Njcm9sbFkpID8gZS5zY3JvbGxZIDogdGhpcy5fc2Nyb2xsWSArIGUuc2Nyb2xsWSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlU2Nyb2xsRW5kKGUsIG5hdlN0YXRlLCBzY3JvbGxPcHRpb25zKSB7XG4gICAgICAgIGlmICghMSA9PT0gKG51bGwgPT0gc2Nyb2xsT3B0aW9ucyA/IHZvaWQgMCA6IHNjcm9sbE9wdGlvbnMucmVhbHRpbWUpICYmIChpc05pbCh0aGlzLl9zY3JvbGxYKSB8fCBpc05pbCh0aGlzLl9zY3JvbGxZKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGhhbmRsZVNjcm9sbGluZyh7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5fc2Nyb2xsWCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLl9zY3JvbGxZXG4gICAgICAgICAgICB9LCBuYXZTdGF0ZSwgc2Nyb2xsT3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsWCA9IG51bGwsIHRoaXMuX3Njcm9sbFkgPSBudWxsLCByZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy1zY3JvbGwtbWl4aW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewScroll: () => (/* binding */ ViewScroll)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\nclass ViewScroll extends _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__.ViewNavigationBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, ViewScroll.defaultOptions, option)), this.type = ViewScroll.type, \n        this.handleStartInner = e => {\n            this.formatScrollEvent(e), !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._isStarted = !0, \n            this._inited || this._initGrammars(), this.updateView(\"start\", this.handleScrollStart(e, this._state, this.options), \"scroll\", e));\n        }, this.handleEnd = e => {\n            this._isStarted && (this.formatScrollEvent(e), !e || this.options.shouldEnd && !this.options.shouldEnd(e) || (this.updateView(\"end\", this.handleScrollEnd(e, this._state, this.options), \"scroll\", e), \n            this._isStarted = !1));\n        }, this.handleStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.handleStartInner, this.options.throttle);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.endTrigger,\n            handler: this.handleEnd\n        } ];\n    }\n}\n\nViewScroll.type = \"view-scroll\", ViewScroll.defaultOptions = {\n    realtime: !0,\n    reversed: !1,\n    trigger: \"wheel\",\n    endTrigger: \"pointerup\",\n    throttle: 100\n};\n//# sourceMappingURL=view-scroll.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctc2Nyb2xsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qzs7QUFFZ0I7O0FBRXJELHlCQUF5QixxRUFBa0I7QUFDbEQ7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTLHFCQUFxQiw0REFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy92aWV3LXNjcm9sbC5qcz82MGFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRocm90dGxlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgVmlld05hdmlnYXRpb25CYXNlIH0gZnJvbSBcIi4vdmlldy1uYXZpZ2F0aW9uLWJhc2VcIjtcblxuZXhwb3J0IGNsYXNzIFZpZXdTY3JvbGwgZXh0ZW5kcyBWaWV3TmF2aWdhdGlvbkJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbikge1xuICAgICAgICBzdXBlcih2aWV3LCBPYmplY3QuYXNzaWduKHt9LCBWaWV3U2Nyb2xsLmRlZmF1bHRPcHRpb25zLCBvcHRpb24pKSwgdGhpcy50eXBlID0gVmlld1Njcm9sbC50eXBlLCBcbiAgICAgICAgdGhpcy5oYW5kbGVTdGFydElubmVyID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdFNjcm9sbEV2ZW50KGUpLCAhZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRTdGFydChlKSB8fCAodGhpcy5faXNTdGFydGVkID0gITAsIFxuICAgICAgICAgICAgdGhpcy5faW5pdGVkIHx8IHRoaXMuX2luaXRHcmFtbWFycygpLCB0aGlzLnVwZGF0ZVZpZXcoXCJzdGFydFwiLCB0aGlzLmhhbmRsZVNjcm9sbFN0YXJ0KGUsIHRoaXMuX3N0YXRlLCB0aGlzLm9wdGlvbnMpLCBcInNjcm9sbFwiLCBlKSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlRW5kID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc1N0YXJ0ZWQgJiYgKHRoaXMuZm9ybWF0U2Nyb2xsRXZlbnQoZSksICFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRFbmQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRFbmQoZSkgfHwgKHRoaXMudXBkYXRlVmlldyhcImVuZFwiLCB0aGlzLmhhbmRsZVNjcm9sbEVuZChlLCB0aGlzLl9zdGF0ZSwgdGhpcy5vcHRpb25zKSwgXCJzY3JvbGxcIiwgZSksIFxuICAgICAgICAgICAgdGhpcy5faXNTdGFydGVkID0gITEpKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVTdGFydCA9IHRocm90dGxlKHRoaXMuaGFuZGxlU3RhcnRJbm5lciwgdGhpcy5vcHRpb25zLnRocm90dGxlKTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlU3RhcnRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLmVuZFRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZUVuZFxuICAgICAgICB9IF07XG4gICAgfVxufVxuXG5WaWV3U2Nyb2xsLnR5cGUgPSBcInZpZXctc2Nyb2xsXCIsIFZpZXdTY3JvbGwuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcmVhbHRpbWU6ICEwLFxuICAgIHJldmVyc2VkOiAhMSxcbiAgICB0cmlnZ2VyOiBcIndoZWVsXCIsXG4gICAgZW5kVHJpZ2dlcjogXCJwb2ludGVydXBcIixcbiAgICB0aHJvdHRsZTogMTAwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy1zY3JvbGwuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBoundsRangeOfLinkedComponent: () => (/* binding */ getBoundsRangeOfLinkedComponent),\n/* harmony export */   getFilteredValuesFromScale: () => (/* binding */ getFilteredValuesFromScale),\n/* harmony export */   getRangeOfLinkedComponent: () => (/* binding */ getRangeOfLinkedComponent),\n/* harmony export */   handleScrolling: () => (/* binding */ handleScrolling),\n/* harmony export */   updateScrollRange: () => (/* binding */ updateScrollRange)\n/* harmony export */ });\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\nconst getRangeOfLinkedComponent = comp => {\n    if (comp.componentType === _graph_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.datazoom) {\n        const res = comp.getStartEndValue();\n        return res ? [ res.start, res.end ] : null;\n    }\n    return comp.getScrollRange();\n};\n\nconst getBoundsRangeOfLinkedComponent = (comp, dim) => {\n    const bounds = comp.getBounds();\n    if (bounds && !bounds.empty()) return \"y\" === dim ? [ bounds.y1, bounds.y2 ] : [ bounds.x1, bounds.x2 ];\n};\n\nconst getFilteredValuesFromScale = (scale, range) => {\n    const scaleRange = scale.range(), startPos = scaleRange[0] + (scaleRange[1] - scaleRange[0]) * range[0], endPos = scaleRange[0] + (scaleRange[1] - scaleRange[0]) * range[1];\n    if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_1__.isContinuous)(scale.type)) {\n        const startValue = scale.invert(startPos), endValue = scale.invert(endPos);\n        return [ Math.min(startValue, endValue), Math.max(startValue, endValue) ];\n    }\n    return scale.domain().filter((entry => {\n        const val = scale.scale(entry);\n        return val >= startPos && val <= endPos;\n    }));\n};\n\nconst updateScrollRange = (rangeFactor = [ 0, 1 ], range, scrollValue = 0, scrollOptions) => {\n    if (Math.abs(scrollValue) < .001) return;\n    if (Math.abs(rangeFactor[1] - rangeFactor[0]) >= 1) return;\n    const size = Math.abs(range[range.length - 1] - range[0]);\n    if (size <= 0 || Number.isNaN(size)) return;\n    const value = (scrollOptions.reversed ? -1 : 1) * scrollValue;\n    if (value > 0 && rangeFactor[1] < 1) {\n        const delta = Math.min(1 - rangeFactor[1], value / size);\n        return [ rangeFactor[0] + delta, rangeFactor[1] + delta ];\n    }\n    if (value < 0 && rangeFactor[0] > 0) {\n        const delta = Math.max(-rangeFactor[0], value / size);\n        return [ rangeFactor[0] + delta, rangeFactor[1] + delta ];\n    }\n};\n\nconst handleScrolling = (scrollPos, navState, scrollOptions) => {\n    const res = {\n        needUpdate: !1\n    };\n    return navState ? (Object.keys(navState).forEach((dim => {\n        const {scale: scale, data: data, linkedComponent: linkedComponent, rangeFactor: rangeFactor, getCurrentRange: getCurrentRange} = navState[dim];\n        if (linkedComponent) res[dim] = updateScrollRange(getRangeOfLinkedComponent(linkedComponent), getBoundsRangeOfLinkedComponent(linkedComponent, dim), scrollPos[dim], scrollOptions); else if (scale) {\n            const innerScale = scale.getScale(), oldRange = scale.getRangeFactor() || rangeFactor, newRange = updateScrollRange(oldRange, innerScale.range(), scrollPos[dim], scrollOptions);\n            newRange && (navState[dim].rangeFactor = newRange, data ? (navState[dim].filterValue = newRange, \n            data.commit()) : (scale.setRangeFactor(newRange), scale.commit()), res.needUpdate = !0, \n            res[dim] = newRange);\n        } else {\n            const oldRange = (getCurrentRange ? getCurrentRange() : rangeFactor) || [ 0, 1 ], newRange = updateScrollRange(oldRange, [ 0, 1 ], scrollPos[dim], scrollOptions);\n            res[dim] = newRange || oldRange;\n        }\n    })), res) : res;\n};\n//# sourceMappingURL=view-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFnRDs7QUFFRDs7QUFFeEM7QUFDUCwrQkFBK0IsdURBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0EsUUFBUSw4REFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdIQUF3SDtBQUN2SSw2TEFBNkw7QUFDN0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctdXRpbHMuanM/NjI0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0NvbnRpbnVvdXMgfSBmcm9tIFwiQHZpc2FjdG9yL3ZzY2FsZVwiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRSYW5nZU9mTGlua2VkQ29tcG9uZW50ID0gY29tcCA9PiB7XG4gICAgaWYgKGNvbXAuY29tcG9uZW50VHlwZSA9PT0gQ29tcG9uZW50RW51bS5kYXRhem9vbSkge1xuICAgICAgICBjb25zdCByZXMgPSBjb21wLmdldFN0YXJ0RW5kVmFsdWUoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IFsgcmVzLnN0YXJ0LCByZXMuZW5kIF0gOiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY29tcC5nZXRTY3JvbGxSYW5nZSgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEJvdW5kc1JhbmdlT2ZMaW5rZWRDb21wb25lbnQgPSAoY29tcCwgZGltKSA9PiB7XG4gICAgY29uc3QgYm91bmRzID0gY29tcC5nZXRCb3VuZHMoKTtcbiAgICBpZiAoYm91bmRzICYmICFib3VuZHMuZW1wdHkoKSkgcmV0dXJuIFwieVwiID09PSBkaW0gPyBbIGJvdW5kcy55MSwgYm91bmRzLnkyIF0gOiBbIGJvdW5kcy54MSwgYm91bmRzLngyIF07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RmlsdGVyZWRWYWx1ZXNGcm9tU2NhbGUgPSAoc2NhbGUsIHJhbmdlKSA9PiB7XG4gICAgY29uc3Qgc2NhbGVSYW5nZSA9IHNjYWxlLnJhbmdlKCksIHN0YXJ0UG9zID0gc2NhbGVSYW5nZVswXSArIChzY2FsZVJhbmdlWzFdIC0gc2NhbGVSYW5nZVswXSkgKiByYW5nZVswXSwgZW5kUG9zID0gc2NhbGVSYW5nZVswXSArIChzY2FsZVJhbmdlWzFdIC0gc2NhbGVSYW5nZVswXSkgKiByYW5nZVsxXTtcbiAgICBpZiAoaXNDb250aW51b3VzKHNjYWxlLnR5cGUpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VmFsdWUgPSBzY2FsZS5pbnZlcnQoc3RhcnRQb3MpLCBlbmRWYWx1ZSA9IHNjYWxlLmludmVydChlbmRQb3MpO1xuICAgICAgICByZXR1cm4gWyBNYXRoLm1pbihzdGFydFZhbHVlLCBlbmRWYWx1ZSksIE1hdGgubWF4KHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSBdO1xuICAgIH1cbiAgICByZXR1cm4gc2NhbGUuZG9tYWluKCkuZmlsdGVyKChlbnRyeSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHNjYWxlLnNjYWxlKGVudHJ5KTtcbiAgICAgICAgcmV0dXJuIHZhbCA+PSBzdGFydFBvcyAmJiB2YWwgPD0gZW5kUG9zO1xuICAgIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVTY3JvbGxSYW5nZSA9IChyYW5nZUZhY3RvciA9IFsgMCwgMSBdLCByYW5nZSwgc2Nyb2xsVmFsdWUgPSAwLCBzY3JvbGxPcHRpb25zKSA9PiB7XG4gICAgaWYgKE1hdGguYWJzKHNjcm9sbFZhbHVlKSA8IC4wMDEpIHJldHVybjtcbiAgICBpZiAoTWF0aC5hYnMocmFuZ2VGYWN0b3JbMV0gLSByYW5nZUZhY3RvclswXSkgPj0gMSkgcmV0dXJuO1xuICAgIGNvbnN0IHNpemUgPSBNYXRoLmFicyhyYW5nZVtyYW5nZS5sZW5ndGggLSAxXSAtIHJhbmdlWzBdKTtcbiAgICBpZiAoc2l6ZSA8PSAwIHx8IE51bWJlci5pc05hTihzaXplKSkgcmV0dXJuO1xuICAgIGNvbnN0IHZhbHVlID0gKHNjcm9sbE9wdGlvbnMucmV2ZXJzZWQgPyAtMSA6IDEpICogc2Nyb2xsVmFsdWU7XG4gICAgaWYgKHZhbHVlID4gMCAmJiByYW5nZUZhY3RvclsxXSA8IDEpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBNYXRoLm1pbigxIC0gcmFuZ2VGYWN0b3JbMV0sIHZhbHVlIC8gc2l6ZSk7XG4gICAgICAgIHJldHVybiBbIHJhbmdlRmFjdG9yWzBdICsgZGVsdGEsIHJhbmdlRmFjdG9yWzFdICsgZGVsdGEgXTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIDwgMCAmJiByYW5nZUZhY3RvclswXSA+IDApIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBNYXRoLm1heCgtcmFuZ2VGYWN0b3JbMF0sIHZhbHVlIC8gc2l6ZSk7XG4gICAgICAgIHJldHVybiBbIHJhbmdlRmFjdG9yWzBdICsgZGVsdGEsIHJhbmdlRmFjdG9yWzFdICsgZGVsdGEgXTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgaGFuZGxlU2Nyb2xsaW5nID0gKHNjcm9sbFBvcywgbmF2U3RhdGUsIHNjcm9sbE9wdGlvbnMpID0+IHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIG5lZWRVcGRhdGU6ICExXG4gICAgfTtcbiAgICByZXR1cm4gbmF2U3RhdGUgPyAoT2JqZWN0LmtleXMobmF2U3RhdGUpLmZvckVhY2goKGRpbSA9PiB7XG4gICAgICAgIGNvbnN0IHtzY2FsZTogc2NhbGUsIGRhdGE6IGRhdGEsIGxpbmtlZENvbXBvbmVudDogbGlua2VkQ29tcG9uZW50LCByYW5nZUZhY3RvcjogcmFuZ2VGYWN0b3IsIGdldEN1cnJlbnRSYW5nZTogZ2V0Q3VycmVudFJhbmdlfSA9IG5hdlN0YXRlW2RpbV07XG4gICAgICAgIGlmIChsaW5rZWRDb21wb25lbnQpIHJlc1tkaW1dID0gdXBkYXRlU2Nyb2xsUmFuZ2UoZ2V0UmFuZ2VPZkxpbmtlZENvbXBvbmVudChsaW5rZWRDb21wb25lbnQpLCBnZXRCb3VuZHNSYW5nZU9mTGlua2VkQ29tcG9uZW50KGxpbmtlZENvbXBvbmVudCwgZGltKSwgc2Nyb2xsUG9zW2RpbV0sIHNjcm9sbE9wdGlvbnMpOyBlbHNlIGlmIChzY2FsZSkge1xuICAgICAgICAgICAgY29uc3QgaW5uZXJTY2FsZSA9IHNjYWxlLmdldFNjYWxlKCksIG9sZFJhbmdlID0gc2NhbGUuZ2V0UmFuZ2VGYWN0b3IoKSB8fCByYW5nZUZhY3RvciwgbmV3UmFuZ2UgPSB1cGRhdGVTY3JvbGxSYW5nZShvbGRSYW5nZSwgaW5uZXJTY2FsZS5yYW5nZSgpLCBzY3JvbGxQb3NbZGltXSwgc2Nyb2xsT3B0aW9ucyk7XG4gICAgICAgICAgICBuZXdSYW5nZSAmJiAobmF2U3RhdGVbZGltXS5yYW5nZUZhY3RvciA9IG5ld1JhbmdlLCBkYXRhID8gKG5hdlN0YXRlW2RpbV0uZmlsdGVyVmFsdWUgPSBuZXdSYW5nZSwgXG4gICAgICAgICAgICBkYXRhLmNvbW1pdCgpKSA6IChzY2FsZS5zZXRSYW5nZUZhY3RvcihuZXdSYW5nZSksIHNjYWxlLmNvbW1pdCgpKSwgcmVzLm5lZWRVcGRhdGUgPSAhMCwgXG4gICAgICAgICAgICByZXNbZGltXSA9IG5ld1JhbmdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFJhbmdlID0gKGdldEN1cnJlbnRSYW5nZSA/IGdldEN1cnJlbnRSYW5nZSgpIDogcmFuZ2VGYWN0b3IpIHx8IFsgMCwgMSBdLCBuZXdSYW5nZSA9IHVwZGF0ZVNjcm9sbFJhbmdlKG9sZFJhbmdlLCBbIDAsIDEgXSwgc2Nyb2xsUG9zW2RpbV0sIHNjcm9sbE9wdGlvbnMpO1xuICAgICAgICAgICAgcmVzW2RpbV0gPSBuZXdSYW5nZSB8fCBvbGRSYW5nZTtcbiAgICAgICAgfVxuICAgIH0pKSwgcmVzKSA6IHJlcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LXV0aWxzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom-mixin.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom-mixin.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewZoomMixin: () => (/* binding */ ViewZoomMixin)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/clamp.js\");\n/* harmony import */ var _view_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view-utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js\");\n\n\n\n\nclass ViewZoomMixin {\n    _formatPinchZoom(e) {\n        const scale = e.scale;\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._lastScale)) return this._lastScale = scale, e;\n        const zoomDelta = scale / this._lastScale;\n        this._lastScale = scale;\n        const center = e.center;\n        return e.zoomDelta = zoomDelta, e.zoomX = center.x, e.zoomY = center.y, e;\n    }\n    _formatWheelZoom(e) {\n        if (!e.ctrlKey) return e.zoomDelta = null, e.zoomX = null, e.zoomY = null, e;\n        const zoomDelta = Math.pow(1.0005, -e.deltaY * Math.pow(16, e.deltaMode));\n        return e.zoomDelta = zoomDelta, e.zoomX = e.canvasX, e.zoomY = e.canvasY, e;\n    }\n    formatZoomEvent(e) {\n        return e ? \"pinch\" === e.type ? this._formatPinchZoom(e) : this._formatWheelZoom(e) : e;\n    }\n    updateZoomRange(rangeFactor = [ 0, 1 ], range, zoomEvent, zoomOptions) {\n        var _a;\n        const {zoomDelta: zoomDelta} = zoomEvent, rangeDelta = Math.abs(rangeFactor[1] - rangeFactor[0]);\n        if (rangeDelta >= 1 && zoomDelta >= 1) return;\n        if (rangeDelta <= .001 && zoomDelta <= 1) return;\n        const value = rangeDelta * (zoomDelta - 1) * (null !== (_a = zoomOptions.rate) && void 0 !== _a ? _a : 1) / 2, start = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rangeFactor[0] - value, 0, 1), end = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rangeFactor[1] + value, 0, 1);\n        return [ Math.min(start, end), Math.max(start, end) ];\n    }\n    _handleZooming(zoomPos, navState, zoomOptions) {\n        const res = {\n            needUpdate: !1\n        };\n        return navState ? (Object.keys(navState).forEach((dim => {\n            const {scale: scale, data: data, linkedComponent: linkedComponent, rangeFactor: rangeFactor, getCurrentRange: getCurrentRange} = navState[dim];\n            if (linkedComponent) res[dim] = this.updateZoomRange((0,_view_utils__WEBPACK_IMPORTED_MODULE_2__.getRangeOfLinkedComponent)(linkedComponent), null, zoomPos, zoomOptions); else if (scale) {\n                const innerScale = scale.getScale(), newRange = this.updateZoomRange(rangeFactor, innerScale, zoomPos, zoomOptions);\n                newRange && (navState[dim].rangeFactor = newRange, data ? (navState[dim].filterValue = newRange, \n                data.commit()) : (scale.setRangeFactor(newRange), scale.commit()), res.needUpdate = !0, \n                res[dim] = newRange);\n            } else {\n                const oldRange = (getCurrentRange ? getCurrentRange() : rangeFactor) || [ 0, 1 ], newRange = this.updateZoomRange(oldRange, null, zoomPos, zoomOptions);\n                res[dim] = newRange || oldRange;\n            }\n        })), res) : res;\n    }\n    handleZoomStart(e, navState, zoomOptions) {\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.zoomDelta)) return e.stopPropagation(), e.preventDefault(), zoomOptions && zoomOptions.realtime ? this._handleZooming(e, navState, zoomOptions) : ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._zoomPos) ? this._zoomPos = {\n            zoomDelta: e.zoomDelta,\n            zoomX: e.zoomX,\n            zoomY: e.zoomY\n        } : this._zoomPos.zoomDelta *= e.zoomDelta, null);\n    }\n    handleZoomEnd(e, navState, zoomOptions) {\n        this._lastScale = null;\n        const res = zoomOptions && !1 === zoomOptions.realtime && this._zoomPos ? this._handleZooming(this._zoomPos, navState, zoomOptions) : null;\n        return this._zoomPos = null, res;\n    }\n    handleZoomReset(e, navState, zoomOptions) {\n        const res = {\n            needUpdate: !1\n        };\n        return navState ? (Object.keys(navState).forEach((dim => {\n            const {scale: scale, data: data, linkedComponent: linkedComponent} = navState[dim], newRange = [ 0, 1 ];\n            linkedComponent ? res[dim] = newRange : scale ? (navState[dim].rangeFactor = null, \n            data ? (navState[dim].filterValue = null, data.commit()) : (scale.setRangeFactor(newRange), \n            scale.commit()), res.needUpdate = !0, res[dim] = newRange) : (navState[dim].rangeFactor = navState[dim].initRangeFactor, \n            res[dim] = navState[dim].initRangeFactor);\n        })), res) : res;\n    }\n}\n//# sourceMappingURL=view-zoom-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctem9vbS1taXhpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEOztBQUVTOztBQUVsRDtBQUNQO0FBQ0E7QUFDQSxZQUFZLDREQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0JBQXNCO0FBQ3JDO0FBQ0E7QUFDQSwrSEFBK0gsNERBQUssc0NBQXNDLDREQUFLO0FBQy9LO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHdIQUF3SDtBQUMzSSxpRUFBaUUsc0VBQXlCLGdEQUFnRDtBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWEsNERBQUssc0pBQXNKLDREQUFLO0FBQzdLO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDREQUE0RDtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctem9vbS1taXhpbi5qcz8yZGFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsYW1wLCBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGdldFJhbmdlT2ZMaW5rZWRDb21wb25lbnQgfSBmcm9tIFwiLi92aWV3LXV0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3Wm9vbU1peGluIHtcbiAgICBfZm9ybWF0UGluY2hab29tKGUpIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBlLnNjYWxlO1xuICAgICAgICBpZiAoaXNOaWwodGhpcy5fbGFzdFNjYWxlKSkgcmV0dXJuIHRoaXMuX2xhc3RTY2FsZSA9IHNjYWxlLCBlO1xuICAgICAgICBjb25zdCB6b29tRGVsdGEgPSBzY2FsZSAvIHRoaXMuX2xhc3RTY2FsZTtcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlID0gc2NhbGU7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGUuY2VudGVyO1xuICAgICAgICByZXR1cm4gZS56b29tRGVsdGEgPSB6b29tRGVsdGEsIGUuem9vbVggPSBjZW50ZXIueCwgZS56b29tWSA9IGNlbnRlci55LCBlO1xuICAgIH1cbiAgICBfZm9ybWF0V2hlZWxab29tKGUpIHtcbiAgICAgICAgaWYgKCFlLmN0cmxLZXkpIHJldHVybiBlLnpvb21EZWx0YSA9IG51bGwsIGUuem9vbVggPSBudWxsLCBlLnpvb21ZID0gbnVsbCwgZTtcbiAgICAgICAgY29uc3Qgem9vbURlbHRhID0gTWF0aC5wb3coMS4wMDA1LCAtZS5kZWx0YVkgKiBNYXRoLnBvdygxNiwgZS5kZWx0YU1vZGUpKTtcbiAgICAgICAgcmV0dXJuIGUuem9vbURlbHRhID0gem9vbURlbHRhLCBlLnpvb21YID0gZS5jYW52YXNYLCBlLnpvb21ZID0gZS5jYW52YXNZLCBlO1xuICAgIH1cbiAgICBmb3JtYXRab29tRXZlbnQoZSkge1xuICAgICAgICByZXR1cm4gZSA/IFwicGluY2hcIiA9PT0gZS50eXBlID8gdGhpcy5fZm9ybWF0UGluY2hab29tKGUpIDogdGhpcy5fZm9ybWF0V2hlZWxab29tKGUpIDogZTtcbiAgICB9XG4gICAgdXBkYXRlWm9vbVJhbmdlKHJhbmdlRmFjdG9yID0gWyAwLCAxIF0sIHJhbmdlLCB6b29tRXZlbnQsIHpvb21PcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qge3pvb21EZWx0YTogem9vbURlbHRhfSA9IHpvb21FdmVudCwgcmFuZ2VEZWx0YSA9IE1hdGguYWJzKHJhbmdlRmFjdG9yWzFdIC0gcmFuZ2VGYWN0b3JbMF0pO1xuICAgICAgICBpZiAocmFuZ2VEZWx0YSA+PSAxICYmIHpvb21EZWx0YSA+PSAxKSByZXR1cm47XG4gICAgICAgIGlmIChyYW5nZURlbHRhIDw9IC4wMDEgJiYgem9vbURlbHRhIDw9IDEpIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSByYW5nZURlbHRhICogKHpvb21EZWx0YSAtIDEpICogKG51bGwgIT09IChfYSA9IHpvb21PcHRpb25zLnJhdGUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDEpIC8gMiwgc3RhcnQgPSBjbGFtcChyYW5nZUZhY3RvclswXSAtIHZhbHVlLCAwLCAxKSwgZW5kID0gY2xhbXAocmFuZ2VGYWN0b3JbMV0gKyB2YWx1ZSwgMCwgMSk7XG4gICAgICAgIHJldHVybiBbIE1hdGgubWluKHN0YXJ0LCBlbmQpLCBNYXRoLm1heChzdGFydCwgZW5kKSBdO1xuICAgIH1cbiAgICBfaGFuZGxlWm9vbWluZyh6b29tUG9zLCBuYXZTdGF0ZSwgem9vbU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgbmVlZFVwZGF0ZTogITFcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5hdlN0YXRlID8gKE9iamVjdC5rZXlzKG5hdlN0YXRlKS5mb3JFYWNoKChkaW0gPT4ge1xuICAgICAgICAgICAgY29uc3Qge3NjYWxlOiBzY2FsZSwgZGF0YTogZGF0YSwgbGlua2VkQ29tcG9uZW50OiBsaW5rZWRDb21wb25lbnQsIHJhbmdlRmFjdG9yOiByYW5nZUZhY3RvciwgZ2V0Q3VycmVudFJhbmdlOiBnZXRDdXJyZW50UmFuZ2V9ID0gbmF2U3RhdGVbZGltXTtcbiAgICAgICAgICAgIGlmIChsaW5rZWRDb21wb25lbnQpIHJlc1tkaW1dID0gdGhpcy51cGRhdGVab29tUmFuZ2UoZ2V0UmFuZ2VPZkxpbmtlZENvbXBvbmVudChsaW5rZWRDb21wb25lbnQpLCBudWxsLCB6b29tUG9zLCB6b29tT3B0aW9ucyk7IGVsc2UgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXJTY2FsZSA9IHNjYWxlLmdldFNjYWxlKCksIG5ld1JhbmdlID0gdGhpcy51cGRhdGVab29tUmFuZ2UocmFuZ2VGYWN0b3IsIGlubmVyU2NhbGUsIHpvb21Qb3MsIHpvb21PcHRpb25zKTtcbiAgICAgICAgICAgICAgICBuZXdSYW5nZSAmJiAobmF2U3RhdGVbZGltXS5yYW5nZUZhY3RvciA9IG5ld1JhbmdlLCBkYXRhID8gKG5hdlN0YXRlW2RpbV0uZmlsdGVyVmFsdWUgPSBuZXdSYW5nZSwgXG4gICAgICAgICAgICAgICAgZGF0YS5jb21taXQoKSkgOiAoc2NhbGUuc2V0UmFuZ2VGYWN0b3IobmV3UmFuZ2UpLCBzY2FsZS5jb21taXQoKSksIHJlcy5uZWVkVXBkYXRlID0gITAsIFxuICAgICAgICAgICAgICAgIHJlc1tkaW1dID0gbmV3UmFuZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRSYW5nZSA9IChnZXRDdXJyZW50UmFuZ2UgPyBnZXRDdXJyZW50UmFuZ2UoKSA6IHJhbmdlRmFjdG9yKSB8fCBbIDAsIDEgXSwgbmV3UmFuZ2UgPSB0aGlzLnVwZGF0ZVpvb21SYW5nZShvbGRSYW5nZSwgbnVsbCwgem9vbVBvcywgem9vbU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJlc1tkaW1dID0gbmV3UmFuZ2UgfHwgb2xkUmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSwgcmVzKSA6IHJlcztcbiAgICB9XG4gICAgaGFuZGxlWm9vbVN0YXJ0KGUsIG5hdlN0YXRlLCB6b29tT3B0aW9ucykge1xuICAgICAgICBpZiAoIWlzTmlsKGUuem9vbURlbHRhKSkgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCksIGUucHJldmVudERlZmF1bHQoKSwgem9vbU9wdGlvbnMgJiYgem9vbU9wdGlvbnMucmVhbHRpbWUgPyB0aGlzLl9oYW5kbGVab29taW5nKGUsIG5hdlN0YXRlLCB6b29tT3B0aW9ucykgOiAoaXNOaWwodGhpcy5fem9vbVBvcykgPyB0aGlzLl96b29tUG9zID0ge1xuICAgICAgICAgICAgem9vbURlbHRhOiBlLnpvb21EZWx0YSxcbiAgICAgICAgICAgIHpvb21YOiBlLnpvb21YLFxuICAgICAgICAgICAgem9vbVk6IGUuem9vbVlcbiAgICAgICAgfSA6IHRoaXMuX3pvb21Qb3Muem9vbURlbHRhICo9IGUuem9vbURlbHRhLCBudWxsKTtcbiAgICB9XG4gICAgaGFuZGxlWm9vbUVuZChlLCBuYXZTdGF0ZSwgem9vbU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlID0gbnVsbDtcbiAgICAgICAgY29uc3QgcmVzID0gem9vbU9wdGlvbnMgJiYgITEgPT09IHpvb21PcHRpb25zLnJlYWx0aW1lICYmIHRoaXMuX3pvb21Qb3MgPyB0aGlzLl9oYW5kbGVab29taW5nKHRoaXMuX3pvb21Qb3MsIG5hdlN0YXRlLCB6b29tT3B0aW9ucykgOiBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5fem9vbVBvcyA9IG51bGwsIHJlcztcbiAgICB9XG4gICAgaGFuZGxlWm9vbVJlc2V0KGUsIG5hdlN0YXRlLCB6b29tT3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICBuZWVkVXBkYXRlOiAhMVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmF2U3RhdGUgPyAoT2JqZWN0LmtleXMobmF2U3RhdGUpLmZvckVhY2goKGRpbSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7c2NhbGU6IHNjYWxlLCBkYXRhOiBkYXRhLCBsaW5rZWRDb21wb25lbnQ6IGxpbmtlZENvbXBvbmVudH0gPSBuYXZTdGF0ZVtkaW1dLCBuZXdSYW5nZSA9IFsgMCwgMSBdO1xuICAgICAgICAgICAgbGlua2VkQ29tcG9uZW50ID8gcmVzW2RpbV0gPSBuZXdSYW5nZSA6IHNjYWxlID8gKG5hdlN0YXRlW2RpbV0ucmFuZ2VGYWN0b3IgPSBudWxsLCBcbiAgICAgICAgICAgIGRhdGEgPyAobmF2U3RhdGVbZGltXS5maWx0ZXJWYWx1ZSA9IG51bGwsIGRhdGEuY29tbWl0KCkpIDogKHNjYWxlLnNldFJhbmdlRmFjdG9yKG5ld1JhbmdlKSwgXG4gICAgICAgICAgICBzY2FsZS5jb21taXQoKSksIHJlcy5uZWVkVXBkYXRlID0gITAsIHJlc1tkaW1dID0gbmV3UmFuZ2UpIDogKG5hdlN0YXRlW2RpbV0ucmFuZ2VGYWN0b3IgPSBuYXZTdGF0ZVtkaW1dLmluaXRSYW5nZUZhY3RvciwgXG4gICAgICAgICAgICByZXNbZGltXSA9IG5hdlN0YXRlW2RpbV0uaW5pdFJhbmdlRmFjdG9yKTtcbiAgICAgICAgfSkpLCByZXMpIDogcmVzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctem9vbS1taXhpbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewZoom: () => (/* binding */ ViewZoom)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\nclass ViewZoom extends _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__.ViewNavigationBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, ViewZoom.defaultOptions, option)), this.type = ViewZoom.type, \n        this.handleStartInner = e => {\n            this.formatZoomEvent(e), !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._inited || this._initGrammars(), \n            this._isStarted = !0, this.updateView(\"start\", this.handleZoomStart(e, this._state, {\n                rate: this.options.rate,\n                focus: this.options.focus\n            }), \"zoom\", e));\n        }, this.handleEnd = e => {\n            this._isStarted && (this.formatZoomEvent(e), !e || this.options.shouldEnd && !this.options.shouldEnd(e) || this.updateView(\"end\", this.handleZoomEnd(e, this._state, {\n                rate: this.options.rate,\n                focus: this.options.focus\n            }), \"zoom\", e));\n        }, this.handleReset = e => {\n            this._isStarted && (!e || this.options.shouldReset && !this.options.shouldReset(e) || (this.updateView(\"reset\", this.handleZoomReset(e, this._state, {\n                rate: this.options.rate,\n                focus: this.options.focus\n            }), \"zoom\", e), this._isStarted = !1));\n        }, this.handleStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.handleStartInner, this.options.throttle);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.endTrigger,\n            handler: this.handleEnd\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n}\n\nViewZoom.type = \"view-zoom\", ViewZoom.defaultOptions = {\n    realtime: !0,\n    focus: !0,\n    trigger: \"wheel\",\n    endTrigger: \"pointerup\",\n    triggerOff: \"dblclick\",\n    rate: 1,\n    throttle: 100\n};\n//# sourceMappingURL=view-zoom.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctem9vbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7O0FBRWdCOztBQUVyRCx1QkFBdUIscUVBQWtCO0FBQ2hEO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMscUJBQXFCLDREQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctem9vbS5qcz9kY2Y1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRocm90dGxlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgVmlld05hdmlnYXRpb25CYXNlIH0gZnJvbSBcIi4vdmlldy1uYXZpZ2F0aW9uLWJhc2VcIjtcblxuZXhwb3J0IGNsYXNzIFZpZXdab29tIGV4dGVuZHMgVmlld05hdmlnYXRpb25CYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb24pIHtcbiAgICAgICAgc3VwZXIodmlldywgT2JqZWN0LmFzc2lnbih7fSwgVmlld1pvb20uZGVmYXVsdE9wdGlvbnMsIG9wdGlvbikpLCB0aGlzLnR5cGUgPSBWaWV3Wm9vbS50eXBlLCBcbiAgICAgICAgdGhpcy5oYW5kbGVTdGFydElubmVyID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdFpvb21FdmVudChlKSwgIWUgfHwgdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0ICYmICF0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQoZSkgfHwgKHRoaXMuX2luaXRlZCB8fCB0aGlzLl9pbml0R3JhbW1hcnMoKSwgXG4gICAgICAgICAgICB0aGlzLl9pc1N0YXJ0ZWQgPSAhMCwgdGhpcy51cGRhdGVWaWV3KFwic3RhcnRcIiwgdGhpcy5oYW5kbGVab29tU3RhcnQoZSwgdGhpcy5fc3RhdGUsIHtcbiAgICAgICAgICAgICAgICByYXRlOiB0aGlzLm9wdGlvbnMucmF0ZSxcbiAgICAgICAgICAgICAgICBmb2N1czogdGhpcy5vcHRpb25zLmZvY3VzXG4gICAgICAgICAgICB9KSwgXCJ6b29tXCIsIGUpKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVFbmQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzU3RhcnRlZCAmJiAodGhpcy5mb3JtYXRab29tRXZlbnQoZSksICFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRFbmQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRFbmQoZSkgfHwgdGhpcy51cGRhdGVWaWV3KFwiZW5kXCIsIHRoaXMuaGFuZGxlWm9vbUVuZChlLCB0aGlzLl9zdGF0ZSwge1xuICAgICAgICAgICAgICAgIHJhdGU6IHRoaXMub3B0aW9ucy5yYXRlLFxuICAgICAgICAgICAgICAgIGZvY3VzOiB0aGlzLm9wdGlvbnMuZm9jdXNcbiAgICAgICAgICAgIH0pLCBcInpvb21cIiwgZSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc1N0YXJ0ZWQgJiYgKCFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRSZXNldCAmJiAhdGhpcy5vcHRpb25zLnNob3VsZFJlc2V0KGUpIHx8ICh0aGlzLnVwZGF0ZVZpZXcoXCJyZXNldFwiLCB0aGlzLmhhbmRsZVpvb21SZXNldChlLCB0aGlzLl9zdGF0ZSwge1xuICAgICAgICAgICAgICAgIHJhdGU6IHRoaXMub3B0aW9ucy5yYXRlLFxuICAgICAgICAgICAgICAgIGZvY3VzOiB0aGlzLm9wdGlvbnMuZm9jdXNcbiAgICAgICAgICAgIH0pLCBcInpvb21cIiwgZSksIHRoaXMuX2lzU3RhcnRlZCA9ICExKSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlU3RhcnQgPSB0aHJvdHRsZSh0aGlzLmhhbmRsZVN0YXJ0SW5uZXIsIHRoaXMub3B0aW9ucy50aHJvdHRsZSk7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVN0YXJ0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5lbmRUcmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVFbmRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgIH0gXTtcbiAgICB9XG59XG5cblZpZXdab29tLnR5cGUgPSBcInZpZXctem9vbVwiLCBWaWV3Wm9vbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICByZWFsdGltZTogITAsXG4gICAgZm9jdXM6ICEwLFxuICAgIHRyaWdnZXI6IFwid2hlZWxcIixcbiAgICBlbmRUcmlnZ2VyOiBcInBvaW50ZXJ1cFwiLFxuICAgIHRyaWdnZXJPZmY6IFwiZGJsY2xpY2tcIixcbiAgICByYXRlOiAxLFxuICAgIHRocm90dGxlOiAxMDBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LXpvb20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/coordinate.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/coordinate.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   configureCoordinate: () => (/* binding */ configureCoordinate),\n/* harmony export */   createCoordinate: () => (/* binding */ createCoordinate),\n/* harmony export */   parseCoordinate: () => (/* binding */ parseCoordinate)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_coordinate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-coordinate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-coordinate@0.14.13/node_modules/@visactor/vgrammar-coordinate/es/cartesian.js\");\n/* harmony import */ var _visactor_vgrammar_coordinate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-coordinate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-coordinate@0.14.13/node_modules/@visactor/vgrammar-coordinate/es/polar.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\nfunction createCoordinate(type) {\n    switch (type) {\n      case \"cartesian\":\n      default:\n        return new _visactor_vgrammar_coordinate__WEBPACK_IMPORTED_MODULE_0__.CartesianCoordinate;\n\n      case \"polar\":\n        return new _visactor_vgrammar_coordinate__WEBPACK_IMPORTED_MODULE_1__.PolarCoordinate;\n    }\n}\n\nfunction parseCoordinate(spec, view) {\n    let dependencies = [];\n    return [ \"start\", \"end\", \"origin\", \"translate\", \"rotate\", \"scale\", \"transpose\" ].forEach((key => {\n        dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_2__.parseFunctionType)(spec[key], view));\n    })), dependencies;\n}\n\nfunction configureCoordinate(spec, coordinate, parameters) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.start) && coordinate.start(null !== (_a = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.start, parameters)) && void 0 !== _a ? _a : [ 0, 0 ]), \n    !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.end) && coordinate.end(null !== (_b = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.end, parameters)) && void 0 !== _b ? _b : [ 0, 0 ]), \n    !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.origin) && coordinate.origin(null !== (_c = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.origin, parameters)) && void 0 !== _c ? _c : [ 0, 0 ]);\n    const transforms = [];\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.translate)) {\n        const translate = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.translate, parameters);\n        transforms.push({\n            type: \"translate\",\n            offset: {\n                x: null !== (_d = null == translate ? void 0 : translate[0]) && void 0 !== _d ? _d : 0,\n                y: null !== (_e = null == translate ? void 0 : translate[1]) && void 0 !== _e ? _e : 0\n            }\n        });\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.rotate)) {\n        const rotate = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.rotate, parameters);\n        transforms.push({\n            type: \"rotate\",\n            angle: null != rotate ? rotate : 0\n        });\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.scale)) {\n        const scale = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.scale, parameters);\n        transforms.push({\n            type: \"scale\",\n            scale: {\n                x: null !== (_f = null == scale ? void 0 : scale[0]) && void 0 !== _f ? _f : 1,\n                y: null !== (_g = null == scale ? void 0 : scale[1]) && void 0 !== _g ? _g : 1\n            }\n        });\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.transpose)) {\n        (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.transpose, parameters) && transforms.push({\n            type: \"transpose\"\n        });\n    }\n    coordinate.applyTransforms(transforms);\n}\n//# sourceMappingURL=coordinate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvY29vcmRpbmF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXlDOztBQUU0Qzs7QUFFdEI7O0FBRXhEO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhFQUFtQjs7QUFFdEM7QUFDQSxtQkFBbUIsMEVBQWU7QUFDbEM7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSwyQ0FBMkMsd0RBQWlCO0FBQzVELEtBQUs7QUFDTDs7QUFFTztBQUNQO0FBQ0EsS0FBSyw0REFBSyxnREFBZ0QseURBQWtCO0FBQzVFLEtBQUssNERBQUssNENBQTRDLHlEQUFrQjtBQUN4RSxLQUFLLDREQUFLLGtEQUFrRCx5REFBa0I7QUFDOUU7QUFDQSxTQUFTLDREQUFLO0FBQ2QsMEJBQTBCLHlEQUFrQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLDREQUFLO0FBQ2QsdUJBQXVCLHlEQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLDREQUFLO0FBQ2Qsc0JBQXNCLHlEQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLDREQUFLO0FBQ2QsUUFBUSx5REFBa0I7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvY29vcmRpbmF0ZS5qcz8wNjRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ2FydGVzaWFuQ29vcmRpbmF0ZSwgUG9sYXJDb29yZGluYXRlIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci1jb29yZGluYXRlXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSwgcGFyc2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi91dGlsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb29yZGluYXRlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJjYXJ0ZXNpYW5cIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBuZXcgQ2FydGVzaWFuQ29vcmRpbmF0ZTtcblxuICAgICAgY2FzZSBcInBvbGFyXCI6XG4gICAgICAgIHJldHVybiBuZXcgUG9sYXJDb29yZGluYXRlO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29vcmRpbmF0ZShzcGVjLCB2aWV3KSB7XG4gICAgbGV0IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJldHVybiBbIFwic3RhcnRcIiwgXCJlbmRcIiwgXCJvcmlnaW5cIiwgXCJ0cmFuc2xhdGVcIiwgXCJyb3RhdGVcIiwgXCJzY2FsZVwiLCBcInRyYW5zcG9zZVwiIF0uZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjW2tleV0sIHZpZXcpKTtcbiAgICB9KSksIGRlcGVuZGVuY2llcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZUNvb3JkaW5hdGUoc3BlYywgY29vcmRpbmF0ZSwgcGFyYW1ldGVycykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgICAhaXNOaWwoc3BlYy5zdGFydCkgJiYgY29vcmRpbmF0ZS5zdGFydChudWxsICE9PSAoX2EgPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5zdGFydCwgcGFyYW1ldGVycykpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFsgMCwgMCBdKSwgXG4gICAgIWlzTmlsKHNwZWMuZW5kKSAmJiBjb29yZGluYXRlLmVuZChudWxsICE9PSAoX2IgPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5lbmQsIHBhcmFtZXRlcnMpKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBbIDAsIDAgXSksIFxuICAgICFpc05pbChzcGVjLm9yaWdpbikgJiYgY29vcmRpbmF0ZS5vcmlnaW4obnVsbCAhPT0gKF9jID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMub3JpZ2luLCBwYXJhbWV0ZXJzKSkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogWyAwLCAwIF0pO1xuICAgIGNvbnN0IHRyYW5zZm9ybXMgPSBbXTtcbiAgICBpZiAoIWlzTmlsKHNwZWMudHJhbnNsYXRlKSkge1xuICAgICAgICBjb25zdCB0cmFuc2xhdGUgPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy50cmFuc2xhdGUsIHBhcmFtZXRlcnMpO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJ0cmFuc2xhdGVcIixcbiAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgIHg6IG51bGwgIT09IChfZCA9IG51bGwgPT0gdHJhbnNsYXRlID8gdm9pZCAwIDogdHJhbnNsYXRlWzBdKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAwLFxuICAgICAgICAgICAgICAgIHk6IG51bGwgIT09IChfZSA9IG51bGwgPT0gdHJhbnNsYXRlID8gdm9pZCAwIDogdHJhbnNsYXRlWzFdKSAmJiB2b2lkIDAgIT09IF9lID8gX2UgOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzTmlsKHNwZWMucm90YXRlKSkge1xuICAgICAgICBjb25zdCByb3RhdGUgPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5yb3RhdGUsIHBhcmFtZXRlcnMpO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJyb3RhdGVcIixcbiAgICAgICAgICAgIGFuZ2xlOiBudWxsICE9IHJvdGF0ZSA/IHJvdGF0ZSA6IDBcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghaXNOaWwoc3BlYy5zY2FsZSkpIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5zY2FsZSwgcGFyYW1ldGVycyk7XG4gICAgICAgIHRyYW5zZm9ybXMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcInNjYWxlXCIsXG4gICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgIHg6IG51bGwgIT09IChfZiA9IG51bGwgPT0gc2NhbGUgPyB2b2lkIDAgOiBzY2FsZVswXSkgJiYgdm9pZCAwICE9PSBfZiA/IF9mIDogMSxcbiAgICAgICAgICAgICAgICB5OiBudWxsICE9PSAoX2cgPSBudWxsID09IHNjYWxlID8gdm9pZCAwIDogc2NhbGVbMV0pICYmIHZvaWQgMCAhPT0gX2cgPyBfZyA6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghaXNOaWwoc3BlYy50cmFuc3Bvc2UpKSB7XG4gICAgICAgIGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLnRyYW5zcG9zZSwgcGFyYW1ldGVycykgJiYgdHJhbnNmb3Jtcy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwidHJhbnNwb3NlXCJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvb3JkaW5hdGUuYXBwbHlUcmFuc2Zvcm1zKHRyYW5zZm9ybXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29vcmRpbmF0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/coordinate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/event.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/event.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateFilterByMark: () => (/* binding */ generateFilterByMark),\n/* harmony export */   parseEventSelector: () => (/* binding */ parseEventSelector),\n/* harmony export */   parseHandler: () => (/* binding */ parseHandler)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/debounce.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n\n\n\n\n\n\nconst generateFilterByMark = evtSpec => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(evtSpec.markId) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(evtSpec.markName) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(evtSpec.markType) ? () => !0 : el => el && el.mark.markType === evtSpec.markType : el => el && el.mark.name() === evtSpec.markName : el => el && el.mark.id() === evtSpec.markId;\n\nconst parseHandler = (callback, config) => config && config.debounce ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(callback, config.debounce) : config && config.throttle ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(callback, config.throttle) : callback;\n\nconst JOIN_SYMBOL = \":\";\n\nconst parseEventSelector = (selector, source = _view_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_VIEW) => {\n    const spec = {}, splitArr = selector.split(\":\");\n    if (2 === splitArr.length) {\n        const [space, eventType] = splitArr;\n        space[0] === _view_constants__WEBPACK_IMPORTED_MODULE_3__.ID_PREFIX ? (spec.markId = space.slice(1), spec.source = source) : space[0] === _view_constants__WEBPACK_IMPORTED_MODULE_3__.NAME_PREFIX ? (spec.markName = space.slice(1), \n        spec.source = source) : (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_4__.isMarkType)(space) ? (spec.markType = space, spec.source = source) : spec.source = space === _view_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_WINDOW ? _view_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_WINDOW : source, \n        spec.type = eventType;\n    } else 1 === splitArr.length && (spec.type = selector, spec.source = source);\n    return spec;\n};\n//# sourceMappingURL=event.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvZXZlbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNkQ7O0FBRVY7O0FBRWdEOztBQUU1Rix3Q0FBd0MsNERBQUssbUJBQW1CLDREQUFLLHFCQUFxQiw0REFBSzs7QUFFL0YsdUVBQXVFLDREQUFRLDBEQUEwRCw0REFBUTs7QUFFeEo7O0FBRU8sK0NBQStDLDhEQUFpQjtBQUN2RSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLHFCQUFxQixzREFBUyx1RUFBdUUsd0RBQVc7QUFDaEgsZ0NBQWdDLCtEQUFVLGtGQUFrRixnRUFBbUIsR0FBRyxnRUFBbUI7QUFDcks7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3BhcnNlL2V2ZW50LmpzPzU3ZWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVib3VuY2UsIGlzTmlsLCB0aHJvdHRsZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGlzTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvdXRpbC9ncmFwaGljXCI7XG5cbmltcG9ydCB7IEVWRU5UX1NPVVJDRV9WSUVXLCBFVkVOVF9TT1VSQ0VfV0lORE9XLCBJRF9QUkVGSVgsIE5BTUVfUFJFRklYIH0gZnJvbSBcIi4uL3ZpZXcvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUZpbHRlckJ5TWFyayA9IGV2dFNwZWMgPT4gaXNOaWwoZXZ0U3BlYy5tYXJrSWQpID8gaXNOaWwoZXZ0U3BlYy5tYXJrTmFtZSkgPyBpc05pbChldnRTcGVjLm1hcmtUeXBlKSA/ICgpID0+ICEwIDogZWwgPT4gZWwgJiYgZWwubWFyay5tYXJrVHlwZSA9PT0gZXZ0U3BlYy5tYXJrVHlwZSA6IGVsID0+IGVsICYmIGVsLm1hcmsubmFtZSgpID09PSBldnRTcGVjLm1hcmtOYW1lIDogZWwgPT4gZWwgJiYgZWwubWFyay5pZCgpID09PSBldnRTcGVjLm1hcmtJZDtcblxuZXhwb3J0IGNvbnN0IHBhcnNlSGFuZGxlciA9IChjYWxsYmFjaywgY29uZmlnKSA9PiBjb25maWcgJiYgY29uZmlnLmRlYm91bmNlID8gZGVib3VuY2UoY2FsbGJhY2ssIGNvbmZpZy5kZWJvdW5jZSkgOiBjb25maWcgJiYgY29uZmlnLnRocm90dGxlID8gdGhyb3R0bGUoY2FsbGJhY2ssIGNvbmZpZy50aHJvdHRsZSkgOiBjYWxsYmFjaztcblxuY29uc3QgSk9JTl9TWU1CT0wgPSBcIjpcIjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlRXZlbnRTZWxlY3RvciA9IChzZWxlY3Rvciwgc291cmNlID0gRVZFTlRfU09VUkNFX1ZJRVcpID0+IHtcbiAgICBjb25zdCBzcGVjID0ge30sIHNwbGl0QXJyID0gc2VsZWN0b3Iuc3BsaXQoXCI6XCIpO1xuICAgIGlmICgyID09PSBzcGxpdEFyci5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgW3NwYWNlLCBldmVudFR5cGVdID0gc3BsaXRBcnI7XG4gICAgICAgIHNwYWNlWzBdID09PSBJRF9QUkVGSVggPyAoc3BlYy5tYXJrSWQgPSBzcGFjZS5zbGljZSgxKSwgc3BlYy5zb3VyY2UgPSBzb3VyY2UpIDogc3BhY2VbMF0gPT09IE5BTUVfUFJFRklYID8gKHNwZWMubWFya05hbWUgPSBzcGFjZS5zbGljZSgxKSwgXG4gICAgICAgIHNwZWMuc291cmNlID0gc291cmNlKSA6IGlzTWFya1R5cGUoc3BhY2UpID8gKHNwZWMubWFya1R5cGUgPSBzcGFjZSwgc3BlYy5zb3VyY2UgPSBzb3VyY2UpIDogc3BlYy5zb3VyY2UgPSBzcGFjZSA9PT0gRVZFTlRfU09VUkNFX1dJTkRPVyA/IEVWRU5UX1NPVVJDRV9XSU5ET1cgOiBzb3VyY2UsIFxuICAgICAgICBzcGVjLnR5cGUgPSBldmVudFR5cGU7XG4gICAgfSBlbHNlIDEgPT09IHNwbGl0QXJyLmxlbmd0aCAmJiAoc3BlYy50eXBlID0gc2VsZWN0b3IsIHNwZWMuc291cmNlID0gc291cmNlKTtcbiAgICByZXR1cm4gc3BlYztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/event.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isFieldEncode: () => (/* binding */ isFieldEncode),\n/* harmony export */   isScaleEncode: () => (/* binding */ isScaleEncode),\n/* harmony export */   parseEncodeType: () => (/* binding */ parseEncodeType)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\nfunction isScaleEncode(encode) {\n    return !!(null == encode ? void 0 : encode.scale);\n}\n\nfunction isFieldEncode(encode) {\n    return !!(null == encode ? void 0 : encode.field);\n}\n\nfunction parseEncodeType(encoder, view) {\n    if (!encoder) return [];\n    let dependencies = [];\n    return encoder.scale && (dependencies = (0,_util__WEBPACK_IMPORTED_MODULE_0__.isGrammar)(encoder.scale) ? [ encoder.scale ] : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(view.getScaleById(encoder.scale))), \n    dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_0__.parseFunctionType)(encoder, view));\n}\n//# sourceMappingURL=mark.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvbWFyay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF5Qzs7QUFFYTs7QUFFL0M7QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSw0Q0FBNEMsZ0RBQVMsc0NBQXNDLHVEQUFLO0FBQ2hHLHdCQUF3Qix3REFBaUI7QUFDekM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9wYXJzZS9tYXJrLmpzPzdjNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBpc0dyYW1tYXIsIHBhcnNlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTY2FsZUVuY29kZShlbmNvZGUpIHtcbiAgICByZXR1cm4gISEobnVsbCA9PSBlbmNvZGUgPyB2b2lkIDAgOiBlbmNvZGUuc2NhbGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGaWVsZEVuY29kZShlbmNvZGUpIHtcbiAgICByZXR1cm4gISEobnVsbCA9PSBlbmNvZGUgPyB2b2lkIDAgOiBlbmNvZGUuZmllbGQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFbmNvZGVUeXBlKGVuY29kZXIsIHZpZXcpIHtcbiAgICBpZiAoIWVuY29kZXIpIHJldHVybiBbXTtcbiAgICBsZXQgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmV0dXJuIGVuY29kZXIuc2NhbGUgJiYgKGRlcGVuZGVuY2llcyA9IGlzR3JhbW1hcihlbmNvZGVyLnNjYWxlKSA/IFsgZW5jb2Rlci5zY2FsZSBdIDogYXJyYXkodmlldy5nZXRTY2FsZUJ5SWQoZW5jb2Rlci5zY2FsZSkpKSwgXG4gICAgZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShlbmNvZGVyLCB2aWV3KSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/option.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/option.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseOptionValue: () => (/* binding */ parseOptionValue),\n/* harmony export */   parseOptions: () => (/* binding */ parseOptions)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\nconst parseOptionValue = (value, params) => (0,_util__WEBPACK_IMPORTED_MODULE_0__.isGrammar)(value) ? value.output() : value && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value.callback) ? datum => value.callback(datum, params) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value.value) ? value.value(params) : value : value;\n\nconst parseOptions = (options, params) => options ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options) ? Object.keys(options).reduce(((res, key) => {\n    const option = options[key];\n    return res[key] = parseOptionValue(option, params), res;\n}), {}) : options.map((option => parseOptionValue(option, params))) : options;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvb3B0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEOztBQUVyQjs7QUFFNUIsNENBQTRDLGdEQUFTLG9DQUFvQyw0REFBUSxVQUFVLDREQUFVLDREQUE0RCw0REFBVTs7QUFFM0wsb0RBQW9ELDREQUFRO0FBQ25FO0FBQ0E7QUFDQSxDQUFDLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvb3B0aW9uLmpzPzk4NGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNPYmplY3QgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBpc0dyYW1tYXIgfSBmcm9tIFwiLi91dGlsXCI7XG5cbmV4cG9ydCBjb25zdCBwYXJzZU9wdGlvblZhbHVlID0gKHZhbHVlLCBwYXJhbXMpID0+IGlzR3JhbW1hcih2YWx1ZSkgPyB2YWx1ZS5vdXRwdXQoKSA6IHZhbHVlICYmIGlzT2JqZWN0KHZhbHVlKSA/IGlzRnVuY3Rpb24odmFsdWUuY2FsbGJhY2spID8gZGF0dW0gPT4gdmFsdWUuY2FsbGJhY2soZGF0dW0sIHBhcmFtcykgOiBpc0Z1bmN0aW9uKHZhbHVlLnZhbHVlKSA/IHZhbHVlLnZhbHVlKHBhcmFtcykgOiB2YWx1ZSA6IHZhbHVlO1xuXG5leHBvcnQgY29uc3QgcGFyc2VPcHRpb25zID0gKG9wdGlvbnMsIHBhcmFtcykgPT4gb3B0aW9ucyA/IGlzT2JqZWN0KG9wdGlvbnMpID8gT2JqZWN0LmtleXMob3B0aW9ucykucmVkdWNlKCgocmVzLCBrZXkpID0+IHtcbiAgICBjb25zdCBvcHRpb24gPSBvcHRpb25zW2tleV07XG4gICAgcmV0dXJuIHJlc1trZXldID0gcGFyc2VPcHRpb25WYWx1ZShvcHRpb24sIHBhcmFtcyksIHJlcztcbn0pLCB7fSkgOiBvcHRpb25zLm1hcCgob3B0aW9uID0+IHBhcnNlT3B0aW9uVmFsdWUob3B0aW9uLCBwYXJhbXMpKSkgOiBvcHRpb25zOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/option.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/scale.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/scale.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   configureScale: () => (/* binding */ configureScale),\n/* harmony export */   createScale: () => (/* binding */ createScale),\n/* harmony export */   parseScaleConfig: () => (/* binding */ parseScaleConfig),\n/* harmony export */   parseScaleDomainRange: () => (/* binding */ parseScaleDomainRange)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/band-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/linear-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/log-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/ordinal-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/point-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/pow-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/quantile-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/quantize-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/sqrt-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/symlog-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/threshold-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/time-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/identity-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/field.js\");\n\n\n\n\n\n\n\n\nfunction createScale(type) {\n    switch (type) {\n      case \"band\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.BandScale;\n\n      case \"linear\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_1__.LinearScale;\n\n      case \"log\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_2__.LogScale;\n\n      case \"ordinal\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_3__.OrdinalScale;\n\n      case \"point\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__.PointScale;\n\n      case \"pow\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_5__.PowScale;\n\n      case \"quantile\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_6__.QuantileScale;\n\n      case \"quantize\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_7__.QuantizeScale;\n\n      case \"sqrt\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_8__.SqrtScale;\n\n      case \"symlog\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_9__.SymlogScale;\n\n      case \"threshold\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_10__.ThresholdScale;\n\n      case \"time\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_11__.TimeScale;\n\n      case \"utc\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_11__.TimeScale(!0);\n\n      case \"identity\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_12__.IdentityScale;\n    }\n    return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_1__.LinearScale;\n}\n\nfunction isScaleDataType(spec) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(null == spec ? void 0 : spec.data);\n}\n\nfunction parseScaleDataType(spec, view) {\n    var _a;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(spec.data)) {\n        const data = view.getGrammarById(spec.data);\n        return data ? [ data ] : [];\n    }\n    return \"data\" === (null === (_a = spec.data) || void 0 === _a ? void 0 : _a.grammarType) ? [ spec.data ] : [];\n}\n\nfunction isMultiScaleDataType(spec) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(null == spec ? void 0 : spec.datas);\n}\n\nfunction parseMultiScaleDataType(spec, view) {\n    if (spec && spec.datas && spec.datas.length) {\n        const res = [];\n        return spec.datas.forEach((data => {\n            const gramarBase = parseScaleDataType(data, view);\n            gramarBase.length && res.push(gramarBase[0]);\n        })), res;\n    }\n    return [];\n}\n\nfunction isScaleCoordinateType(spec) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(null == spec ? void 0 : spec.coordinate);\n}\n\nfunction parseScaleCoordinateType(spec, view) {\n    var _a;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(spec.coordinate)) {\n        const coordinate = view.getCoordinateById(spec.coordinate);\n        return coordinate ? [ coordinate ] : [];\n    }\n    return \"coordinate\" === (null === (_a = spec.coordinate) || void 0 === _a ? void 0 : _a.grammarType) ? [ spec.coordinate ] : [];\n}\n\nfunction parseLinearScale(spec, view) {\n    let dependencies = [];\n    return dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.nice, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.niceMin, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.niceMax, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.min, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.max, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.zero, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.roundRange, view)), dependencies;\n}\n\nfunction parsePowScale(spec, view) {\n    return parseLinearScale(spec, view).concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.exponent, view));\n}\n\nfunction parseSymlogScale(spec, view) {\n    return parseLinearScale(spec, view).concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.constant, view));\n}\n\nfunction parseLogScale(spec, view) {\n    let dependencies = [];\n    return dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.nice, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.min, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.max, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.zero, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.roundRange, view)), dependencies;\n}\n\nfunction parseQuantizeScale(spec, view) {\n    let dependencies = [];\n    return dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.nice, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.niceMin, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.niceMax, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.min, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.max, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.zero, view)), \n    dependencies;\n}\n\nfunction parseOrdinalScale(spec, view) {\n    return [];\n}\n\nfunction parseBaseBandScale(spec, view) {\n    let dependencies = [];\n    return dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.round, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.padding, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.paddingInner, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.paddingOuter, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.align, view)), dependencies;\n}\n\nfunction parseBandScale(spec, view) {\n    return parseBaseBandScale(spec, view).concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.paddingInner, view));\n}\n\nfunction parsePointScale(spec, view) {\n    return parseBaseBandScale(spec, view);\n}\n\nfunction parseScaleDomainRange(domain, view) {\n    return isScaleDataType(domain) ? parseScaleDataType(domain, view) : isMultiScaleDataType(domain) ? parseMultiScaleDataType(domain, view) : isScaleCoordinateType(domain) ? parseScaleCoordinateType(domain, view) : (0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(domain, view);\n}\n\nfunction parseScaleConfig(type, config, view) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(config)) return [];\n    const deps = (0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(config.unknown, view);\n    switch (type) {\n      case \"linear\":\n      case \"sqrt\":\n        return deps.concat(parseLinearScale(config, view));\n\n      case \"ordinal\":\n        return deps.concat(parseOrdinalScale(config, view));\n\n      case \"band\":\n        return deps.concat(parseBandScale(config, view));\n\n      case \"point\":\n        return deps.concat(parsePointScale(config, view));\n\n      case \"pow\":\n        return deps.concat(parsePowScale(config, view));\n\n      case \"log\":\n      case \"time\":\n      case \"utc\":\n        return deps.concat(parseLogScale(config, view));\n\n      case \"symlog\":\n        return deps.concat(parseSymlogScale(config, view));\n\n      case \"quantize\":\n        return deps.concat(parseQuantizeScale(config, view));\n    }\n    return deps;\n}\n\nfunction configureScaleNice(spec, scale, parameters) {\n    const nice = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.nice, parameters, scale);\n    !0 === nice ? scale.nice() : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(nice) && scale.nice(nice);\n}\n\nfunction configureScaleNiceMinMax(spec, scale, parameters) {\n    const niceMax = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.niceMax, parameters, scale);\n    !0 === niceMax ? scale.niceMax() : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(niceMax) && scale.niceMax(niceMax);\n    const niceMin = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.niceMin, parameters, scale);\n    !0 === niceMin ? scale.niceMin() : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(niceMin) && scale.niceMin(niceMin);\n}\n\nfunction configureScaleDomain(spec, scale, parameters) {\n    const min = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.min, parameters, scale), max = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.max, parameters, scale), zero = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.zero, parameters, scale), hasValidMin = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(min), hasValidmax = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(max), prevDomain = scale.domain();\n    if (2 === prevDomain.length && (hasValidMin || hasValidmax || zero)) {\n        let newMin = Math.min(prevDomain[0], prevDomain[prevDomain.length - 1]), newMax = Math.max(prevDomain[0], prevDomain[prevDomain.length - 1]);\n        zero && newMin > 0 ? newMin = 0 : hasValidMin && (newMin = Math.min(newMin, min)), \n        zero && newMax < 0 ? newMax = 0 : hasValidmax && (newMax = Math.max(newMax, max)), \n        scale.domain([ newMin, newMax ], !0);\n    }\n}\n\nfunction configureContinuousScale(spec, scale, parameters) {\n    var _a;\n    (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.roundRange, parameters, scale) && scale.rangeRound(scale.range(), !0);\n    const {interpolate: interpolate, clamp: clamp} = null !== (_a = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.config, parameters, scale)) && void 0 !== _a ? _a : {};\n    interpolate && scale.interpolate(interpolate, !0), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(clamp) || ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(clamp) ? scale.clamp(!0, clamp, !0) : scale.clamp(clamp, void 0, !0));\n    const tickCount = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.tickCount, parameters, scale);\n    tickCount && scale.tickData(tickCount);\n}\n\nfunction configureLinearScale(spec, scale, parameters) {\n    configureScaleNice(spec, scale, parameters), configureScaleNiceMinMax(spec, scale, parameters), \n    configureScaleDomain(spec, scale, parameters), configureContinuousScale(spec, scale, parameters);\n}\n\nfunction configurePowScale(spec, scale, parameters) {\n    configureLinearScale(spec, scale, parameters);\n    const exponent = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.exponent, parameters, scale);\n    exponent > 0 && scale.exponent(exponent);\n}\n\nfunction configureLogScale(spec, scale, parameters) {\n    configureScaleNice(spec, scale, parameters), configureScaleDomain(spec, scale, parameters);\n    const base = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.base, parameters, scale);\n    base > 0 && scale.base(base), configureContinuousScale(spec, scale, parameters);\n}\n\nfunction configureSqrtScale(spec, scale, parameters) {\n    configureLinearScale(spec, scale, parameters);\n}\n\nfunction configureTimeScale(spec, scale, parameters) {\n    configureScaleNice(spec, scale, parameters), configureScaleDomain(spec, scale, parameters), \n    configureContinuousScale(spec, scale, parameters);\n}\n\nfunction configureSymlogScale(spec, scale, parameters) {\n    configureLinearScale(spec, scale, parameters);\n    const constant = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.constant, parameters, scale);\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(constant) && scale.constant(constant);\n}\n\nfunction configureQuantizeScale(spec, scale, parameters) {\n    configureScaleNice(spec, scale, parameters), configureScaleNiceMinMax(spec, scale, parameters), \n    configureScaleDomain(spec, scale, parameters);\n}\n\nfunction configureBaseBandScale(spec, scale, parameters) {\n    spec.round && scale.round((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.round, parameters, scale), !0), \n    spec.padding && scale.padding((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.padding, parameters, scale), !0), \n    spec.paddingInner && scale.paddingInner((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.paddingInner, parameters, scale), !0), \n    spec.paddingOuter && scale.paddingOuter((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.paddingOuter, parameters, scale), !0), \n    spec.align && scale.align((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.align, parameters, scale), !0);\n}\n\nfunction configureBandScale(spec, scale, parameters) {\n    return configureBaseBandScale(spec, scale, parameters);\n}\n\nfunction configurePointScale(spec, scale, parameters) {\n    return configureBaseBandScale(spec, scale, parameters);\n}\n\nfunction parseFieldData(spec, parameters) {\n    const field = spec.field, refData = (0,_util__WEBPACK_IMPORTED_MODULE_15__.getGrammarOutput)(spec.data, parameters), fieldData = [];\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(field)) field.forEach((entry => {\n        const getter = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_19__.field)(entry);\n        refData && refData.forEach((datum => {\n            fieldData.push(getter(datum));\n        }));\n    })); else {\n        const getter = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_19__.field)(field);\n        refData && refData.forEach((datum => {\n            fieldData.push(getter(datum));\n        }));\n    }\n    return fieldData;\n}\n\nfunction parseMultiFieldData(spec, parameters) {\n    let fieldData = [];\n    return spec.datas.forEach((entry => {\n        fieldData = fieldData.concat(parseFieldData(entry, parameters));\n    })), fieldData;\n}\n\nfunction parseScaleDataTypeValue(fieldData, scale, sort, filterNumber) {\n    return sort && fieldData.sort(sort), (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_20__.isContinuous)(scale.type) ? (filterNumber && fieldData.filter((entry => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(entry))), \n    [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_22__.minInArray)(fieldData), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_22__.maxInArray)(fieldData) ]) : fieldData;\n}\n\nfunction configureScale(spec, scale, parameters) {\n    if (isScaleDataType(spec.domain) ? scale.domain(parseScaleDataTypeValue(parseFieldData(spec.domain, parameters), scale, spec.domain.sort, !0), !0) : isMultiScaleDataType(spec.domain) ? scale.domain(parseScaleDataTypeValue(parseMultiFieldData(spec.domain, parameters), scale, spec.domain.sort, !0), !0) : scale.domain((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.domain, parameters, scale), !0), \n    \"identity\" !== spec.type) if (isScaleDataType(spec.range)) scale.range(parseScaleDataTypeValue(parseFieldData(spec.range, parameters), scale), !0); else if (isMultiScaleDataType(spec.range)) scale.range(parseScaleDataTypeValue(parseMultiFieldData(spec.range, parameters), scale), !0); else if (isScaleCoordinateType(spec.range)) {\n        const coord = (0,_util__WEBPACK_IMPORTED_MODULE_15__.getGrammarOutput)(spec.range.coordinate, parameters);\n        !(0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_20__.isDiscretizing)(scale.type) && coord && scale.range(coord.getRangeByDimension(spec.range.dimension, spec.range.isSubshaft, spec.range.reversed));\n    } else scale.range((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.range, parameters, scale), !0);\n    switch ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(spec.unknown) || scale.unknown((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.unknown, parameters, scale)), \n    spec.type) {\n      case \"linear\":\n        configureLinearScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"band\":\n        configureBandScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"point\":\n        configurePointScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"pow\":\n        configurePowScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"log\":\n        configureLogScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"sqrt\":\n        configureSqrtScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"symlog\":\n        configureSymlogScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"time\":\n      case \"utc\":\n        configureTimeScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"quantize\":\n        configureQuantizeScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"quantile\":\n        scale.rescale();\n    }\n}\n//# sourceMappingURL=scale.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvc2NhbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlIOztBQUU2Rzs7QUFFcko7O0FBRWI7O0FBRTdEO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQix1REFBUzs7QUFFNUI7QUFDQSxtQkFBbUIseURBQVc7O0FBRTlCO0FBQ0EsbUJBQW1CLHNEQUFROztBQUUzQjtBQUNBLG1CQUFtQiwwREFBWTs7QUFFL0I7QUFDQSxtQkFBbUIsd0RBQVU7O0FBRTdCO0FBQ0EsbUJBQW1CLHNEQUFROztBQUUzQjtBQUNBLG1CQUFtQiwyREFBYTs7QUFFaEM7QUFDQSxtQkFBbUIsMkRBQWE7O0FBRWhDO0FBQ0EsbUJBQW1CLHVEQUFTOztBQUU1QjtBQUNBLG1CQUFtQix5REFBVzs7QUFFOUI7QUFDQSxtQkFBbUIsNkRBQWM7O0FBRWpDO0FBQ0EsbUJBQW1CLHdEQUFTOztBQUU1QjtBQUNBLG1CQUFtQix3REFBUzs7QUFFNUI7QUFDQSxtQkFBbUIsNERBQWE7QUFDaEM7QUFDQSxlQUFlLHlEQUFXO0FBQzFCOztBQUVBO0FBQ0EsWUFBWSw2REFBSztBQUNqQjs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw2REFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSw2REFBSztBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSw2REFBSztBQUNqQjs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw2REFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4Q0FBOEMseURBQWlCLHVEQUF1RCx5REFBaUI7QUFDdkksdUNBQXVDLHlEQUFpQiwwREFBMEQseURBQWlCO0FBQ25JLHVDQUF1Qyx5REFBaUIsc0RBQXNELHlEQUFpQjtBQUMvSCx1Q0FBdUMseURBQWlCO0FBQ3hEOztBQUVBO0FBQ0EsK0NBQStDLHlEQUFpQjtBQUNoRTs7QUFFQTtBQUNBLCtDQUErQyx5REFBaUI7QUFDaEU7O0FBRUE7QUFDQTtBQUNBLDhDQUE4Qyx5REFBaUIsdURBQXVELHlEQUFpQjtBQUN2SSx1Q0FBdUMseURBQWlCLHNEQUFzRCx5REFBaUI7QUFDL0gsdUNBQXVDLHlEQUFpQjtBQUN4RDs7QUFFQTtBQUNBO0FBQ0EsOENBQThDLHlEQUFpQix1REFBdUQseURBQWlCO0FBQ3ZJLHVDQUF1Qyx5REFBaUIsMERBQTBELHlEQUFpQjtBQUNuSSx1Q0FBdUMseURBQWlCLHNEQUFzRCx5REFBaUI7QUFDL0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhDQUE4Qyx5REFBaUI7QUFDL0QsdUNBQXVDLHlEQUFpQiwwREFBMEQseURBQWlCO0FBQ25JLHVDQUF1Qyx5REFBaUI7QUFDeEQsdUNBQXVDLHlEQUFpQjtBQUN4RDs7QUFFQTtBQUNBLGlEQUFpRCx5REFBaUI7QUFDbEU7O0FBRUE7QUFDQTtBQUNBOztBQUVPO0FBQ1Asd05BQXdOLHlEQUFpQjtBQUN6Tzs7QUFFTztBQUNQLFFBQVEsNkRBQUs7QUFDYixpQkFBaUIseURBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLDBEQUFrQjtBQUNuQyxpQ0FBaUMsNkRBQWE7QUFDOUM7O0FBRUE7QUFDQSxvQkFBb0IsMERBQWtCO0FBQ3RDLHVDQUF1Qyw2REFBYTtBQUNwRCxvQkFBb0IsMERBQWtCO0FBQ3RDLHVDQUF1Qyw2REFBYTtBQUNwRDs7QUFFQTtBQUNBLGdCQUFnQiwwREFBa0IscUNBQXFDLDBEQUFrQixzQ0FBc0MsMERBQWtCLDhDQUE4Qyw2REFBYSxxQkFBcUIsNkRBQWE7QUFDOU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksMERBQWtCO0FBQ3RCLFdBQVcsd0NBQXdDLGlCQUFpQiwwREFBa0I7QUFDdEYsdURBQXVELDZEQUFLLFlBQVksNkRBQVU7QUFDbEYsc0JBQXNCLDBEQUFrQjtBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsMERBQWtCO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwwREFBa0I7QUFDbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQiwwREFBa0I7QUFDdkMsSUFBSSw2REFBYTtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QiwwREFBa0I7QUFDaEQsa0NBQWtDLDBEQUFrQjtBQUNwRCw0Q0FBNEMsMERBQWtCO0FBQzlELDRDQUE0QywwREFBa0I7QUFDOUQsOEJBQThCLDBEQUFrQjtBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLHdEQUFnQjtBQUN4RCxRQUFRLDZEQUFPO0FBQ2YsdUJBQXVCLCtEQUFnQjtBQUN2QztBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUssSUFBSTtBQUNULHVCQUF1QiwrREFBZ0I7QUFDdkM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSx5Q0FBeUMsK0RBQVksMkRBQTJELDZEQUFRO0FBQ3hILE1BQU0sNkRBQVUsYUFBYSw2REFBVTtBQUN2Qzs7QUFFTztBQUNQLGlVQUFpVSwwREFBa0I7QUFDblYsd0pBQXdKLHlJQUF5STtBQUNqUyxzQkFBc0Isd0RBQWdCO0FBQ3RDLFNBQVMsaUVBQWM7QUFDdkIsTUFBTSxpQkFBaUIsMERBQWtCO0FBQ3pDLFlBQVksNkRBQUssZ0NBQWdDLDBEQUFrQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9wYXJzZS9zY2FsZS5qcz9jOGJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzTmlsLCBpc051bWJlciwgaXNTdHJpbmcsIGlzVmFsaWROdW1iZXIsIG1heEluQXJyYXksIG1pbkluQXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBMaW5lYXJTY2FsZSwgQmFuZFNjYWxlLCBPcmRpbmFsU2NhbGUsIFBvaW50U2NhbGUsIGlzQ29udGludW91cywgVGltZVNjYWxlLCBUaHJlc2hvbGRTY2FsZSwgU3FydFNjYWxlLCBTeW1sb2dTY2FsZSwgUXVhbnRpemVTY2FsZSwgUXVhbnRpbGVTY2FsZSwgUG93U2NhbGUsIExvZ1NjYWxlLCBpc0Rpc2NyZXRpemluZywgSWRlbnRpdHlTY2FsZSB9IGZyb20gXCJAdmlzYWN0b3IvdnNjYWxlXCI7XG5cbmltcG9ydCB7IGdldEdyYW1tYXJPdXRwdXQsIGludm9rZUZ1bmN0aW9uVHlwZSwgcGFyc2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi91dGlsXCI7XG5cbmltcG9ydCB7IGZpZWxkIGFzIGdldEZpZWxkQWNjZXNzb3IgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNjYWxlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJiYW5kXCI6XG4gICAgICAgIHJldHVybiBuZXcgQmFuZFNjYWxlO1xuXG4gICAgICBjYXNlIFwibGluZWFyXCI6XG4gICAgICAgIHJldHVybiBuZXcgTGluZWFyU2NhbGU7XG5cbiAgICAgIGNhc2UgXCJsb2dcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dTY2FsZTtcblxuICAgICAgY2FzZSBcIm9yZGluYWxcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBPcmRpbmFsU2NhbGU7XG5cbiAgICAgIGNhc2UgXCJwb2ludFwiOlxuICAgICAgICByZXR1cm4gbmV3IFBvaW50U2NhbGU7XG5cbiAgICAgIGNhc2UgXCJwb3dcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBQb3dTY2FsZTtcblxuICAgICAgY2FzZSBcInF1YW50aWxlXCI6XG4gICAgICAgIHJldHVybiBuZXcgUXVhbnRpbGVTY2FsZTtcblxuICAgICAgY2FzZSBcInF1YW50aXplXCI6XG4gICAgICAgIHJldHVybiBuZXcgUXVhbnRpemVTY2FsZTtcblxuICAgICAgY2FzZSBcInNxcnRcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBTcXJ0U2NhbGU7XG5cbiAgICAgIGNhc2UgXCJzeW1sb2dcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBTeW1sb2dTY2FsZTtcblxuICAgICAgY2FzZSBcInRocmVzaG9sZFwiOlxuICAgICAgICByZXR1cm4gbmV3IFRocmVzaG9sZFNjYWxlO1xuXG4gICAgICBjYXNlIFwidGltZVwiOlxuICAgICAgICByZXR1cm4gbmV3IFRpbWVTY2FsZTtcblxuICAgICAgY2FzZSBcInV0Y1wiOlxuICAgICAgICByZXR1cm4gbmV3IFRpbWVTY2FsZSghMCk7XG5cbiAgICAgIGNhc2UgXCJpZGVudGl0eVwiOlxuICAgICAgICByZXR1cm4gbmV3IElkZW50aXR5U2NhbGU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTGluZWFyU2NhbGU7XG59XG5cbmZ1bmN0aW9uIGlzU2NhbGVEYXRhVHlwZShzcGVjKSB7XG4gICAgcmV0dXJuICFpc05pbChudWxsID09IHNwZWMgPyB2b2lkIDAgOiBzcGVjLmRhdGEpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVNjYWxlRGF0YVR5cGUoc3BlYywgdmlldykge1xuICAgIHZhciBfYTtcbiAgICBpZiAoaXNTdHJpbmcoc3BlYy5kYXRhKSkge1xuICAgICAgICBjb25zdCBkYXRhID0gdmlldy5nZXRHcmFtbWFyQnlJZChzcGVjLmRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YSA/IFsgZGF0YSBdIDogW107XG4gICAgfVxuICAgIHJldHVybiBcImRhdGFcIiA9PT0gKG51bGwgPT09IChfYSA9IHNwZWMuZGF0YSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmdyYW1tYXJUeXBlKSA/IFsgc3BlYy5kYXRhIF0gOiBbXTtcbn1cblxuZnVuY3Rpb24gaXNNdWx0aVNjYWxlRGF0YVR5cGUoc3BlYykge1xuICAgIHJldHVybiAhaXNOaWwobnVsbCA9PSBzcGVjID8gdm9pZCAwIDogc3BlYy5kYXRhcyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTXVsdGlTY2FsZURhdGFUeXBlKHNwZWMsIHZpZXcpIHtcbiAgICBpZiAoc3BlYyAmJiBzcGVjLmRhdGFzICYmIHNwZWMuZGF0YXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICByZXR1cm4gc3BlYy5kYXRhcy5mb3JFYWNoKChkYXRhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyYW1hckJhc2UgPSBwYXJzZVNjYWxlRGF0YVR5cGUoZGF0YSwgdmlldyk7XG4gICAgICAgICAgICBncmFtYXJCYXNlLmxlbmd0aCAmJiByZXMucHVzaChncmFtYXJCYXNlWzBdKTtcbiAgICAgICAgfSkpLCByZXM7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cblxuZnVuY3Rpb24gaXNTY2FsZUNvb3JkaW5hdGVUeXBlKHNwZWMpIHtcbiAgICByZXR1cm4gIWlzTmlsKG51bGwgPT0gc3BlYyA/IHZvaWQgMCA6IHNwZWMuY29vcmRpbmF0ZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlU2NhbGVDb29yZGluYXRlVHlwZShzcGVjLCB2aWV3KSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChpc1N0cmluZyhzcGVjLmNvb3JkaW5hdGUpKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB2aWV3LmdldENvb3JkaW5hdGVCeUlkKHNwZWMuY29vcmRpbmF0ZSk7XG4gICAgICAgIHJldHVybiBjb29yZGluYXRlID8gWyBjb29yZGluYXRlIF0gOiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIFwiY29vcmRpbmF0ZVwiID09PSAobnVsbCA9PT0gKF9hID0gc3BlYy5jb29yZGluYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZ3JhbW1hclR5cGUpID8gWyBzcGVjLmNvb3JkaW5hdGUgXSA6IFtdO1xufVxuXG5mdW5jdGlvbiBwYXJzZUxpbmVhclNjYWxlKHNwZWMsIHZpZXcpIHtcbiAgICBsZXQgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmV0dXJuIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5uaWNlLCB2aWV3KSksIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5uaWNlTWluLCB2aWV3KSksIFxuICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5uaWNlTWF4LCB2aWV3KSksIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5taW4sIHZpZXcpKSwgXG4gICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLm1heCwgdmlldykpLCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMuemVybywgdmlldykpLCBcbiAgICBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMucm91bmRSYW5nZSwgdmlldykpLCBkZXBlbmRlbmNpZXM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUG93U2NhbGUoc3BlYywgdmlldykge1xuICAgIHJldHVybiBwYXJzZUxpbmVhclNjYWxlKHNwZWMsIHZpZXcpLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLmV4cG9uZW50LCB2aWV3KSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlU3ltbG9nU2NhbGUoc3BlYywgdmlldykge1xuICAgIHJldHVybiBwYXJzZUxpbmVhclNjYWxlKHNwZWMsIHZpZXcpLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLmNvbnN0YW50LCB2aWV3KSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTG9nU2NhbGUoc3BlYywgdmlldykge1xuICAgIGxldCBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICByZXR1cm4gZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLm5pY2UsIHZpZXcpKSwgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLm1pbiwgdmlldykpLCBcbiAgICBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubWF4LCB2aWV3KSksIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy56ZXJvLCB2aWV3KSksIFxuICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5yb3VuZFJhbmdlLCB2aWV3KSksIGRlcGVuZGVuY2llcztcbn1cblxuZnVuY3Rpb24gcGFyc2VRdWFudGl6ZVNjYWxlKHNwZWMsIHZpZXcpIHtcbiAgICBsZXQgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmV0dXJuIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5uaWNlLCB2aWV3KSksIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5uaWNlTWluLCB2aWV3KSksIFxuICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5uaWNlTWF4LCB2aWV3KSksIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5taW4sIHZpZXcpKSwgXG4gICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLm1heCwgdmlldykpLCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMuemVybywgdmlldykpLCBcbiAgICBkZXBlbmRlbmNpZXM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlT3JkaW5hbFNjYWxlKHNwZWMsIHZpZXcpIHtcbiAgICByZXR1cm4gW107XG59XG5cbmZ1bmN0aW9uIHBhcnNlQmFzZUJhbmRTY2FsZShzcGVjLCB2aWV3KSB7XG4gICAgbGV0IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJldHVybiBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMucm91bmQsIHZpZXcpKSwgXG4gICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnBhZGRpbmcsIHZpZXcpKSwgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnBhZGRpbmdJbm5lciwgdmlldykpLCBcbiAgICBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMucGFkZGluZ091dGVyLCB2aWV3KSksIFxuICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5hbGlnbiwgdmlldykpLCBkZXBlbmRlbmNpZXM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQmFuZFNjYWxlKHNwZWMsIHZpZXcpIHtcbiAgICByZXR1cm4gcGFyc2VCYXNlQmFuZFNjYWxlKHNwZWMsIHZpZXcpLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnBhZGRpbmdJbm5lciwgdmlldykpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVBvaW50U2NhbGUoc3BlYywgdmlldykge1xuICAgIHJldHVybiBwYXJzZUJhc2VCYW5kU2NhbGUoc3BlYywgdmlldyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVNjYWxlRG9tYWluUmFuZ2UoZG9tYWluLCB2aWV3KSB7XG4gICAgcmV0dXJuIGlzU2NhbGVEYXRhVHlwZShkb21haW4pID8gcGFyc2VTY2FsZURhdGFUeXBlKGRvbWFpbiwgdmlldykgOiBpc011bHRpU2NhbGVEYXRhVHlwZShkb21haW4pID8gcGFyc2VNdWx0aVNjYWxlRGF0YVR5cGUoZG9tYWluLCB2aWV3KSA6IGlzU2NhbGVDb29yZGluYXRlVHlwZShkb21haW4pID8gcGFyc2VTY2FsZUNvb3JkaW5hdGVUeXBlKGRvbWFpbiwgdmlldykgOiBwYXJzZUZ1bmN0aW9uVHlwZShkb21haW4sIHZpZXcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTY2FsZUNvbmZpZyh0eXBlLCBjb25maWcsIHZpZXcpIHtcbiAgICBpZiAoaXNOaWwoY29uZmlnKSkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGRlcHMgPSBwYXJzZUZ1bmN0aW9uVHlwZShjb25maWcudW5rbm93biwgdmlldyk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwibGluZWFyXCI6XG4gICAgICBjYXNlIFwic3FydFwiOlxuICAgICAgICByZXR1cm4gZGVwcy5jb25jYXQocGFyc2VMaW5lYXJTY2FsZShjb25maWcsIHZpZXcpKTtcblxuICAgICAgY2FzZSBcIm9yZGluYWxcIjpcbiAgICAgICAgcmV0dXJuIGRlcHMuY29uY2F0KHBhcnNlT3JkaW5hbFNjYWxlKGNvbmZpZywgdmlldykpO1xuXG4gICAgICBjYXNlIFwiYmFuZFwiOlxuICAgICAgICByZXR1cm4gZGVwcy5jb25jYXQocGFyc2VCYW5kU2NhbGUoY29uZmlnLCB2aWV3KSk7XG5cbiAgICAgIGNhc2UgXCJwb2ludFwiOlxuICAgICAgICByZXR1cm4gZGVwcy5jb25jYXQocGFyc2VQb2ludFNjYWxlKGNvbmZpZywgdmlldykpO1xuXG4gICAgICBjYXNlIFwicG93XCI6XG4gICAgICAgIHJldHVybiBkZXBzLmNvbmNhdChwYXJzZVBvd1NjYWxlKGNvbmZpZywgdmlldykpO1xuXG4gICAgICBjYXNlIFwibG9nXCI6XG4gICAgICBjYXNlIFwidGltZVwiOlxuICAgICAgY2FzZSBcInV0Y1wiOlxuICAgICAgICByZXR1cm4gZGVwcy5jb25jYXQocGFyc2VMb2dTY2FsZShjb25maWcsIHZpZXcpKTtcblxuICAgICAgY2FzZSBcInN5bWxvZ1wiOlxuICAgICAgICByZXR1cm4gZGVwcy5jb25jYXQocGFyc2VTeW1sb2dTY2FsZShjb25maWcsIHZpZXcpKTtcblxuICAgICAgY2FzZSBcInF1YW50aXplXCI6XG4gICAgICAgIHJldHVybiBkZXBzLmNvbmNhdChwYXJzZVF1YW50aXplU2NhbGUoY29uZmlnLCB2aWV3KSk7XG4gICAgfVxuICAgIHJldHVybiBkZXBzO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVTY2FsZU5pY2Uoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBuaWNlID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMubmljZSwgcGFyYW1ldGVycywgc2NhbGUpO1xuICAgICEwID09PSBuaWNlID8gc2NhbGUubmljZSgpIDogaXNWYWxpZE51bWJlcihuaWNlKSAmJiBzY2FsZS5uaWNlKG5pY2UpO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVTY2FsZU5pY2VNaW5NYXgoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBuaWNlTWF4ID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMubmljZU1heCwgcGFyYW1ldGVycywgc2NhbGUpO1xuICAgICEwID09PSBuaWNlTWF4ID8gc2NhbGUubmljZU1heCgpIDogaXNWYWxpZE51bWJlcihuaWNlTWF4KSAmJiBzY2FsZS5uaWNlTWF4KG5pY2VNYXgpO1xuICAgIGNvbnN0IG5pY2VNaW4gPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5uaWNlTWluLCBwYXJhbWV0ZXJzLCBzY2FsZSk7XG4gICAgITAgPT09IG5pY2VNaW4gPyBzY2FsZS5uaWNlTWluKCkgOiBpc1ZhbGlkTnVtYmVyKG5pY2VNaW4pICYmIHNjYWxlLm5pY2VNaW4obmljZU1pbik7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZVNjYWxlRG9tYWluKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgbWluID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMubWluLCBwYXJhbWV0ZXJzLCBzY2FsZSksIG1heCA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLm1heCwgcGFyYW1ldGVycywgc2NhbGUpLCB6ZXJvID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMuemVybywgcGFyYW1ldGVycywgc2NhbGUpLCBoYXNWYWxpZE1pbiA9IGlzVmFsaWROdW1iZXIobWluKSwgaGFzVmFsaWRtYXggPSBpc1ZhbGlkTnVtYmVyKG1heCksIHByZXZEb21haW4gPSBzY2FsZS5kb21haW4oKTtcbiAgICBpZiAoMiA9PT0gcHJldkRvbWFpbi5sZW5ndGggJiYgKGhhc1ZhbGlkTWluIHx8IGhhc1ZhbGlkbWF4IHx8IHplcm8pKSB7XG4gICAgICAgIGxldCBuZXdNaW4gPSBNYXRoLm1pbihwcmV2RG9tYWluWzBdLCBwcmV2RG9tYWluW3ByZXZEb21haW4ubGVuZ3RoIC0gMV0pLCBuZXdNYXggPSBNYXRoLm1heChwcmV2RG9tYWluWzBdLCBwcmV2RG9tYWluW3ByZXZEb21haW4ubGVuZ3RoIC0gMV0pO1xuICAgICAgICB6ZXJvICYmIG5ld01pbiA+IDAgPyBuZXdNaW4gPSAwIDogaGFzVmFsaWRNaW4gJiYgKG5ld01pbiA9IE1hdGgubWluKG5ld01pbiwgbWluKSksIFxuICAgICAgICB6ZXJvICYmIG5ld01heCA8IDAgPyBuZXdNYXggPSAwIDogaGFzVmFsaWRtYXggJiYgKG5ld01heCA9IE1hdGgubWF4KG5ld01heCwgbWF4KSksIFxuICAgICAgICBzY2FsZS5kb21haW4oWyBuZXdNaW4sIG5ld01heCBdLCAhMCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb25maWd1cmVDb250aW51b3VzU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMucm91bmRSYW5nZSwgcGFyYW1ldGVycywgc2NhbGUpICYmIHNjYWxlLnJhbmdlUm91bmQoc2NhbGUucmFuZ2UoKSwgITApO1xuICAgIGNvbnN0IHtpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsIGNsYW1wOiBjbGFtcH0gPSBudWxsICE9PSAoX2EgPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5jb25maWcsIHBhcmFtZXRlcnMsIHNjYWxlKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgaW50ZXJwb2xhdGUgJiYgc2NhbGUuaW50ZXJwb2xhdGUoaW50ZXJwb2xhdGUsICEwKSwgaXNOaWwoY2xhbXApIHx8IChpc0Z1bmN0aW9uKGNsYW1wKSA/IHNjYWxlLmNsYW1wKCEwLCBjbGFtcCwgITApIDogc2NhbGUuY2xhbXAoY2xhbXAsIHZvaWQgMCwgITApKTtcbiAgICBjb25zdCB0aWNrQ291bnQgPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy50aWNrQ291bnQsIHBhcmFtZXRlcnMsIHNjYWxlKTtcbiAgICB0aWNrQ291bnQgJiYgc2NhbGUudGlja0RhdGEodGlja0NvdW50KTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlTGluZWFyU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25maWd1cmVTY2FsZU5pY2Uoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBjb25maWd1cmVTY2FsZU5pY2VNaW5NYXgoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBcbiAgICBjb25maWd1cmVTY2FsZURvbWFpbihzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIGNvbmZpZ3VyZUNvbnRpbnVvdXNTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZVBvd1NjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uZmlndXJlTGluZWFyU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpO1xuICAgIGNvbnN0IGV4cG9uZW50ID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMuZXhwb25lbnQsIHBhcmFtZXRlcnMsIHNjYWxlKTtcbiAgICBleHBvbmVudCA+IDAgJiYgc2NhbGUuZXhwb25lbnQoZXhwb25lbnQpO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVMb2dTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycykge1xuICAgIGNvbmZpZ3VyZVNjYWxlTmljZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIGNvbmZpZ3VyZVNjYWxlRG9tYWluKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKTtcbiAgICBjb25zdCBiYXNlID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMuYmFzZSwgcGFyYW1ldGVycywgc2NhbGUpO1xuICAgIGJhc2UgPiAwICYmIHNjYWxlLmJhc2UoYmFzZSksIGNvbmZpZ3VyZUNvbnRpbnVvdXNTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZVNxcnRTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycykge1xuICAgIGNvbmZpZ3VyZUxpbmVhclNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlVGltZVNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uZmlndXJlU2NhbGVOaWNlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgY29uZmlndXJlU2NhbGVEb21haW4oc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBcbiAgICBjb25maWd1cmVDb250aW51b3VzU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVTeW1sb2dTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycykge1xuICAgIGNvbmZpZ3VyZUxpbmVhclNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKTtcbiAgICBjb25zdCBjb25zdGFudCA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLmNvbnN0YW50LCBwYXJhbWV0ZXJzLCBzY2FsZSk7XG4gICAgaXNWYWxpZE51bWJlcihjb25zdGFudCkgJiYgc2NhbGUuY29uc3RhbnQoY29uc3RhbnQpO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVRdWFudGl6ZVNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uZmlndXJlU2NhbGVOaWNlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgY29uZmlndXJlU2NhbGVOaWNlTWluTWF4KHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgXG4gICAgY29uZmlndXJlU2NhbGVEb21haW4oc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVCYXNlQmFuZFNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgc3BlYy5yb3VuZCAmJiBzY2FsZS5yb3VuZChpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5yb3VuZCwgcGFyYW1ldGVycywgc2NhbGUpLCAhMCksIFxuICAgIHNwZWMucGFkZGluZyAmJiBzY2FsZS5wYWRkaW5nKGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLnBhZGRpbmcsIHBhcmFtZXRlcnMsIHNjYWxlKSwgITApLCBcbiAgICBzcGVjLnBhZGRpbmdJbm5lciAmJiBzY2FsZS5wYWRkaW5nSW5uZXIoaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMucGFkZGluZ0lubmVyLCBwYXJhbWV0ZXJzLCBzY2FsZSksICEwKSwgXG4gICAgc3BlYy5wYWRkaW5nT3V0ZXIgJiYgc2NhbGUucGFkZGluZ091dGVyKGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLnBhZGRpbmdPdXRlciwgcGFyYW1ldGVycywgc2NhbGUpLCAhMCksIFxuICAgIHNwZWMuYWxpZ24gJiYgc2NhbGUuYWxpZ24oaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMuYWxpZ24sIHBhcmFtZXRlcnMsIHNjYWxlKSwgITApO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVCYW5kU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gY29uZmlndXJlQmFzZUJhbmRTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZVBvaW50U2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gY29uZmlndXJlQmFzZUJhbmRTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRmllbGREYXRhKHNwZWMsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBmaWVsZCA9IHNwZWMuZmllbGQsIHJlZkRhdGEgPSBnZXRHcmFtbWFyT3V0cHV0KHNwZWMuZGF0YSwgcGFyYW1ldGVycyksIGZpZWxkRGF0YSA9IFtdO1xuICAgIGlmIChpc0FycmF5KGZpZWxkKSkgZmllbGQuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICBjb25zdCBnZXR0ZXIgPSBnZXRGaWVsZEFjY2Vzc29yKGVudHJ5KTtcbiAgICAgICAgcmVmRGF0YSAmJiByZWZEYXRhLmZvckVhY2goKGRhdHVtID0+IHtcbiAgICAgICAgICAgIGZpZWxkRGF0YS5wdXNoKGdldHRlcihkYXR1bSkpO1xuICAgICAgICB9KSk7XG4gICAgfSkpOyBlbHNlIHtcbiAgICAgICAgY29uc3QgZ2V0dGVyID0gZ2V0RmllbGRBY2Nlc3NvcihmaWVsZCk7XG4gICAgICAgIHJlZkRhdGEgJiYgcmVmRGF0YS5mb3JFYWNoKChkYXR1bSA9PiB7XG4gICAgICAgICAgICBmaWVsZERhdGEucHVzaChnZXR0ZXIoZGF0dW0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gZmllbGREYXRhO1xufVxuXG5mdW5jdGlvbiBwYXJzZU11bHRpRmllbGREYXRhKHNwZWMsIHBhcmFtZXRlcnMpIHtcbiAgICBsZXQgZmllbGREYXRhID0gW107XG4gICAgcmV0dXJuIHNwZWMuZGF0YXMuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICBmaWVsZERhdGEgPSBmaWVsZERhdGEuY29uY2F0KHBhcnNlRmllbGREYXRhKGVudHJ5LCBwYXJhbWV0ZXJzKSk7XG4gICAgfSkpLCBmaWVsZERhdGE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlU2NhbGVEYXRhVHlwZVZhbHVlKGZpZWxkRGF0YSwgc2NhbGUsIHNvcnQsIGZpbHRlck51bWJlcikge1xuICAgIHJldHVybiBzb3J0ICYmIGZpZWxkRGF0YS5zb3J0KHNvcnQpLCBpc0NvbnRpbnVvdXMoc2NhbGUudHlwZSkgPyAoZmlsdGVyTnVtYmVyICYmIGZpZWxkRGF0YS5maWx0ZXIoKGVudHJ5ID0+IGlzTnVtYmVyKGVudHJ5KSkpLCBcbiAgICBbIG1pbkluQXJyYXkoZmllbGREYXRhKSwgbWF4SW5BcnJheShmaWVsZERhdGEpIF0pIDogZmllbGREYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICBpZiAoaXNTY2FsZURhdGFUeXBlKHNwZWMuZG9tYWluKSA/IHNjYWxlLmRvbWFpbihwYXJzZVNjYWxlRGF0YVR5cGVWYWx1ZShwYXJzZUZpZWxkRGF0YShzcGVjLmRvbWFpbiwgcGFyYW1ldGVycyksIHNjYWxlLCBzcGVjLmRvbWFpbi5zb3J0LCAhMCksICEwKSA6IGlzTXVsdGlTY2FsZURhdGFUeXBlKHNwZWMuZG9tYWluKSA/IHNjYWxlLmRvbWFpbihwYXJzZVNjYWxlRGF0YVR5cGVWYWx1ZShwYXJzZU11bHRpRmllbGREYXRhKHNwZWMuZG9tYWluLCBwYXJhbWV0ZXJzKSwgc2NhbGUsIHNwZWMuZG9tYWluLnNvcnQsICEwKSwgITApIDogc2NhbGUuZG9tYWluKGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLmRvbWFpbiwgcGFyYW1ldGVycywgc2NhbGUpLCAhMCksIFxuICAgIFwiaWRlbnRpdHlcIiAhPT0gc3BlYy50eXBlKSBpZiAoaXNTY2FsZURhdGFUeXBlKHNwZWMucmFuZ2UpKSBzY2FsZS5yYW5nZShwYXJzZVNjYWxlRGF0YVR5cGVWYWx1ZShwYXJzZUZpZWxkRGF0YShzcGVjLnJhbmdlLCBwYXJhbWV0ZXJzKSwgc2NhbGUpLCAhMCk7IGVsc2UgaWYgKGlzTXVsdGlTY2FsZURhdGFUeXBlKHNwZWMucmFuZ2UpKSBzY2FsZS5yYW5nZShwYXJzZVNjYWxlRGF0YVR5cGVWYWx1ZShwYXJzZU11bHRpRmllbGREYXRhKHNwZWMucmFuZ2UsIHBhcmFtZXRlcnMpLCBzY2FsZSksICEwKTsgZWxzZSBpZiAoaXNTY2FsZUNvb3JkaW5hdGVUeXBlKHNwZWMucmFuZ2UpKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkID0gZ2V0R3JhbW1hck91dHB1dChzcGVjLnJhbmdlLmNvb3JkaW5hdGUsIHBhcmFtZXRlcnMpO1xuICAgICAgICAhaXNEaXNjcmV0aXppbmcoc2NhbGUudHlwZSkgJiYgY29vcmQgJiYgc2NhbGUucmFuZ2UoY29vcmQuZ2V0UmFuZ2VCeURpbWVuc2lvbihzcGVjLnJhbmdlLmRpbWVuc2lvbiwgc3BlYy5yYW5nZS5pc1N1YnNoYWZ0LCBzcGVjLnJhbmdlLnJldmVyc2VkKSk7XG4gICAgfSBlbHNlIHNjYWxlLnJhbmdlKGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLnJhbmdlLCBwYXJhbWV0ZXJzLCBzY2FsZSksICEwKTtcbiAgICBzd2l0Y2ggKGlzTmlsKHNwZWMudW5rbm93bikgfHwgc2NhbGUudW5rbm93bihpbnZva2VGdW5jdGlvblR5cGUoc3BlYy51bmtub3duLCBwYXJhbWV0ZXJzLCBzY2FsZSkpLCBcbiAgICBzcGVjLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJsaW5lYXJcIjpcbiAgICAgICAgY29uZmlndXJlTGluZWFyU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBzY2FsZS5yZXNjYWxlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiYmFuZFwiOlxuICAgICAgICBjb25maWd1cmVCYW5kU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBzY2FsZS5yZXNjYWxlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwicG9pbnRcIjpcbiAgICAgICAgY29uZmlndXJlUG9pbnRTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIHNjYWxlLnJlc2NhbGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJwb3dcIjpcbiAgICAgICAgY29uZmlndXJlUG93U2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBzY2FsZS5yZXNjYWxlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwibG9nXCI6XG4gICAgICAgIGNvbmZpZ3VyZUxvZ1NjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgc2NhbGUucmVzY2FsZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInNxcnRcIjpcbiAgICAgICAgY29uZmlndXJlU3FydFNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgc2NhbGUucmVzY2FsZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInN5bWxvZ1wiOlxuICAgICAgICBjb25maWd1cmVTeW1sb2dTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIHNjYWxlLnJlc2NhbGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJ0aW1lXCI6XG4gICAgICBjYXNlIFwidXRjXCI6XG4gICAgICAgIGNvbmZpZ3VyZVRpbWVTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIHNjYWxlLnJlc2NhbGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJxdWFudGl6ZVwiOlxuICAgICAgICBjb25maWd1cmVRdWFudGl6ZVNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgc2NhbGUucmVzY2FsZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInF1YW50aWxlXCI6XG4gICAgICAgIHNjYWxlLnJlc2NhbGUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/transform.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/transform.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseTransformSpec: () => (/* binding */ parseTransformSpec)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\nconst parseSimpleOptionValue = (key, transformSpecValue, view) => {\n    var _a;\n    if (\"callback\" === key && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(transformSpecValue)) return {\n        references: [],\n        value: {\n            callback: transformSpecValue,\n            dependency: []\n        }\n    };\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(transformSpecValue.data)) {\n        const grammarInstance = view.getDataById(transformSpecValue.data);\n        return {\n            references: [ grammarInstance ],\n            value: grammarInstance\n        };\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(transformSpecValue.customized)) {\n        const grammarInstance = view.getCustomizedById(transformSpecValue.customized);\n        return {\n            references: [ grammarInstance ],\n            value: grammarInstance\n        };\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(transformSpecValue.scale)) {\n        const grammarInstance = view.getScaleById(transformSpecValue.scale);\n        return {\n            references: [ grammarInstance ],\n            value: grammarInstance\n        };\n    }\n    if ((0,_util__WEBPACK_IMPORTED_MODULE_2__.isSignal)(transformSpecValue)) {\n        const references = (0,_util__WEBPACK_IMPORTED_MODULE_2__.parseFunctionType)(transformSpecValue, view);\n        return {\n            references: references,\n            value: transformSpecValue.callback ? {\n                value: transformSpecValue.callback,\n                dependency: references\n            } : null !== (_a = null == references ? void 0 : references[0]) && void 0 !== _a ? _a : transformSpecValue\n        };\n    }\n    return {\n        value: transformSpecValue\n    };\n}, parseTransformOption = (key, transformSpecValue, view) => {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(transformSpecValue)) return {\n        value: transformSpecValue\n    };\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(transformSpecValue)) {\n        const values = transformSpecValue.map((v => parseSimpleOptionValue(key, v, view)));\n        return {\n            references: values.reduce(((res, val) => (val.references && res.concat(val.references), \n            res)), []),\n            value: values.map((entry => entry.value))\n        };\n    }\n    return parseSimpleOptionValue(key, transformSpecValue, view);\n}, parseTransform = (transformSpec, view) => {\n    const transformDef = _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.getTransform(transformSpec.type);\n    if (!transformDef) return;\n    const options = {};\n    let references = [];\n    return Object.keys(transformSpec).forEach((specKey => {\n        var _a;\n        if (\"type\" === specKey) return;\n        const specValue = transformSpec[specKey];\n        if (\"dependency\" === specKey) return void ((null == specValue ? void 0 : specValue.length) && (references = references.concat((0,_util__WEBPACK_IMPORTED_MODULE_2__.parseReference)(specValue, view))));\n        const res = parseTransformOption(specKey, specValue, view);\n        res && ((null === (_a = res.references) || void 0 === _a ? void 0 : _a.length) && (references = references.concat(res.references)), \n        options[specKey] = res.value);\n    })), {\n        markPhase: transformDef.markPhase,\n        transform: transformDef.transform,\n        canProgressive: transformDef.canProgressive,\n        type: transformDef.type,\n        options: options,\n        references: references\n    };\n};\n\nconst parseTransformSpec = (spec, view) => {\n    if (null == spec ? void 0 : spec.length) {\n        const transforms = [];\n        let refs = [];\n        return spec.forEach((transformSpec => {\n            var _a;\n            const transform = parseTransform(transformSpec, view);\n            transform && ((null === (_a = transform.references) || void 0 === _a ? void 0 : _a.length) && (refs = refs.concat(transform.references)), \n            transforms.push(transform));\n        })), {\n            transforms: transforms,\n            refs: refs\n        };\n    }\n    return null;\n};\n//# sourceMappingURL=transform.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvdHJhbnNmb3JtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4RDs7QUFFcEI7O0FBRTJCOztBQUVyRTtBQUNBO0FBQ0EsOEJBQThCLDREQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQUs7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFLO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBSztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQVE7QUFDaEIsMkJBQTJCLHdEQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsUUFBUSw0REFBSztBQUNiO0FBQ0E7QUFDQSxRQUFRLDREQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx5QkFBeUIsa0RBQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSUFBc0kscURBQWM7QUFDcEo7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3BhcnNlL3RyYW5zZm9ybS5qcz9lYmY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgaXNTaWduYWwsIHBhcnNlRnVuY3Rpb25UeXBlLCBwYXJzZVJlZmVyZW5jZSB9IGZyb20gXCIuL3V0aWxcIjtcblxuY29uc3QgcGFyc2VTaW1wbGVPcHRpb25WYWx1ZSA9IChrZXksIHRyYW5zZm9ybVNwZWNWYWx1ZSwgdmlldykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoXCJjYWxsYmFja1wiID09PSBrZXkgJiYgaXNGdW5jdGlvbih0cmFuc2Zvcm1TcGVjVmFsdWUpKSByZXR1cm4ge1xuICAgICAgICByZWZlcmVuY2VzOiBbXSxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0cmFuc2Zvcm1TcGVjVmFsdWUsXG4gICAgICAgICAgICBkZXBlbmRlbmN5OiBbXVxuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWlzTmlsKHRyYW5zZm9ybVNwZWNWYWx1ZS5kYXRhKSkge1xuICAgICAgICBjb25zdCBncmFtbWFySW5zdGFuY2UgPSB2aWV3LmdldERhdGFCeUlkKHRyYW5zZm9ybVNwZWNWYWx1ZS5kYXRhKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZXM6IFsgZ3JhbW1hckluc3RhbmNlIF0sXG4gICAgICAgICAgICB2YWx1ZTogZ3JhbW1hckluc3RhbmNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghaXNOaWwodHJhbnNmb3JtU3BlY1ZhbHVlLmN1c3RvbWl6ZWQpKSB7XG4gICAgICAgIGNvbnN0IGdyYW1tYXJJbnN0YW5jZSA9IHZpZXcuZ2V0Q3VzdG9taXplZEJ5SWQodHJhbnNmb3JtU3BlY1ZhbHVlLmN1c3RvbWl6ZWQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVmZXJlbmNlczogWyBncmFtbWFySW5zdGFuY2UgXSxcbiAgICAgICAgICAgIHZhbHVlOiBncmFtbWFySW5zdGFuY2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFpc05pbCh0cmFuc2Zvcm1TcGVjVmFsdWUuc2NhbGUpKSB7XG4gICAgICAgIGNvbnN0IGdyYW1tYXJJbnN0YW5jZSA9IHZpZXcuZ2V0U2NhbGVCeUlkKHRyYW5zZm9ybVNwZWNWYWx1ZS5zY2FsZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWZlcmVuY2VzOiBbIGdyYW1tYXJJbnN0YW5jZSBdLFxuICAgICAgICAgICAgdmFsdWU6IGdyYW1tYXJJbnN0YW5jZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNTaWduYWwodHJhbnNmb3JtU3BlY1ZhbHVlKSkge1xuICAgICAgICBjb25zdCByZWZlcmVuY2VzID0gcGFyc2VGdW5jdGlvblR5cGUodHJhbnNmb3JtU3BlY1ZhbHVlLCB2aWV3KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsXG4gICAgICAgICAgICB2YWx1ZTogdHJhbnNmb3JtU3BlY1ZhbHVlLmNhbGxiYWNrID8ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0cmFuc2Zvcm1TcGVjVmFsdWUuY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgZGVwZW5kZW5jeTogcmVmZXJlbmNlc1xuICAgICAgICAgICAgfSA6IG51bGwgIT09IChfYSA9IG51bGwgPT0gcmVmZXJlbmNlcyA/IHZvaWQgMCA6IHJlZmVyZW5jZXNbMF0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHRyYW5zZm9ybVNwZWNWYWx1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdHJhbnNmb3JtU3BlY1ZhbHVlXG4gICAgfTtcbn0sIHBhcnNlVHJhbnNmb3JtT3B0aW9uID0gKGtleSwgdHJhbnNmb3JtU3BlY1ZhbHVlLCB2aWV3KSA9PiB7XG4gICAgaWYgKGlzTmlsKHRyYW5zZm9ybVNwZWNWYWx1ZSkpIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB0cmFuc2Zvcm1TcGVjVmFsdWVcbiAgICB9O1xuICAgIGlmIChpc0FycmF5KHRyYW5zZm9ybVNwZWNWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdHJhbnNmb3JtU3BlY1ZhbHVlLm1hcCgodiA9PiBwYXJzZVNpbXBsZU9wdGlvblZhbHVlKGtleSwgdiwgdmlldykpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZXM6IHZhbHVlcy5yZWR1Y2UoKChyZXMsIHZhbCkgPT4gKHZhbC5yZWZlcmVuY2VzICYmIHJlcy5jb25jYXQodmFsLnJlZmVyZW5jZXMpLCBcbiAgICAgICAgICAgIHJlcykpLCBbXSksXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVzLm1hcCgoZW50cnkgPT4gZW50cnkudmFsdWUpKVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VTaW1wbGVPcHRpb25WYWx1ZShrZXksIHRyYW5zZm9ybVNwZWNWYWx1ZSwgdmlldyk7XG59LCBwYXJzZVRyYW5zZm9ybSA9ICh0cmFuc2Zvcm1TcGVjLCB2aWV3KSA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtRGVmID0gRmFjdG9yeS5nZXRUcmFuc2Zvcm0odHJhbnNmb3JtU3BlYy50eXBlKTtcbiAgICBpZiAoIXRyYW5zZm9ybURlZikgcmV0dXJuO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcbiAgICBsZXQgcmVmZXJlbmNlcyA9IFtdO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0cmFuc2Zvcm1TcGVjKS5mb3JFYWNoKChzcGVjS2V5ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoXCJ0eXBlXCIgPT09IHNwZWNLZXkpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc3BlY1ZhbHVlID0gdHJhbnNmb3JtU3BlY1tzcGVjS2V5XTtcbiAgICAgICAgaWYgKFwiZGVwZW5kZW5jeVwiID09PSBzcGVjS2V5KSByZXR1cm4gdm9pZCAoKG51bGwgPT0gc3BlY1ZhbHVlID8gdm9pZCAwIDogc3BlY1ZhbHVlLmxlbmd0aCkgJiYgKHJlZmVyZW5jZXMgPSByZWZlcmVuY2VzLmNvbmNhdChwYXJzZVJlZmVyZW5jZShzcGVjVmFsdWUsIHZpZXcpKSkpO1xuICAgICAgICBjb25zdCByZXMgPSBwYXJzZVRyYW5zZm9ybU9wdGlvbihzcGVjS2V5LCBzcGVjVmFsdWUsIHZpZXcpO1xuICAgICAgICByZXMgJiYgKChudWxsID09PSAoX2EgPSByZXMucmVmZXJlbmNlcykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgJiYgKHJlZmVyZW5jZXMgPSByZWZlcmVuY2VzLmNvbmNhdChyZXMucmVmZXJlbmNlcykpLCBcbiAgICAgICAgb3B0aW9uc1tzcGVjS2V5XSA9IHJlcy52YWx1ZSk7XG4gICAgfSkpLCB7XG4gICAgICAgIG1hcmtQaGFzZTogdHJhbnNmb3JtRGVmLm1hcmtQaGFzZSxcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1EZWYudHJhbnNmb3JtLFxuICAgICAgICBjYW5Qcm9ncmVzc2l2ZTogdHJhbnNmb3JtRGVmLmNhblByb2dyZXNzaXZlLFxuICAgICAgICB0eXBlOiB0cmFuc2Zvcm1EZWYudHlwZSxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgcmVmZXJlbmNlczogcmVmZXJlbmNlc1xuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VUcmFuc2Zvcm1TcGVjID0gKHNwZWMsIHZpZXcpID0+IHtcbiAgICBpZiAobnVsbCA9PSBzcGVjID8gdm9pZCAwIDogc3BlYy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtcyA9IFtdO1xuICAgICAgICBsZXQgcmVmcyA9IFtdO1xuICAgICAgICByZXR1cm4gc3BlYy5mb3JFYWNoKCh0cmFuc2Zvcm1TcGVjID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhcnNlVHJhbnNmb3JtKHRyYW5zZm9ybVNwZWMsIHZpZXcpO1xuICAgICAgICAgICAgdHJhbnNmb3JtICYmICgobnVsbCA9PT0gKF9hID0gdHJhbnNmb3JtLnJlZmVyZW5jZXMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICYmIChyZWZzID0gcmVmcy5jb25jYXQodHJhbnNmb3JtLnJlZmVyZW5jZXMpKSwgXG4gICAgICAgICAgICB0cmFuc2Zvcm1zLnB1c2godHJhbnNmb3JtKSk7XG4gICAgICAgIH0pKSwge1xuICAgICAgICAgICAgdHJhbnNmb3JtczogdHJhbnNmb3JtcyxcbiAgICAgICAgICAgIHJlZnM6IHJlZnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/transform.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGrammarOutput: () => (/* binding */ getGrammarOutput),\n/* harmony export */   invokeFunctionType: () => (/* binding */ invokeFunctionType),\n/* harmony export */   invokeParameterFunctionType: () => (/* binding */ invokeParameterFunctionType),\n/* harmony export */   isFunctionType: () => (/* binding */ isFunctionType),\n/* harmony export */   isGrammar: () => (/* binding */ isGrammar),\n/* harmony export */   isSignal: () => (/* binding */ isSignal),\n/* harmony export */   parseColor: () => (/* binding */ parseColor),\n/* harmony export */   parseField: () => (/* binding */ parseField),\n/* harmony export */   parseFunctionType: () => (/* binding */ parseFunctionType),\n/* harmony export */   parseReference: () => (/* binding */ parseReference)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/color/Color.js\");\n\n\nfunction parseReference(dependency, view) {\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(dependency).reduce(((refs, dep) => {\n        const ref = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dep) ? view.getGrammarById(dep) : dep;\n        return ref && refs.push(ref), refs;\n    }), []);\n}\n\nfunction isSignalReferenceType(signal) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(signal) && !!(null == signal ? void 0 : signal.signal);\n}\n\nfunction isSignalFunctionType(signal) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(signal) && !!(null == signal ? void 0 : signal.callback);\n}\n\nfunction parseFunctionType(spec, view) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec)) return [];\n    if (isSignalReferenceType(spec)) {\n        const signal = spec.signal;\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(signal)) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(view.getGrammarById(signal));\n        if (\"signal\" === (null == signal ? void 0 : signal.grammarType)) return [ signal ];\n    } else if (isSignalFunctionType(spec)) return parseReference(spec.dependency, view);\n    return [];\n}\n\nfunction isFunctionType(spec) {\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(spec) || (null == spec ? void 0 : spec.signal) || !!(null == spec ? void 0 : spec.callback);\n}\n\nfunction invokeFunctionType(spec, parameters, datumOrGrammarInstance, element) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec)) return spec;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(spec)) return element ? spec.call(null, datumOrGrammarInstance, element, parameters) : spec.call(null, datumOrGrammarInstance, parameters);\n    if (spec.signal) {\n        const signal = spec.signal;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(signal) ? null == parameters ? void 0 : parameters[signal] : signal.output();\n    }\n    return spec.callback ? element ? spec.callback.call(null, datumOrGrammarInstance, element, parameters) : spec.callback.call(null, datumOrGrammarInstance, parameters) : spec;\n}\n\nfunction invokeParameterFunctionType(spec, parameters) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec)) return spec;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(spec)) return spec.call(null, parameters);\n    if (spec.signal) {\n        const signal = spec.signal;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(signal) ? null == parameters ? void 0 : parameters[signal] : signal.output();\n    }\n    return spec.callback ? spec.callback.call(null, parameters) : spec;\n}\n\nfunction getGrammarOutput(grammar, parameters) {\n    return isGrammar(grammar) ? grammar.output() : parameters[grammar];\n}\n\nfunction isSignal(obj) {\n    return obj && (obj.signal || obj.callback);\n}\n\nconst isGrammar = el => el && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(el.grammarType);\n\nconst parseField = field => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field) ? field : datum => datum[field];\n\nconst parseColor = color => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(color) && _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.Color.parseColorString(color) ? color : null;\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvdXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkU7O0FBRXRFO0FBQ1AsV0FBVyx1REFBSztBQUNoQixvQkFBb0IsNERBQVE7QUFDNUI7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxZQUFZLDREQUFVO0FBQ3RCOztBQUVBO0FBQ0EsWUFBWSw0REFBVTtBQUN0Qjs7QUFFTztBQUNQLFFBQVEsNERBQUs7QUFDYjtBQUNBO0FBQ0EsWUFBWSw0REFBUSxpQkFBaUIsdURBQUs7QUFDMUM7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFTztBQUNQLFdBQVcsNERBQVU7QUFDckI7O0FBRU87QUFDUCxRQUFRLDREQUFLO0FBQ2IsUUFBUSw0REFBVTtBQUNsQjtBQUNBO0FBQ0EsZUFBZSw0REFBUTtBQUN2QjtBQUNBO0FBQ0E7O0FBRU87QUFDUCxRQUFRLDREQUFLO0FBQ2IsUUFBUSw0REFBVTtBQUNsQjtBQUNBO0FBQ0EsZUFBZSw0REFBUTtBQUN2QjtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTywrQkFBK0IsNERBQUs7O0FBRXBDLDRCQUE0Qiw0REFBVTs7QUFFdEMsNEJBQTRCLDREQUFRLFdBQVcsbURBQUs7QUFDM0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvdXRpbC5qcz9jZmM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc05pbCwgYXJyYXksIENvbG9yIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVmZXJlbmNlKGRlcGVuZGVuY3ksIHZpZXcpIHtcbiAgICByZXR1cm4gYXJyYXkoZGVwZW5kZW5jeSkucmVkdWNlKCgocmVmcywgZGVwKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlZiA9IGlzU3RyaW5nKGRlcCkgPyB2aWV3LmdldEdyYW1tYXJCeUlkKGRlcCkgOiBkZXA7XG4gICAgICAgIHJldHVybiByZWYgJiYgcmVmcy5wdXNoKHJlZiksIHJlZnM7XG4gICAgfSksIFtdKTtcbn1cblxuZnVuY3Rpb24gaXNTaWduYWxSZWZlcmVuY2VUeXBlKHNpZ25hbCkge1xuICAgIHJldHVybiAhaXNGdW5jdGlvbihzaWduYWwpICYmICEhKG51bGwgPT0gc2lnbmFsID8gdm9pZCAwIDogc2lnbmFsLnNpZ25hbCk7XG59XG5cbmZ1bmN0aW9uIGlzU2lnbmFsRnVuY3Rpb25UeXBlKHNpZ25hbCkge1xuICAgIHJldHVybiAhaXNGdW5jdGlvbihzaWduYWwpICYmICEhKG51bGwgPT0gc2lnbmFsID8gdm9pZCAwIDogc2lnbmFsLmNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMsIHZpZXcpIHtcbiAgICBpZiAoaXNOaWwoc3BlYykpIHJldHVybiBbXTtcbiAgICBpZiAoaXNTaWduYWxSZWZlcmVuY2VUeXBlKHNwZWMpKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHNwZWMuc2lnbmFsO1xuICAgICAgICBpZiAoaXNTdHJpbmcoc2lnbmFsKSkgcmV0dXJuIGFycmF5KHZpZXcuZ2V0R3JhbW1hckJ5SWQoc2lnbmFsKSk7XG4gICAgICAgIGlmIChcInNpZ25hbFwiID09PSAobnVsbCA9PSBzaWduYWwgPyB2b2lkIDAgOiBzaWduYWwuZ3JhbW1hclR5cGUpKSByZXR1cm4gWyBzaWduYWwgXTtcbiAgICB9IGVsc2UgaWYgKGlzU2lnbmFsRnVuY3Rpb25UeXBlKHNwZWMpKSByZXR1cm4gcGFyc2VSZWZlcmVuY2Uoc3BlYy5kZXBlbmRlbmN5LCB2aWV3KTtcbiAgICByZXR1cm4gW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uVHlwZShzcGVjKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oc3BlYykgfHwgKG51bGwgPT0gc3BlYyA/IHZvaWQgMCA6IHNwZWMuc2lnbmFsKSB8fCAhIShudWxsID09IHNwZWMgPyB2b2lkIDAgOiBzcGVjLmNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLCBwYXJhbWV0ZXJzLCBkYXR1bU9yR3JhbW1hckluc3RhbmNlLCBlbGVtZW50KSB7XG4gICAgaWYgKGlzTmlsKHNwZWMpKSByZXR1cm4gc3BlYztcbiAgICBpZiAoaXNGdW5jdGlvbihzcGVjKSkgcmV0dXJuIGVsZW1lbnQgPyBzcGVjLmNhbGwobnVsbCwgZGF0dW1PckdyYW1tYXJJbnN0YW5jZSwgZWxlbWVudCwgcGFyYW1ldGVycykgOiBzcGVjLmNhbGwobnVsbCwgZGF0dW1PckdyYW1tYXJJbnN0YW5jZSwgcGFyYW1ldGVycyk7XG4gICAgaWYgKHNwZWMuc2lnbmFsKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHNwZWMuc2lnbmFsO1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoc2lnbmFsKSA/IG51bGwgPT0gcGFyYW1ldGVycyA/IHZvaWQgMCA6IHBhcmFtZXRlcnNbc2lnbmFsXSA6IHNpZ25hbC5vdXRwdXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwZWMuY2FsbGJhY2sgPyBlbGVtZW50ID8gc3BlYy5jYWxsYmFjay5jYWxsKG51bGwsIGRhdHVtT3JHcmFtbWFySW5zdGFuY2UsIGVsZW1lbnQsIHBhcmFtZXRlcnMpIDogc3BlYy5jYWxsYmFjay5jYWxsKG51bGwsIGRhdHVtT3JHcmFtbWFySW5zdGFuY2UsIHBhcmFtZXRlcnMpIDogc3BlYztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZVBhcmFtZXRlckZ1bmN0aW9uVHlwZShzcGVjLCBwYXJhbWV0ZXJzKSB7XG4gICAgaWYgKGlzTmlsKHNwZWMpKSByZXR1cm4gc3BlYztcbiAgICBpZiAoaXNGdW5jdGlvbihzcGVjKSkgcmV0dXJuIHNwZWMuY2FsbChudWxsLCBwYXJhbWV0ZXJzKTtcbiAgICBpZiAoc3BlYy5zaWduYWwpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gc3BlYy5zaWduYWw7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhzaWduYWwpID8gbnVsbCA9PSBwYXJhbWV0ZXJzID8gdm9pZCAwIDogcGFyYW1ldGVyc1tzaWduYWxdIDogc2lnbmFsLm91dHB1dCgpO1xuICAgIH1cbiAgICByZXR1cm4gc3BlYy5jYWxsYmFjayA/IHNwZWMuY2FsbGJhY2suY2FsbChudWxsLCBwYXJhbWV0ZXJzKSA6IHNwZWM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHcmFtbWFyT3V0cHV0KGdyYW1tYXIsIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gaXNHcmFtbWFyKGdyYW1tYXIpID8gZ3JhbW1hci5vdXRwdXQoKSA6IHBhcmFtZXRlcnNbZ3JhbW1hcl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NpZ25hbChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIChvYmouc2lnbmFsIHx8IG9iai5jYWxsYmFjayk7XG59XG5cbmV4cG9ydCBjb25zdCBpc0dyYW1tYXIgPSBlbCA9PiBlbCAmJiAhaXNOaWwoZWwuZ3JhbW1hclR5cGUpO1xuXG5leHBvcnQgY29uc3QgcGFyc2VGaWVsZCA9IGZpZWxkID0+IGlzRnVuY3Rpb24oZmllbGQpID8gZmllbGQgOiBkYXR1bSA9PiBkYXR1bVtmaWVsZF07XG5cbmV4cG9ydCBjb25zdCBwYXJzZUNvbG9yID0gY29sb3IgPT4gaXNTdHJpbmcoY29sb3IpICYmIENvbG9yLnBhcnNlQ29sb3JTdHJpbmcoY29sb3IpID8gY29sb3IgOiBudWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/view.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/view.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuiltInSignalID: () => (/* binding */ BuiltInSignalID),\n/* harmony export */   builtInSignals: () => (/* binding */ builtInSignals),\n/* harmony export */   normalizeMarkTree: () => (/* binding */ normalizeMarkTree),\n/* harmony export */   normalizePadding: () => (/* binding */ normalizePadding),\n/* harmony export */   normalizeRunningConfig: () => (/* binding */ normalizeRunningConfig)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n\n\n\n\n\n\nlet markBaseId = -1;\n\nconst BuiltInSignalID = [ _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_WIDTH, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_HEIGHT, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_BOX, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_AUTOFIT ];\n\nconst builtInSignals = (option, config, theme) => {\n    var _a, _b, _c, _d, _e;\n    return [ {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH,\n        value: null !== (_a = option[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH]) && void 0 !== _a ? _a : 0\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT,\n        value: null !== (_b = option[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT]) && void 0 !== _b ? _b : 0\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING,\n        value: normalizePadding(null !== (_d = null !== (_c = option[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]) && void 0 !== _c ? _c : config[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]) && void 0 !== _d ? _d : null == theme ? void 0 : theme.padding)\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_WIDTH,\n        update: {\n            callback: (signal, params) => {\n                const padding = normalizePadding(params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]);\n                return params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH] - padding.left - padding.right;\n            },\n            dependency: [ _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING ]\n        }\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_HEIGHT,\n        update: {\n            callback: (signal, params) => {\n                const padding = normalizePadding(params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]);\n                return params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT] - padding.top - padding.bottom;\n            },\n            dependency: [ _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING ]\n        }\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_BOX,\n        update: {\n            callback: (signal, params) => {\n                const padding = normalizePadding(params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]);\n                return (signal || new _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.Bounds).setValue(padding.left, padding.top, padding.left + params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_WIDTH], padding.top + params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_HEIGHT]);\n            },\n            dependency: [ _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_WIDTH, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_HEIGHT, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING ]\n        }\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_AUTOFIT,\n        value: null !== (_e = option[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_AUTOFIT]) && void 0 !== _e ? _e : config[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_AUTOFIT]\n    } ];\n};\n\nconst normalizePadding = value => {\n    var _a, _b, _c, _d;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value) ? {\n        top: value,\n        bottom: value,\n        left: value,\n        right: value\n    } : {\n        top: null !== (_a = null == value ? void 0 : value.top) && void 0 !== _a ? _a : 0,\n        bottom: null !== (_b = null == value ? void 0 : value.bottom) && void 0 !== _b ? _b : 0,\n        left: null !== (_c = null == value ? void 0 : value.left) && void 0 !== _c ? _c : 0,\n        right: null !== (_d = null == value ? void 0 : value.right) && void 0 !== _d ? _d : 0\n    };\n};\n\nconst normalizeMarkTree = spec => {\n    var _a;\n    const traverse = (spec, group) => {\n        var _a, _b;\n        spec.group = group;\n        const id = null !== (_a = spec.id) && void 0 !== _a ? _a : \"VGRAMMAR_MARK_\" + ++markBaseId;\n        spec.id = id, (null !== (_b = spec.marks) && void 0 !== _b ? _b : []).forEach((child => traverse(child, id)));\n    };\n    return (null !== (_a = spec.marks) && void 0 !== _a ? _a : []).forEach((mark => traverse(mark, \"root\"))), \n    spec;\n};\n\nconst normalizeRunningConfig = runningConfig => {\n    var _a, _b, _c, _d, _e;\n    const {reuse: reuse = _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultReuse, morph: morph = _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultMorph, morphAll: morphAll = _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultMorphAll, animation: animation = {}, enableExitAnimation: enableExitAnimation = _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultEnableExitAnimation} = null != runningConfig ? runningConfig : {};\n    return {\n        reuse: reuse,\n        morph: morph,\n        morphAll: morphAll,\n        animation: {\n            easing: null !== (_a = animation.easing) && void 0 !== _a ? _a : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationEasing,\n            delay: null !== (_b = animation.delay) && void 0 !== _b ? _b : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationDelay,\n            duration: null !== (_c = animation.duration) && void 0 !== _c ? _c : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationDuration,\n            oneByOne: null !== (_d = animation.oneByOne) && void 0 !== _d ? _d : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationOneByOne,\n            splitPath: null !== (_e = animation.splitPath) && void 0 !== _e ? _e : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultSplitPath\n        },\n        enableExitAnimation: enableExitAnimation\n    };\n};\n//# sourceMappingURL=view.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvdmlldy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBb0Q7O0FBRThLOztBQUUxRTs7QUFFeEo7O0FBRU8sMEJBQTBCLHlEQUFZLEVBQUUsMERBQWEsRUFBRSwyREFBYyxFQUFFLDhEQUFpQixFQUFFLCtEQUFrQixFQUFFLDREQUFlLEVBQUUsMkRBQWM7O0FBRTdJO0FBQ1A7QUFDQTtBQUNBLFlBQVkseURBQVk7QUFDeEIscUNBQXFDLHlEQUFZO0FBQ2pELEtBQUs7QUFDTCxZQUFZLDBEQUFhO0FBQ3pCLHFDQUFxQywwREFBYTtBQUNsRCxLQUFLO0FBQ0wsWUFBWSwyREFBYztBQUMxQixxRUFBcUUsMkRBQWMsa0NBQWtDLDJEQUFjO0FBQ25JLEtBQUs7QUFDTCxZQUFZLDhEQUFpQjtBQUM3QjtBQUNBO0FBQ0Esd0RBQXdELDJEQUFjO0FBQ3RFLDhCQUE4Qix5REFBWTtBQUMxQyxhQUFhO0FBQ2IsMEJBQTBCLHlEQUFZLEVBQUUsMkRBQWM7QUFDdEQ7QUFDQSxLQUFLO0FBQ0wsWUFBWSwrREFBa0I7QUFDOUI7QUFDQTtBQUNBLHdEQUF3RCwyREFBYztBQUN0RSw4QkFBOEIsMERBQWE7QUFDM0MsYUFBYTtBQUNiLDBCQUEwQiwwREFBYSxFQUFFLDJEQUFjO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMLFlBQVksNERBQWU7QUFDM0I7QUFDQTtBQUNBLHdEQUF3RCwyREFBYztBQUN0RSxzQ0FBc0Msb0RBQU0sNERBQTRELDhEQUFpQix3QkFBd0IsK0RBQWtCO0FBQ25LLGFBQWE7QUFDYiwwQkFBMEIsOERBQWlCLEVBQUUsK0RBQWtCLEVBQUUsMkRBQWM7QUFDL0U7QUFDQSxLQUFLO0FBQ0wsWUFBWSwyREFBYztBQUMxQixxQ0FBcUMsMkRBQWMsa0NBQWtDLDJEQUFjO0FBQ25HLE1BQU07QUFDTjs7QUFFTztBQUNQO0FBQ0EsV0FBVyw0REFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0EsV0FBVyxlQUFlLDBEQUFZLGlCQUFpQiwwREFBWSx1QkFBdUIsNkRBQWUsMkJBQTJCLDZDQUE2Qyx3RUFBMEIsRUFBRTtBQUM3TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLG9FQUFzQjtBQUNuRywyRUFBMkUsbUVBQXFCO0FBQ2hHLGlGQUFpRixzRUFBd0I7QUFDekcsaUZBQWlGLHNFQUF3QjtBQUN6RyxtRkFBbUYsOERBQWdCO0FBQ25HLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9wYXJzZS92aWV3LmpzPzAwMjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOdW1iZXIsIEJvdW5kcyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IERlZmF1bHRBbmltYXRpb25EZWxheSwgRGVmYXVsdEFuaW1hdGlvbkR1cmF0aW9uLCBEZWZhdWx0QW5pbWF0aW9uRWFzaW5nLCBEZWZhdWx0QW5pbWF0aW9uT25lQnlPbmUsIERlZmF1bHRFbmFibGVFeGl0QW5pbWF0aW9uLCBEZWZhdWx0TW9ycGgsIERlZmF1bHRNb3JwaEFsbCwgRGVmYXVsdFJldXNlLCBEZWZhdWx0U3BsaXRQYXRoIH0gZnJvbSBcIi4uL2dyYXBoL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBTSUdOQUxfQVVUT0ZJVCwgU0lHTkFMX0hFSUdIVCwgU0lHTkFMX1BBRERJTkcsIFNJR05BTF9WSUVXX0hFSUdIVCwgU0lHTkFMX1ZJRVdfV0lEVEgsIFNJR05BTF9XSURUSCwgU0lHTkFMX1ZJRVdfQk9YIH0gZnJvbSBcIi4uL3ZpZXcvY29uc3RhbnRzXCI7XG5cbmxldCBtYXJrQmFzZUlkID0gLTE7XG5cbmV4cG9ydCBjb25zdCBCdWlsdEluU2lnbmFsSUQgPSBbIFNJR05BTF9XSURUSCwgU0lHTkFMX0hFSUdIVCwgU0lHTkFMX1BBRERJTkcsIFNJR05BTF9WSUVXX1dJRFRILCBTSUdOQUxfVklFV19IRUlHSFQsIFNJR05BTF9WSUVXX0JPWCwgU0lHTkFMX0FVVE9GSVQgXTtcblxuZXhwb3J0IGNvbnN0IGJ1aWx0SW5TaWduYWxzID0gKG9wdGlvbiwgY29uZmlnLCB0aGVtZSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgcmV0dXJuIFsge1xuICAgICAgICBpZDogU0lHTkFMX1dJRFRILFxuICAgICAgICB2YWx1ZTogbnVsbCAhPT0gKF9hID0gb3B0aW9uW1NJR05BTF9XSURUSF0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDBcbiAgICB9LCB7XG4gICAgICAgIGlkOiBTSUdOQUxfSEVJR0hULFxuICAgICAgICB2YWx1ZTogbnVsbCAhPT0gKF9iID0gb3B0aW9uW1NJR05BTF9IRUlHSFRdKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAwXG4gICAgfSwge1xuICAgICAgICBpZDogU0lHTkFMX1BBRERJTkcsXG4gICAgICAgIHZhbHVlOiBub3JtYWxpemVQYWRkaW5nKG51bGwgIT09IChfZCA9IG51bGwgIT09IChfYyA9IG9wdGlvbltTSUdOQUxfUEFERElOR10pICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IGNvbmZpZ1tTSUdOQUxfUEFERElOR10pICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5wYWRkaW5nKVxuICAgIH0sIHtcbiAgICAgICAgaWQ6IFNJR05BTF9WSUVXX1dJRFRILFxuICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoc2lnbmFsLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gbm9ybWFsaXplUGFkZGluZyhwYXJhbXNbU0lHTkFMX1BBRERJTkddKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zW1NJR05BTF9XSURUSF0gLSBwYWRkaW5nLmxlZnQgLSBwYWRkaW5nLnJpZ2h0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlcGVuZGVuY3k6IFsgU0lHTkFMX1dJRFRILCBTSUdOQUxfUEFERElORyBdXG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGlkOiBTSUdOQUxfVklFV19IRUlHSFQsXG4gICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgY2FsbGJhY2s6IChzaWduYWwsIHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSBub3JtYWxpemVQYWRkaW5nKHBhcmFtc1tTSUdOQUxfUEFERElOR10pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXNbU0lHTkFMX0hFSUdIVF0gLSBwYWRkaW5nLnRvcCAtIHBhZGRpbmcuYm90dG9tO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlcGVuZGVuY3k6IFsgU0lHTkFMX0hFSUdIVCwgU0lHTkFMX1BBRERJTkcgXVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBpZDogU0lHTkFMX1ZJRVdfQk9YLFxuICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoc2lnbmFsLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gbm9ybWFsaXplUGFkZGluZyhwYXJhbXNbU0lHTkFMX1BBRERJTkddKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNpZ25hbCB8fCBuZXcgQm91bmRzKS5zZXRWYWx1ZShwYWRkaW5nLmxlZnQsIHBhZGRpbmcudG9wLCBwYWRkaW5nLmxlZnQgKyBwYXJhbXNbU0lHTkFMX1ZJRVdfV0lEVEhdLCBwYWRkaW5nLnRvcCArIHBhcmFtc1tTSUdOQUxfVklFV19IRUlHSFRdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXBlbmRlbmN5OiBbIFNJR05BTF9WSUVXX1dJRFRILCBTSUdOQUxfVklFV19IRUlHSFQsIFNJR05BTF9QQURESU5HIF1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgaWQ6IFNJR05BTF9BVVRPRklULFxuICAgICAgICB2YWx1ZTogbnVsbCAhPT0gKF9lID0gb3B0aW9uW1NJR05BTF9BVVRPRklUXSkgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogY29uZmlnW1NJR05BTF9BVVRPRklUXVxuICAgIH0gXTtcbn07XG5cbmV4cG9ydCBjb25zdCBub3JtYWxpemVQYWRkaW5nID0gdmFsdWUgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpID8ge1xuICAgICAgICB0b3A6IHZhbHVlLFxuICAgICAgICBib3R0b206IHZhbHVlLFxuICAgICAgICBsZWZ0OiB2YWx1ZSxcbiAgICAgICAgcmlnaHQ6IHZhbHVlXG4gICAgfSA6IHtcbiAgICAgICAgdG9wOiBudWxsICE9PSAoX2EgPSBudWxsID09IHZhbHVlID8gdm9pZCAwIDogdmFsdWUudG9wKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwLFxuICAgICAgICBib3R0b206IG51bGwgIT09IChfYiA9IG51bGwgPT0gdmFsdWUgPyB2b2lkIDAgOiB2YWx1ZS5ib3R0b20pICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDAsXG4gICAgICAgIGxlZnQ6IG51bGwgIT09IChfYyA9IG51bGwgPT0gdmFsdWUgPyB2b2lkIDAgOiB2YWx1ZS5sZWZ0KSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAwLFxuICAgICAgICByaWdodDogbnVsbCAhPT0gKF9kID0gbnVsbCA9PSB2YWx1ZSA/IHZvaWQgMCA6IHZhbHVlLnJpZ2h0KSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAwXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBub3JtYWxpemVNYXJrVHJlZSA9IHNwZWMgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB0cmF2ZXJzZSA9IChzcGVjLCBncm91cCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBzcGVjLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIGNvbnN0IGlkID0gbnVsbCAhPT0gKF9hID0gc3BlYy5pZCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogXCJWR1JBTU1BUl9NQVJLX1wiICsgKyttYXJrQmFzZUlkO1xuICAgICAgICBzcGVjLmlkID0gaWQsIChudWxsICE9PSAoX2IgPSBzcGVjLm1hcmtzKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBbXSkuZm9yRWFjaCgoY2hpbGQgPT4gdHJhdmVyc2UoY2hpbGQsIGlkKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIChudWxsICE9PSAoX2EgPSBzcGVjLm1hcmtzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXSkuZm9yRWFjaCgobWFyayA9PiB0cmF2ZXJzZShtYXJrLCBcInJvb3RcIikpKSwgXG4gICAgc3BlYztcbn07XG5cbmV4cG9ydCBjb25zdCBub3JtYWxpemVSdW5uaW5nQ29uZmlnID0gcnVubmluZ0NvbmZpZyA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBjb25zdCB7cmV1c2U6IHJldXNlID0gRGVmYXVsdFJldXNlLCBtb3JwaDogbW9ycGggPSBEZWZhdWx0TW9ycGgsIG1vcnBoQWxsOiBtb3JwaEFsbCA9IERlZmF1bHRNb3JwaEFsbCwgYW5pbWF0aW9uOiBhbmltYXRpb24gPSB7fSwgZW5hYmxlRXhpdEFuaW1hdGlvbjogZW5hYmxlRXhpdEFuaW1hdGlvbiA9IERlZmF1bHRFbmFibGVFeGl0QW5pbWF0aW9ufSA9IG51bGwgIT0gcnVubmluZ0NvbmZpZyA/IHJ1bm5pbmdDb25maWcgOiB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXVzZTogcmV1c2UsXG4gICAgICAgIG1vcnBoOiBtb3JwaCxcbiAgICAgICAgbW9ycGhBbGw6IG1vcnBoQWxsLFxuICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgIGVhc2luZzogbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uLmVhc2luZykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogRGVmYXVsdEFuaW1hdGlvbkVhc2luZyxcbiAgICAgICAgICAgIGRlbGF5OiBudWxsICE9PSAoX2IgPSBhbmltYXRpb24uZGVsYXkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IERlZmF1bHRBbmltYXRpb25EZWxheSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBudWxsICE9PSAoX2MgPSBhbmltYXRpb24uZHVyYXRpb24pICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IERlZmF1bHRBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIG9uZUJ5T25lOiBudWxsICE9PSAoX2QgPSBhbmltYXRpb24ub25lQnlPbmUpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IERlZmF1bHRBbmltYXRpb25PbmVCeU9uZSxcbiAgICAgICAgICAgIHNwbGl0UGF0aDogbnVsbCAhPT0gKF9lID0gYW5pbWF0aW9uLnNwbGl0UGF0aCkgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogRGVmYXVsdFNwbGl0UGF0aFxuICAgICAgICB9LFxuICAgICAgICBlbmFibGVFeGl0QW5pbWF0aW9uOiBlbmFibGVFeGl0QW5pbWF0aW9uXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/view.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/cell.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/cell.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   registerCellMark: () => (/* binding */ registerCellMark)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _view_mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _graph_attributes_transform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graph/attributes/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Cell extends _view_mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    encodeState(state, channel, value) {\n        return super.encodeState(state, channel, value), this._updateComponentEncoders(state), \n        this;\n    }\n    _updateComponentEncoders(state) {\n        this._encoders || (this._encoders = {});\n        const userEncoder = this.spec.encode[state];\n        if (userEncoder && \"update\" === state) {\n            const params = this.parameters(), scales = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.isFunctionType)(userEncoder) ? null : Object.keys(userEncoder).reduce(((res, channel) => ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isScaleEncode)(userEncoder[channel]) && (res[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.getGrammarOutput)(userEncoder[channel].scale, params)), \n            res)), {});\n            this._encoders[state] = {\n                callback: (datum, element, parameters) => {\n                    const userEncodeRes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoder)(userEncoder, datum, element, parameters);\n                    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(userEncodeRes.size)) {\n                        const sizeX = scales.x ? (0,_util_scale__WEBPACK_IMPORTED_MODULE_5__.getBandWidthOfScale)(scales.x) : void 0, sizeY = scales.y ? (0,_util_scale__WEBPACK_IMPORTED_MODULE_5__.getBandWidthOfScale)(scales.y) : void 0;\n                        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sizeX) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sizeY) ? userEncodeRes.size = 10 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sizeX) ? userEncodeRes.size = sizeY : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sizeY) && (userEncodeRes.size = sizeX), \n                        userEncodeRes.size = [ sizeX, sizeY ];\n                    }\n                    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(userEncodeRes.shape) && (userEncodeRes.shape = \"rect\"), userEncodeRes;\n                }\n            };\n        } else this._encoders[state] = userEncoder;\n    }\n    _getEncoders() {\n        var _a;\n        return null !== (_a = this._encoders) && void 0 !== _a ? _a : {};\n    }\n    getAttributeTransforms() {\n        return [ {\n            channels: [ \"size\", \"padding\" ],\n            transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n                if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(storedAttrs.padding) && storedAttrs.padding > 0) graphicAttributes.size = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(storedAttrs.size) ? storedAttrs.size.map((entry => Math.max(entry - storedAttrs.padding, 1))) : Math.max(storedAttrs.size - storedAttrs.padding, 1); else if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(storedAttrs.padding) && 2 === storedAttrs.padding.length) {\n                    const arraySize = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(storedAttrs.size) ? storedAttrs.size : [ storedAttrs.size, storedAttrs.size ];\n                    graphicAttributes.size = [ Math.max(arraySize[0] - storedAttrs.padding[0], 1), Math.max(arraySize[1] - storedAttrs.padding[1], 1) ];\n                } else graphicAttributes.size = storedAttrs.size;\n            },\n            storedAttrs: \"paddingAttrs\"\n        } ].concat(_graph_attributes_transform__WEBPACK_IMPORTED_MODULE_8__.transformsByType.symbol);\n    }\n    release() {\n        super.release(), this._encoders = null;\n    }\n}\n\nCell.markType = _graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.cell;\n\nconst registerCellMark = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerMark(_graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.cell, Cell);\n};\n//# sourceMappingURL=cell.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvc2VtYW50aWMtbWFya3MvY2VsbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWlEOztBQUVJOztBQUVQOztBQUVtQjs7QUFFN0I7O0FBRXdCOztBQUVLOztBQUViOztBQUVWOztBQUVuQyxtQkFBbUIsNENBQUk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0EsdURBQXVELDJEQUFjLDJFQUEyRSwwREFBYSwwQ0FBMEMsNkRBQWdCO0FBQ3ZOLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsMENBQTBDLGlFQUFhO0FBQ3ZELHdCQUF3Qiw0REFBSztBQUM3QixpREFBaUQsZ0VBQW1CLHdDQUF3QyxnRUFBbUI7QUFDL0gsd0JBQXdCLDREQUFLLFdBQVcsNERBQUssb0NBQW9DLDREQUFLLHVDQUF1Qyw0REFBSztBQUNsSTtBQUNBO0FBQ0EsMkJBQTJCLDREQUFLO0FBQ2hDO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFRLDJFQUEyRSw0REFBTyxzSkFBc0osU0FBUyw0REFBTztBQUNwUixzQ0FBc0MsNERBQU87QUFDN0M7QUFDQSxrQkFBa0I7QUFDbEIsYUFBYTtBQUNiO0FBQ0EsVUFBVSxTQUFTLHlFQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQix5REFBZTs7QUFFeEI7QUFDUCxJQUFJLG1EQUFPLGNBQWMseURBQWU7QUFDeEM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9zZW1hbnRpYy1tYXJrcy9jZWxsLmpzPzE2NjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgaXNTY2FsZUVuY29kZSB9IGZyb20gXCIuLi9wYXJzZS9tYXJrXCI7XG5cbmltcG9ydCB7IGdldEdyYW1tYXJPdXRwdXQsIGlzRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgTWFyayB9IGZyb20gXCIuLi92aWV3L21hcmtcIjtcblxuaW1wb3J0IHsgaXNBcnJheSwgaXNOaWwsIGlzTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3Jtc0J5VHlwZSB9IGZyb20gXCIuLi9ncmFwaC9hdHRyaWJ1dGVzL3RyYW5zZm9ybVwiO1xuXG5pbXBvcnQgeyBnZXRCYW5kV2lkdGhPZlNjYWxlIH0gZnJvbSBcIi4uL3V0aWwvc2NhbGVcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNsYXNzIENlbGwgZXh0ZW5kcyBNYXJrIHtcbiAgICBlbmNvZGVTdGF0ZShzdGF0ZSwgY2hhbm5lbCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmVuY29kZVN0YXRlKHN0YXRlLCBjaGFubmVsLCB2YWx1ZSksIHRoaXMuX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKHN0YXRlKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycyhzdGF0ZSkge1xuICAgICAgICB0aGlzLl9lbmNvZGVycyB8fCAodGhpcy5fZW5jb2RlcnMgPSB7fSk7XG4gICAgICAgIGNvbnN0IHVzZXJFbmNvZGVyID0gdGhpcy5zcGVjLmVuY29kZVtzdGF0ZV07XG4gICAgICAgIGlmICh1c2VyRW5jb2RlciAmJiBcInVwZGF0ZVwiID09PSBzdGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5wYXJhbWV0ZXJzKCksIHNjYWxlcyA9IGlzRnVuY3Rpb25UeXBlKHVzZXJFbmNvZGVyKSA/IG51bGwgOiBPYmplY3Qua2V5cyh1c2VyRW5jb2RlcikucmVkdWNlKCgocmVzLCBjaGFubmVsKSA9PiAoaXNTY2FsZUVuY29kZSh1c2VyRW5jb2RlcltjaGFubmVsXSkgJiYgKHJlc1tjaGFubmVsXSA9IGdldEdyYW1tYXJPdXRwdXQodXNlckVuY29kZXJbY2hhbm5lbF0uc2NhbGUsIHBhcmFtcykpLCBcbiAgICAgICAgICAgIHJlcykpLCB7fSk7XG4gICAgICAgICAgICB0aGlzLl9lbmNvZGVyc1tzdGF0ZV0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRW5jb2RlUmVzID0gaW52b2tlRW5jb2Rlcih1c2VyRW5jb2RlciwgZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOaWwodXNlckVuY29kZVJlcy5zaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVggPSBzY2FsZXMueCA/IGdldEJhbmRXaWR0aE9mU2NhbGUoc2NhbGVzLngpIDogdm9pZCAwLCBzaXplWSA9IHNjYWxlcy55ID8gZ2V0QmFuZFdpZHRoT2ZTY2FsZShzY2FsZXMueSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc05pbChzaXplWCkgJiYgaXNOaWwoc2l6ZVkpID8gdXNlckVuY29kZVJlcy5zaXplID0gMTAgOiBpc05pbChzaXplWCkgPyB1c2VyRW5jb2RlUmVzLnNpemUgPSBzaXplWSA6IGlzTmlsKHNpemVZKSAmJiAodXNlckVuY29kZVJlcy5zaXplID0gc2l6ZVgpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJFbmNvZGVSZXMuc2l6ZSA9IFsgc2l6ZVgsIHNpemVZIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTmlsKHVzZXJFbmNvZGVSZXMuc2hhcGUpICYmICh1c2VyRW5jb2RlUmVzLnNoYXBlID0gXCJyZWN0XCIpLCB1c2VyRW5jb2RlUmVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB0aGlzLl9lbmNvZGVyc1tzdGF0ZV0gPSB1c2VyRW5jb2RlcjtcbiAgICB9XG4gICAgX2dldEVuY29kZXJzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9lbmNvZGVycykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgfVxuICAgIGdldEF0dHJpYnV0ZVRyYW5zZm9ybXMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIGNoYW5uZWxzOiBbIFwic2l6ZVwiLCBcInBhZGRpbmdcIiBdLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAoZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgc3RvcmVkQXR0cnMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIoc3RvcmVkQXR0cnMucGFkZGluZykgJiYgc3RvcmVkQXR0cnMucGFkZGluZyA+IDApIGdyYXBoaWNBdHRyaWJ1dGVzLnNpemUgPSBpc0FycmF5KHN0b3JlZEF0dHJzLnNpemUpID8gc3RvcmVkQXR0cnMuc2l6ZS5tYXAoKGVudHJ5ID0+IE1hdGgubWF4KGVudHJ5IC0gc3RvcmVkQXR0cnMucGFkZGluZywgMSkpKSA6IE1hdGgubWF4KHN0b3JlZEF0dHJzLnNpemUgLSBzdG9yZWRBdHRycy5wYWRkaW5nLCAxKTsgZWxzZSBpZiAoaXNBcnJheShzdG9yZWRBdHRycy5wYWRkaW5nKSAmJiAyID09PSBzdG9yZWRBdHRycy5wYWRkaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnJheVNpemUgPSBpc0FycmF5KHN0b3JlZEF0dHJzLnNpemUpID8gc3RvcmVkQXR0cnMuc2l6ZSA6IFsgc3RvcmVkQXR0cnMuc2l6ZSwgc3RvcmVkQXR0cnMuc2l6ZSBdO1xuICAgICAgICAgICAgICAgICAgICBncmFwaGljQXR0cmlidXRlcy5zaXplID0gWyBNYXRoLm1heChhcnJheVNpemVbMF0gLSBzdG9yZWRBdHRycy5wYWRkaW5nWzBdLCAxKSwgTWF0aC5tYXgoYXJyYXlTaXplWzFdIC0gc3RvcmVkQXR0cnMucGFkZGluZ1sxXSwgMSkgXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgZ3JhcGhpY0F0dHJpYnV0ZXMuc2l6ZSA9IHN0b3JlZEF0dHJzLnNpemU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcmVkQXR0cnM6IFwicGFkZGluZ0F0dHJzXCJcbiAgICAgICAgfSBdLmNvbmNhdCh0cmFuc2Zvcm1zQnlUeXBlLnN5bWJvbCk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHN1cGVyLnJlbGVhc2UoKSwgdGhpcy5fZW5jb2RlcnMgPSBudWxsO1xuICAgIH1cbn1cblxuQ2VsbC5tYXJrVHlwZSA9IEdyYW1tYXJNYXJrVHlwZS5jZWxsO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJDZWxsTWFyayA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyTWFyayhHcmFtbWFyTWFya1R5cGUuY2VsbCwgQ2VsbCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2VsbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/cell.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/interval.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/interval.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Interval: () => (/* binding */ Interval),\n/* harmony export */   registerIntervalMark: () => (/* binding */ registerIntervalMark)\n/* harmony export */ });\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _view_mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _graph_attributes_transform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/attributes/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Interval extends _view_mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    encodeState(state, channel, value) {\n        return super.encodeState(state, channel, value), this._updateComponentEncoders(state), \n        this;\n    }\n    _updateComponentEncoders(state) {\n        this._encoders || (this._encoders = {});\n        const userEncoder = this.spec.encode[state];\n        if (userEncoder && \"update\" === state) {\n            const params = this.parameters(), scales = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.isFunctionType)(userEncoder) ? null : Object.keys(userEncoder).reduce(((res, channel) => ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isScaleEncode)(userEncoder[channel]) && (res[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.getGrammarOutput)(userEncoder[channel].scale, params)), \n            res)), {});\n            this._encoders[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b, _c;\n                    const userEncodeRes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoder)(userEncoder, datum, element, parameters);\n                    if (this.disableCoordinateTransform = !1, scales && scales.x && scales.x.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__.ScaleEnum.Band) {\n                        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(scales.y)) {\n                            const domain = scales.y.domain(), min = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.minInArray)(domain), max = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.maxInArray)(domain), baseValue = min > 0 ? min : max < 0 ? max : 0;\n                            userEncodeRes.y1 = scales.y.scale(baseValue);\n                        }\n                        const bandWidth = scales.x.bandwidth();\n                        userEncodeRes.x = userEncodeRes.x + bandWidth / 4, userEncodeRes.x1 = userEncodeRes.x + bandWidth / 2;\n                    } else if (scales && scales.y && scales.y.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__.ScaleEnum.Band) {\n                        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(scales.x)) {\n                            const domain = scales.x.domain(), min = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.minInArray)(domain), max = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.maxInArray)(domain), baseValue = min > 0 ? min : max < 0 ? max : 0;\n                            userEncodeRes.x1 = scales.x.scale(baseValue);\n                        }\n                        const bandWidth = scales.y.bandwidth();\n                        userEncodeRes.y = userEncodeRes.y + bandWidth / 4, userEncodeRes.y1 = userEncodeRes.y + bandWidth / 2;\n                    }\n                    if (scales) {\n                        const coord = (null !== (_b = this.view.getScaleById(null === (_a = userEncoder.x) || void 0 === _a ? void 0 : _a.scale)) && void 0 !== _b ? _b : this.view.getScaleById(null === (_c = userEncoder.y) || void 0 === _c ? void 0 : _c.scale)).getCoordinate();\n                        if (coord && \"polar\" === coord.type) {\n                            this.disableCoordinateTransform = !0;\n                            const origin = coord.origin();\n                            userEncodeRes.cx = origin.x, userEncodeRes.cy = origin.y;\n                        }\n                    }\n                    return userEncodeRes;\n                }\n            };\n        } else this._encoders[state] = userEncoder;\n    }\n    _getEncoders() {\n        var _a;\n        return null !== (_a = this._encoders) && void 0 !== _a ? _a : {};\n    }\n    getAttributeTransforms() {\n        return this.coord && \"polar\" === this.coord.output().type ? [ {\n            channels: [ \"x\", \"y\", \"x1\", \"y1\", \"cx\", \"cy\" ],\n            transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n                graphicAttributes.x = storedAttrs.cx, graphicAttributes.y = storedAttrs.cy, this.coord.output().isTransposed() ? (graphicAttributes.startAngle = storedAttrs.y, \n                graphicAttributes.endAngle = storedAttrs.y1, graphicAttributes.innerRadius = storedAttrs.x, \n                graphicAttributes.outerRadius = storedAttrs.x1) : (graphicAttributes.startAngle = storedAttrs.x, \n                graphicAttributes.endAngle = storedAttrs.x1, graphicAttributes.innerRadius = storedAttrs.y, \n                graphicAttributes.outerRadius = storedAttrs.y1);\n            },\n            storedAttrs: \"sizeAttrs\"\n        } ] : _graph_attributes_transform__WEBPACK_IMPORTED_MODULE_7__.transformsByType.rect;\n    }\n    addGraphicItem(attrs, groupKey) {\n        const graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_8__.createGraphicItem)(this, this.coord && \"polar\" === this.coord.output().type ? _graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.arc : _graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.rect, attrs);\n        return super.addGraphicItem(attrs, groupKey, graphicItem);\n    }\n    release() {\n        super.release(), this._encoders = null;\n    }\n}\n\nInterval.markType = _graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.interval;\n\nconst registerIntervalMark = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerMark(_graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.interval, Interval);\n};\n//# sourceMappingURL=interval.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvc2VtYW50aWMtbWFya3MvaW50ZXJ2YWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUE2Qzs7QUFFSTs7QUFFSTs7QUFFUDs7QUFFbUI7O0FBRTdCOztBQUU2Qjs7QUFFUDs7QUFFTzs7QUFFdkI7O0FBRW5DLHVCQUF1Qiw0Q0FBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQSx1REFBdUQsMkRBQWMsMkVBQTJFLDBEQUFhLDBDQUEwQyw2REFBZ0I7QUFDdk4scUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxpRUFBYTtBQUN2RCxzR0FBc0csdURBQVM7QUFDL0csNkJBQTZCLDREQUFLO0FBQ2xDLG9FQUFvRSw0REFBVSxnQkFBZ0IsNERBQVU7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaURBQWlELHVEQUFTO0FBQ2hGLDZCQUE2Qiw0REFBSztBQUNsQyxvRUFBb0UsNERBQVUsZ0JBQWdCLDREQUFVO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxVQUFVLElBQUkseUVBQWdCO0FBQzlCO0FBQ0E7QUFDQSw0QkFBNEIsc0VBQWlCLDREQUE0RCx5REFBZSxPQUFPLHlEQUFlO0FBQzlJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IseURBQWU7O0FBRTVCO0FBQ1AsSUFBSSxtREFBTyxjQUFjLHlEQUFlO0FBQ3hDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvc2VtYW50aWMtbWFya3MvaW50ZXJ2YWwuanM/OWQ2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2FsZUVudW0gfSBmcm9tIFwiQHZpc2FjdG9yL3ZzY2FsZVwiO1xuXG5pbXBvcnQgeyBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlciB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2VuY29kZVwiO1xuXG5pbXBvcnQgeyBpc1NjYWxlRW5jb2RlIH0gZnJvbSBcIi4uL3BhcnNlL21hcmtcIjtcblxuaW1wb3J0IHsgZ2V0R3JhbW1hck91dHB1dCwgaXNGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBNYXJrIH0gZnJvbSBcIi4uL3ZpZXcvbWFya1wiO1xuXG5pbXBvcnQgeyBpc05pbCwgbWF4SW5BcnJheSwgbWluSW5BcnJheSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUdyYXBoaWNJdGVtIH0gZnJvbSBcIi4uL2dyYXBoL3V0aWwvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm1zQnlUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2F0dHJpYnV0ZXMvdHJhbnNmb3JtXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbCBleHRlbmRzIE1hcmsge1xuICAgIGVuY29kZVN0YXRlKHN0YXRlLCBjaGFubmVsLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZW5jb2RlU3RhdGUoc3RhdGUsIGNoYW5uZWwsIHZhbHVlKSwgdGhpcy5fdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoc3RhdGUpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzIHx8ICh0aGlzLl9lbmNvZGVycyA9IHt9KTtcbiAgICAgICAgY29uc3QgdXNlckVuY29kZXIgPSB0aGlzLnNwZWMuZW5jb2RlW3N0YXRlXTtcbiAgICAgICAgaWYgKHVzZXJFbmNvZGVyICYmIFwidXBkYXRlXCIgPT09IHN0YXRlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLnBhcmFtZXRlcnMoKSwgc2NhbGVzID0gaXNGdW5jdGlvblR5cGUodXNlckVuY29kZXIpID8gbnVsbCA6IE9iamVjdC5rZXlzKHVzZXJFbmNvZGVyKS5yZWR1Y2UoKChyZXMsIGNoYW5uZWwpID0+IChpc1NjYWxlRW5jb2RlKHVzZXJFbmNvZGVyW2NoYW5uZWxdKSAmJiAocmVzW2NoYW5uZWxdID0gZ2V0R3JhbW1hck91dHB1dCh1c2VyRW5jb2RlcltjaGFubmVsXS5zY2FsZSwgcGFyYW1zKSksIFxuICAgICAgICAgICAgcmVzKSksIHt9KTtcbiAgICAgICAgICAgIHRoaXMuX2VuY29kZXJzW3N0YXRlXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRW5jb2RlUmVzID0gaW52b2tlRW5jb2Rlcih1c2VyRW5jb2RlciwgZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlQ29vcmRpbmF0ZVRyYW5zZm9ybSA9ICExLCBzY2FsZXMgJiYgc2NhbGVzLnggJiYgc2NhbGVzLngudHlwZSA9PT0gU2NhbGVFbnVtLkJhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOaWwoc2NhbGVzLnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9tYWluID0gc2NhbGVzLnkuZG9tYWluKCksIG1pbiA9IG1pbkluQXJyYXkoZG9tYWluKSwgbWF4ID0gbWF4SW5BcnJheShkb21haW4pLCBiYXNlVmFsdWUgPSBtaW4gPiAwID8gbWluIDogbWF4IDwgMCA/IG1heCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckVuY29kZVJlcy55MSA9IHNjYWxlcy55LnNjYWxlKGJhc2VWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYW5kV2lkdGggPSBzY2FsZXMueC5iYW5kd2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJFbmNvZGVSZXMueCA9IHVzZXJFbmNvZGVSZXMueCArIGJhbmRXaWR0aCAvIDQsIHVzZXJFbmNvZGVSZXMueDEgPSB1c2VyRW5jb2RlUmVzLnggKyBiYW5kV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNjYWxlcyAmJiBzY2FsZXMueSAmJiBzY2FsZXMueS50eXBlID09PSBTY2FsZUVudW0uQmFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05pbChzY2FsZXMueCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb21haW4gPSBzY2FsZXMueC5kb21haW4oKSwgbWluID0gbWluSW5BcnJheShkb21haW4pLCBtYXggPSBtYXhJbkFycmF5KGRvbWFpbiksIGJhc2VWYWx1ZSA9IG1pbiA+IDAgPyBtaW4gOiBtYXggPCAwID8gbWF4IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRW5jb2RlUmVzLngxID0gc2NhbGVzLnguc2NhbGUoYmFzZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbmRXaWR0aCA9IHNjYWxlcy55LmJhbmR3aWR0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckVuY29kZVJlcy55ID0gdXNlckVuY29kZVJlcy55ICsgYmFuZFdpZHRoIC8gNCwgdXNlckVuY29kZVJlcy55MSA9IHVzZXJFbmNvZGVSZXMueSArIGJhbmRXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjYWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29vcmQgPSAobnVsbCAhPT0gKF9iID0gdGhpcy52aWV3LmdldFNjYWxlQnlJZChudWxsID09PSAoX2EgPSB1c2VyRW5jb2Rlci54KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc2NhbGUpKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKG51bGwgPT09IChfYyA9IHVzZXJFbmNvZGVyLnkpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy5zY2FsZSkpLmdldENvb3JkaW5hdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb29yZCAmJiBcInBvbGFyXCIgPT09IGNvb3JkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVDb29yZGluYXRlVHJhbnNmb3JtID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gY29vcmQub3JpZ2luKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckVuY29kZVJlcy5jeCA9IG9yaWdpbi54LCB1c2VyRW5jb2RlUmVzLmN5ID0gb3JpZ2luLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJFbmNvZGVSZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHRoaXMuX2VuY29kZXJzW3N0YXRlXSA9IHVzZXJFbmNvZGVyO1xuICAgIH1cbiAgICBfZ2V0RW5jb2RlcnMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuX2VuY29kZXJzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fTtcbiAgICB9XG4gICAgZ2V0QXR0cmlidXRlVHJhbnNmb3JtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29vcmQgJiYgXCJwb2xhclwiID09PSB0aGlzLmNvb3JkLm91dHB1dCgpLnR5cGUgPyBbIHtcbiAgICAgICAgICAgIGNoYW5uZWxzOiBbIFwieFwiLCBcInlcIiwgXCJ4MVwiLCBcInkxXCIsIFwiY3hcIiwgXCJjeVwiIF0sXG4gICAgICAgICAgICB0cmFuc2Zvcm06IChncmFwaGljQXR0cmlidXRlcywgbmV4dEF0dHJzLCBzdG9yZWRBdHRycykgPT4ge1xuICAgICAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLnggPSBzdG9yZWRBdHRycy5jeCwgZ3JhcGhpY0F0dHJpYnV0ZXMueSA9IHN0b3JlZEF0dHJzLmN5LCB0aGlzLmNvb3JkLm91dHB1dCgpLmlzVHJhbnNwb3NlZCgpID8gKGdyYXBoaWNBdHRyaWJ1dGVzLnN0YXJ0QW5nbGUgPSBzdG9yZWRBdHRycy55LCBcbiAgICAgICAgICAgICAgICBncmFwaGljQXR0cmlidXRlcy5lbmRBbmdsZSA9IHN0b3JlZEF0dHJzLnkxLCBncmFwaGljQXR0cmlidXRlcy5pbm5lclJhZGl1cyA9IHN0b3JlZEF0dHJzLngsIFxuICAgICAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLm91dGVyUmFkaXVzID0gc3RvcmVkQXR0cnMueDEpIDogKGdyYXBoaWNBdHRyaWJ1dGVzLnN0YXJ0QW5nbGUgPSBzdG9yZWRBdHRycy54LCBcbiAgICAgICAgICAgICAgICBncmFwaGljQXR0cmlidXRlcy5lbmRBbmdsZSA9IHN0b3JlZEF0dHJzLngxLCBncmFwaGljQXR0cmlidXRlcy5pbm5lclJhZGl1cyA9IHN0b3JlZEF0dHJzLnksIFxuICAgICAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLm91dGVyUmFkaXVzID0gc3RvcmVkQXR0cnMueTEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3JlZEF0dHJzOiBcInNpemVBdHRyc1wiXG4gICAgICAgIH0gXSA6IHRyYW5zZm9ybXNCeVR5cGUucmVjdDtcbiAgICB9XG4gICAgYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5KSB7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtID0gY3JlYXRlR3JhcGhpY0l0ZW0odGhpcywgdGhpcy5jb29yZCAmJiBcInBvbGFyXCIgPT09IHRoaXMuY29vcmQub3V0cHV0KCkudHlwZSA/IEdyYW1tYXJNYXJrVHlwZS5hcmMgOiBHcmFtbWFyTWFya1R5cGUucmVjdCwgYXR0cnMpO1xuICAgICAgICByZXR1cm4gc3VwZXIuYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5LCBncmFwaGljSXRlbSk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHN1cGVyLnJlbGVhc2UoKSwgdGhpcy5fZW5jb2RlcnMgPSBudWxsO1xuICAgIH1cbn1cblxuSW50ZXJ2YWwubWFya1R5cGUgPSBHcmFtbWFyTWFya1R5cGUuaW50ZXJ2YWw7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckludGVydmFsTWFyayA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyTWFyayhHcmFtbWFyTWFya1R5cGUuaW50ZXJ2YWwsIEludGVydmFsKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/interval.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/text.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/text.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Text: () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n\n\n\n\n\n\nclass Text extends _view_mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    addGraphicItem(initAttrs, groupKey) {\n        const originalAttrs = initAttrs && initAttrs.limitAttrs, isRich = originalAttrs && (\"rich\" === originalAttrs.textType || originalAttrs.text && \"rich\" === originalAttrs.text.type), graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_1__.createGraphicItem)(this, isRich ? _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.richtext : _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.text, initAttrs);\n        return super.addGraphicItem(initAttrs, groupKey, graphicItem);\n    }\n    release() {\n        super.release();\n    }\n}\n\nText.markType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.text;\n//# sourceMappingURL=text.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvc2VtYW50aWMtbWFya3MvdGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlEOztBQUViOztBQUVzQjs7QUFFbkQsbUJBQW1CLDRDQUFJO0FBQzlCO0FBQ0EsME1BQTBNLHNFQUFpQixnQkFBZ0IseURBQWUsWUFBWSx5REFBZTtBQUNyUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLHlEQUFlO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3NlbWFudGljLW1hcmtzL3RleHQuanM/MjA0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgTWFyayB9IGZyb20gXCIuLi92aWV3L21hcmtcIjtcblxuaW1wb3J0IHsgY3JlYXRlR3JhcGhpY0l0ZW0gfSBmcm9tIFwiLi4vZ3JhcGgvdXRpbC9ncmFwaGljXCI7XG5cbmV4cG9ydCBjbGFzcyBUZXh0IGV4dGVuZHMgTWFyayB7XG4gICAgYWRkR3JhcGhpY0l0ZW0oaW5pdEF0dHJzLCBncm91cEtleSkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbEF0dHJzID0gaW5pdEF0dHJzICYmIGluaXRBdHRycy5saW1pdEF0dHJzLCBpc1JpY2ggPSBvcmlnaW5hbEF0dHJzICYmIChcInJpY2hcIiA9PT0gb3JpZ2luYWxBdHRycy50ZXh0VHlwZSB8fCBvcmlnaW5hbEF0dHJzLnRleHQgJiYgXCJyaWNoXCIgPT09IG9yaWdpbmFsQXR0cnMudGV4dC50eXBlKSwgZ3JhcGhpY0l0ZW0gPSBjcmVhdGVHcmFwaGljSXRlbSh0aGlzLCBpc1JpY2ggPyBHcmFtbWFyTWFya1R5cGUucmljaHRleHQgOiBHcmFtbWFyTWFya1R5cGUudGV4dCwgaW5pdEF0dHJzKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmFkZEdyYXBoaWNJdGVtKGluaXRBdHRycywgZ3JvdXBLZXksIGdyYXBoaWNJdGVtKTtcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgc3VwZXIucmVsZWFzZSgpO1xuICAgIH1cbn1cblxuVGV4dC5tYXJrVHlwZSA9IEdyYW1tYXJNYXJrVHlwZS50ZXh0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/text.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/component.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/component.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arcLabel: () => (/* binding */ arcLabel),\n/* harmony export */   areaLabel: () => (/* binding */ areaLabel),\n/* harmony export */   continuousPlayer: () => (/* binding */ continuousPlayer),\n/* harmony export */   dataLabel: () => (/* binding */ dataLabel),\n/* harmony export */   datazoom: () => (/* binding */ datazoom),\n/* harmony export */   defaultComponentTheme: () => (/* binding */ defaultComponentTheme),\n/* harmony export */   discretePlayer: () => (/* binding */ discretePlayer),\n/* harmony export */   lineDataLabel: () => (/* binding */ lineDataLabel),\n/* harmony export */   lineLabel: () => (/* binding */ lineLabel),\n/* harmony export */   pointLabel: () => (/* binding */ pointLabel),\n/* harmony export */   rectLabel: () => (/* binding */ rectLabel),\n/* harmony export */   scrollbar: () => (/* binding */ scrollbar),\n/* harmony export */   symbolLabel: () => (/* binding */ symbolLabel),\n/* harmony export */   title: () => (/* binding */ title),\n/* harmony export */   tooltip: () => (/* binding */ tooltip)\n/* harmony export */ });\nconst axis = {\n    label: {\n        visible: !0,\n        inside: !1,\n        space: 4,\n        style: {\n            fontSize: 12,\n            fill: \"#89909d\",\n            fontWeight: \"normal\",\n            fillOpacity: 1\n        }\n    },\n    tick: {\n        visible: !0,\n        inside: !1,\n        alignWithLabel: !0,\n        length: 4,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    subTick: {\n        visible: !1,\n        inside: !1,\n        count: 4,\n        length: 2,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    line: {\n        visible: !0,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    items: [],\n    start: {\n        x: 0,\n        y: 0\n    },\n    end: {\n        x: 100,\n        y: 0\n    },\n    x: 0,\n    y: 0\n}, circleAxis = {\n    title: {\n        space: 4,\n        padding: [ 0, 0, 0, 0 ],\n        textStyle: {\n            fontSize: 12,\n            fill: \"#333333\",\n            fontWeight: \"normal\",\n            fillOpacity: 1\n        },\n        text: \"theta\"\n    },\n    label: {\n        visible: !0,\n        inside: !1,\n        space: 4,\n        style: {\n            fontSize: 12,\n            fill: \"#6F6F6F\",\n            fontWeight: \"normal\",\n            fillOpacity: 1\n        }\n    },\n    tick: {\n        visible: !0,\n        inside: !1,\n        alignWithLabel: !0,\n        length: 4,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    subTick: {\n        visible: !1,\n        inside: !1,\n        count: 4,\n        length: 2,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    line: {\n        visible: !0,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    items: [],\n    startAngle: 0,\n    endAngle: 2 * Math.PI,\n    radius: 100,\n    innerRadius: 0,\n    center: {\n        x: 0,\n        y: 0\n    },\n    x: 0,\n    y: 0\n}, grid = {\n    style: {\n        stroke: \"#f1f2f5\"\n    }\n}, circleGrid = {\n    style: {\n        stroke: \"#f1f2f5\"\n    }\n}, discreteLegend = {\n    layout: \"vertical\",\n    title: {\n        align: \"start\",\n        space: 12,\n        textStyle: {\n            fontSize: 12,\n            fontWeight: \"bold\",\n            fill: \"#2C3542\"\n        }\n    },\n    item: {\n        spaceCol: 10,\n        spaceRow: 10,\n        shape: {\n            space: 4,\n            style: {\n                size: 10,\n                cursor: \"pointer\"\n            },\n            state: {\n                selectedHover: {\n                    opacity: .85\n                },\n                unSelected: {\n                    fill: \"#D8D8D8\",\n                    stroke: \"#D8D8D8\",\n                    fillOpacity: .5\n                }\n            }\n        },\n        label: {\n            space: 4,\n            style: {\n                fontSize: 12,\n                fill: \"black\",\n                cursor: \"pointer\"\n            },\n            state: {\n                selectedHover: {\n                    opacity: .85\n                },\n                unSelected: {\n                    fill: \"#D8D8D8\",\n                    fillOpacity: .5\n                }\n            }\n        },\n        value: {\n            alignRight: !1,\n            style: {\n                fontSize: 12,\n                fill: \"#ccc\",\n                cursor: \"pointer\"\n            },\n            state: {\n                selectedHover: {\n                    opacity: .85\n                },\n                unSelected: {\n                    fill: \"#D8D8D8\"\n                }\n            }\n        },\n        background: {\n            style: {\n                cursor: \"pointer\"\n            },\n            state: {\n                selectedHover: {\n                    fillOpacity: .7,\n                    fill: \"gray\"\n                },\n                unSelectedHover: {\n                    fillOpacity: .2,\n                    fill: \"gray\"\n                }\n            }\n        },\n        focus: !1,\n        focusIconStyle: {\n            size: 10,\n            fill: \"#333\",\n            cursor: \"pointer\"\n        },\n        visible: !0,\n        padding: {\n            top: 2,\n            bottom: 2,\n            left: 2,\n            right: 2\n        }\n    },\n    autoPage: !0,\n    pager: {\n        space: 12,\n        handler: {\n            style: {\n                size: 10\n            },\n            space: 4\n        }\n    },\n    hover: !0,\n    select: !0,\n    selectMode: \"multiple\",\n    allowAllCanceled: !1,\n    items: [ {\n        index: 0,\n        id: \"\",\n        label: \"\",\n        shape: {\n            fill: \"#6690F2\",\n            stroke: \"#6690F2\",\n            symbolType: \"circle\"\n        }\n    } ]\n}, colorLegend = {\n    title: {\n        visible: !1,\n        text: \"\"\n    },\n    colors: [],\n    layout: \"horizontal\",\n    railWidth: 200,\n    railHeight: 8,\n    railStyle: {\n        cornerRadius: 5\n    }\n}, sizeLegend = {\n    title: {\n        visible: !1,\n        text: \"\"\n    },\n    trackStyle: {\n        fill: \"#ccc\"\n    },\n    layout: \"horizontal\",\n    align: \"bottom\",\n    railWidth: 200,\n    railHeight: 6,\n    min: 0,\n    max: 1,\n    value: [ 0, 1 ]\n}, lineCrosshair = {\n    start: {\n        x: 0,\n        y: 0\n    },\n    end: {\n        x: 0,\n        y: 0\n    }\n}, rectCrosshair = {\n    start: {\n        x: 0,\n        y: 0\n    },\n    end: {\n        x: 0,\n        y: 0\n    },\n    rectStyle: {\n        width: 10,\n        height: 10\n    }\n}, sectorCrosshair = {\n    center: {\n        x: 0,\n        y: 0\n    },\n    radius: 100,\n    startAngle: 0,\n    endAngle: Math.PI / 6\n}, circleCrosshair = {\n    center: {\n        x: 0,\n        y: 0\n    },\n    radius: 100,\n    startAngle: 0,\n    endAngle: 2 * Math.PI\n}, polygonCrosshair = {\n    center: {\n        x: 0,\n        y: 0\n    },\n    radius: 100,\n    startAngle: 0,\n    endAngle: 2 * Math.PI,\n    sides: 6\n}, slider = {\n    layout: \"horizontal\",\n    railWidth: 200,\n    railHeight: 10,\n    railStyle: {\n        cornerRadius: 5\n    },\n    range: {\n        draggableTrack: !0\n    },\n    startText: {\n        visible: !0,\n        text: \"\",\n        space: 8\n    },\n    endText: {\n        visible: !0,\n        text: \"\",\n        space: 8\n    },\n    min: 0,\n    max: 1,\n    value: [ 0, 1 ]\n};\n\nconst dataLabel = {\n    size: {\n        width: 400,\n        height: 400\n    },\n    dataLabels: []\n};\n\nconst lineDataLabel = {\n    type: \"line-data\",\n    data: [ {\n        text: \"\"\n    } ],\n    position: \"top\",\n    overlap: {\n        avoidBaseMark: !1,\n        clampForce: !1\n    },\n    smartInvert: !1\n};\n\nconst lineLabel = {\n    type: \"line\",\n    data: [ {\n        text: \"\",\n        data: {}\n    } ],\n    position: \"start\",\n    overlap: {\n        avoidBaseMark: !1,\n        clampForce: !1,\n        size: {\n            width: 1e3,\n            height: 1e3\n        }\n    },\n    smartInvert: !1\n};\n\nconst areaLabel = {\n    type: \"area\",\n    data: [ {\n        text: \"\",\n        data: {}\n    } ],\n    position: \"end\",\n    overlap: {\n        avoidBaseMark: !1,\n        clampForce: !1,\n        size: {\n            width: 1e3,\n            height: 1e3\n        }\n    },\n    smartInvert: !1\n};\n\nconst rectLabel = {\n    type: \"rect\",\n    data: [ {\n        text: \"\",\n        fill: \"#606773\",\n        data: {}\n    } ],\n    position: \"top\",\n    overlap: {\n        size: {\n            width: 1e3,\n            height: 1e3\n        },\n        strategy: [ {\n            type: \"position\"\n        } ]\n    },\n    smartInvert: !1\n};\n\nconst symbolLabel = {\n    type: \"symbol\",\n    data: [ {\n        text: \"\",\n        fill: \"#606773\",\n        data: {}\n    } ],\n    position: \"top\",\n    overlap: {\n        avoidBaseMark: !0,\n        size: {\n            width: 1e3,\n            height: 1e3\n        },\n        strategy: [ {\n            type: \"position\"\n        } ]\n    },\n    smartInvert: !1\n};\n\nconst arcLabel = {\n    type: \"arc\",\n    data: [ {\n        text: \"\",\n        fill: \"#606773\",\n        data: {}\n    } ],\n    width: 800,\n    height: 600,\n    position: \"outside\",\n    zIndex: 302\n};\n\nconst pointLabel = {\n    data: [ {\n        text: \"\",\n        fill: \"#606773\",\n        data: {}\n    } ],\n    overlap: {\n        avoidBaseMark: !1,\n        clampForce: !1,\n        size: {\n            width: 1e3,\n            height: 1e3\n        }\n    },\n    smartInvert: !1\n};\n\nconst datazoom = {\n    orient: \"bottom\",\n    showDetail: \"auto\",\n    brushSelect: !0,\n    start: 0,\n    end: 1,\n    position: {\n        x: 0,\n        y: 0\n    },\n    size: {\n        width: 500,\n        height: 40\n    },\n    previewData: []\n};\n\nconst continuousPlayer = {};\n\nconst discretePlayer = {};\n\nconst tooltip = {};\n\nconst title = {\n    textStyle: {\n        fill: \"#21252c\"\n    },\n    subtextStyle: {\n        fill: \"#606773\"\n    }\n};\n\nconst scrollbar = {\n    width: 12,\n    height: 12,\n    padding: [ 2, 2 ],\n    railStyle: {\n        fill: \"rgba(0, 0, 0, .1)\"\n    }\n};\n\nconst defaultComponentTheme = {\n    axis: axis,\n    circleAxis: circleAxis,\n    grid: grid,\n    circleGrid: circleGrid,\n    discreteLegend: discreteLegend,\n    colorLegend: colorLegend,\n    sizeLegend: sizeLegend,\n    lineCrosshair: lineCrosshair,\n    rectCrosshair: rectCrosshair,\n    sectorCrosshair: sectorCrosshair,\n    circleCrosshair: circleCrosshair,\n    polygonCrosshair: polygonCrosshair,\n    slider: slider,\n    dataLabel: dataLabel,\n    pointLabel: pointLabel,\n    lineLabel: lineLabel,\n    areaLabel: areaLabel,\n    rectLabel: rectLabel,\n    symbolLabel: symbolLabel,\n    arcLabel: arcLabel,\n    lineDataLabel: lineDataLabel,\n    datazoom: datazoom,\n    continuousPlayer: continuousPlayer,\n    discretePlayer: discretePlayer,\n    tooltip: tooltip,\n    title: title,\n    scrollbar: scrollbar\n};\n//# sourceMappingURL=component.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvY29tbW9uL2NvbXBvbmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsS0FBSztBQUNMO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRU87O0FBRUE7O0FBRUE7O0FBRUE7QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RoZW1lL2NvbW1vbi9jb21wb25lbnQuanM/MjkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBheGlzID0ge1xuICAgIGxhYmVsOiB7XG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICBpbnNpZGU6ICExLFxuICAgICAgICBzcGFjZTogNCxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgIGZpbGw6IFwiIzg5OTA5ZFwiLFxuICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRpY2s6IHtcbiAgICAgICAgdmlzaWJsZTogITAsXG4gICAgICAgIGluc2lkZTogITEsXG4gICAgICAgIGFsaWduV2l0aExhYmVsOiAhMCxcbiAgICAgICAgbGVuZ3RoOiA0LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgbGluZVdpZHRoOiAxLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIiNEOURERTRcIixcbiAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDFcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3ViVGljazoge1xuICAgICAgICB2aXNpYmxlOiAhMSxcbiAgICAgICAgaW5zaWRlOiAhMSxcbiAgICAgICAgY291bnQ6IDQsXG4gICAgICAgIGxlbmd0aDogMixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICAgIHN0cm9rZTogXCIjRDlEREU0XCIsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgdmlzaWJsZTogITAsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBsaW5lV2lkdGg6IDEsXG4gICAgICAgICAgICBzdHJva2U6IFwiI0Q5RERFNFwiLFxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICBpdGVtczogW10sXG4gICAgc3RhcnQ6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sXG4gICAgZW5kOiB7XG4gICAgICAgIHg6IDEwMCxcbiAgICAgICAgeTogMFxuICAgIH0sXG4gICAgeDogMCxcbiAgICB5OiAwXG59LCBjaXJjbGVBeGlzID0ge1xuICAgIHRpdGxlOiB7XG4gICAgICAgIHNwYWNlOiA0LFxuICAgICAgICBwYWRkaW5nOiBbIDAsIDAsIDAsIDAgXSxcbiAgICAgICAgdGV4dFN0eWxlOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICBmaWxsOiBcIiMzMzMzMzNcIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMVxuICAgICAgICB9LFxuICAgICAgICB0ZXh0OiBcInRoZXRhXCJcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICBpbnNpZGU6ICExLFxuICAgICAgICBzcGFjZTogNCxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgIGZpbGw6IFwiIzZGNkY2RlwiLFxuICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRpY2s6IHtcbiAgICAgICAgdmlzaWJsZTogITAsXG4gICAgICAgIGluc2lkZTogITEsXG4gICAgICAgIGFsaWduV2l0aExhYmVsOiAhMCxcbiAgICAgICAgbGVuZ3RoOiA0LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgbGluZVdpZHRoOiAxLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIiNEOURERTRcIixcbiAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDFcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3ViVGljazoge1xuICAgICAgICB2aXNpYmxlOiAhMSxcbiAgICAgICAgaW5zaWRlOiAhMSxcbiAgICAgICAgY291bnQ6IDQsXG4gICAgICAgIGxlbmd0aDogMixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICAgIHN0cm9rZTogXCIjRDlEREU0XCIsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgdmlzaWJsZTogITAsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBsaW5lV2lkdGg6IDEsXG4gICAgICAgICAgICBzdHJva2U6IFwiI0Q5RERFNFwiLFxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICBpdGVtczogW10sXG4gICAgc3RhcnRBbmdsZTogMCxcbiAgICBlbmRBbmdsZTogMiAqIE1hdGguUEksXG4gICAgcmFkaXVzOiAxMDAsXG4gICAgaW5uZXJSYWRpdXM6IDAsXG4gICAgY2VudGVyOiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICB9LFxuICAgIHg6IDAsXG4gICAgeTogMFxufSwgZ3JpZCA9IHtcbiAgICBzdHlsZToge1xuICAgICAgICBzdHJva2U6IFwiI2YxZjJmNVwiXG4gICAgfVxufSwgY2lyY2xlR3JpZCA9IHtcbiAgICBzdHlsZToge1xuICAgICAgICBzdHJva2U6IFwiI2YxZjJmNVwiXG4gICAgfVxufSwgZGlzY3JldGVMZWdlbmQgPSB7XG4gICAgbGF5b3V0OiBcInZlcnRpY2FsXCIsXG4gICAgdGl0bGU6IHtcbiAgICAgICAgYWxpZ246IFwic3RhcnRcIixcbiAgICAgICAgc3BhY2U6IDEyLFxuICAgICAgICB0ZXh0U3R5bGU6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgZmlsbDogXCIjMkMzNTQyXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaXRlbToge1xuICAgICAgICBzcGFjZUNvbDogMTAsXG4gICAgICAgIHNwYWNlUm93OiAxMCxcbiAgICAgICAgc2hhcGU6IHtcbiAgICAgICAgICAgIHNwYWNlOiA0LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBzaXplOiAxMCxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEhvdmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IC44NVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdW5TZWxlY3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBmaWxsOiBcIiNEOEQ4RDhcIixcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBcIiNEOEQ4RDhcIixcbiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC41XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgc3BhY2U6IDQsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICBmaWxsOiBcImJsYWNrXCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRIb3Zlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAuODVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVuU2VsZWN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogXCIjRDhEOEQ4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuNVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIGFsaWduUmlnaHQ6ICExLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgICAgZmlsbDogXCIjY2NjXCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRIb3Zlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAuODVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVuU2VsZWN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogXCIjRDhEOEQ4XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRIb3Zlcjoge1xuICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogLjcsXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IFwiZ3JheVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1blNlbGVjdGVkSG92ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC4yLFxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBcImdyYXlcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXM6ICExLFxuICAgICAgICBmb2N1c0ljb25TdHlsZToge1xuICAgICAgICAgICAgc2l6ZTogMTAsXG4gICAgICAgICAgICBmaWxsOiBcIiMzMzNcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogITAsXG4gICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgIHRvcDogMixcbiAgICAgICAgICAgIGJvdHRvbTogMixcbiAgICAgICAgICAgIGxlZnQ6IDIsXG4gICAgICAgICAgICByaWdodDogMlxuICAgICAgICB9XG4gICAgfSxcbiAgICBhdXRvUGFnZTogITAsXG4gICAgcGFnZXI6IHtcbiAgICAgICAgc3BhY2U6IDEyLFxuICAgICAgICBoYW5kbGVyOiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHNpemU6IDEwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3BhY2U6IDRcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaG92ZXI6ICEwLFxuICAgIHNlbGVjdDogITAsXG4gICAgc2VsZWN0TW9kZTogXCJtdWx0aXBsZVwiLFxuICAgIGFsbG93QWxsQ2FuY2VsZWQ6ICExLFxuICAgIGl0ZW1zOiBbIHtcbiAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgIGlkOiBcIlwiLFxuICAgICAgICBsYWJlbDogXCJcIixcbiAgICAgICAgc2hhcGU6IHtcbiAgICAgICAgICAgIGZpbGw6IFwiIzY2OTBGMlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIiM2NjkwRjJcIixcbiAgICAgICAgICAgIHN5bWJvbFR5cGU6IFwiY2lyY2xlXCJcbiAgICAgICAgfVxuICAgIH0gXVxufSwgY29sb3JMZWdlbmQgPSB7XG4gICAgdGl0bGU6IHtcbiAgICAgICAgdmlzaWJsZTogITEsXG4gICAgICAgIHRleHQ6IFwiXCJcbiAgICB9LFxuICAgIGNvbG9yczogW10sXG4gICAgbGF5b3V0OiBcImhvcml6b250YWxcIixcbiAgICByYWlsV2lkdGg6IDIwMCxcbiAgICByYWlsSGVpZ2h0OiA4LFxuICAgIHJhaWxTdHlsZToge1xuICAgICAgICBjb3JuZXJSYWRpdXM6IDVcbiAgICB9XG59LCBzaXplTGVnZW5kID0ge1xuICAgIHRpdGxlOiB7XG4gICAgICAgIHZpc2libGU6ICExLFxuICAgICAgICB0ZXh0OiBcIlwiXG4gICAgfSxcbiAgICB0cmFja1N0eWxlOiB7XG4gICAgICAgIGZpbGw6IFwiI2NjY1wiXG4gICAgfSxcbiAgICBsYXlvdXQ6IFwiaG9yaXpvbnRhbFwiLFxuICAgIGFsaWduOiBcImJvdHRvbVwiLFxuICAgIHJhaWxXaWR0aDogMjAwLFxuICAgIHJhaWxIZWlnaHQ6IDYsXG4gICAgbWluOiAwLFxuICAgIG1heDogMSxcbiAgICB2YWx1ZTogWyAwLCAxIF1cbn0sIGxpbmVDcm9zc2hhaXIgPSB7XG4gICAgc3RhcnQ6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sXG4gICAgZW5kOiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICB9XG59LCByZWN0Q3Jvc3NoYWlyID0ge1xuICAgIHN0YXJ0OiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICB9LFxuICAgIGVuZDoge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfSxcbiAgICByZWN0U3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IDEwLFxuICAgICAgICBoZWlnaHQ6IDEwXG4gICAgfVxufSwgc2VjdG9yQ3Jvc3NoYWlyID0ge1xuICAgIGNlbnRlcjoge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfSxcbiAgICByYWRpdXM6IDEwMCxcbiAgICBzdGFydEFuZ2xlOiAwLFxuICAgIGVuZEFuZ2xlOiBNYXRoLlBJIC8gNlxufSwgY2lyY2xlQ3Jvc3NoYWlyID0ge1xuICAgIGNlbnRlcjoge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfSxcbiAgICByYWRpdXM6IDEwMCxcbiAgICBzdGFydEFuZ2xlOiAwLFxuICAgIGVuZEFuZ2xlOiAyICogTWF0aC5QSVxufSwgcG9seWdvbkNyb3NzaGFpciA9IHtcbiAgICBjZW50ZXI6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sXG4gICAgcmFkaXVzOiAxMDAsXG4gICAgc3RhcnRBbmdsZTogMCxcbiAgICBlbmRBbmdsZTogMiAqIE1hdGguUEksXG4gICAgc2lkZXM6IDZcbn0sIHNsaWRlciA9IHtcbiAgICBsYXlvdXQ6IFwiaG9yaXpvbnRhbFwiLFxuICAgIHJhaWxXaWR0aDogMjAwLFxuICAgIHJhaWxIZWlnaHQ6IDEwLFxuICAgIHJhaWxTdHlsZToge1xuICAgICAgICBjb3JuZXJSYWRpdXM6IDVcbiAgICB9LFxuICAgIHJhbmdlOiB7XG4gICAgICAgIGRyYWdnYWJsZVRyYWNrOiAhMFxuICAgIH0sXG4gICAgc3RhcnRUZXh0OiB7XG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBzcGFjZTogOFxuICAgIH0sXG4gICAgZW5kVGV4dDoge1xuICAgICAgICB2aXNpYmxlOiAhMCxcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgc3BhY2U6IDhcbiAgICB9LFxuICAgIG1pbjogMCxcbiAgICBtYXg6IDEsXG4gICAgdmFsdWU6IFsgMCwgMSBdXG59O1xuXG5leHBvcnQgY29uc3QgZGF0YUxhYmVsID0ge1xuICAgIHNpemU6IHtcbiAgICAgICAgd2lkdGg6IDQwMCxcbiAgICAgICAgaGVpZ2h0OiA0MDBcbiAgICB9LFxuICAgIGRhdGFMYWJlbHM6IFtdXG59O1xuXG5leHBvcnQgY29uc3QgbGluZURhdGFMYWJlbCA9IHtcbiAgICB0eXBlOiBcImxpbmUtZGF0YVwiLFxuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiXG4gICAgfSBdLFxuICAgIHBvc2l0aW9uOiBcInRvcFwiLFxuICAgIG92ZXJsYXA6IHtcbiAgICAgICAgYXZvaWRCYXNlTWFyazogITEsXG4gICAgICAgIGNsYW1wRm9yY2U6ICExXG4gICAgfSxcbiAgICBzbWFydEludmVydDogITFcbn07XG5cbmV4cG9ydCBjb25zdCBsaW5lTGFiZWwgPSB7XG4gICAgdHlwZTogXCJsaW5lXCIsXG4gICAgZGF0YTogWyB7XG4gICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgfSBdLFxuICAgIHBvc2l0aW9uOiBcInN0YXJ0XCIsXG4gICAgb3ZlcmxhcDoge1xuICAgICAgICBhdm9pZEJhc2VNYXJrOiAhMSxcbiAgICAgICAgY2xhbXBGb3JjZTogITEsXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIHdpZHRoOiAxZTMsXG4gICAgICAgICAgICBoZWlnaHQ6IDFlM1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzbWFydEludmVydDogITFcbn07XG5cbmV4cG9ydCBjb25zdCBhcmVhTGFiZWwgPSB7XG4gICAgdHlwZTogXCJhcmVhXCIsXG4gICAgZGF0YTogWyB7XG4gICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgfSBdLFxuICAgIHBvc2l0aW9uOiBcImVuZFwiLFxuICAgIG92ZXJsYXA6IHtcbiAgICAgICAgYXZvaWRCYXNlTWFyazogITEsXG4gICAgICAgIGNsYW1wRm9yY2U6ICExLFxuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogMWUzLFxuICAgICAgICAgICAgaGVpZ2h0OiAxZTNcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc21hcnRJbnZlcnQ6ICExXG59O1xuXG5leHBvcnQgY29uc3QgcmVjdExhYmVsID0ge1xuICAgIHR5cGU6IFwicmVjdFwiLFxuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBmaWxsOiBcIiM2MDY3NzNcIixcbiAgICAgICAgZGF0YToge31cbiAgICB9IF0sXG4gICAgcG9zaXRpb246IFwidG9wXCIsXG4gICAgb3ZlcmxhcDoge1xuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogMWUzLFxuICAgICAgICAgICAgaGVpZ2h0OiAxZTNcbiAgICAgICAgfSxcbiAgICAgICAgc3RyYXRlZ3k6IFsge1xuICAgICAgICAgICAgdHlwZTogXCJwb3NpdGlvblwiXG4gICAgICAgIH0gXVxuICAgIH0sXG4gICAgc21hcnRJbnZlcnQ6ICExXG59O1xuXG5leHBvcnQgY29uc3Qgc3ltYm9sTGFiZWwgPSB7XG4gICAgdHlwZTogXCJzeW1ib2xcIixcbiAgICBkYXRhOiBbIHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgZmlsbDogXCIjNjA2NzczXCIsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgfSBdLFxuICAgIHBvc2l0aW9uOiBcInRvcFwiLFxuICAgIG92ZXJsYXA6IHtcbiAgICAgICAgYXZvaWRCYXNlTWFyazogITAsXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIHdpZHRoOiAxZTMsXG4gICAgICAgICAgICBoZWlnaHQ6IDFlM1xuICAgICAgICB9LFxuICAgICAgICBzdHJhdGVneTogWyB7XG4gICAgICAgICAgICB0eXBlOiBcInBvc2l0aW9uXCJcbiAgICAgICAgfSBdXG4gICAgfSxcbiAgICBzbWFydEludmVydDogITFcbn07XG5cbmV4cG9ydCBjb25zdCBhcmNMYWJlbCA9IHtcbiAgICB0eXBlOiBcImFyY1wiLFxuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBmaWxsOiBcIiM2MDY3NzNcIixcbiAgICAgICAgZGF0YToge31cbiAgICB9IF0sXG4gICAgd2lkdGg6IDgwMCxcbiAgICBoZWlnaHQ6IDYwMCxcbiAgICBwb3NpdGlvbjogXCJvdXRzaWRlXCIsXG4gICAgekluZGV4OiAzMDJcbn07XG5cbmV4cG9ydCBjb25zdCBwb2ludExhYmVsID0ge1xuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBmaWxsOiBcIiM2MDY3NzNcIixcbiAgICAgICAgZGF0YToge31cbiAgICB9IF0sXG4gICAgb3ZlcmxhcDoge1xuICAgICAgICBhdm9pZEJhc2VNYXJrOiAhMSxcbiAgICAgICAgY2xhbXBGb3JjZTogITEsXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIHdpZHRoOiAxZTMsXG4gICAgICAgICAgICBoZWlnaHQ6IDFlM1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzbWFydEludmVydDogITFcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRhem9vbSA9IHtcbiAgICBvcmllbnQ6IFwiYm90dG9tXCIsXG4gICAgc2hvd0RldGFpbDogXCJhdXRvXCIsXG4gICAgYnJ1c2hTZWxlY3Q6ICEwLFxuICAgIHN0YXJ0OiAwLFxuICAgIGVuZDogMSxcbiAgICBwb3NpdGlvbjoge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfSxcbiAgICBzaXplOiB7XG4gICAgICAgIHdpZHRoOiA1MDAsXG4gICAgICAgIGhlaWdodDogNDBcbiAgICB9LFxuICAgIHByZXZpZXdEYXRhOiBbXVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbnRpbnVvdXNQbGF5ZXIgPSB7fTtcblxuZXhwb3J0IGNvbnN0IGRpc2NyZXRlUGxheWVyID0ge307XG5cbmV4cG9ydCBjb25zdCB0b29sdGlwID0ge307XG5cbmV4cG9ydCBjb25zdCB0aXRsZSA9IHtcbiAgICB0ZXh0U3R5bGU6IHtcbiAgICAgICAgZmlsbDogXCIjMjEyNTJjXCJcbiAgICB9LFxuICAgIHN1YnRleHRTdHlsZToge1xuICAgICAgICBmaWxsOiBcIiM2MDY3NzNcIlxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzY3JvbGxiYXIgPSB7XG4gICAgd2lkdGg6IDEyLFxuICAgIGhlaWdodDogMTIsXG4gICAgcGFkZGluZzogWyAyLCAyIF0sXG4gICAgcmFpbFN0eWxlOiB7XG4gICAgICAgIGZpbGw6IFwicmdiYSgwLCAwLCAwLCAuMSlcIlxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29tcG9uZW50VGhlbWUgPSB7XG4gICAgYXhpczogYXhpcyxcbiAgICBjaXJjbGVBeGlzOiBjaXJjbGVBeGlzLFxuICAgIGdyaWQ6IGdyaWQsXG4gICAgY2lyY2xlR3JpZDogY2lyY2xlR3JpZCxcbiAgICBkaXNjcmV0ZUxlZ2VuZDogZGlzY3JldGVMZWdlbmQsXG4gICAgY29sb3JMZWdlbmQ6IGNvbG9yTGVnZW5kLFxuICAgIHNpemVMZWdlbmQ6IHNpemVMZWdlbmQsXG4gICAgbGluZUNyb3NzaGFpcjogbGluZUNyb3NzaGFpcixcbiAgICByZWN0Q3Jvc3NoYWlyOiByZWN0Q3Jvc3NoYWlyLFxuICAgIHNlY3RvckNyb3NzaGFpcjogc2VjdG9yQ3Jvc3NoYWlyLFxuICAgIGNpcmNsZUNyb3NzaGFpcjogY2lyY2xlQ3Jvc3NoYWlyLFxuICAgIHBvbHlnb25Dcm9zc2hhaXI6IHBvbHlnb25Dcm9zc2hhaXIsXG4gICAgc2xpZGVyOiBzbGlkZXIsXG4gICAgZGF0YUxhYmVsOiBkYXRhTGFiZWwsXG4gICAgcG9pbnRMYWJlbDogcG9pbnRMYWJlbCxcbiAgICBsaW5lTGFiZWw6IGxpbmVMYWJlbCxcbiAgICBhcmVhTGFiZWw6IGFyZWFMYWJlbCxcbiAgICByZWN0TGFiZWw6IHJlY3RMYWJlbCxcbiAgICBzeW1ib2xMYWJlbDogc3ltYm9sTGFiZWwsXG4gICAgYXJjTGFiZWw6IGFyY0xhYmVsLFxuICAgIGxpbmVEYXRhTGFiZWw6IGxpbmVEYXRhTGFiZWwsXG4gICAgZGF0YXpvb206IGRhdGF6b29tLFxuICAgIGNvbnRpbnVvdXNQbGF5ZXI6IGNvbnRpbnVvdXNQbGF5ZXIsXG4gICAgZGlzY3JldGVQbGF5ZXI6IGRpc2NyZXRlUGxheWVyLFxuICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgdGl0bGU6IHRpdGxlLFxuICAgIHNjcm9sbGJhcjogc2Nyb2xsYmFyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/component.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_PADDING: () => (/* binding */ DEFAULT_PADDING)\n/* harmony export */ });\nconst DEFAULT_PADDING = 5;\n//# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvY29tbW9uL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90aGVtZS9jb21tb24vY29uc3RhbnRzLmpzP2FlMzMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IERFRkFVTFRfUEFERElORyA9IDU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultMarkTheme: () => (/* binding */ defaultMarkTheme)\n/* harmony export */ });\nconst defaultMarkTheme = {\n    symbol: {\n        shape: \"circle\",\n        size: 8\n    },\n    text: {\n        fontSize: 14,\n        fill: \"#000000\"\n    }\n};\n//# sourceMappingURL=mark.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvY29tbW9uL21hcmsuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90aGVtZS9jb21tb24vbWFyay5qcz9kY2ZiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBkZWZhdWx0TWFya1RoZW1lID0ge1xuICAgIHN5bWJvbDoge1xuICAgICAgICBzaGFwZTogXCJjaXJjbGVcIixcbiAgICAgICAgc2l6ZTogOFxuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgIGZpbGw6IFwiIzAwMDAwMFwiXG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcmsuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/dark.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/dark.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   darkTheme: () => (/* binding */ darkTheme)\n/* harmony export */ });\n/* harmony import */ var _common_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/component.js\");\n/* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js\");\n/* harmony import */ var _common_mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js\");\n\n\n\n\n\n\nconst darkComponents = Object.assign({}, _common_component__WEBPACK_IMPORTED_MODULE_0__.defaultComponentTheme);\n\ndarkComponents.axis = Object.assign({}, darkComponents.axis, {\n    label: {\n        style: {\n            fill: \"#bbbdc3\"\n        }\n    },\n    line: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    },\n    tick: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    },\n    subTick: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    }\n}), darkComponents.circleAxis = Object.assign({}, darkComponents.circleAxis, {\n    label: {\n        style: {\n            fill: \"#bbbdc3\"\n        }\n    },\n    line: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    },\n    tick: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    },\n    subTick: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    }\n}), darkComponents.grid = Object.assign({}, darkComponents.grid, {\n    style: {\n        stroke: \"#404349\"\n    }\n}), darkComponents.circleGrid = Object.assign({}, darkComponents.circleGrid, {\n    style: {\n        stroke: \"#404349\"\n    }\n}), darkComponents.rectLabel = Object.assign({}, darkComponents.rectLabel, {\n    data: [ {\n        text: \"\",\n        fill: \"#888c93\",\n        data: {}\n    } ]\n}), darkComponents.lineLabel = Object.assign({}, darkComponents.lineLabel, {\n    data: [ {\n        text: \"\",\n        fill: \"#888c93\",\n        data: {}\n    } ]\n}), darkComponents.symbolLabel = Object.assign({}, darkComponents.symbolLabel, {\n    data: [ {\n        text: \"\",\n        fill: \"#888c93\",\n        data: {}\n    } ]\n}), darkComponents.title = Object.assign({}, darkComponents.title, {\n    textStyle: {\n        fill: \"#fdfdfd\"\n    },\n    subtextStyle: {\n        fill: \"#888c93\"\n    }\n});\n\nconst darkTheme = {\n    name: \"dark\",\n    padding: _common_constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_PADDING,\n    background: \"#202226\",\n    palette: {\n        default: [ \"#5383F4\", \"#7BCF8E\", \"#FF9D2C\", \"#FFDB26\", \"#7568D9\", \"#80D8FB\", \"#1857A3\", \"#CAB0E8\", \"#FF8867\", \"#B9E493\", \"#2CB4A8\", \"#B9E4E3\" ]\n    },\n    marks: _common_mark__WEBPACK_IMPORTED_MODULE_2__.defaultMarkTheme,\n    components: darkComponents\n};\n//# sourceMappingURL=dark.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvZGFyay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEOztBQUVOOztBQUVKOztBQUVqRCx1Q0FBdUMsRUFBRSxvRUFBcUI7O0FBRTlELHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywrQ0FBK0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMseUNBQXlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLENBQUMsK0NBQStDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLENBQUMsZ0RBQWdEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFTTtBQUNQO0FBQ0EsYUFBYSw4REFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVywwREFBZ0I7QUFDM0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RoZW1lL2RhcmsuanM/YzA2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0Q29tcG9uZW50VGhlbWUgfSBmcm9tIFwiLi9jb21tb24vY29tcG9uZW50XCI7XG5cbmltcG9ydCB7IERFRkFVTFRfUEFERElORyB9IGZyb20gXCIuL2NvbW1vbi9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgZGVmYXVsdE1hcmtUaGVtZSB9IGZyb20gXCIuL2NvbW1vbi9tYXJrXCI7XG5cbmNvbnN0IGRhcmtDb21wb25lbnRzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbXBvbmVudFRoZW1lKTtcblxuZGFya0NvbXBvbmVudHMuYXhpcyA9IE9iamVjdC5hc3NpZ24oe30sIGRhcmtDb21wb25lbnRzLmF4aXMsIHtcbiAgICBsYWJlbDoge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZmlsbDogXCIjYmJiZGMzXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgc3Ryb2tlOiBcIiM0YjRmNTRcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICB0aWNrOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBzdHJva2U6IFwiIzRiNGY1NFwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN1YlRpY2s6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHN0cm9rZTogXCIjNGI0ZjU0XCJcbiAgICAgICAgfVxuICAgIH1cbn0pLCBkYXJrQ29tcG9uZW50cy5jaXJjbGVBeGlzID0gT2JqZWN0LmFzc2lnbih7fSwgZGFya0NvbXBvbmVudHMuY2lyY2xlQXhpcywge1xuICAgIGxhYmVsOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBmaWxsOiBcIiNiYmJkYzNcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBzdHJva2U6IFwiIzRiNGY1NFwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRpY2s6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHN0cm9rZTogXCIjNGI0ZjU0XCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3ViVGljazoge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgc3Ryb2tlOiBcIiM0YjRmNTRcIlxuICAgICAgICB9XG4gICAgfVxufSksIGRhcmtDb21wb25lbnRzLmdyaWQgPSBPYmplY3QuYXNzaWduKHt9LCBkYXJrQ29tcG9uZW50cy5ncmlkLCB7XG4gICAgc3R5bGU6IHtcbiAgICAgICAgc3Ryb2tlOiBcIiM0MDQzNDlcIlxuICAgIH1cbn0pLCBkYXJrQ29tcG9uZW50cy5jaXJjbGVHcmlkID0gT2JqZWN0LmFzc2lnbih7fSwgZGFya0NvbXBvbmVudHMuY2lyY2xlR3JpZCwge1xuICAgIHN0eWxlOiB7XG4gICAgICAgIHN0cm9rZTogXCIjNDA0MzQ5XCJcbiAgICB9XG59KSwgZGFya0NvbXBvbmVudHMucmVjdExhYmVsID0gT2JqZWN0LmFzc2lnbih7fSwgZGFya0NvbXBvbmVudHMucmVjdExhYmVsLCB7XG4gICAgZGF0YTogWyB7XG4gICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgIGZpbGw6IFwiIzg4OGM5M1wiLFxuICAgICAgICBkYXRhOiB7fVxuICAgIH0gXVxufSksIGRhcmtDb21wb25lbnRzLmxpbmVMYWJlbCA9IE9iamVjdC5hc3NpZ24oe30sIGRhcmtDb21wb25lbnRzLmxpbmVMYWJlbCwge1xuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBmaWxsOiBcIiM4ODhjOTNcIixcbiAgICAgICAgZGF0YToge31cbiAgICB9IF1cbn0pLCBkYXJrQ29tcG9uZW50cy5zeW1ib2xMYWJlbCA9IE9iamVjdC5hc3NpZ24oe30sIGRhcmtDb21wb25lbnRzLnN5bWJvbExhYmVsLCB7XG4gICAgZGF0YTogWyB7XG4gICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgIGZpbGw6IFwiIzg4OGM5M1wiLFxuICAgICAgICBkYXRhOiB7fVxuICAgIH0gXVxufSksIGRhcmtDb21wb25lbnRzLnRpdGxlID0gT2JqZWN0LmFzc2lnbih7fSwgZGFya0NvbXBvbmVudHMudGl0bGUsIHtcbiAgICB0ZXh0U3R5bGU6IHtcbiAgICAgICAgZmlsbDogXCIjZmRmZGZkXCJcbiAgICB9LFxuICAgIHN1YnRleHRTdHlsZToge1xuICAgICAgICBmaWxsOiBcIiM4ODhjOTNcIlxuICAgIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgZGFya1RoZW1lID0ge1xuICAgIG5hbWU6IFwiZGFya1wiLFxuICAgIHBhZGRpbmc6IERFRkFVTFRfUEFERElORyxcbiAgICBiYWNrZ3JvdW5kOiBcIiMyMDIyMjZcIixcbiAgICBwYWxldHRlOiB7XG4gICAgICAgIGRlZmF1bHQ6IFsgXCIjNTM4M0Y0XCIsIFwiIzdCQ0Y4RVwiLCBcIiNGRjlEMkNcIiwgXCIjRkZEQjI2XCIsIFwiIzc1NjhEOVwiLCBcIiM4MEQ4RkJcIiwgXCIjMTg1N0EzXCIsIFwiI0NBQjBFOFwiLCBcIiNGRjg4NjdcIiwgXCIjQjlFNDkzXCIsIFwiIzJDQjRBOFwiLCBcIiNCOUU0RTNcIiBdXG4gICAgfSxcbiAgICBtYXJrczogZGVmYXVsdE1hcmtUaGVtZSxcbiAgICBjb21wb25lbnRzOiBkYXJrQ29tcG9uZW50c1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhcmsuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/dark.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/default.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/default.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultTheme: () => (/* binding */ defaultTheme)\n/* harmony export */ });\n/* harmony import */ var _common_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/component.js\");\n/* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js\");\n/* harmony import */ var _common_mark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js\");\n\n\n\n\n\n\nconst defaultTheme = {\n    name: \"default\",\n    padding: _common_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PADDING,\n    palette: {\n        default: [ \"#6690F2\", \"#70D6A3\", \"#B4E6E2\", \"#63B5FC\", \"#FF8F62\", \"#FFDC83\", \"#BCC5FD\", \"#A29BFE\", \"#63C4C7\", \"#F68484\" ]\n    },\n    marks: _common_mark__WEBPACK_IMPORTED_MODULE_1__.defaultMarkTheme,\n    components: _common_component__WEBPACK_IMPORTED_MODULE_2__.defaultComponentTheme\n};\n//# sourceMappingURL=default.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvZGVmYXVsdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEOztBQUVOOztBQUVKOztBQUUxQztBQUNQO0FBQ0EsYUFBYSw4REFBZTtBQUM1QjtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsMERBQWdCO0FBQzNCLGdCQUFnQixvRUFBcUI7QUFDckM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90aGVtZS9kZWZhdWx0LmpzPzViZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdENvbXBvbmVudFRoZW1lIH0gZnJvbSBcIi4vY29tbW9uL2NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBERUZBVUxUX1BBRERJTkcgfSBmcm9tIFwiLi9jb21tb24vY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IGRlZmF1bHRNYXJrVGhlbWUgfSBmcm9tIFwiLi9jb21tb24vbWFya1wiO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFRoZW1lID0ge1xuICAgIG5hbWU6IFwiZGVmYXVsdFwiLFxuICAgIHBhZGRpbmc6IERFRkFVTFRfUEFERElORyxcbiAgICBwYWxldHRlOiB7XG4gICAgICAgIGRlZmF1bHQ6IFsgXCIjNjY5MEYyXCIsIFwiIzcwRDZBM1wiLCBcIiNCNEU2RTJcIiwgXCIjNjNCNUZDXCIsIFwiI0ZGOEY2MlwiLCBcIiNGRkRDODNcIiwgXCIjQkNDNUZEXCIsIFwiI0EyOUJGRVwiLCBcIiM2M0M0QzdcIiwgXCIjRjY4NDg0XCIgXVxuICAgIH0sXG4gICAgbWFya3M6IGRlZmF1bHRNYXJrVGhlbWUsXG4gICAgY29tcG9uZW50czogZGVmYXVsdENvbXBvbmVudFRoZW1lXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/default.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeManager: () => (/* binding */ ThemeManager)\n/* harmony export */ });\n/* harmony import */ var _dark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/dark.js\");\n/* harmony import */ var _default__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./default */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/default.js\");\n\n\n\n\nclass ThemeManager {\n    static registerTheme(name, theme) {\n        name && ThemeManager._themes.set(name, theme);\n    }\n    static unregisterTheme(name) {\n        ThemeManager._themes.delete(name);\n    }\n    static getTheme(name) {\n        return ThemeManager._themes.get(name);\n    }\n    static getDefaultTheme() {\n        return ThemeManager.getTheme(\"default\");\n    }\n}\n\nThemeManager._themes = new Map, ThemeManager.registerTheme(\"default\", _default__WEBPACK_IMPORTED_MODULE_0__.defaultTheme), \nThemeManager.registerTheme(\"dark\", _dark__WEBPACK_IMPORTED_MODULE_1__.darkTheme);\n//# sourceMappingURL=theme-manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvdGhlbWUtbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7O0FBRU07O0FBRWxDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0VBQXNFLGtEQUFZO0FBQ2xGLG1DQUFtQyw0Q0FBUztBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90aGVtZS90aGVtZS1tYW5hZ2VyLmpzPzAxMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGFya1RoZW1lIH0gZnJvbSBcIi4vZGFya1wiO1xuXG5pbXBvcnQgeyBkZWZhdWx0VGhlbWUgfSBmcm9tIFwiLi9kZWZhdWx0XCI7XG5cbmV4cG9ydCBjbGFzcyBUaGVtZU1hbmFnZXIge1xuICAgIHN0YXRpYyByZWdpc3RlclRoZW1lKG5hbWUsIHRoZW1lKSB7XG4gICAgICAgIG5hbWUgJiYgVGhlbWVNYW5hZ2VyLl90aGVtZXMuc2V0KG5hbWUsIHRoZW1lKTtcbiAgICB9XG4gICAgc3RhdGljIHVucmVnaXN0ZXJUaGVtZShuYW1lKSB7XG4gICAgICAgIFRoZW1lTWFuYWdlci5fdGhlbWVzLmRlbGV0ZShuYW1lKTtcbiAgICB9XG4gICAgc3RhdGljIGdldFRoZW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFRoZW1lTWFuYWdlci5fdGhlbWVzLmdldChuYW1lKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRUaGVtZSgpIHtcbiAgICAgICAgcmV0dXJuIFRoZW1lTWFuYWdlci5nZXRUaGVtZShcImRlZmF1bHRcIik7XG4gICAgfVxufVxuXG5UaGVtZU1hbmFnZXIuX3RoZW1lcyA9IG5ldyBNYXAsIFRoZW1lTWFuYWdlci5yZWdpc3RlclRoZW1lKFwiZGVmYXVsdFwiLCBkZWZhdWx0VGhlbWUpLCBcblRoZW1lTWFuYWdlci5yZWdpc3RlclRoZW1lKFwiZGFya1wiLCBkYXJrVGhlbWUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhlbWUtbWFuYWdlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/bin.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/bin.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n\n\nconst defaultBins = 10;\n\nconst transform = (options, upstreamData) => {\n    if (!upstreamData || 0 === upstreamData.length) return upstreamData;\n    const {extent: extent, step: step} = options, bins = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.bins) ? Math.max(options.bins, 1) : 10, range = extent[1] - extent[0], binStep = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(step) ? step : range / bins;\n    return upstreamData.map((upstreamDatum => {\n        var _a, _b, _c, _d;\n        const datum = Object.assign({}, upstreamDatum), value = upstreamDatum[options.field], binIndex = Math.floor((value - extent[0]) / binStep), binStart = extent[0] + binIndex * binStep, binEnd = Math.min(extent[1], extent[0] + (binIndex + 1) * binStep);\n        return datum[null !== (_b = null === (_a = options.as) || void 0 === _a ? void 0 : _a[0]) && void 0 !== _b ? _b : \"binStart\"] = binStart, \n        datum[null !== (_d = null === (_c = options.as) || void 0 === _c ? void 0 : _c[1]) && void 0 !== _d ? _d : \"binEnd\"] = binEnd, \n        datum;\n    }));\n};\n//# sourceMappingURL=bin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2Jpbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyQzs7QUFFM0M7O0FBRU87QUFDUDtBQUNBLFdBQVcsNEJBQTRCLGtCQUFrQiw0REFBTywwRkFBMEYsNERBQU87QUFDaks7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvYmluLmpzPzM1YzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNWYWxpZCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmNvbnN0IGRlZmF1bHRCaW5zID0gMTA7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgMCA9PT0gdXBzdHJlYW1EYXRhLmxlbmd0aCkgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbiAgICBjb25zdCB7ZXh0ZW50OiBleHRlbnQsIHN0ZXA6IHN0ZXB9ID0gb3B0aW9ucywgYmlucyA9IGlzVmFsaWQob3B0aW9ucy5iaW5zKSA/IE1hdGgubWF4KG9wdGlvbnMuYmlucywgMSkgOiAxMCwgcmFuZ2UgPSBleHRlbnRbMV0gLSBleHRlbnRbMF0sIGJpblN0ZXAgPSBpc1ZhbGlkKHN0ZXApID8gc3RlcCA6IHJhbmdlIC8gYmlucztcbiAgICByZXR1cm4gdXBzdHJlYW1EYXRhLm1hcCgodXBzdHJlYW1EYXR1bSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgY29uc3QgZGF0dW0gPSBPYmplY3QuYXNzaWduKHt9LCB1cHN0cmVhbURhdHVtKSwgdmFsdWUgPSB1cHN0cmVhbURhdHVtW29wdGlvbnMuZmllbGRdLCBiaW5JbmRleCA9IE1hdGguZmxvb3IoKHZhbHVlIC0gZXh0ZW50WzBdKSAvIGJpblN0ZXApLCBiaW5TdGFydCA9IGV4dGVudFswXSArIGJpbkluZGV4ICogYmluU3RlcCwgYmluRW5kID0gTWF0aC5taW4oZXh0ZW50WzFdLCBleHRlbnRbMF0gKyAoYmluSW5kZXggKyAxKSAqIGJpblN0ZXApO1xuICAgICAgICByZXR1cm4gZGF0dW1bbnVsbCAhPT0gKF9iID0gbnVsbCA9PT0gKF9hID0gb3B0aW9ucy5hcykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hWzBdKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBcImJpblN0YXJ0XCJdID0gYmluU3RhcnQsIFxuICAgICAgICBkYXR1bVtudWxsICE9PSAoX2QgPSBudWxsID09PSAoX2MgPSBvcHRpb25zLmFzKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2NbMV0pICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IFwiYmluRW5kXCJdID0gYmluRW5kLCBcbiAgICAgICAgZGF0dW07XG4gICAgfSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/bin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/circular-relation.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/circular-relation.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/view-box.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/toPercent.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/extent.js\");\n\n\n\n\nconst transform = (options, upstreamData) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n    if (!upstreamData || 0 === upstreamData.length) return [];\n    const viewBox = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.parseViewBox)(options), startAngle = null !== (_a = options.startAngle) && void 0 !== _a ? _a : 0, endAngle = null !== (_b = options.endAngle) && void 0 !== _b ? _b : 2 * Math.PI, maxRadius = Math.max(viewBox.width / 2, viewBox.height / 2), innerRadius = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(null !== (_c = options.innerRadius) && void 0 !== _c ? _c : 0, maxRadius), outerRadius = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(options.outerRadius, maxRadius), center = [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null === (_d = options.center) || void 0 === _d ? void 0 : _d[0]) ? options.center[0] : viewBox.x0 + (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(null !== (_f = null === (_e = options.center) || void 0 === _e ? void 0 : _e[0]) && void 0 !== _f ? _f : \"50%\", viewBox.width), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null === (_g = options.center) || void 0 === _g ? void 0 : _g[1]) ? options.center[1] : viewBox.y0 + (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(null !== (_j = null === (_h = options.center) || void 0 === _h ? void 0 : _h[1]) && void 0 !== _j ? _j : \"50%\", viewBox.height) ], fieldAccessor = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_3__.field)(options.field), values = upstreamData.map(fieldAccessor), [min, max] = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__.extent)(values), radiusScale = min === max ? val => (innerRadius + outerRadius) / 2 : val => innerRadius + (outerRadius - innerRadius) * (val - min) / (max - min), sizeAccessor = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(options.radiusField) ? fieldAccessor : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_3__.field)(options.radiusField), defaultSize = null !== (_l = null === (_k = null == options ? void 0 : options.radiusRange) || void 0 === _k ? void 0 : _k[1]) && void 0 !== _l ? _l : 5;\n    let sizeScale = datum => defaultSize;\n    if (sizeAccessor) {\n        const [minSize, maxSize] = sizeAccessor !== fieldAccessor ? (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__.extent)(upstreamData.map(sizeAccessor)) : [ min, max ], minR = null !== (_o = null === (_m = options.radiusRange) || void 0 === _m ? void 0 : _m[0]) && void 0 !== _o ? _o : 5, maxR = null !== (_q = null === (_p = options.radiusRange) || void 0 === _p ? void 0 : _p[1]) && void 0 !== _q ? _q : 5;\n        minSize !== maxSize && (sizeScale = datum => minR + (maxR - minR) * (sizeAccessor(datum) - minSize) / (maxSize - minSize));\n    }\n    const minAngle = Math.min(startAngle, endAngle), maxAngle = Math.max(startAngle, endAngle), angles = getPartialAngles(minAngle, maxAngle, upstreamData.length), res = [], searchAngle = (maxAngle - minAngle) / 60;\n    return upstreamData.forEach(((datum, index) => {\n        const radius = radiusScale(values[index]), size = sizeScale(datum);\n        let x, y, angle = angles[index];\n        for (let i = 0; i < 60 && (x = center[0] + radius * Math.cos(angle), y = center[1] + radius * Math.sin(angle), \n        hasOverlap({\n            x: x,\n            y: y,\n            radius: size\n        }, res) || x - size < viewBox.x0 || x + size > viewBox.x1 || y - size < viewBox.y0 || y + size > viewBox.y1); i++) i < 59 && (angle += searchAngle, \n        angle > maxAngle ? angle = minAngle : angle < minAngle && (angle = maxAngle));\n        res.push({\n            x: x,\n            y: y,\n            radius: size,\n            datum: datum\n        });\n    })), res;\n};\n\nconst getPartialAngles = (minAngle, maxAngle, count) => {\n    let offsetAngle = 0, stepCount = Math.max(Math.ceil(2 * (maxAngle - minAngle) / Math.PI), 2), stepAngle = (maxAngle - minAngle) / stepCount, stepIndex = 0, stepSign = 1, i = 0, j = 0;\n    const res = [];\n    let startAngle = minAngle;\n    for (;i < count; ) j < stepCount && (res.push(startAngle + (j % 2 ? Math.floor(j / 2) + Math.floor(stepCount / 2) : j / 2) * stepAngle * stepSign), \n    j++), i++, j === stepCount && (j = 0, stepIndex += 1, stepSign *= -1, 0 === offsetAngle ? offsetAngle = stepAngle / 2 : offsetAngle /= 2, \n    startAngle = -1 === stepSign ? maxAngle - offsetAngle : minAngle + offsetAngle, \n    stepIndex >= 2 && (stepAngle /= 2, stepCount *= 2));\n    return res;\n}, hasOverlap = (item, arr) => !(!arr || !arr.length) && arr.some((entry => Math.pow(item.x - entry.x, 2) + Math.pow(item.y - entry.y, 2) < Math.pow(item.radius + entry.radius, 2)));\n//# sourceMappingURL=circular-relation.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2NpcmN1bGFyLXJlbGF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUQ7O0FBRWtEOztBQUU5RjtBQUNQO0FBQ0E7QUFDQSxvQkFBb0IscUVBQVksa1BBQWtQLGtFQUFTLDBGQUEwRixrRUFBUyw2Q0FBNkMsNERBQVEsc0dBQXNHLGtFQUFTLGlJQUFpSSw0REFBUSxzR0FBc0csa0VBQVMsb0pBQW9KLDhEQUFnQix3RUFBd0UsK0RBQU0sNEtBQTRLLDREQUFLLHdDQUF3Qyw4REFBZ0I7QUFDcnZDO0FBQ0E7QUFDQSxvRUFBb0UsK0RBQU07QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2R0FBNkc7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsV0FBVztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvY2lyY3VsYXItcmVsYXRpb24uanM/YzNmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgaXNOdW1iZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBmaWVsZCBhcyBnZXRGaWVsZEFjY2Vzc29yLCBleHRlbnQsIHBhcnNlVmlld0JveCwgdG9QZXJjZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3E7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgMCA9PT0gdXBzdHJlYW1EYXRhLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IHZpZXdCb3ggPSBwYXJzZVZpZXdCb3gob3B0aW9ucyksIHN0YXJ0QW5nbGUgPSBudWxsICE9PSAoX2EgPSBvcHRpb25zLnN0YXJ0QW5nbGUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDAsIGVuZEFuZ2xlID0gbnVsbCAhPT0gKF9iID0gb3B0aW9ucy5lbmRBbmdsZSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMiAqIE1hdGguUEksIG1heFJhZGl1cyA9IE1hdGgubWF4KHZpZXdCb3gud2lkdGggLyAyLCB2aWV3Qm94LmhlaWdodCAvIDIpLCBpbm5lclJhZGl1cyA9IHRvUGVyY2VudChudWxsICE9PSAoX2MgPSBvcHRpb25zLmlubmVyUmFkaXVzKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAwLCBtYXhSYWRpdXMpLCBvdXRlclJhZGl1cyA9IHRvUGVyY2VudChvcHRpb25zLm91dGVyUmFkaXVzLCBtYXhSYWRpdXMpLCBjZW50ZXIgPSBbIGlzTnVtYmVyKG51bGwgPT09IChfZCA9IG9wdGlvbnMuY2VudGVyKSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2RbMF0pID8gb3B0aW9ucy5jZW50ZXJbMF0gOiB2aWV3Qm94LngwICsgdG9QZXJjZW50KG51bGwgIT09IChfZiA9IG51bGwgPT09IChfZSA9IG9wdGlvbnMuY2VudGVyKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2VbMF0pICYmIHZvaWQgMCAhPT0gX2YgPyBfZiA6IFwiNTAlXCIsIHZpZXdCb3gud2lkdGgpLCBpc051bWJlcihudWxsID09PSAoX2cgPSBvcHRpb25zLmNlbnRlcikgfHwgdm9pZCAwID09PSBfZyA/IHZvaWQgMCA6IF9nWzFdKSA/IG9wdGlvbnMuY2VudGVyWzFdIDogdmlld0JveC55MCArIHRvUGVyY2VudChudWxsICE9PSAoX2ogPSBudWxsID09PSAoX2ggPSBvcHRpb25zLmNlbnRlcikgfHwgdm9pZCAwID09PSBfaCA/IHZvaWQgMCA6IF9oWzFdKSAmJiB2b2lkIDAgIT09IF9qID8gX2ogOiBcIjUwJVwiLCB2aWV3Qm94LmhlaWdodCkgXSwgZmllbGRBY2Nlc3NvciA9IGdldEZpZWxkQWNjZXNzb3Iob3B0aW9ucy5maWVsZCksIHZhbHVlcyA9IHVwc3RyZWFtRGF0YS5tYXAoZmllbGRBY2Nlc3NvciksIFttaW4sIG1heF0gPSBleHRlbnQodmFsdWVzKSwgcmFkaXVzU2NhbGUgPSBtaW4gPT09IG1heCA/IHZhbCA9PiAoaW5uZXJSYWRpdXMgKyBvdXRlclJhZGl1cykgLyAyIDogdmFsID0+IGlubmVyUmFkaXVzICsgKG91dGVyUmFkaXVzIC0gaW5uZXJSYWRpdXMpICogKHZhbCAtIG1pbikgLyAobWF4IC0gbWluKSwgc2l6ZUFjY2Vzc29yID0gaXNOaWwob3B0aW9ucy5yYWRpdXNGaWVsZCkgPyBmaWVsZEFjY2Vzc29yIDogZ2V0RmllbGRBY2Nlc3NvcihvcHRpb25zLnJhZGl1c0ZpZWxkKSwgZGVmYXVsdFNpemUgPSBudWxsICE9PSAoX2wgPSBudWxsID09PSAoX2sgPSBudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLnJhZGl1c1JhbmdlKSB8fCB2b2lkIDAgPT09IF9rID8gdm9pZCAwIDogX2tbMV0pICYmIHZvaWQgMCAhPT0gX2wgPyBfbCA6IDU7XG4gICAgbGV0IHNpemVTY2FsZSA9IGRhdHVtID0+IGRlZmF1bHRTaXplO1xuICAgIGlmIChzaXplQWNjZXNzb3IpIHtcbiAgICAgICAgY29uc3QgW21pblNpemUsIG1heFNpemVdID0gc2l6ZUFjY2Vzc29yICE9PSBmaWVsZEFjY2Vzc29yID8gZXh0ZW50KHVwc3RyZWFtRGF0YS5tYXAoc2l6ZUFjY2Vzc29yKSkgOiBbIG1pbiwgbWF4IF0sIG1pblIgPSBudWxsICE9PSAoX28gPSBudWxsID09PSAoX20gPSBvcHRpb25zLnJhZGl1c1JhbmdlKSB8fCB2b2lkIDAgPT09IF9tID8gdm9pZCAwIDogX21bMF0pICYmIHZvaWQgMCAhPT0gX28gPyBfbyA6IDUsIG1heFIgPSBudWxsICE9PSAoX3EgPSBudWxsID09PSAoX3AgPSBvcHRpb25zLnJhZGl1c1JhbmdlKSB8fCB2b2lkIDAgPT09IF9wID8gdm9pZCAwIDogX3BbMV0pICYmIHZvaWQgMCAhPT0gX3EgPyBfcSA6IDU7XG4gICAgICAgIG1pblNpemUgIT09IG1heFNpemUgJiYgKHNpemVTY2FsZSA9IGRhdHVtID0+IG1pblIgKyAobWF4UiAtIG1pblIpICogKHNpemVBY2Nlc3NvcihkYXR1bSkgLSBtaW5TaXplKSAvIChtYXhTaXplIC0gbWluU2l6ZSkpO1xuICAgIH1cbiAgICBjb25zdCBtaW5BbmdsZSA9IE1hdGgubWluKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSwgbWF4QW5nbGUgPSBNYXRoLm1heChzdGFydEFuZ2xlLCBlbmRBbmdsZSksIGFuZ2xlcyA9IGdldFBhcnRpYWxBbmdsZXMobWluQW5nbGUsIG1heEFuZ2xlLCB1cHN0cmVhbURhdGEubGVuZ3RoKSwgcmVzID0gW10sIHNlYXJjaEFuZ2xlID0gKG1heEFuZ2xlIC0gbWluQW5nbGUpIC8gNjA7XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YS5mb3JFYWNoKCgoZGF0dW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHJhZGl1c1NjYWxlKHZhbHVlc1tpbmRleF0pLCBzaXplID0gc2l6ZVNjYWxlKGRhdHVtKTtcbiAgICAgICAgbGV0IHgsIHksIGFuZ2xlID0gYW5nbGVzW2luZGV4XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MCAmJiAoeCA9IGNlbnRlclswXSArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSwgeSA9IGNlbnRlclsxXSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSwgXG4gICAgICAgIGhhc092ZXJsYXAoe1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICByYWRpdXM6IHNpemVcbiAgICAgICAgfSwgcmVzKSB8fCB4IC0gc2l6ZSA8IHZpZXdCb3gueDAgfHwgeCArIHNpemUgPiB2aWV3Qm94LngxIHx8IHkgLSBzaXplIDwgdmlld0JveC55MCB8fCB5ICsgc2l6ZSA+IHZpZXdCb3gueTEpOyBpKyspIGkgPCA1OSAmJiAoYW5nbGUgKz0gc2VhcmNoQW5nbGUsIFxuICAgICAgICBhbmdsZSA+IG1heEFuZ2xlID8gYW5nbGUgPSBtaW5BbmdsZSA6IGFuZ2xlIDwgbWluQW5nbGUgJiYgKGFuZ2xlID0gbWF4QW5nbGUpKTtcbiAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICByYWRpdXM6IHNpemUsXG4gICAgICAgICAgICBkYXR1bTogZGF0dW1cbiAgICAgICAgfSk7XG4gICAgfSkpLCByZXM7XG59O1xuXG5jb25zdCBnZXRQYXJ0aWFsQW5nbGVzID0gKG1pbkFuZ2xlLCBtYXhBbmdsZSwgY291bnQpID0+IHtcbiAgICBsZXQgb2Zmc2V0QW5nbGUgPSAwLCBzdGVwQ291bnQgPSBNYXRoLm1heChNYXRoLmNlaWwoMiAqIChtYXhBbmdsZSAtIG1pbkFuZ2xlKSAvIE1hdGguUEkpLCAyKSwgc3RlcEFuZ2xlID0gKG1heEFuZ2xlIC0gbWluQW5nbGUpIC8gc3RlcENvdW50LCBzdGVwSW5kZXggPSAwLCBzdGVwU2lnbiA9IDEsIGkgPSAwLCBqID0gMDtcbiAgICBjb25zdCByZXMgPSBbXTtcbiAgICBsZXQgc3RhcnRBbmdsZSA9IG1pbkFuZ2xlO1xuICAgIGZvciAoO2kgPCBjb3VudDsgKSBqIDwgc3RlcENvdW50ICYmIChyZXMucHVzaChzdGFydEFuZ2xlICsgKGogJSAyID8gTWF0aC5mbG9vcihqIC8gMikgKyBNYXRoLmZsb29yKHN0ZXBDb3VudCAvIDIpIDogaiAvIDIpICogc3RlcEFuZ2xlICogc3RlcFNpZ24pLCBcbiAgICBqKyspLCBpKyssIGogPT09IHN0ZXBDb3VudCAmJiAoaiA9IDAsIHN0ZXBJbmRleCArPSAxLCBzdGVwU2lnbiAqPSAtMSwgMCA9PT0gb2Zmc2V0QW5nbGUgPyBvZmZzZXRBbmdsZSA9IHN0ZXBBbmdsZSAvIDIgOiBvZmZzZXRBbmdsZSAvPSAyLCBcbiAgICBzdGFydEFuZ2xlID0gLTEgPT09IHN0ZXBTaWduID8gbWF4QW5nbGUgLSBvZmZzZXRBbmdsZSA6IG1pbkFuZ2xlICsgb2Zmc2V0QW5nbGUsIFxuICAgIHN0ZXBJbmRleCA+PSAyICYmIChzdGVwQW5nbGUgLz0gMiwgc3RlcENvdW50ICo9IDIpKTtcbiAgICByZXR1cm4gcmVzO1xufSwgaGFzT3ZlcmxhcCA9IChpdGVtLCBhcnIpID0+ICEoIWFyciB8fCAhYXJyLmxlbmd0aCkgJiYgYXJyLnNvbWUoKGVudHJ5ID0+IE1hdGgucG93KGl0ZW0ueCAtIGVudHJ5LngsIDIpICsgTWF0aC5wb3coaXRlbS55IC0gZW50cnkueSwgMikgPCBNYXRoLnBvdyhpdGVtLnJhZGl1cyArIGVudHJ5LnJhZGl1cywgMikpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNpcmN1bGFyLXJlbGF0aW9uLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/circular-relation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/contour.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/contour.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst computeInteractionPoint = (xIndex, yIndex, cell, cellRow, cellColumn, threshold) => {\n    const thresholdCell = [ cell[0] >= threshold ? 1 : 0, cell[1] >= threshold ? 1 : 0, cell[2] >= threshold ? 1 : 0, cell[3] >= threshold ? 1 : 0 ], points = [];\n    thresholdCell[0] !== thresholdCell[1] && points.push({\n        id: `${xIndex}-${yIndex - 1}-${xIndex}-${yIndex}`,\n        currentCell: yIndex * cellColumn + xIndex,\n        nextCell: (yIndex - 1) * cellColumn + xIndex,\n        point: {\n            x: xIndex + (threshold - cell[0]) / (cell[1] - cell[0]),\n            y: yIndex\n        },\n        siblingPoint: null\n    }), thresholdCell[1] !== thresholdCell[2] && points.push({\n        id: `${xIndex}-${yIndex}-${xIndex + 1}-${yIndex}`,\n        currentCell: yIndex * cellColumn + xIndex,\n        nextCell: yIndex * cellColumn + xIndex + 1,\n        point: {\n            x: xIndex + 1,\n            y: yIndex + (threshold - cell[1]) / (cell[2] - cell[1])\n        },\n        siblingPoint: null\n    }), thresholdCell[2] !== thresholdCell[3] && points.push({\n        id: `${xIndex}-${yIndex}-${xIndex}-${yIndex + 1}`,\n        currentCell: yIndex * cellColumn + xIndex,\n        nextCell: (yIndex + 1) * cellColumn + xIndex,\n        point: {\n            x: xIndex + (threshold - cell[3]) / (cell[2] - cell[3]),\n            y: yIndex + 1\n        },\n        siblingPoint: null\n    }), thresholdCell[3] !== thresholdCell[0] && points.push({\n        id: `${xIndex - 1}-${yIndex}-${xIndex}-${yIndex}`,\n        currentCell: yIndex * cellColumn + xIndex,\n        nextCell: yIndex * cellColumn + xIndex - 1,\n        point: {\n            x: xIndex,\n            y: yIndex + (threshold - cell[0]) / (cell[3] - cell[0])\n        },\n        siblingPoint: null\n    });\n    const thresholdFlag = (8 & thresholdCell[0]) + (4 & thresholdCell[1]) + (2 & thresholdCell[2]) + (1 & thresholdCell[3]);\n    return 6 === thresholdFlag || 9 === thresholdFlag ? (points[0].siblingPoint = points[1], \n    points[1].siblingPoint = points[0], points[2].siblingPoint = points[3], points[3].siblingPoint = points[2]) : 2 === points.length && (points[0].siblingPoint = points[1], \n    points[1].siblingPoint = points[0]), points;\n}, connectPoints = (point, grid) => {\n    const siblingPoint = point.siblingPoint, connectResult = connectNextPoints(point, grid);\n    if (\"loop\" === connectResult.result) return connectResult.points;\n    return connectNextPoints(siblingPoint, grid).points.reverse().concat(connectResult.points);\n}, connectNextPoints = (point, grid) => {\n    const connectedPoints = [ point ];\n    let currentPoint = point;\n    const find = p => p.id === currentPoint.id;\n    let result = \"break\";\n    do {\n        const nextCell = grid[currentPoint.nextCell], nextCellPoint = null == nextCell ? void 0 : nextCell.find(find);\n        if (nextCellPoint) {\n            if (currentPoint = nextCellPoint.siblingPoint, connectedPoints.includes(currentPoint)) {\n                result = \"loop\", connectedPoints.push(currentPoint);\n                break;\n            }\n            if (!currentPoint) break;\n            connectedPoints.push(currentPoint);\n        } else currentPoint = null;\n    } while (currentPoint);\n    return {\n        points: connectedPoints,\n        result: result\n    };\n};\n\nconst transform = (options, upstreamData) => {\n    var _a;\n    if (!upstreamData || 0 === upstreamData.length) return upstreamData;\n    const row = options.row, column = options.column, cellRow = row - 1, cellColumn = column - 1, data = upstreamData.map((datum => datum[options.field])), extent = [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.minInArray)(data), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.maxInArray)(data) ], thresholds = null !== (_a = options.thresholds) && void 0 !== _a ? _a : [];\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options.thresholds) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.levels)) {\n        const step = (extent[1] - extent[0]) / options.levels;\n        for (let i = 1; i < options.levels; i++) thresholds.push(extent[0] + i * step);\n    }\n    const cells = [];\n    for (let yIndex = 1; yIndex < row; yIndex++) for (let xIndex = 1; xIndex < column; xIndex++) {\n        const topLeft = data[(yIndex - 1) * column + xIndex - 1], topRight = data[(yIndex - 1) * column + xIndex], bottomRight = data[yIndex * column + xIndex], bottomLeft = data[yIndex * column + xIndex - 1];\n        cells.push([ topLeft, topRight, bottomRight, bottomLeft ]);\n    }\n    const contours = [];\n    return thresholds.forEach((threshold => {\n        var _a, _b;\n        const points = [], gridPoints = [];\n        for (let yIndex = 0; yIndex < cellRow; yIndex++) for (let xIndex = 0; xIndex < cellColumn; xIndex++) {\n            const cell = cells[yIndex * cellColumn + xIndex], gridPoint = computeInteractionPoint(xIndex, yIndex, cell, 0, cellColumn, threshold);\n            points.push(...gridPoint), gridPoints.push(gridPoint);\n        }\n        let processingPoints = points.slice();\n        do {\n            const connectedPoints = connectPoints(processingPoints[0], gridPoints);\n            if (processingPoints.splice(0, 1), connectedPoints.length) {\n                const connectedPointIds = connectedPoints.map((point => point.id));\n                processingPoints = processingPoints.filter((point => !connectedPointIds.includes(point.id)));\n                const contour = {\n                    [null !== (_a = options.asThreshold) && void 0 !== _a ? _a : \"threshold\"]: threshold,\n                    [null !== (_b = options.asPoints) && void 0 !== _b ? _b : \"points\"]: connectedPoints.map((point => ({\n                        x: point.point.x / row,\n                        y: point.point.y / column\n                    })))\n                };\n                contours.push(contour);\n            }\n        } while (processingPoints.length > 0);\n    })), contours;\n};\n//# sourceMappingURL=contour.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2NvbnRvdXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRjs7QUFFbEY7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPLEdBQUcsV0FBVyxHQUFHLE9BQU8sR0FBRyxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsZUFBZSxPQUFPLEdBQUcsT0FBTyxHQUFHLFdBQVcsR0FBRyxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsZUFBZSxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxXQUFXO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsZUFBZSxXQUFXLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLHVLQUF1Syw0REFBVSxRQUFRLDREQUFVO0FBQ25NLFNBQVMsNERBQU8sd0JBQXdCLDREQUFhO0FBQ3JEO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0EseUJBQXlCLGNBQWMsK0JBQStCLGlCQUFpQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrQkFBa0IsK0JBQStCLHFCQUFxQjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvY29udG91ci5qcz9hZGFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVmFsaWQsIGlzVmFsaWROdW1iZXIsIG1heEluQXJyYXksIG1pbkluQXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5jb25zdCBjb21wdXRlSW50ZXJhY3Rpb25Qb2ludCA9ICh4SW5kZXgsIHlJbmRleCwgY2VsbCwgY2VsbFJvdywgY2VsbENvbHVtbiwgdGhyZXNob2xkKSA9PiB7XG4gICAgY29uc3QgdGhyZXNob2xkQ2VsbCA9IFsgY2VsbFswXSA+PSB0aHJlc2hvbGQgPyAxIDogMCwgY2VsbFsxXSA+PSB0aHJlc2hvbGQgPyAxIDogMCwgY2VsbFsyXSA+PSB0aHJlc2hvbGQgPyAxIDogMCwgY2VsbFszXSA+PSB0aHJlc2hvbGQgPyAxIDogMCBdLCBwb2ludHMgPSBbXTtcbiAgICB0aHJlc2hvbGRDZWxsWzBdICE9PSB0aHJlc2hvbGRDZWxsWzFdICYmIHBvaW50cy5wdXNoKHtcbiAgICAgICAgaWQ6IGAke3hJbmRleH0tJHt5SW5kZXggLSAxfS0ke3hJbmRleH0tJHt5SW5kZXh9YCxcbiAgICAgICAgY3VycmVudENlbGw6IHlJbmRleCAqIGNlbGxDb2x1bW4gKyB4SW5kZXgsXG4gICAgICAgIG5leHRDZWxsOiAoeUluZGV4IC0gMSkgKiBjZWxsQ29sdW1uICsgeEluZGV4LFxuICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgeDogeEluZGV4ICsgKHRocmVzaG9sZCAtIGNlbGxbMF0pIC8gKGNlbGxbMV0gLSBjZWxsWzBdKSxcbiAgICAgICAgICAgIHk6IHlJbmRleFxuICAgICAgICB9LFxuICAgICAgICBzaWJsaW5nUG9pbnQ6IG51bGxcbiAgICB9KSwgdGhyZXNob2xkQ2VsbFsxXSAhPT0gdGhyZXNob2xkQ2VsbFsyXSAmJiBwb2ludHMucHVzaCh7XG4gICAgICAgIGlkOiBgJHt4SW5kZXh9LSR7eUluZGV4fS0ke3hJbmRleCArIDF9LSR7eUluZGV4fWAsXG4gICAgICAgIGN1cnJlbnRDZWxsOiB5SW5kZXggKiBjZWxsQ29sdW1uICsgeEluZGV4LFxuICAgICAgICBuZXh0Q2VsbDogeUluZGV4ICogY2VsbENvbHVtbiArIHhJbmRleCArIDEsXG4gICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICB4OiB4SW5kZXggKyAxLFxuICAgICAgICAgICAgeTogeUluZGV4ICsgKHRocmVzaG9sZCAtIGNlbGxbMV0pIC8gKGNlbGxbMl0gLSBjZWxsWzFdKVxuICAgICAgICB9LFxuICAgICAgICBzaWJsaW5nUG9pbnQ6IG51bGxcbiAgICB9KSwgdGhyZXNob2xkQ2VsbFsyXSAhPT0gdGhyZXNob2xkQ2VsbFszXSAmJiBwb2ludHMucHVzaCh7XG4gICAgICAgIGlkOiBgJHt4SW5kZXh9LSR7eUluZGV4fS0ke3hJbmRleH0tJHt5SW5kZXggKyAxfWAsXG4gICAgICAgIGN1cnJlbnRDZWxsOiB5SW5kZXggKiBjZWxsQ29sdW1uICsgeEluZGV4LFxuICAgICAgICBuZXh0Q2VsbDogKHlJbmRleCArIDEpICogY2VsbENvbHVtbiArIHhJbmRleCxcbiAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgIHg6IHhJbmRleCArICh0aHJlc2hvbGQgLSBjZWxsWzNdKSAvIChjZWxsWzJdIC0gY2VsbFszXSksXG4gICAgICAgICAgICB5OiB5SW5kZXggKyAxXG4gICAgICAgIH0sXG4gICAgICAgIHNpYmxpbmdQb2ludDogbnVsbFxuICAgIH0pLCB0aHJlc2hvbGRDZWxsWzNdICE9PSB0aHJlc2hvbGRDZWxsWzBdICYmIHBvaW50cy5wdXNoKHtcbiAgICAgICAgaWQ6IGAke3hJbmRleCAtIDF9LSR7eUluZGV4fS0ke3hJbmRleH0tJHt5SW5kZXh9YCxcbiAgICAgICAgY3VycmVudENlbGw6IHlJbmRleCAqIGNlbGxDb2x1bW4gKyB4SW5kZXgsXG4gICAgICAgIG5leHRDZWxsOiB5SW5kZXggKiBjZWxsQ29sdW1uICsgeEluZGV4IC0gMSxcbiAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgIHg6IHhJbmRleCxcbiAgICAgICAgICAgIHk6IHlJbmRleCArICh0aHJlc2hvbGQgLSBjZWxsWzBdKSAvIChjZWxsWzNdIC0gY2VsbFswXSlcbiAgICAgICAgfSxcbiAgICAgICAgc2libGluZ1BvaW50OiBudWxsXG4gICAgfSk7XG4gICAgY29uc3QgdGhyZXNob2xkRmxhZyA9ICg4ICYgdGhyZXNob2xkQ2VsbFswXSkgKyAoNCAmIHRocmVzaG9sZENlbGxbMV0pICsgKDIgJiB0aHJlc2hvbGRDZWxsWzJdKSArICgxICYgdGhyZXNob2xkQ2VsbFszXSk7XG4gICAgcmV0dXJuIDYgPT09IHRocmVzaG9sZEZsYWcgfHwgOSA9PT0gdGhyZXNob2xkRmxhZyA/IChwb2ludHNbMF0uc2libGluZ1BvaW50ID0gcG9pbnRzWzFdLCBcbiAgICBwb2ludHNbMV0uc2libGluZ1BvaW50ID0gcG9pbnRzWzBdLCBwb2ludHNbMl0uc2libGluZ1BvaW50ID0gcG9pbnRzWzNdLCBwb2ludHNbM10uc2libGluZ1BvaW50ID0gcG9pbnRzWzJdKSA6IDIgPT09IHBvaW50cy5sZW5ndGggJiYgKHBvaW50c1swXS5zaWJsaW5nUG9pbnQgPSBwb2ludHNbMV0sIFxuICAgIHBvaW50c1sxXS5zaWJsaW5nUG9pbnQgPSBwb2ludHNbMF0pLCBwb2ludHM7XG59LCBjb25uZWN0UG9pbnRzID0gKHBvaW50LCBncmlkKSA9PiB7XG4gICAgY29uc3Qgc2libGluZ1BvaW50ID0gcG9pbnQuc2libGluZ1BvaW50LCBjb25uZWN0UmVzdWx0ID0gY29ubmVjdE5leHRQb2ludHMocG9pbnQsIGdyaWQpO1xuICAgIGlmIChcImxvb3BcIiA9PT0gY29ubmVjdFJlc3VsdC5yZXN1bHQpIHJldHVybiBjb25uZWN0UmVzdWx0LnBvaW50cztcbiAgICByZXR1cm4gY29ubmVjdE5leHRQb2ludHMoc2libGluZ1BvaW50LCBncmlkKS5wb2ludHMucmV2ZXJzZSgpLmNvbmNhdChjb25uZWN0UmVzdWx0LnBvaW50cyk7XG59LCBjb25uZWN0TmV4dFBvaW50cyA9IChwb2ludCwgZ3JpZCkgPT4ge1xuICAgIGNvbnN0IGNvbm5lY3RlZFBvaW50cyA9IFsgcG9pbnQgXTtcbiAgICBsZXQgY3VycmVudFBvaW50ID0gcG9pbnQ7XG4gICAgY29uc3QgZmluZCA9IHAgPT4gcC5pZCA9PT0gY3VycmVudFBvaW50LmlkO1xuICAgIGxldCByZXN1bHQgPSBcImJyZWFrXCI7XG4gICAgZG8ge1xuICAgICAgICBjb25zdCBuZXh0Q2VsbCA9IGdyaWRbY3VycmVudFBvaW50Lm5leHRDZWxsXSwgbmV4dENlbGxQb2ludCA9IG51bGwgPT0gbmV4dENlbGwgPyB2b2lkIDAgOiBuZXh0Q2VsbC5maW5kKGZpbmQpO1xuICAgICAgICBpZiAobmV4dENlbGxQb2ludCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQb2ludCA9IG5leHRDZWxsUG9pbnQuc2libGluZ1BvaW50LCBjb25uZWN0ZWRQb2ludHMuaW5jbHVkZXMoY3VycmVudFBvaW50KSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFwibG9vcFwiLCBjb25uZWN0ZWRQb2ludHMucHVzaChjdXJyZW50UG9pbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjdXJyZW50UG9pbnQpIGJyZWFrO1xuICAgICAgICAgICAgY29ubmVjdGVkUG9pbnRzLnB1c2goY3VycmVudFBvaW50KTtcbiAgICAgICAgfSBlbHNlIGN1cnJlbnRQb2ludCA9IG51bGw7XG4gICAgfSB3aGlsZSAoY3VycmVudFBvaW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb2ludHM6IGNvbm5lY3RlZFBvaW50cyxcbiAgICAgICAgcmVzdWx0OiByZXN1bHRcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgMCA9PT0gdXBzdHJlYW1EYXRhLmxlbmd0aCkgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbiAgICBjb25zdCByb3cgPSBvcHRpb25zLnJvdywgY29sdW1uID0gb3B0aW9ucy5jb2x1bW4sIGNlbGxSb3cgPSByb3cgLSAxLCBjZWxsQ29sdW1uID0gY29sdW1uIC0gMSwgZGF0YSA9IHVwc3RyZWFtRGF0YS5tYXAoKGRhdHVtID0+IGRhdHVtW29wdGlvbnMuZmllbGRdKSksIGV4dGVudCA9IFsgbWluSW5BcnJheShkYXRhKSwgbWF4SW5BcnJheShkYXRhKSBdLCB0aHJlc2hvbGRzID0gbnVsbCAhPT0gKF9hID0gb3B0aW9ucy50aHJlc2hvbGRzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXTtcbiAgICBpZiAoIWlzVmFsaWQob3B0aW9ucy50aHJlc2hvbGRzKSAmJiBpc1ZhbGlkTnVtYmVyKG9wdGlvbnMubGV2ZWxzKSkge1xuICAgICAgICBjb25zdCBzdGVwID0gKGV4dGVudFsxXSAtIGV4dGVudFswXSkgLyBvcHRpb25zLmxldmVscztcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBvcHRpb25zLmxldmVsczsgaSsrKSB0aHJlc2hvbGRzLnB1c2goZXh0ZW50WzBdICsgaSAqIHN0ZXApO1xuICAgIH1cbiAgICBjb25zdCBjZWxscyA9IFtdO1xuICAgIGZvciAobGV0IHlJbmRleCA9IDE7IHlJbmRleCA8IHJvdzsgeUluZGV4KyspIGZvciAobGV0IHhJbmRleCA9IDE7IHhJbmRleCA8IGNvbHVtbjsgeEluZGV4KyspIHtcbiAgICAgICAgY29uc3QgdG9wTGVmdCA9IGRhdGFbKHlJbmRleCAtIDEpICogY29sdW1uICsgeEluZGV4IC0gMV0sIHRvcFJpZ2h0ID0gZGF0YVsoeUluZGV4IC0gMSkgKiBjb2x1bW4gKyB4SW5kZXhdLCBib3R0b21SaWdodCA9IGRhdGFbeUluZGV4ICogY29sdW1uICsgeEluZGV4XSwgYm90dG9tTGVmdCA9IGRhdGFbeUluZGV4ICogY29sdW1uICsgeEluZGV4IC0gMV07XG4gICAgICAgIGNlbGxzLnB1c2goWyB0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tUmlnaHQsIGJvdHRvbUxlZnQgXSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRvdXJzID0gW107XG4gICAgcmV0dXJuIHRocmVzaG9sZHMuZm9yRWFjaCgodGhyZXNob2xkID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW10sIGdyaWRQb2ludHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgeUluZGV4ID0gMDsgeUluZGV4IDwgY2VsbFJvdzsgeUluZGV4KyspIGZvciAobGV0IHhJbmRleCA9IDA7IHhJbmRleCA8IGNlbGxDb2x1bW47IHhJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gY2VsbHNbeUluZGV4ICogY2VsbENvbHVtbiArIHhJbmRleF0sIGdyaWRQb2ludCA9IGNvbXB1dGVJbnRlcmFjdGlvblBvaW50KHhJbmRleCwgeUluZGV4LCBjZWxsLCAwLCBjZWxsQ29sdW1uLCB0aHJlc2hvbGQpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goLi4uZ3JpZFBvaW50KSwgZ3JpZFBvaW50cy5wdXNoKGdyaWRQb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByb2Nlc3NpbmdQb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkUG9pbnRzID0gY29ubmVjdFBvaW50cyhwcm9jZXNzaW5nUG9pbnRzWzBdLCBncmlkUG9pbnRzKTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzaW5nUG9pbnRzLnNwbGljZSgwLCAxKSwgY29ubmVjdGVkUG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZFBvaW50SWRzID0gY29ubmVjdGVkUG9pbnRzLm1hcCgocG9pbnQgPT4gcG9pbnQuaWQpKTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzaW5nUG9pbnRzID0gcHJvY2Vzc2luZ1BvaW50cy5maWx0ZXIoKHBvaW50ID0+ICFjb25uZWN0ZWRQb2ludElkcy5pbmNsdWRlcyhwb2ludC5pZCkpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250b3VyID0ge1xuICAgICAgICAgICAgICAgICAgICBbbnVsbCAhPT0gKF9hID0gb3B0aW9ucy5hc1RocmVzaG9sZCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogXCJ0aHJlc2hvbGRcIl06IHRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgW251bGwgIT09IChfYiA9IG9wdGlvbnMuYXNQb2ludHMpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IFwicG9pbnRzXCJdOiBjb25uZWN0ZWRQb2ludHMubWFwKChwb2ludCA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogcG9pbnQucG9pbnQueCAvIHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHBvaW50LnBvaW50LnkgLyBjb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgfSkpKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29udG91cnMucHVzaChjb250b3VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAocHJvY2Vzc2luZ1BvaW50cy5sZW5ndGggPiAwKTtcbiAgICB9KSksIGNvbnRvdXJzO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRvdXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/contour.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/filter.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/filter.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\nconst transform = (options, data, parameters) => data.filter((entry => options.callback(entry, parameters)));\n//# sourceMappingURL=filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2ZpbHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvZmlsdGVyLmpzPzljY2UiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCBkYXRhLCBwYXJhbWV0ZXJzKSA9PiBkYXRhLmZpbHRlcigoZW50cnkgPT4gb3B0aW9ucy5jYWxsYmFjayhlbnRyeSwgcGFyYW1ldGVycykpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/fold.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/fold.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\nconst transform = (options, upstreamData) => {\n    if (!upstreamData || !upstreamData.length) return [];\n    const {fields: fields, asKey: asKey = \"key\", asValue: asValue = \"value\", retains: retains} = options, results = [];\n    for (let i = 0, len = upstreamData.length; i < len; i++) {\n        const entry = upstreamData[i];\n        fields.forEach((field => {\n            const item = {};\n            if (retains) retains.forEach((retain => {\n                item[retain] = entry[retain];\n            })); else for (const prop in entry) -1 === fields.indexOf(prop) && (item[prop] = entry[prop]);\n            item[asKey] = field, item[asValue] = entry[field], results.push(item);\n        }));\n    }\n    return results;\n};\n//# sourceMappingURL=fold.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2ZvbGQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQSxXQUFXLG9GQUFvRjtBQUMvRiwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvZGF0YS9mb2xkLmpzPzc1ZjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICBpZiAoIXVwc3RyZWFtRGF0YSB8fCAhdXBzdHJlYW1EYXRhLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IHtmaWVsZHM6IGZpZWxkcywgYXNLZXk6IGFzS2V5ID0gXCJrZXlcIiwgYXNWYWx1ZTogYXNWYWx1ZSA9IFwidmFsdWVcIiwgcmV0YWluczogcmV0YWluc30gPSBvcHRpb25zLCByZXN1bHRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHVwc3RyZWFtRGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHVwc3RyZWFtRGF0YVtpXTtcbiAgICAgICAgZmllbGRzLmZvckVhY2goKGZpZWxkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB7fTtcbiAgICAgICAgICAgIGlmIChyZXRhaW5zKSByZXRhaW5zLmZvckVhY2goKHJldGFpbiA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbVtyZXRhaW5dID0gZW50cnlbcmV0YWluXTtcbiAgICAgICAgICAgIH0pKTsgZWxzZSBmb3IgKGNvbnN0IHByb3AgaW4gZW50cnkpIC0xID09PSBmaWVsZHMuaW5kZXhPZihwcm9wKSAmJiAoaXRlbVtwcm9wXSA9IGVudHJ5W3Byb3BdKTtcbiAgICAgICAgICAgIGl0ZW1bYXNLZXldID0gZmllbGQsIGl0ZW1bYXNWYWx1ZV0gPSBlbnRyeVtmaWVsZF0sIHJlc3VsdHMucHVzaChpdGVtKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb2xkLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/fold.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/funnel.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/funnel.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst transform = (options, upstreamData) => {\n    var _a, _b;\n    const {field: field, asTransformRatio: asTransformRatio, asReachRatio: asReachRatio, asHeightRatio: asHeightRatio, asValueRatio: asValueRatio, asNextValueRatio: asNextValueRatio, asLastValueRatio: asLastValueRatio, asLastValue: asLastValue, asCurrentValue: asCurrentValue, asNextValue: asNextValue, heightVisual: heightVisual = !1, isCone: isCone = !0, range: range} = options, max = upstreamData.reduce(((m, d) => Math.max(m, Number.parseFloat(d[field]) || -1 / 0)), -1 / 0), min = upstreamData.reduce(((m, d) => Math.min(m, Number.parseFloat(d[field]) || 1 / 0)), 1 / 0), rangeArr = [ null !== (_a = null == range ? void 0 : range.min) && void 0 !== _a ? _a : min, null !== (_b = null == range ? void 0 : range.max) && void 0 !== _b ? _b : max ], data = upstreamData.map(((originDatum, index) => {\n        var _a, _b;\n        const datum = Object.assign({}, originDatum), currentValue = Number.parseFloat(datum[field]), lastValue = Number.parseFloat(null === (_a = upstreamData[index - 1]) || void 0 === _a ? void 0 : _a[field]), nextValue = Number.parseFloat(null === (_b = upstreamData[index + 1]) || void 0 === _b ? void 0 : _b[field]), transformRatio = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextValue * currentValue) ? nextValue / currentValue : null, reachRatio = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(currentValue * currentValue) ? currentValue / lastValue : null;\n        return asLastValue && (datum[asLastValue] = lastValue), asNextValue && (datum[asNextValue] = nextValue), \n        asTransformRatio && (datum[asTransformRatio] = transformRatio), asReachRatio && (datum[asReachRatio] = 0 === index ? 1 : reachRatio), \n        asHeightRatio && (datum[asHeightRatio] = !0 === heightVisual ? transformRatio : 1 / upstreamData.length), \n        asValueRatio && (datum[asValueRatio] = currentValue / rangeArr[1]), asNextValueRatio && (datum[asNextValueRatio] = index === upstreamData.length - 1 ? isCone ? 0 : datum[asValueRatio] : nextValue / rangeArr[1]), \n        asLastValueRatio && (datum[asLastValueRatio] = 0 === index ? 1 : lastValue / rangeArr[1]), \n        asCurrentValue && (datum[asCurrentValue] = currentValue), datum;\n    }));\n    return data;\n};\n//# sourceMappingURL=funnel.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2Z1bm5lbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRDs7QUFFMUM7QUFDUDtBQUNBLFdBQVcsd1dBQXdXO0FBQ25YO0FBQ0Esc0NBQXNDLDZTQUE2Uyw0REFBYSwyRUFBMkUsNERBQWE7QUFDeGI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvZnVubmVsLmpzPzQ0NzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB7ZmllbGQ6IGZpZWxkLCBhc1RyYW5zZm9ybVJhdGlvOiBhc1RyYW5zZm9ybVJhdGlvLCBhc1JlYWNoUmF0aW86IGFzUmVhY2hSYXRpbywgYXNIZWlnaHRSYXRpbzogYXNIZWlnaHRSYXRpbywgYXNWYWx1ZVJhdGlvOiBhc1ZhbHVlUmF0aW8sIGFzTmV4dFZhbHVlUmF0aW86IGFzTmV4dFZhbHVlUmF0aW8sIGFzTGFzdFZhbHVlUmF0aW86IGFzTGFzdFZhbHVlUmF0aW8sIGFzTGFzdFZhbHVlOiBhc0xhc3RWYWx1ZSwgYXNDdXJyZW50VmFsdWU6IGFzQ3VycmVudFZhbHVlLCBhc05leHRWYWx1ZTogYXNOZXh0VmFsdWUsIGhlaWdodFZpc3VhbDogaGVpZ2h0VmlzdWFsID0gITEsIGlzQ29uZTogaXNDb25lID0gITAsIHJhbmdlOiByYW5nZX0gPSBvcHRpb25zLCBtYXggPSB1cHN0cmVhbURhdGEucmVkdWNlKCgobSwgZCkgPT4gTWF0aC5tYXgobSwgTnVtYmVyLnBhcnNlRmxvYXQoZFtmaWVsZF0pIHx8IC0xIC8gMCkpLCAtMSAvIDApLCBtaW4gPSB1cHN0cmVhbURhdGEucmVkdWNlKCgobSwgZCkgPT4gTWF0aC5taW4obSwgTnVtYmVyLnBhcnNlRmxvYXQoZFtmaWVsZF0pIHx8IDEgLyAwKSksIDEgLyAwKSwgcmFuZ2VBcnIgPSBbIG51bGwgIT09IChfYSA9IG51bGwgPT0gcmFuZ2UgPyB2b2lkIDAgOiByYW5nZS5taW4pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG1pbiwgbnVsbCAhPT0gKF9iID0gbnVsbCA9PSByYW5nZSA/IHZvaWQgMCA6IHJhbmdlLm1heCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogbWF4IF0sIGRhdGEgPSB1cHN0cmVhbURhdGEubWFwKCgob3JpZ2luRGF0dW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGRhdHVtID0gT2JqZWN0LmFzc2lnbih7fSwgb3JpZ2luRGF0dW0pLCBjdXJyZW50VmFsdWUgPSBOdW1iZXIucGFyc2VGbG9hdChkYXR1bVtmaWVsZF0pLCBsYXN0VmFsdWUgPSBOdW1iZXIucGFyc2VGbG9hdChudWxsID09PSAoX2EgPSB1cHN0cmVhbURhdGFbaW5kZXggLSAxXSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hW2ZpZWxkXSksIG5leHRWYWx1ZSA9IE51bWJlci5wYXJzZUZsb2F0KG51bGwgPT09IChfYiA9IHVwc3RyZWFtRGF0YVtpbmRleCArIDFdKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2JbZmllbGRdKSwgdHJhbnNmb3JtUmF0aW8gPSBpc1ZhbGlkTnVtYmVyKG5leHRWYWx1ZSAqIGN1cnJlbnRWYWx1ZSkgPyBuZXh0VmFsdWUgLyBjdXJyZW50VmFsdWUgOiBudWxsLCByZWFjaFJhdGlvID0gaXNWYWxpZE51bWJlcihjdXJyZW50VmFsdWUgKiBjdXJyZW50VmFsdWUpID8gY3VycmVudFZhbHVlIC8gbGFzdFZhbHVlIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIGFzTGFzdFZhbHVlICYmIChkYXR1bVthc0xhc3RWYWx1ZV0gPSBsYXN0VmFsdWUpLCBhc05leHRWYWx1ZSAmJiAoZGF0dW1bYXNOZXh0VmFsdWVdID0gbmV4dFZhbHVlKSwgXG4gICAgICAgIGFzVHJhbnNmb3JtUmF0aW8gJiYgKGRhdHVtW2FzVHJhbnNmb3JtUmF0aW9dID0gdHJhbnNmb3JtUmF0aW8pLCBhc1JlYWNoUmF0aW8gJiYgKGRhdHVtW2FzUmVhY2hSYXRpb10gPSAwID09PSBpbmRleCA/IDEgOiByZWFjaFJhdGlvKSwgXG4gICAgICAgIGFzSGVpZ2h0UmF0aW8gJiYgKGRhdHVtW2FzSGVpZ2h0UmF0aW9dID0gITAgPT09IGhlaWdodFZpc3VhbCA/IHRyYW5zZm9ybVJhdGlvIDogMSAvIHVwc3RyZWFtRGF0YS5sZW5ndGgpLCBcbiAgICAgICAgYXNWYWx1ZVJhdGlvICYmIChkYXR1bVthc1ZhbHVlUmF0aW9dID0gY3VycmVudFZhbHVlIC8gcmFuZ2VBcnJbMV0pLCBhc05leHRWYWx1ZVJhdGlvICYmIChkYXR1bVthc05leHRWYWx1ZVJhdGlvXSA9IGluZGV4ID09PSB1cHN0cmVhbURhdGEubGVuZ3RoIC0gMSA/IGlzQ29uZSA/IDAgOiBkYXR1bVthc1ZhbHVlUmF0aW9dIDogbmV4dFZhbHVlIC8gcmFuZ2VBcnJbMV0pLCBcbiAgICAgICAgYXNMYXN0VmFsdWVSYXRpbyAmJiAoZGF0dW1bYXNMYXN0VmFsdWVSYXRpb10gPSAwID09PSBpbmRleCA/IDEgOiBsYXN0VmFsdWUgLyByYW5nZUFyclsxXSksIFxuICAgICAgICBhc0N1cnJlbnRWYWx1ZSAmJiAoZGF0dW1bYXNDdXJyZW50VmFsdWVdID0gY3VycmVudFZhbHVlKSwgZGF0dW07XG4gICAgfSkpO1xuICAgIHJldHVybiBkYXRhO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ1bm5lbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/funnel.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/join.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/join.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/logger.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/field.js\");\n\n\n\n\nconst transform = (options, data) => {\n    const logger = _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.Logger.getInstance();\n    let as = options.as;\n    const {fields: fields, from: from, key: key, values: values} = options, keyAccessor = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(key), indexMap = (from || []).reduce(((map, tuple) => (map[keyAccessor(tuple)] = tuple, \n    map)), {}), defaultValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.default) ? null : options.default, fieldAccessors = fields.map((field => (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(field)));\n    if (values) {\n        fields.length > 1 && !as && logger.error('Multi-field lookup requires explicit \"as\" parameter.'), \n        as && as.length !== fields.length * values.length && logger.error('The \"as\" parameter has too few output field names.'), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(as) && (as = values);\n        const valuesAccessors = values.map((value => (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(value)));\n        return data.map((entry => fieldAccessors.reduce(((res, fieldAccessor, fieldIndex) => {\n            const value = indexMap[fieldAccessor(entry)], valuesLength = values.length;\n            return ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value) ? valuesAccessors.map((valuesAccessor => defaultValue)) : valuesAccessors.map((valuesAccessor => valuesAccessor(value)))).reduce(((asRes, asValue, asIndex) => (asRes[as[fieldIndex * valuesLength + asIndex]] = asValue, \n            asRes)), res);\n        }), entry)));\n    }\n    return as || logger.error(\"Missing output field names.\"), data.map((entry => fieldAccessors.reduce(((res, fieldAccessor, fieldIndex) => {\n        const value = indexMap[fieldAccessor(entry)];\n        return res[as[fieldIndex]] = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value) ? defaultValue : value, res;\n    }), entry)));\n};\n//# sourceMappingURL=join.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2pvaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRDs7QUFFbUI7O0FBRTdEO0FBQ1AsbUJBQW1CLG9EQUFNO0FBQ3pCO0FBQ0EsV0FBVyxzREFBc0QseUJBQXlCLDhEQUFnQjtBQUMxRyxhQUFhLGtCQUFrQiw0REFBSyxrRkFBa0YsOERBQWdCO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQUs7QUFDYixxREFBcUQsOERBQWdCO0FBQ3JFO0FBQ0E7QUFDQSxvQkFBb0IsNERBQUs7QUFDekI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDREQUFLO0FBQzFDLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvZGF0YS9qb2luLmpzPzdjYTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIExvZ2dlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGZpZWxkIGFzIGdldEZpZWxkQWNjZXNzb3IgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCBkYXRhKSA9PiB7XG4gICAgY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgbGV0IGFzID0gb3B0aW9ucy5hcztcbiAgICBjb25zdCB7ZmllbGRzOiBmaWVsZHMsIGZyb206IGZyb20sIGtleToga2V5LCB2YWx1ZXM6IHZhbHVlc30gPSBvcHRpb25zLCBrZXlBY2Nlc3NvciA9IGdldEZpZWxkQWNjZXNzb3Ioa2V5KSwgaW5kZXhNYXAgPSAoZnJvbSB8fCBbXSkucmVkdWNlKCgobWFwLCB0dXBsZSkgPT4gKG1hcFtrZXlBY2Nlc3Nvcih0dXBsZSldID0gdHVwbGUsIFxuICAgIG1hcCkpLCB7fSksIGRlZmF1bHRWYWx1ZSA9IGlzTmlsKG9wdGlvbnMuZGVmYXVsdCkgPyBudWxsIDogb3B0aW9ucy5kZWZhdWx0LCBmaWVsZEFjY2Vzc29ycyA9IGZpZWxkcy5tYXAoKGZpZWxkID0+IGdldEZpZWxkQWNjZXNzb3IoZmllbGQpKSk7XG4gICAgaWYgKHZhbHVlcykge1xuICAgICAgICBmaWVsZHMubGVuZ3RoID4gMSAmJiAhYXMgJiYgbG9nZ2VyLmVycm9yKCdNdWx0aS1maWVsZCBsb29rdXAgcmVxdWlyZXMgZXhwbGljaXQgXCJhc1wiIHBhcmFtZXRlci4nKSwgXG4gICAgICAgIGFzICYmIGFzLmxlbmd0aCAhPT0gZmllbGRzLmxlbmd0aCAqIHZhbHVlcy5sZW5ndGggJiYgbG9nZ2VyLmVycm9yKCdUaGUgXCJhc1wiIHBhcmFtZXRlciBoYXMgdG9vIGZldyBvdXRwdXQgZmllbGQgbmFtZXMuJyksIFxuICAgICAgICBpc05pbChhcykgJiYgKGFzID0gdmFsdWVzKTtcbiAgICAgICAgY29uc3QgdmFsdWVzQWNjZXNzb3JzID0gdmFsdWVzLm1hcCgodmFsdWUgPT4gZ2V0RmllbGRBY2Nlc3Nvcih2YWx1ZSkpKTtcbiAgICAgICAgcmV0dXJuIGRhdGEubWFwKChlbnRyeSA9PiBmaWVsZEFjY2Vzc29ycy5yZWR1Y2UoKChyZXMsIGZpZWxkQWNjZXNzb3IsIGZpZWxkSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5kZXhNYXBbZmllbGRBY2Nlc3NvcihlbnRyeSldLCB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIChpc05pbCh2YWx1ZSkgPyB2YWx1ZXNBY2Nlc3NvcnMubWFwKCh2YWx1ZXNBY2Nlc3NvciA9PiBkZWZhdWx0VmFsdWUpKSA6IHZhbHVlc0FjY2Vzc29ycy5tYXAoKHZhbHVlc0FjY2Vzc29yID0+IHZhbHVlc0FjY2Vzc29yKHZhbHVlKSkpKS5yZWR1Y2UoKChhc1JlcywgYXNWYWx1ZSwgYXNJbmRleCkgPT4gKGFzUmVzW2FzW2ZpZWxkSW5kZXggKiB2YWx1ZXNMZW5ndGggKyBhc0luZGV4XV0gPSBhc1ZhbHVlLCBcbiAgICAgICAgICAgIGFzUmVzKSksIHJlcyk7XG4gICAgICAgIH0pLCBlbnRyeSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzIHx8IGxvZ2dlci5lcnJvcihcIk1pc3Npbmcgb3V0cHV0IGZpZWxkIG5hbWVzLlwiKSwgZGF0YS5tYXAoKGVudHJ5ID0+IGZpZWxkQWNjZXNzb3JzLnJlZHVjZSgoKHJlcywgZmllbGRBY2Nlc3NvciwgZmllbGRJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGluZGV4TWFwW2ZpZWxkQWNjZXNzb3IoZW50cnkpXTtcbiAgICAgICAgcmV0dXJuIHJlc1thc1tmaWVsZEluZGV4XV0gPSBpc05pbCh2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZSwgcmVzO1xuICAgIH0pLCBlbnRyeSkpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qb2luLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/join.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/kde.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/kde.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/quantileSorted.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/data-structure/point.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nconst defaultBins = 256, defaultAs = [ \"x\", \"kde\" ], defaultAs2d = [ \"x\", \"y\", \"kde\" ], SQRT2PI = Math.sqrt(2 * Math.PI), SQRT2PI2 = Math.sqrt((2 * Math.PI) ** 2), gaussKernel = (x, dimension = 1) => {\n    const sp = 1 === dimension ? SQRT2PI : 2 === dimension ? SQRT2PI2 : Math.sqrt((2 * Math.PI) ** dimension);\n    return Math.exp(-(x ** 2) / 2) / sp;\n}, ruleOfThumbBandwidth = (data, dimension = 1) => {\n    const n = data.length, mean = data.reduce(((sum, datum) => sum + datum.x), 0) / n, sd = Math.sqrt(data.reduce(((v, datum) => v + (datum.x - mean) ** 2), 0) / n), sortedData = data.sort(((a, b) => a.x - b.x)).map((datum => datum.x)), q1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.quantileSorted)(sortedData, .25), iqr = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.quantileSorted)(sortedData, .75) - q1;\n    return .9 * Math.min(sd, iqr / 1.34) * n ** -.2;\n}, scottBandwidth = (data, dimension = 1) => data.length ** (-1 / (dimension + 4)), kde1d = (targetDatum, data, bandwidth) => {\n    const n = data.length;\n    return data.reduce(((v, datum) => {\n        const distance = Math.abs(targetDatum.x - datum.x);\n        return v + gaussKernel(distance / bandwidth, 1);\n    }), 0) / (n * bandwidth);\n}, kde2d = (targetDatum, data, bandwidth) => {\n    const n = data.length;\n    return data.reduce(((v, datum) => {\n        const distance = _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.PointService.distancePP(targetDatum, datum);\n        return v + gaussKernel(distance / bandwidth ** 2, 1);\n    }), 0) / (n * bandwidth ** 2);\n};\n\nconst transform = (options, upstreamData) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w;\n    if (!upstreamData || 0 === upstreamData.length) return upstreamData;\n    const dimension = null !== (_a = options.dimension) && void 0 !== _a ? _a : \"1d\", field = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.array)(options.field), bins = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.array)(null !== (_b = options.bins) && void 0 !== _b ? _b : 256), as = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.array)(options.as);\n    if (\"1d\" === dimension) {\n        const data = upstreamData.map((datum => ({\n            x: datum[field[0]]\n        }))), bandwidth = null !== (_c = options.bandwidth) && void 0 !== _c ? _c : ruleOfThumbBandwidth(data), min = data.reduce(((min, datum) => Math.min(min, datum.x)), data[0].x), max = data.reduce(((max, datum) => Math.max(max, datum.x)), data[0].x), extentMin = null !== (_e = null === (_d = options.extent) || void 0 === _d ? void 0 : _d[0]) && void 0 !== _e ? _e : min, extentMax = null !== (_g = null === (_f = options.extent) || void 0 === _f ? void 0 : _f[1]) && void 0 !== _g ? _g : max, extent = [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(extentMin) ? extentMin : null !== (_h = extentMin.x) && void 0 !== _h ? _h : min, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(extentMax) ? extentMax : null !== (_j = extentMax.x) && void 0 !== _j ? _j : max ], step = (extent[1] - extent[0]) / bins[0], kdeResult = new Array(bins[0]).fill(0).map(((v, index) => {\n            var _a, _b;\n            const value = Math.min(extent[0] + step * (index + .5), extent[1]);\n            return {\n                [null !== (_a = as[0]) && void 0 !== _a ? _a : defaultAs[0]]: value,\n                [null !== (_b = as[1]) && void 0 !== _b ? _b : defaultAs[0]]: kde1d({\n                    x: value\n                }, data, bandwidth)\n            };\n        }));\n        return kdeResult;\n    }\n    if (\"2d\" === dimension) {\n        const data = upstreamData.map((datum => ({\n            x: datum[field[0]],\n            y: datum[field[1]]\n        }))), bandwidth = options.bandwidth || scottBandwidth(data, 2), min = data.reduce(((min, datum) => ({\n            x: Math.min(min.x, datum.x),\n            y: Math.min(min.y, datum.y)\n        })), data[0]), max = data.reduce(((max, datum) => ({\n            x: Math.max(max.x, datum.x),\n            y: Math.max(max.y, datum.y)\n        })), data[0]), extentMin = null !== (_l = null === (_k = options.extent) || void 0 === _k ? void 0 : _k[0]) && void 0 !== _l ? _l : min, extentMax = null !== (_o = null === (_m = options.extent) || void 0 === _m ? void 0 : _m[1]) && void 0 !== _o ? _o : max, extent = [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(extentMin) ? {\n            x: extentMin,\n            y: extentMin\n        } : {\n            x: null !== (_p = extentMin.x) && void 0 !== _p ? _p : min.x,\n            y: null !== (_q = extentMin.y) && void 0 !== _q ? _q : min.y\n        }, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(extentMax) ? {\n            x: extentMax,\n            y: extentMax\n        } : {\n            x: null !== (_r = extentMax.x) && void 0 !== _r ? _r : max.x,\n            y: null !== (_s = extentMax.y) && void 0 !== _s ? _s : max.y\n        } ], binsX = bins[0], binsY = null !== (_t = bins[1]) && void 0 !== _t ? _t : bins[0], stepX = (extent[1].x - extent[0].x) / binsX, stepY = (extent[1].y - extent[0].y) / binsY, kdeResult = [];\n        for (let yIndex = 0; yIndex < binsY; yIndex++) for (let xIndex = 0; xIndex < binsX; xIndex++) {\n            const x = Math.min(extent[0].x + stepX * (xIndex + .5), extent[1].x), y = Math.min(extent[0].y + stepY * (yIndex + .5), extent[1].y);\n            kdeResult.push({\n                [null !== (_u = as[0]) && void 0 !== _u ? _u : defaultAs2d[0]]: x,\n                [null !== (_v = as[1]) && void 0 !== _v ? _v : defaultAs2d[1]]: y,\n                [null !== (_w = as[2]) && void 0 !== _w ? _w : defaultAs2d[2]]: kde2d({\n                    x: x,\n                    y: y\n                }, data, bandwidth)\n            });\n        }\n        return kdeResult;\n    }\n    return [];\n};\n//# sourceMappingURL=kde.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2tkZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpRjs7QUFFakY7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtQQUFrUCxnRUFBYyx5QkFBeUIsZ0VBQWM7QUFDdlM7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQSx5QkFBeUIsMERBQVk7QUFDckM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0EsOEZBQThGLHVEQUFLLHdCQUF3Qix1REFBSyxpRUFBaUUsdURBQUs7QUFDdE07QUFDQTtBQUNBO0FBQ0EsU0FBUyxzZkFBc2YsNERBQVEsbUZBQW1GLDREQUFRO0FBQ2xtQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVMsNlFBQTZRLDREQUFRO0FBQzlSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFNBQVMsRUFBRSw0REFBUTtBQUNuQjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkJBQTZCLGdCQUFnQiwrQkFBK0IsZ0JBQWdCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2tkZS5qcz80MjZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvaW50U2VydmljZSwgYXJyYXksIGlzTnVtYmVyLCBxdWFudGlsZVNvcnRlZCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmNvbnN0IGRlZmF1bHRCaW5zID0gMjU2LCBkZWZhdWx0QXMgPSBbIFwieFwiLCBcImtkZVwiIF0sIGRlZmF1bHRBczJkID0gWyBcInhcIiwgXCJ5XCIsIFwia2RlXCIgXSwgU1FSVDJQSSA9IE1hdGguc3FydCgyICogTWF0aC5QSSksIFNRUlQyUEkyID0gTWF0aC5zcXJ0KCgyICogTWF0aC5QSSkgKiogMiksIGdhdXNzS2VybmVsID0gKHgsIGRpbWVuc2lvbiA9IDEpID0+IHtcbiAgICBjb25zdCBzcCA9IDEgPT09IGRpbWVuc2lvbiA/IFNRUlQyUEkgOiAyID09PSBkaW1lbnNpb24gPyBTUVJUMlBJMiA6IE1hdGguc3FydCgoMiAqIE1hdGguUEkpICoqIGRpbWVuc2lvbik7XG4gICAgcmV0dXJuIE1hdGguZXhwKC0oeCAqKiAyKSAvIDIpIC8gc3A7XG59LCBydWxlT2ZUaHVtYkJhbmR3aWR0aCA9IChkYXRhLCBkaW1lbnNpb24gPSAxKSA9PiB7XG4gICAgY29uc3QgbiA9IGRhdGEubGVuZ3RoLCBtZWFuID0gZGF0YS5yZWR1Y2UoKChzdW0sIGRhdHVtKSA9PiBzdW0gKyBkYXR1bS54KSwgMCkgLyBuLCBzZCA9IE1hdGguc3FydChkYXRhLnJlZHVjZSgoKHYsIGRhdHVtKSA9PiB2ICsgKGRhdHVtLnggLSBtZWFuKSAqKiAyKSwgMCkgLyBuKSwgc29ydGVkRGF0YSA9IGRhdGEuc29ydCgoKGEsIGIpID0+IGEueCAtIGIueCkpLm1hcCgoZGF0dW0gPT4gZGF0dW0ueCkpLCBxMSA9IHF1YW50aWxlU29ydGVkKHNvcnRlZERhdGEsIC4yNSksIGlxciA9IHF1YW50aWxlU29ydGVkKHNvcnRlZERhdGEsIC43NSkgLSBxMTtcbiAgICByZXR1cm4gLjkgKiBNYXRoLm1pbihzZCwgaXFyIC8gMS4zNCkgKiBuICoqIC0uMjtcbn0sIHNjb3R0QmFuZHdpZHRoID0gKGRhdGEsIGRpbWVuc2lvbiA9IDEpID0+IGRhdGEubGVuZ3RoICoqICgtMSAvIChkaW1lbnNpb24gKyA0KSksIGtkZTFkID0gKHRhcmdldERhdHVtLCBkYXRhLCBiYW5kd2lkdGgpID0+IHtcbiAgICBjb25zdCBuID0gZGF0YS5sZW5ndGg7XG4gICAgcmV0dXJuIGRhdGEucmVkdWNlKCgodiwgZGF0dW0pID0+IHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyh0YXJnZXREYXR1bS54IC0gZGF0dW0ueCk7XG4gICAgICAgIHJldHVybiB2ICsgZ2F1c3NLZXJuZWwoZGlzdGFuY2UgLyBiYW5kd2lkdGgsIDEpO1xuICAgIH0pLCAwKSAvIChuICogYmFuZHdpZHRoKTtcbn0sIGtkZTJkID0gKHRhcmdldERhdHVtLCBkYXRhLCBiYW5kd2lkdGgpID0+IHtcbiAgICBjb25zdCBuID0gZGF0YS5sZW5ndGg7XG4gICAgcmV0dXJuIGRhdGEucmVkdWNlKCgodiwgZGF0dW0pID0+IHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBQb2ludFNlcnZpY2UuZGlzdGFuY2VQUCh0YXJnZXREYXR1bSwgZGF0dW0pO1xuICAgICAgICByZXR1cm4gdiArIGdhdXNzS2VybmVsKGRpc3RhbmNlIC8gYmFuZHdpZHRoICoqIDIsIDEpO1xuICAgIH0pLCAwKSAvIChuICogYmFuZHdpZHRoICoqIDIpO1xufTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdCwgX3UsIF92LCBfdztcbiAgICBpZiAoIXVwc3RyZWFtRGF0YSB8fCAwID09PSB1cHN0cmVhbURhdGEubGVuZ3RoKSByZXR1cm4gdXBzdHJlYW1EYXRhO1xuICAgIGNvbnN0IGRpbWVuc2lvbiA9IG51bGwgIT09IChfYSA9IG9wdGlvbnMuZGltZW5zaW9uKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBcIjFkXCIsIGZpZWxkID0gYXJyYXkob3B0aW9ucy5maWVsZCksIGJpbnMgPSBhcnJheShudWxsICE9PSAoX2IgPSBvcHRpb25zLmJpbnMpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDI1NiksIGFzID0gYXJyYXkob3B0aW9ucy5hcyk7XG4gICAgaWYgKFwiMWRcIiA9PT0gZGltZW5zaW9uKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB1cHN0cmVhbURhdGEubWFwKChkYXR1bSA9PiAoe1xuICAgICAgICAgICAgeDogZGF0dW1bZmllbGRbMF1dXG4gICAgICAgIH0pKSksIGJhbmR3aWR0aCA9IG51bGwgIT09IChfYyA9IG9wdGlvbnMuYmFuZHdpZHRoKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBydWxlT2ZUaHVtYkJhbmR3aWR0aChkYXRhKSwgbWluID0gZGF0YS5yZWR1Y2UoKChtaW4sIGRhdHVtKSA9PiBNYXRoLm1pbihtaW4sIGRhdHVtLngpKSwgZGF0YVswXS54KSwgbWF4ID0gZGF0YS5yZWR1Y2UoKChtYXgsIGRhdHVtKSA9PiBNYXRoLm1heChtYXgsIGRhdHVtLngpKSwgZGF0YVswXS54KSwgZXh0ZW50TWluID0gbnVsbCAhPT0gKF9lID0gbnVsbCA9PT0gKF9kID0gb3B0aW9ucy5leHRlbnQpIHx8IHZvaWQgMCA9PT0gX2QgPyB2b2lkIDAgOiBfZFswXSkgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogbWluLCBleHRlbnRNYXggPSBudWxsICE9PSAoX2cgPSBudWxsID09PSAoX2YgPSBvcHRpb25zLmV4dGVudCkgfHwgdm9pZCAwID09PSBfZiA/IHZvaWQgMCA6IF9mWzFdKSAmJiB2b2lkIDAgIT09IF9nID8gX2cgOiBtYXgsIGV4dGVudCA9IFsgaXNOdW1iZXIoZXh0ZW50TWluKSA/IGV4dGVudE1pbiA6IG51bGwgIT09IChfaCA9IGV4dGVudE1pbi54KSAmJiB2b2lkIDAgIT09IF9oID8gX2ggOiBtaW4sIGlzTnVtYmVyKGV4dGVudE1heCkgPyBleHRlbnRNYXggOiBudWxsICE9PSAoX2ogPSBleHRlbnRNYXgueCkgJiYgdm9pZCAwICE9PSBfaiA/IF9qIDogbWF4IF0sIHN0ZXAgPSAoZXh0ZW50WzFdIC0gZXh0ZW50WzBdKSAvIGJpbnNbMF0sIGtkZVJlc3VsdCA9IG5ldyBBcnJheShiaW5zWzBdKS5maWxsKDApLm1hcCgoKHYsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLm1pbihleHRlbnRbMF0gKyBzdGVwICogKGluZGV4ICsgLjUpLCBleHRlbnRbMV0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBbbnVsbCAhPT0gKF9hID0gYXNbMF0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGRlZmF1bHRBc1swXV06IHZhbHVlLFxuICAgICAgICAgICAgICAgIFtudWxsICE9PSAoX2IgPSBhc1sxXSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogZGVmYXVsdEFzWzBdXToga2RlMWQoe1xuICAgICAgICAgICAgICAgICAgICB4OiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0sIGRhdGEsIGJhbmR3aWR0aClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGtkZVJlc3VsdDtcbiAgICB9XG4gICAgaWYgKFwiMmRcIiA9PT0gZGltZW5zaW9uKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB1cHN0cmVhbURhdGEubWFwKChkYXR1bSA9PiAoe1xuICAgICAgICAgICAgeDogZGF0dW1bZmllbGRbMF1dLFxuICAgICAgICAgICAgeTogZGF0dW1bZmllbGRbMV1dXG4gICAgICAgIH0pKSksIGJhbmR3aWR0aCA9IG9wdGlvbnMuYmFuZHdpZHRoIHx8IHNjb3R0QmFuZHdpZHRoKGRhdGEsIDIpLCBtaW4gPSBkYXRhLnJlZHVjZSgoKG1pbiwgZGF0dW0pID0+ICh7XG4gICAgICAgICAgICB4OiBNYXRoLm1pbihtaW4ueCwgZGF0dW0ueCksXG4gICAgICAgICAgICB5OiBNYXRoLm1pbihtaW4ueSwgZGF0dW0ueSlcbiAgICAgICAgfSkpLCBkYXRhWzBdKSwgbWF4ID0gZGF0YS5yZWR1Y2UoKChtYXgsIGRhdHVtKSA9PiAoe1xuICAgICAgICAgICAgeDogTWF0aC5tYXgobWF4LngsIGRhdHVtLngpLFxuICAgICAgICAgICAgeTogTWF0aC5tYXgobWF4LnksIGRhdHVtLnkpXG4gICAgICAgIH0pKSwgZGF0YVswXSksIGV4dGVudE1pbiA9IG51bGwgIT09IChfbCA9IG51bGwgPT09IChfayA9IG9wdGlvbnMuZXh0ZW50KSB8fCB2b2lkIDAgPT09IF9rID8gdm9pZCAwIDogX2tbMF0pICYmIHZvaWQgMCAhPT0gX2wgPyBfbCA6IG1pbiwgZXh0ZW50TWF4ID0gbnVsbCAhPT0gKF9vID0gbnVsbCA9PT0gKF9tID0gb3B0aW9ucy5leHRlbnQpIHx8IHZvaWQgMCA9PT0gX20gPyB2b2lkIDAgOiBfbVsxXSkgJiYgdm9pZCAwICE9PSBfbyA/IF9vIDogbWF4LCBleHRlbnQgPSBbIGlzTnVtYmVyKGV4dGVudE1pbikgPyB7XG4gICAgICAgICAgICB4OiBleHRlbnRNaW4sXG4gICAgICAgICAgICB5OiBleHRlbnRNaW5cbiAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIHg6IG51bGwgIT09IChfcCA9IGV4dGVudE1pbi54KSAmJiB2b2lkIDAgIT09IF9wID8gX3AgOiBtaW4ueCxcbiAgICAgICAgICAgIHk6IG51bGwgIT09IChfcSA9IGV4dGVudE1pbi55KSAmJiB2b2lkIDAgIT09IF9xID8gX3EgOiBtaW4ueVxuICAgICAgICB9LCBpc051bWJlcihleHRlbnRNYXgpID8ge1xuICAgICAgICAgICAgeDogZXh0ZW50TWF4LFxuICAgICAgICAgICAgeTogZXh0ZW50TWF4XG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICB4OiBudWxsICE9PSAoX3IgPSBleHRlbnRNYXgueCkgJiYgdm9pZCAwICE9PSBfciA/IF9yIDogbWF4LngsXG4gICAgICAgICAgICB5OiBudWxsICE9PSAoX3MgPSBleHRlbnRNYXgueSkgJiYgdm9pZCAwICE9PSBfcyA/IF9zIDogbWF4LnlcbiAgICAgICAgfSBdLCBiaW5zWCA9IGJpbnNbMF0sIGJpbnNZID0gbnVsbCAhPT0gKF90ID0gYmluc1sxXSkgJiYgdm9pZCAwICE9PSBfdCA/IF90IDogYmluc1swXSwgc3RlcFggPSAoZXh0ZW50WzFdLnggLSBleHRlbnRbMF0ueCkgLyBiaW5zWCwgc3RlcFkgPSAoZXh0ZW50WzFdLnkgLSBleHRlbnRbMF0ueSkgLyBiaW5zWSwga2RlUmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IHlJbmRleCA9IDA7IHlJbmRleCA8IGJpbnNZOyB5SW5kZXgrKykgZm9yIChsZXQgeEluZGV4ID0gMDsgeEluZGV4IDwgYmluc1g7IHhJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5taW4oZXh0ZW50WzBdLnggKyBzdGVwWCAqICh4SW5kZXggKyAuNSksIGV4dGVudFsxXS54KSwgeSA9IE1hdGgubWluKGV4dGVudFswXS55ICsgc3RlcFkgKiAoeUluZGV4ICsgLjUpLCBleHRlbnRbMV0ueSk7XG4gICAgICAgICAgICBrZGVSZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgW251bGwgIT09IChfdSA9IGFzWzBdKSAmJiB2b2lkIDAgIT09IF91ID8gX3UgOiBkZWZhdWx0QXMyZFswXV06IHgsXG4gICAgICAgICAgICAgICAgW251bGwgIT09IChfdiA9IGFzWzFdKSAmJiB2b2lkIDAgIT09IF92ID8gX3YgOiBkZWZhdWx0QXMyZFsxXV06IHksXG4gICAgICAgICAgICAgICAgW251bGwgIT09IChfdyA9IGFzWzJdKSAmJiB2b2lkIDAgIT09IF93ID8gX3cgOiBkZWZhdWx0QXMyZFsyXV06IGtkZTJkKHtcbiAgICAgICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICAgICAgeTogeVxuICAgICAgICAgICAgICAgIH0sIGRhdGEsIGJhbmR3aWR0aClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZGVSZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/kde.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/map.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/map.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nconst transform = (options, upstreamData, params) => {\n    const func = options.callback, as = options.as;\n    if (!options.all) return upstreamData.forEach((entry => {\n        const data = func(entry, params);\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(as)) {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(entry)) return;\n            entry[as] = data;\n        }\n        return data;\n    })), upstreamData;\n    const data = func(upstreamData, params);\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(as) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(upstreamData) ? data : (upstreamData[as] = data, upstreamData);\n};\n//# sourceMappingURL=map.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL21hcC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF5Qzs7QUFFbEM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFLO0FBQ2xCLGdCQUFnQiw0REFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXLDREQUFLLFFBQVEsNERBQUs7QUFDN0I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvbWFwLmpzPzY0MDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZnVuYyA9IG9wdGlvbnMuY2FsbGJhY2ssIGFzID0gb3B0aW9ucy5hcztcbiAgICBpZiAoIW9wdGlvbnMuYWxsKSByZXR1cm4gdXBzdHJlYW1EYXRhLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGZ1bmMoZW50cnksIHBhcmFtcyk7XG4gICAgICAgIGlmICghaXNOaWwoYXMpKSB7XG4gICAgICAgICAgICBpZiAoaXNOaWwoZW50cnkpKSByZXR1cm47XG4gICAgICAgICAgICBlbnRyeVthc10gPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pKSwgdXBzdHJlYW1EYXRhO1xuICAgIGNvbnN0IGRhdGEgPSBmdW5jKHVwc3RyZWFtRGF0YSwgcGFyYW1zKTtcbiAgICByZXR1cm4gaXNOaWwoYXMpIHx8IGlzTmlsKHVwc3RyZWFtRGF0YSkgPyBkYXRhIDogKHVwc3RyZWFtRGF0YVthc10gPSBkYXRhLCB1cHN0cmVhbURhdGEpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/pick.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/pick.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _util_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js\");\n\n\n\n\n\n\nfunction project(source, fields, as) {\n    return fields.reduce(((res, field, index) => (res[as[index]] = field(source), res)), {});\n}\n\nconst transform = (options, upstreamData) => {\n    const {fields: fields = []} = options, as = (0,_util_util__WEBPACK_IMPORTED_MODULE_0__.fieldNames)(fields, options.as || []), fieldsAccessors = fields.map((field => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(field) ? (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__.field)(field) : field));\n    return fieldsAccessors.length ? upstreamData.map(((entry, index) => project(entry, fieldsAccessors, as))) : upstreamData.map(((entry, index) => ({})));\n};\n//# sourceMappingURL=pick.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3BpY2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRTs7QUFFeEI7O0FBRUY7O0FBRTFDO0FBQ0EsMkZBQTJGO0FBQzNGOztBQUVPO0FBQ1AsV0FBVyxxQkFBcUIsZ0JBQWdCLHNEQUFVLG1FQUFtRSw0REFBUSxVQUFVLDhEQUFnQjtBQUMvSix1SkFBdUo7QUFDdko7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvcGljay5qcz9mMzEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpZWxkIGFzIGdldEZpZWxkQWNjZXNzb3IgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBmaWVsZE5hbWVzIH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xuXG5mdW5jdGlvbiBwcm9qZWN0KHNvdXJjZSwgZmllbGRzLCBhcykge1xuICAgIHJldHVybiBmaWVsZHMucmVkdWNlKCgocmVzLCBmaWVsZCwgaW5kZXgpID0+IChyZXNbYXNbaW5kZXhdXSA9IGZpZWxkKHNvdXJjZSksIHJlcykpLCB7fSk7XG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgY29uc3Qge2ZpZWxkczogZmllbGRzID0gW119ID0gb3B0aW9ucywgYXMgPSBmaWVsZE5hbWVzKGZpZWxkcywgb3B0aW9ucy5hcyB8fCBbXSksIGZpZWxkc0FjY2Vzc29ycyA9IGZpZWxkcy5tYXAoKGZpZWxkID0+IGlzU3RyaW5nKGZpZWxkKSA/IGdldEZpZWxkQWNjZXNzb3IoZmllbGQpIDogZmllbGQpKTtcbiAgICByZXR1cm4gZmllbGRzQWNjZXNzb3JzLmxlbmd0aCA/IHVwc3RyZWFtRGF0YS5tYXAoKChlbnRyeSwgaW5kZXgpID0+IHByb2plY3QoZW50cnksIGZpZWxkc0FjY2Vzc29ycywgYXMpKSkgOiB1cHN0cmVhbURhdGEubWFwKCgoZW50cnksIGluZGV4KSA9PiAoe30pKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGljay5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/pick.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/pie.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/pie.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/angle.js\");\n\n\nconst transform = (options, upstreamData) => {\n    var _a, _b;\n    if (!upstreamData || 0 === upstreamData.length) return upstreamData;\n    const field = options.field, startAngle = null !== (_a = options.startAngle) && void 0 !== _a ? _a : 0, endAngle = null !== (_b = options.endAngle) && void 0 !== _b ? _b : 2 * Math.PI, {asStartAngle: asStartAngle, asEndAngle: asEndAngle, asMiddleAngle: asMiddleAngle, asRadian: asRadian, asRatio: asRatio, asQuadrant: asQuadrant, asK: asK} = options, total = upstreamData.reduce(((sum, d) => Number.parseFloat(d[field]) + sum), 0), max = upstreamData.reduce(((m, d) => Math.max(m, Number.parseFloat(d[field]))), -1 / 0), intervalAngle = endAngle - startAngle;\n    let lastAngle = startAngle;\n    const data = upstreamData.map((originDatum => {\n        const datum = Object.assign({}, originDatum), ratio = Number.parseFloat(datum[field]) / total, radian = ratio * intervalAngle;\n        return asRatio && (datum[asRatio] = ratio), asStartAngle && (datum[asStartAngle] = lastAngle), \n        asEndAngle && (datum[asEndAngle] = lastAngle + radian), asMiddleAngle && (datum[asMiddleAngle] = lastAngle + radian / 2), \n        asRadian && (datum[asRadian] = radian), asQuadrant && (datum[asQuadrant] = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.computeQuadrant)(lastAngle + radian / 2)), \n        asK && (datum[asK] = Number.parseFloat(datum[field]) / max), lastAngle = datum[asEndAngle], \n        datum;\n    }));\n    return data[data.length - 1][asEndAngle] = endAngle, data;\n};\n//# sourceMappingURL=pie.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3BpZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRDs7QUFFNUM7QUFDUDtBQUNBO0FBQ0EsOExBQThMLDBKQUEwSjtBQUN4VjtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxtRkFBbUYsaUVBQWU7QUFDbEc7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3BpZS5qcz9hY2MxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXB1dGVRdWFkcmFudCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoIXVwc3RyZWFtRGF0YSB8fCAwID09PSB1cHN0cmVhbURhdGEubGVuZ3RoKSByZXR1cm4gdXBzdHJlYW1EYXRhO1xuICAgIGNvbnN0IGZpZWxkID0gb3B0aW9ucy5maWVsZCwgc3RhcnRBbmdsZSA9IG51bGwgIT09IChfYSA9IG9wdGlvbnMuc3RhcnRBbmdsZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMCwgZW5kQW5nbGUgPSBudWxsICE9PSAoX2IgPSBvcHRpb25zLmVuZEFuZ2xlKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAyICogTWF0aC5QSSwge2FzU3RhcnRBbmdsZTogYXNTdGFydEFuZ2xlLCBhc0VuZEFuZ2xlOiBhc0VuZEFuZ2xlLCBhc01pZGRsZUFuZ2xlOiBhc01pZGRsZUFuZ2xlLCBhc1JhZGlhbjogYXNSYWRpYW4sIGFzUmF0aW86IGFzUmF0aW8sIGFzUXVhZHJhbnQ6IGFzUXVhZHJhbnQsIGFzSzogYXNLfSA9IG9wdGlvbnMsIHRvdGFsID0gdXBzdHJlYW1EYXRhLnJlZHVjZSgoKHN1bSwgZCkgPT4gTnVtYmVyLnBhcnNlRmxvYXQoZFtmaWVsZF0pICsgc3VtKSwgMCksIG1heCA9IHVwc3RyZWFtRGF0YS5yZWR1Y2UoKChtLCBkKSA9PiBNYXRoLm1heChtLCBOdW1iZXIucGFyc2VGbG9hdChkW2ZpZWxkXSkpKSwgLTEgLyAwKSwgaW50ZXJ2YWxBbmdsZSA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICBsZXQgbGFzdEFuZ2xlID0gc3RhcnRBbmdsZTtcbiAgICBjb25zdCBkYXRhID0gdXBzdHJlYW1EYXRhLm1hcCgob3JpZ2luRGF0dW0gPT4ge1xuICAgICAgICBjb25zdCBkYXR1bSA9IE9iamVjdC5hc3NpZ24oe30sIG9yaWdpbkRhdHVtKSwgcmF0aW8gPSBOdW1iZXIucGFyc2VGbG9hdChkYXR1bVtmaWVsZF0pIC8gdG90YWwsIHJhZGlhbiA9IHJhdGlvICogaW50ZXJ2YWxBbmdsZTtcbiAgICAgICAgcmV0dXJuIGFzUmF0aW8gJiYgKGRhdHVtW2FzUmF0aW9dID0gcmF0aW8pLCBhc1N0YXJ0QW5nbGUgJiYgKGRhdHVtW2FzU3RhcnRBbmdsZV0gPSBsYXN0QW5nbGUpLCBcbiAgICAgICAgYXNFbmRBbmdsZSAmJiAoZGF0dW1bYXNFbmRBbmdsZV0gPSBsYXN0QW5nbGUgKyByYWRpYW4pLCBhc01pZGRsZUFuZ2xlICYmIChkYXR1bVthc01pZGRsZUFuZ2xlXSA9IGxhc3RBbmdsZSArIHJhZGlhbiAvIDIpLCBcbiAgICAgICAgYXNSYWRpYW4gJiYgKGRhdHVtW2FzUmFkaWFuXSA9IHJhZGlhbiksIGFzUXVhZHJhbnQgJiYgKGRhdHVtW2FzUXVhZHJhbnRdID0gY29tcHV0ZVF1YWRyYW50KGxhc3RBbmdsZSArIHJhZGlhbiAvIDIpKSwgXG4gICAgICAgIGFzSyAmJiAoZGF0dW1bYXNLXSA9IE51bWJlci5wYXJzZUZsb2F0KGRhdHVtW2ZpZWxkXSkgLyBtYXgpLCBsYXN0QW5nbGUgPSBkYXR1bVthc0VuZEFuZ2xlXSwgXG4gICAgICAgIGRhdHVtO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZGF0YVtkYXRhLmxlbmd0aCAtIDFdW2FzRW5kQW5nbGVdID0gZW5kQW5nbGUsIGRhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGllLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/pie.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/range.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/range.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/range.js\");\n\n\nconst transform = options => {\n    const {start: start, stop: stop, step: step = 1, as: as = \"data\"} = options;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.range)(start, stop, step).map((val => ({\n        [as]: val\n    })));\n};\n//# sourceMappingURL=range.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3JhbmdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDOztBQUVsQztBQUNQLFdBQVcsMkRBQTJEO0FBQ3RFLFdBQVcsdURBQUs7QUFDaEI7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvcmFuZ2UuanM/NDJmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5nZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSBvcHRpb25zID0+IHtcbiAgICBjb25zdCB7c3RhcnQ6IHN0YXJ0LCBzdG9wOiBzdG9wLCBzdGVwOiBzdGVwID0gMSwgYXM6IGFzID0gXCJkYXRhXCJ9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gcmFuZ2Uoc3RhcnQsIHN0b3AsIHN0ZXApLm1hcCgodmFsID0+ICh7XG4gICAgICAgIFthc106IHZhbFxuICAgIH0pKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFuZ2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/range.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/sampling.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/sampling.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _util_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js\");\n\n\n\n\nconst samplerMap = {\n    min: _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.minInArray,\n    max: _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.maxInArray,\n    average: _util_util__WEBPACK_IMPORTED_MODULE_1__.average,\n    sum: _util_util__WEBPACK_IMPORTED_MODULE_1__.sum\n};\n\nfunction lttb(size, array, isGroup, yfield) {\n    const frameSize = Math.floor(array.length / size), newIndices = [], len = array.length;\n    let maxArea, area, nextIndex, currentIndex = 0, sampledIndex = 0;\n    newIndices[sampledIndex++] = currentIndex;\n    for (let i = 1; i < len - 1; i += frameSize) {\n        const nextFrameStart = Math.min(i + frameSize, len - 1), nextFrameEnd = Math.min(i + 2 * frameSize, len), avgX = (nextFrameEnd + nextFrameStart) / 2;\n        let avgY = 0;\n        for (let idx = nextFrameStart; idx < nextFrameEnd; idx++) {\n            const value = array[idx][yfield];\n            Number.isNaN(value) || (avgY += value);\n        }\n        avgY /= nextFrameEnd - nextFrameStart;\n        const frameStart = i, frameEnd = Math.min(i + frameSize, len), pointAX = i - 1, pointAY = array[currentIndex][yfield];\n        maxArea = -1, nextIndex = frameStart;\n        for (let idx = frameStart; idx < frameEnd; idx++) {\n            const value = array[idx][yfield];\n            Number.isNaN(yfield) || (area = Math.abs((pointAX - avgX) * (value - pointAY) - (pointAX - idx) * (avgY - pointAY)), \n            area > maxArea && (maxArea = area, nextIndex = idx));\n        }\n        newIndices[sampledIndex++] = nextIndex, currentIndex = nextIndex;\n    }\n    newIndices[sampledIndex - 1] !== len - 1 && (newIndices[sampledIndex++] = len - 1);\n    return newIndices.map((i => isGroup ? array[i].i : i));\n}\n\nfunction sample(size, array, isGroup, mode, yfield) {\n    let frameSize = Math.floor(array.length / size);\n    const newIndices = [], len = array.length;\n    let sampledIndex = 0, frameValues = [];\n    newIndices.push(sampledIndex), array[sampledIndex][yfield] = array[sampledIndex][yfield];\n    for (let i = 1; i < len - 1; i += frameSize) {\n        frameSize > len - i && (frameSize = len - i, frameValues.length = frameSize), frameValues = [];\n        for (let k = 0; k < frameSize; k++) frameValues.push(array[i + k][yfield]);\n        const value = samplerMap[mode](frameValues);\n        sampledIndex = Math.min(Math.round(i + frameValues.length / 2) || 0, len - 1), array[sampledIndex][yfield] = value, \n        newIndices.push(sampledIndex);\n    }\n    return newIndices.map((i => isGroup ? array[i].i : i));\n}\n\nfunction sampleMin(size, array, isGroup, yfield) {\n    return sample(size, array, isGroup, \"min\", yfield);\n}\n\nfunction sampleMax(size, array, isGroup, yfield) {\n    return sample(size, array, isGroup, \"max\", yfield);\n}\n\nfunction sampleAverage(size, array, isGroup, yfield) {\n    return sample(size, array, isGroup, \"average\", yfield);\n}\n\nfunction sampleSum(size, array, isGroup, yfield) {\n    return sample(size, array, isGroup, \"sum\", yfield);\n}\n\nconst transform = (options, upstreamData) => {\n    let size = options.size;\n    const factor = options.factor || 1;\n    if (Array.isArray(size) && (size = Math.floor(size[1] - size[0])), size *= factor, \n    size <= 0) return [];\n    if (upstreamData.length <= size) return upstreamData;\n    if (options.skipfirst) return upstreamData.slice(0, 1);\n    const {mode: mode, yfield: y, groupBy: groupBy} = options, yfield = null != y ? y : \"y\";\n    let sampler = lttb;\n    if (\"min\" === mode ? sampler = sampleMin : \"max\" === mode ? sampler = sampleMax : \"average\" === mode ? sampler = sampleAverage : \"sum\" === mode && (sampler = sampleSum), \n    upstreamData.length) {\n        const groups = {};\n        if (groupBy) {\n            for (let i = 0, n = upstreamData.length; i < n; i++) {\n                const datum = upstreamData[i], groupId = datum[groupBy];\n                groups[groupId] ? groups[groupId].push({\n                    [yfield]: datum[yfield],\n                    i: i\n                }) : (groups[groupId] = [], groups[groupId].push({\n                    [yfield]: datum[yfield],\n                    i: i\n                }));\n            }\n            let rawIndice = [];\n            return Object.keys(groups).forEach((groupName => {\n                const group = groups[groupName];\n                if (group.length <= size) {\n                    const indices = group.map((datum => datum.i));\n                    rawIndice = rawIndice.concat(indices);\n                } else {\n                    const indices = sampler(size, group, !0, yfield);\n                    rawIndice = rawIndice.concat(indices), group.forEach((datum => upstreamData[datum.i][yfield] = datum[yfield]));\n                }\n            })), rawIndice.sort(((a, b) => a - b)), rawIndice.map((index => upstreamData[index]));\n        }\n        return sampler(size, upstreamData, !1, yfield).map((index => upstreamData[index]));\n    }\n    return [];\n};\n//# sourceMappingURL=sampling.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3NhbXBsaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwRDs7QUFFZDs7QUFFNUM7QUFDQSxTQUFTLHdEQUFVO0FBQ25CLFNBQVMsd0RBQVU7QUFDbkIsYUFBYSwrQ0FBTztBQUNwQixTQUFTLDJDQUFHO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0EsdUNBQXVDLG9CQUFvQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0JBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5Q0FBeUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxPQUFPO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvc2FtcGxpbmcuanM/ZTA0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYXhJbkFycmF5LCBtaW5JbkFycmF5IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgYXZlcmFnZSwgc3VtIH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xuXG5jb25zdCBzYW1wbGVyTWFwID0ge1xuICAgIG1pbjogbWluSW5BcnJheSxcbiAgICBtYXg6IG1heEluQXJyYXksXG4gICAgYXZlcmFnZTogYXZlcmFnZSxcbiAgICBzdW06IHN1bVxufTtcblxuZnVuY3Rpb24gbHR0YihzaXplLCBhcnJheSwgaXNHcm91cCwgeWZpZWxkKSB7XG4gICAgY29uc3QgZnJhbWVTaXplID0gTWF0aC5mbG9vcihhcnJheS5sZW5ndGggLyBzaXplKSwgbmV3SW5kaWNlcyA9IFtdLCBsZW4gPSBhcnJheS5sZW5ndGg7XG4gICAgbGV0IG1heEFyZWEsIGFyZWEsIG5leHRJbmRleCwgY3VycmVudEluZGV4ID0gMCwgc2FtcGxlZEluZGV4ID0gMDtcbiAgICBuZXdJbmRpY2VzW3NhbXBsZWRJbmRleCsrXSA9IGN1cnJlbnRJbmRleDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbiAtIDE7IGkgKz0gZnJhbWVTaXplKSB7XG4gICAgICAgIGNvbnN0IG5leHRGcmFtZVN0YXJ0ID0gTWF0aC5taW4oaSArIGZyYW1lU2l6ZSwgbGVuIC0gMSksIG5leHRGcmFtZUVuZCA9IE1hdGgubWluKGkgKyAyICogZnJhbWVTaXplLCBsZW4pLCBhdmdYID0gKG5leHRGcmFtZUVuZCArIG5leHRGcmFtZVN0YXJ0KSAvIDI7XG4gICAgICAgIGxldCBhdmdZID0gMDtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gbmV4dEZyYW1lU3RhcnQ7IGlkeCA8IG5leHRGcmFtZUVuZDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXJyYXlbaWR4XVt5ZmllbGRdO1xuICAgICAgICAgICAgTnVtYmVyLmlzTmFOKHZhbHVlKSB8fCAoYXZnWSArPSB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYXZnWSAvPSBuZXh0RnJhbWVFbmQgLSBuZXh0RnJhbWVTdGFydDtcbiAgICAgICAgY29uc3QgZnJhbWVTdGFydCA9IGksIGZyYW1lRW5kID0gTWF0aC5taW4oaSArIGZyYW1lU2l6ZSwgbGVuKSwgcG9pbnRBWCA9IGkgLSAxLCBwb2ludEFZID0gYXJyYXlbY3VycmVudEluZGV4XVt5ZmllbGRdO1xuICAgICAgICBtYXhBcmVhID0gLTEsIG5leHRJbmRleCA9IGZyYW1lU3RhcnQ7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IGZyYW1lU3RhcnQ7IGlkeCA8IGZyYW1lRW5kOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhcnJheVtpZHhdW3lmaWVsZF07XG4gICAgICAgICAgICBOdW1iZXIuaXNOYU4oeWZpZWxkKSB8fCAoYXJlYSA9IE1hdGguYWJzKChwb2ludEFYIC0gYXZnWCkgKiAodmFsdWUgLSBwb2ludEFZKSAtIChwb2ludEFYIC0gaWR4KSAqIChhdmdZIC0gcG9pbnRBWSkpLCBcbiAgICAgICAgICAgIGFyZWEgPiBtYXhBcmVhICYmIChtYXhBcmVhID0gYXJlYSwgbmV4dEluZGV4ID0gaWR4KSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3SW5kaWNlc1tzYW1wbGVkSW5kZXgrK10gPSBuZXh0SW5kZXgsIGN1cnJlbnRJbmRleCA9IG5leHRJbmRleDtcbiAgICB9XG4gICAgbmV3SW5kaWNlc1tzYW1wbGVkSW5kZXggLSAxXSAhPT0gbGVuIC0gMSAmJiAobmV3SW5kaWNlc1tzYW1wbGVkSW5kZXgrK10gPSBsZW4gLSAxKTtcbiAgICByZXR1cm4gbmV3SW5kaWNlcy5tYXAoKGkgPT4gaXNHcm91cCA/IGFycmF5W2ldLmkgOiBpKSk7XG59XG5cbmZ1bmN0aW9uIHNhbXBsZShzaXplLCBhcnJheSwgaXNHcm91cCwgbW9kZSwgeWZpZWxkKSB7XG4gICAgbGV0IGZyYW1lU2l6ZSA9IE1hdGguZmxvb3IoYXJyYXkubGVuZ3RoIC8gc2l6ZSk7XG4gICAgY29uc3QgbmV3SW5kaWNlcyA9IFtdLCBsZW4gPSBhcnJheS5sZW5ndGg7XG4gICAgbGV0IHNhbXBsZWRJbmRleCA9IDAsIGZyYW1lVmFsdWVzID0gW107XG4gICAgbmV3SW5kaWNlcy5wdXNoKHNhbXBsZWRJbmRleCksIGFycmF5W3NhbXBsZWRJbmRleF1beWZpZWxkXSA9IGFycmF5W3NhbXBsZWRJbmRleF1beWZpZWxkXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbiAtIDE7IGkgKz0gZnJhbWVTaXplKSB7XG4gICAgICAgIGZyYW1lU2l6ZSA+IGxlbiAtIGkgJiYgKGZyYW1lU2l6ZSA9IGxlbiAtIGksIGZyYW1lVmFsdWVzLmxlbmd0aCA9IGZyYW1lU2l6ZSksIGZyYW1lVmFsdWVzID0gW107XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgZnJhbWVTaXplOyBrKyspIGZyYW1lVmFsdWVzLnB1c2goYXJyYXlbaSArIGtdW3lmaWVsZF0pO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNhbXBsZXJNYXBbbW9kZV0oZnJhbWVWYWx1ZXMpO1xuICAgICAgICBzYW1wbGVkSW5kZXggPSBNYXRoLm1pbihNYXRoLnJvdW5kKGkgKyBmcmFtZVZhbHVlcy5sZW5ndGggLyAyKSB8fCAwLCBsZW4gLSAxKSwgYXJyYXlbc2FtcGxlZEluZGV4XVt5ZmllbGRdID0gdmFsdWUsIFxuICAgICAgICBuZXdJbmRpY2VzLnB1c2goc2FtcGxlZEluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0luZGljZXMubWFwKChpID0+IGlzR3JvdXAgPyBhcnJheVtpXS5pIDogaSkpO1xufVxuXG5mdW5jdGlvbiBzYW1wbGVNaW4oc2l6ZSwgYXJyYXksIGlzR3JvdXAsIHlmaWVsZCkge1xuICAgIHJldHVybiBzYW1wbGUoc2l6ZSwgYXJyYXksIGlzR3JvdXAsIFwibWluXCIsIHlmaWVsZCk7XG59XG5cbmZ1bmN0aW9uIHNhbXBsZU1heChzaXplLCBhcnJheSwgaXNHcm91cCwgeWZpZWxkKSB7XG4gICAgcmV0dXJuIHNhbXBsZShzaXplLCBhcnJheSwgaXNHcm91cCwgXCJtYXhcIiwgeWZpZWxkKTtcbn1cblxuZnVuY3Rpb24gc2FtcGxlQXZlcmFnZShzaXplLCBhcnJheSwgaXNHcm91cCwgeWZpZWxkKSB7XG4gICAgcmV0dXJuIHNhbXBsZShzaXplLCBhcnJheSwgaXNHcm91cCwgXCJhdmVyYWdlXCIsIHlmaWVsZCk7XG59XG5cbmZ1bmN0aW9uIHNhbXBsZVN1bShzaXplLCBhcnJheSwgaXNHcm91cCwgeWZpZWxkKSB7XG4gICAgcmV0dXJuIHNhbXBsZShzaXplLCBhcnJheSwgaXNHcm91cCwgXCJzdW1cIiwgeWZpZWxkKTtcbn1cblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICBsZXQgc2l6ZSA9IG9wdGlvbnMuc2l6ZTtcbiAgICBjb25zdCBmYWN0b3IgPSBvcHRpb25zLmZhY3RvciB8fCAxO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNpemUpICYmIChzaXplID0gTWF0aC5mbG9vcihzaXplWzFdIC0gc2l6ZVswXSkpLCBzaXplICo9IGZhY3RvciwgXG4gICAgc2l6ZSA8PSAwKSByZXR1cm4gW107XG4gICAgaWYgKHVwc3RyZWFtRGF0YS5sZW5ndGggPD0gc2l6ZSkgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbiAgICBpZiAob3B0aW9ucy5za2lwZmlyc3QpIHJldHVybiB1cHN0cmVhbURhdGEuc2xpY2UoMCwgMSk7XG4gICAgY29uc3Qge21vZGU6IG1vZGUsIHlmaWVsZDogeSwgZ3JvdXBCeTogZ3JvdXBCeX0gPSBvcHRpb25zLCB5ZmllbGQgPSBudWxsICE9IHkgPyB5IDogXCJ5XCI7XG4gICAgbGV0IHNhbXBsZXIgPSBsdHRiO1xuICAgIGlmIChcIm1pblwiID09PSBtb2RlID8gc2FtcGxlciA9IHNhbXBsZU1pbiA6IFwibWF4XCIgPT09IG1vZGUgPyBzYW1wbGVyID0gc2FtcGxlTWF4IDogXCJhdmVyYWdlXCIgPT09IG1vZGUgPyBzYW1wbGVyID0gc2FtcGxlQXZlcmFnZSA6IFwic3VtXCIgPT09IG1vZGUgJiYgKHNhbXBsZXIgPSBzYW1wbGVTdW0pLCBcbiAgICB1cHN0cmVhbURhdGEubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IHt9O1xuICAgICAgICBpZiAoZ3JvdXBCeSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSB1cHN0cmVhbURhdGEubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0dW0gPSB1cHN0cmVhbURhdGFbaV0sIGdyb3VwSWQgPSBkYXR1bVtncm91cEJ5XTtcbiAgICAgICAgICAgICAgICBncm91cHNbZ3JvdXBJZF0gPyBncm91cHNbZ3JvdXBJZF0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIFt5ZmllbGRdOiBkYXR1bVt5ZmllbGRdLFxuICAgICAgICAgICAgICAgICAgICBpOiBpXG4gICAgICAgICAgICAgICAgfSkgOiAoZ3JvdXBzW2dyb3VwSWRdID0gW10sIGdyb3Vwc1tncm91cElkXS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgW3lmaWVsZF06IGRhdHVtW3lmaWVsZF0sXG4gICAgICAgICAgICAgICAgICAgIGk6IGlcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmF3SW5kaWNlID0gW107XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZ3JvdXBzKS5mb3JFYWNoKChncm91cE5hbWUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzW2dyb3VwTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwLmxlbmd0aCA8PSBzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGljZXMgPSBncm91cC5tYXAoKGRhdHVtID0+IGRhdHVtLmkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmF3SW5kaWNlID0gcmF3SW5kaWNlLmNvbmNhdChpbmRpY2VzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRpY2VzID0gc2FtcGxlcihzaXplLCBncm91cCwgITAsIHlmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAgIHJhd0luZGljZSA9IHJhd0luZGljZS5jb25jYXQoaW5kaWNlcyksIGdyb3VwLmZvckVhY2goKGRhdHVtID0+IHVwc3RyZWFtRGF0YVtkYXR1bS5pXVt5ZmllbGRdID0gZGF0dW1beWZpZWxkXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKSwgcmF3SW5kaWNlLnNvcnQoKChhLCBiKSA9PiBhIC0gYikpLCByYXdJbmRpY2UubWFwKChpbmRleCA9PiB1cHN0cmVhbURhdGFbaW5kZXhdKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhbXBsZXIoc2l6ZSwgdXBzdHJlYW1EYXRhLCAhMSwgeWZpZWxkKS5tYXAoKGluZGV4ID0+IHVwc3RyZWFtRGF0YVtpbmRleF0pKTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbXBsaW5nLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/sampling.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/sort.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/sort.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/compare.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n\n\n\n\nconst transform = (options, upstreamData) => {\n    const sort = options.sort;\n    if (sort && upstreamData) {\n        const sortFn = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(sort) ? sort : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.compare)(sort.field, sort.order);\n        upstreamData.sort(((a, b) => sortFn(a, b)));\n    }\n    return upstreamData;\n};\n//# sourceMappingURL=sort.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3NvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtEOztBQUVKOztBQUV2QztBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsNERBQVUsZ0JBQWdCLGdFQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3NvcnQuanM/MjdhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wYXJlIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIGNvbnN0IHNvcnQgPSBvcHRpb25zLnNvcnQ7XG4gICAgaWYgKHNvcnQgJiYgdXBzdHJlYW1EYXRhKSB7XG4gICAgICAgIGNvbnN0IHNvcnRGbiA9IGlzRnVuY3Rpb24oc29ydCkgPyBzb3J0IDogY29tcGFyZShzb3J0LmZpZWxkLCBzb3J0Lm9yZGVyKTtcbiAgICAgICAgdXBzdHJlYW1EYXRhLnNvcnQoKChhLCBiKSA9PiBzb3J0Rm4oYSwgYikpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zb3J0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/sort.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/stack.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/stack.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _graph_mark_differ__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../graph/mark/differ */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\");\n\n\n\n\nconst stack = (options, data) => {\n    var _a;\n    const positiveValues = new Map, negativeValues = new Map, offset = null !== (_a = options.offset) && void 0 !== _a ? _a : \"diverging\";\n    return data.map((datum => {\n        var _a;\n        const dimension = datum[options.dimensionField], stackValue = \"diverging\" === offset ? datum[options.stackField] : Math.abs(datum[options.stackField]), map = stackValue >= 0 ? positiveValues : negativeValues, lastValue = null !== (_a = map.get(dimension)) && void 0 !== _a ? _a : 0, value = stackValue + lastValue;\n        return map.set(dimension, value), {\n            dimension: dimension,\n            value: stackValue,\n            stack: value,\n            prevStack: lastValue,\n            datum: datum\n        };\n    }));\n}, silhouetteOffset = (options, data) => {\n    if (!data || 0 === data.length) return data;\n    const groupedData = (0,_graph_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(data, (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(\"dimension\"));\n    return groupedData.keys.forEach((key => {\n        const dimensionData = groupedData.data.get(key);\n        if (!dimensionData || dimensionData.length <= 0) return 0;\n        const g0 = -dimensionData.reduce(((sum, entry) => sum + entry.value), 0) / 2;\n        dimensionData.forEach((datum => {\n            datum.stack = datum.stack + g0, datum.prevStack = datum.prevStack + g0;\n        }));\n    })), data;\n}, wiggleOffset = (options, data) => {\n    if (!data || 0 === data.length) return data;\n    const groupedData = (0,_graph_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(data, (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(\"dimension\"));\n    return groupedData.keys.forEach((key => {\n        const dimensionData = groupedData.data.get(key);\n        if (!dimensionData || dimensionData.length <= 0) return 0;\n        const n = dimensionData.length, g0 = -1 / (n + 1) * dimensionData.reduce(((sum, entry, i) => entry.value * (n - i + 1)), 0);\n        dimensionData.forEach((datum => {\n            datum.stack = datum.stack + g0, datum.prevStack = datum.prevStack + g0;\n        }));\n    })), data;\n}, setFields = (options, data) => {\n    if (!(options.asPercentStack || options.asPrevPercentStack || options.asPercent || options.asSum)) return data.map((entry => {\n        var _a;\n        const {stack: stack, prevStack: prevStack, datum: datum} = entry, newDatum = Object.assign({}, datum);\n        return newDatum[null !== (_a = options.asStack) && void 0 !== _a ? _a : options.stackField] = stack, \n        options.asPrevStack && (newDatum[options.asPrevStack] = prevStack), newDatum;\n    }));\n    const positiveSums = new Map, negativeSums = new Map;\n    return data.forEach((entry => {\n        var _a;\n        const {dimension: dimension, value: value} = entry, map = value >= 0 ? positiveSums : negativeSums;\n        map.set(dimension, (null !== (_a = map.get(dimension)) && void 0 !== _a ? _a : 0) + value);\n    })), data.map((entry => {\n        var _a, _b;\n        const {dimension: dimension, value: value, stack: stack, prevStack: prevStack, datum: datum} = entry, newDatum = Object.assign({}, datum), sum = null !== (_a = (value >= 0 ? positiveSums : negativeSums).get(dimension)) && void 0 !== _a ? _a : 0;\n        return newDatum[null !== (_b = options.asStack) && void 0 !== _b ? _b : options.stackField] = stack, \n        options.asPrevStack && (newDatum[options.asPrevStack] = prevStack), options.asSum && (newDatum[options.asSum] = sum), \n        options.asPercent && (newDatum[options.asPercent] = 0 === sum ? 0 : value / sum), \n        options.asPercentStack && (newDatum[options.asPercentStack] = 0 === sum ? 0 : stack / sum), \n        options.asPrevPercentStack && (newDatum[options.asPrevPercentStack] = 0 === sum ? 0 : prevStack / sum), \n        newDatum;\n    }));\n};\n\nconst transform = (options, upstreamData) => {\n    var _a;\n    const offset = null !== (_a = options.offset) && void 0 !== _a ? _a : \"diverging\", data = \"negative\" === options.order ? upstreamData.slice().reverse() : upstreamData, stackedValues = stack(options, data);\n    \"silhouette\" === offset ? silhouetteOffset(0, stackedValues) : \"wiggle\" === offset && wiggleOffset(0, stackedValues);\n    const output = setFields(options, stackedValues);\n    return \"negative\" === options.order ? output.reverse() : output;\n};\n//# sourceMappingURL=stack.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3N0YWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDs7QUFFSTs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0Esd0JBQXdCLDZEQUFTLE9BQU8sOERBQUs7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQSx3QkFBd0IsNkRBQVMsT0FBTyw4REFBSztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0EsZUFBZSxrREFBa0Qsb0NBQW9DO0FBQ3JHO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQSxlQUFlLHNGQUFzRixvQ0FBb0M7QUFDekk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3N0YWNrLmpzP2I5MDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmllbGQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuaW1wb3J0IHsgZ3JvdXBEYXRhIH0gZnJvbSBcIi4uLy4uL2dyYXBoL21hcmsvZGlmZmVyXCI7XG5cbmNvbnN0IHN0YWNrID0gKG9wdGlvbnMsIGRhdGEpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcG9zaXRpdmVWYWx1ZXMgPSBuZXcgTWFwLCBuZWdhdGl2ZVZhbHVlcyA9IG5ldyBNYXAsIG9mZnNldCA9IG51bGwgIT09IChfYSA9IG9wdGlvbnMub2Zmc2V0KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBcImRpdmVyZ2luZ1wiO1xuICAgIHJldHVybiBkYXRhLm1hcCgoZGF0dW0gPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbiA9IGRhdHVtW29wdGlvbnMuZGltZW5zaW9uRmllbGRdLCBzdGFja1ZhbHVlID0gXCJkaXZlcmdpbmdcIiA9PT0gb2Zmc2V0ID8gZGF0dW1bb3B0aW9ucy5zdGFja0ZpZWxkXSA6IE1hdGguYWJzKGRhdHVtW29wdGlvbnMuc3RhY2tGaWVsZF0pLCBtYXAgPSBzdGFja1ZhbHVlID49IDAgPyBwb3NpdGl2ZVZhbHVlcyA6IG5lZ2F0aXZlVmFsdWVzLCBsYXN0VmFsdWUgPSBudWxsICE9PSAoX2EgPSBtYXAuZ2V0KGRpbWVuc2lvbikpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDAsIHZhbHVlID0gc3RhY2tWYWx1ZSArIGxhc3RWYWx1ZTtcbiAgICAgICAgcmV0dXJuIG1hcC5zZXQoZGltZW5zaW9uLCB2YWx1ZSksIHtcbiAgICAgICAgICAgIGRpbWVuc2lvbjogZGltZW5zaW9uLFxuICAgICAgICAgICAgdmFsdWU6IHN0YWNrVmFsdWUsXG4gICAgICAgICAgICBzdGFjazogdmFsdWUsXG4gICAgICAgICAgICBwcmV2U3RhY2s6IGxhc3RWYWx1ZSxcbiAgICAgICAgICAgIGRhdHVtOiBkYXR1bVxuICAgICAgICB9O1xuICAgIH0pKTtcbn0sIHNpbGhvdWV0dGVPZmZzZXQgPSAob3B0aW9ucywgZGF0YSkgPT4ge1xuICAgIGlmICghZGF0YSB8fCAwID09PSBkYXRhLmxlbmd0aCkgcmV0dXJuIGRhdGE7XG4gICAgY29uc3QgZ3JvdXBlZERhdGEgPSBncm91cERhdGEoZGF0YSwgZmllbGQoXCJkaW1lbnNpb25cIikpO1xuICAgIHJldHVybiBncm91cGVkRGF0YS5rZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbkRhdGEgPSBncm91cGVkRGF0YS5kYXRhLmdldChrZXkpO1xuICAgICAgICBpZiAoIWRpbWVuc2lvbkRhdGEgfHwgZGltZW5zaW9uRGF0YS5sZW5ndGggPD0gMCkgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IGcwID0gLWRpbWVuc2lvbkRhdGEucmVkdWNlKCgoc3VtLCBlbnRyeSkgPT4gc3VtICsgZW50cnkudmFsdWUpLCAwKSAvIDI7XG4gICAgICAgIGRpbWVuc2lvbkRhdGEuZm9yRWFjaCgoZGF0dW0gPT4ge1xuICAgICAgICAgICAgZGF0dW0uc3RhY2sgPSBkYXR1bS5zdGFjayArIGcwLCBkYXR1bS5wcmV2U3RhY2sgPSBkYXR1bS5wcmV2U3RhY2sgKyBnMDtcbiAgICAgICAgfSkpO1xuICAgIH0pKSwgZGF0YTtcbn0sIHdpZ2dsZU9mZnNldCA9IChvcHRpb25zLCBkYXRhKSA9PiB7XG4gICAgaWYgKCFkYXRhIHx8IDAgPT09IGRhdGEubGVuZ3RoKSByZXR1cm4gZGF0YTtcbiAgICBjb25zdCBncm91cGVkRGF0YSA9IGdyb3VwRGF0YShkYXRhLCBmaWVsZChcImRpbWVuc2lvblwiKSk7XG4gICAgcmV0dXJuIGdyb3VwZWREYXRhLmtleXMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgY29uc3QgZGltZW5zaW9uRGF0YSA9IGdyb3VwZWREYXRhLmRhdGEuZ2V0KGtleSk7XG4gICAgICAgIGlmICghZGltZW5zaW9uRGF0YSB8fCBkaW1lbnNpb25EYXRhLmxlbmd0aCA8PSAwKSByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgbiA9IGRpbWVuc2lvbkRhdGEubGVuZ3RoLCBnMCA9IC0xIC8gKG4gKyAxKSAqIGRpbWVuc2lvbkRhdGEucmVkdWNlKCgoc3VtLCBlbnRyeSwgaSkgPT4gZW50cnkudmFsdWUgKiAobiAtIGkgKyAxKSksIDApO1xuICAgICAgICBkaW1lbnNpb25EYXRhLmZvckVhY2goKGRhdHVtID0+IHtcbiAgICAgICAgICAgIGRhdHVtLnN0YWNrID0gZGF0dW0uc3RhY2sgKyBnMCwgZGF0dW0ucHJldlN0YWNrID0gZGF0dW0ucHJldlN0YWNrICsgZzA7XG4gICAgICAgIH0pKTtcbiAgICB9KSksIGRhdGE7XG59LCBzZXRGaWVsZHMgPSAob3B0aW9ucywgZGF0YSkgPT4ge1xuICAgIGlmICghKG9wdGlvbnMuYXNQZXJjZW50U3RhY2sgfHwgb3B0aW9ucy5hc1ByZXZQZXJjZW50U3RhY2sgfHwgb3B0aW9ucy5hc1BlcmNlbnQgfHwgb3B0aW9ucy5hc1N1bSkpIHJldHVybiBkYXRhLm1hcCgoZW50cnkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHtzdGFjazogc3RhY2ssIHByZXZTdGFjazogcHJldlN0YWNrLCBkYXR1bTogZGF0dW19ID0gZW50cnksIG5ld0RhdHVtID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0dW0pO1xuICAgICAgICByZXR1cm4gbmV3RGF0dW1bbnVsbCAhPT0gKF9hID0gb3B0aW9ucy5hc1N0YWNrKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBvcHRpb25zLnN0YWNrRmllbGRdID0gc3RhY2ssIFxuICAgICAgICBvcHRpb25zLmFzUHJldlN0YWNrICYmIChuZXdEYXR1bVtvcHRpb25zLmFzUHJldlN0YWNrXSA9IHByZXZTdGFjayksIG5ld0RhdHVtO1xuICAgIH0pKTtcbiAgICBjb25zdCBwb3NpdGl2ZVN1bXMgPSBuZXcgTWFwLCBuZWdhdGl2ZVN1bXMgPSBuZXcgTWFwO1xuICAgIHJldHVybiBkYXRhLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB7ZGltZW5zaW9uOiBkaW1lbnNpb24sIHZhbHVlOiB2YWx1ZX0gPSBlbnRyeSwgbWFwID0gdmFsdWUgPj0gMCA/IHBvc2l0aXZlU3VtcyA6IG5lZ2F0aXZlU3VtcztcbiAgICAgICAgbWFwLnNldChkaW1lbnNpb24sIChudWxsICE9PSAoX2EgPSBtYXAuZ2V0KGRpbWVuc2lvbikpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDApICsgdmFsdWUpO1xuICAgIH0pKSwgZGF0YS5tYXAoKGVudHJ5ID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3Qge2RpbWVuc2lvbjogZGltZW5zaW9uLCB2YWx1ZTogdmFsdWUsIHN0YWNrOiBzdGFjaywgcHJldlN0YWNrOiBwcmV2U3RhY2ssIGRhdHVtOiBkYXR1bX0gPSBlbnRyeSwgbmV3RGF0dW0gPSBPYmplY3QuYXNzaWduKHt9LCBkYXR1bSksIHN1bSA9IG51bGwgIT09IChfYSA9ICh2YWx1ZSA+PSAwID8gcG9zaXRpdmVTdW1zIDogbmVnYXRpdmVTdW1zKS5nZXQoZGltZW5zaW9uKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMDtcbiAgICAgICAgcmV0dXJuIG5ld0RhdHVtW251bGwgIT09IChfYiA9IG9wdGlvbnMuYXNTdGFjaykgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogb3B0aW9ucy5zdGFja0ZpZWxkXSA9IHN0YWNrLCBcbiAgICAgICAgb3B0aW9ucy5hc1ByZXZTdGFjayAmJiAobmV3RGF0dW1bb3B0aW9ucy5hc1ByZXZTdGFja10gPSBwcmV2U3RhY2spLCBvcHRpb25zLmFzU3VtICYmIChuZXdEYXR1bVtvcHRpb25zLmFzU3VtXSA9IHN1bSksIFxuICAgICAgICBvcHRpb25zLmFzUGVyY2VudCAmJiAobmV3RGF0dW1bb3B0aW9ucy5hc1BlcmNlbnRdID0gMCA9PT0gc3VtID8gMCA6IHZhbHVlIC8gc3VtKSwgXG4gICAgICAgIG9wdGlvbnMuYXNQZXJjZW50U3RhY2sgJiYgKG5ld0RhdHVtW29wdGlvbnMuYXNQZXJjZW50U3RhY2tdID0gMCA9PT0gc3VtID8gMCA6IHN0YWNrIC8gc3VtKSwgXG4gICAgICAgIG9wdGlvbnMuYXNQcmV2UGVyY2VudFN0YWNrICYmIChuZXdEYXR1bVtvcHRpb25zLmFzUHJldlBlcmNlbnRTdGFja10gPSAwID09PSBzdW0gPyAwIDogcHJldlN0YWNrIC8gc3VtKSwgXG4gICAgICAgIG5ld0RhdHVtO1xuICAgIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG9mZnNldCA9IG51bGwgIT09IChfYSA9IG9wdGlvbnMub2Zmc2V0KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBcImRpdmVyZ2luZ1wiLCBkYXRhID0gXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yZGVyID8gdXBzdHJlYW1EYXRhLnNsaWNlKCkucmV2ZXJzZSgpIDogdXBzdHJlYW1EYXRhLCBzdGFja2VkVmFsdWVzID0gc3RhY2sob3B0aW9ucywgZGF0YSk7XG4gICAgXCJzaWxob3VldHRlXCIgPT09IG9mZnNldCA/IHNpbGhvdWV0dGVPZmZzZXQoMCwgc3RhY2tlZFZhbHVlcykgOiBcIndpZ2dsZVwiID09PSBvZmZzZXQgJiYgd2lnZ2xlT2Zmc2V0KDAsIHN0YWNrZWRWYWx1ZXMpO1xuICAgIGNvbnN0IG91dHB1dCA9IHNldEZpZWxkcyhvcHRpb25zLCBzdGFja2VkVmFsdWVzKTtcbiAgICByZXR1cm4gXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yZGVyID8gb3V0cHV0LnJldmVyc2UoKSA6IG91dHB1dDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFjay5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/stack.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/unfold.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/unfold.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n\n\nconst aggregateFuncs = {\n    sum: arr => arr.reduce(((sum, val) => sum + val), 0),\n    min: arr => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.minInArray)(arr),\n    max: arr => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.maxInArray)(arr),\n    count: arr => arr.length,\n    mean: arr => arr.reduce(((sum, val) => sum + val), 0) / arr.length\n};\n\nconst transform = (options, upstreamData) => {\n    var _a;\n    if (!upstreamData || !upstreamData.length) return [];\n    const res = [], groups = {}, keyField = options.keyField, valueField = options.valueField, aggregate = aggregateFuncs[null !== (_a = options.aggregateType) && void 0 !== _a ? _a : \"sum\"];\n    if (options.groupBy) {\n        const groupByFields = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(options.groupBy);\n        upstreamData.forEach((entry => {\n            if (!entry) return;\n            const datum = {}, keys = [];\n            groupByFields.forEach((field => {\n                datum[field] = entry[field], keys.push(entry[field]);\n            }));\n            const groupKey = keys.join(\"~\");\n            groups[groupKey] ? groups[groupKey].values[entry[keyField]] ? groups[groupKey].values[entry[keyField]].push(entry[valueField]) : groups[groupKey].values[entry[keyField]] = [ entry[valueField] ] : groups[groupKey] = {\n                datum: datum,\n                values: {\n                    [entry[keyField]]: [ entry[valueField] ]\n                }\n            };\n        }));\n    } else groups[0] = {\n        datum: {},\n        values: {}\n    }, upstreamData.forEach((entry => {\n        entry && (groups[0].values[entry[keyField]] ? groups[0].values[entry[keyField]].push(entry[valueField]) : groups[0].values[entry[keyField]] = [ entry[valueField] ]);\n    }));\n    return Object.keys(groups).forEach((groupKey => {\n        const datum = groups[groupKey].datum, values = groups[groupKey].values;\n        Object.keys(values).forEach((key => {\n            const rows = values[key];\n            datum[key] = aggregate(rows);\n        })), res.push(datum);\n    })), res;\n};\n//# sourceMappingURL=unfold.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3VuZm9sZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRTs7QUFFakU7QUFDQTtBQUNBLGdCQUFnQiw0REFBVTtBQUMxQixnQkFBZ0IsNERBQVU7QUFDMUI7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLDhCQUE4Qix1REFBSztBQUNuQztBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOLGlCQUFpQjtBQUNqQjtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvZGF0YS91bmZvbGQuanM/ZjUzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcnJheSwgbWF4SW5BcnJheSwgbWluSW5BcnJheSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmNvbnN0IGFnZ3JlZ2F0ZUZ1bmNzID0ge1xuICAgIHN1bTogYXJyID0+IGFyci5yZWR1Y2UoKChzdW0sIHZhbCkgPT4gc3VtICsgdmFsKSwgMCksXG4gICAgbWluOiBhcnIgPT4gbWluSW5BcnJheShhcnIpLFxuICAgIG1heDogYXJyID0+IG1heEluQXJyYXkoYXJyKSxcbiAgICBjb3VudDogYXJyID0+IGFyci5sZW5ndGgsXG4gICAgbWVhbjogYXJyID0+IGFyci5yZWR1Y2UoKChzdW0sIHZhbCkgPT4gc3VtICsgdmFsKSwgMCkgLyBhcnIubGVuZ3RoXG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIXVwc3RyZWFtRGF0YSB8fCAhdXBzdHJlYW1EYXRhLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IHJlcyA9IFtdLCBncm91cHMgPSB7fSwga2V5RmllbGQgPSBvcHRpb25zLmtleUZpZWxkLCB2YWx1ZUZpZWxkID0gb3B0aW9ucy52YWx1ZUZpZWxkLCBhZ2dyZWdhdGUgPSBhZ2dyZWdhdGVGdW5jc1tudWxsICE9PSAoX2EgPSBvcHRpb25zLmFnZ3JlZ2F0ZVR5cGUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFwic3VtXCJdO1xuICAgIGlmIChvcHRpb25zLmdyb3VwQnkpIHtcbiAgICAgICAgY29uc3QgZ3JvdXBCeUZpZWxkcyA9IGFycmF5KG9wdGlvbnMuZ3JvdXBCeSk7XG4gICAgICAgIHVwc3RyZWFtRGF0YS5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVudHJ5KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBkYXR1bSA9IHt9LCBrZXlzID0gW107XG4gICAgICAgICAgICBncm91cEJ5RmllbGRzLmZvckVhY2goKGZpZWxkID0+IHtcbiAgICAgICAgICAgICAgICBkYXR1bVtmaWVsZF0gPSBlbnRyeVtmaWVsZF0sIGtleXMucHVzaChlbnRyeVtmaWVsZF0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBLZXkgPSBrZXlzLmpvaW4oXCJ+XCIpO1xuICAgICAgICAgICAgZ3JvdXBzW2dyb3VwS2V5XSA/IGdyb3Vwc1tncm91cEtleV0udmFsdWVzW2VudHJ5W2tleUZpZWxkXV0gPyBncm91cHNbZ3JvdXBLZXldLnZhbHVlc1tlbnRyeVtrZXlGaWVsZF1dLnB1c2goZW50cnlbdmFsdWVGaWVsZF0pIDogZ3JvdXBzW2dyb3VwS2V5XS52YWx1ZXNbZW50cnlba2V5RmllbGRdXSA9IFsgZW50cnlbdmFsdWVGaWVsZF0gXSA6IGdyb3Vwc1tncm91cEtleV0gPSB7XG4gICAgICAgICAgICAgICAgZGF0dW06IGRhdHVtLFxuICAgICAgICAgICAgICAgIHZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICBbZW50cnlba2V5RmllbGRdXTogWyBlbnRyeVt2YWx1ZUZpZWxkXSBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH0gZWxzZSBncm91cHNbMF0gPSB7XG4gICAgICAgIGRhdHVtOiB7fSxcbiAgICAgICAgdmFsdWVzOiB7fVxuICAgIH0sIHVwc3RyZWFtRGF0YS5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgIGVudHJ5ICYmIChncm91cHNbMF0udmFsdWVzW2VudHJ5W2tleUZpZWxkXV0gPyBncm91cHNbMF0udmFsdWVzW2VudHJ5W2tleUZpZWxkXV0ucHVzaChlbnRyeVt2YWx1ZUZpZWxkXSkgOiBncm91cHNbMF0udmFsdWVzW2VudHJ5W2tleUZpZWxkXV0gPSBbIGVudHJ5W3ZhbHVlRmllbGRdIF0pO1xuICAgIH0pKTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZ3JvdXBzKS5mb3JFYWNoKChncm91cEtleSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdHVtID0gZ3JvdXBzW2dyb3VwS2V5XS5kYXR1bSwgdmFsdWVzID0gZ3JvdXBzW2dyb3VwS2V5XS52YWx1ZXM7XG4gICAgICAgIE9iamVjdC5rZXlzKHZhbHVlcykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSB2YWx1ZXNba2V5XTtcbiAgICAgICAgICAgIGRhdHVtW2tleV0gPSBhZ2dyZWdhdGUocm93cyk7XG4gICAgICAgIH0pKSwgcmVzLnB1c2goZGF0dW0pO1xuICAgIH0pKSwgcmVzO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuZm9sZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/unfold.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/index.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/index.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerBinTransform: () => (/* binding */ registerBinTransform),\n/* harmony export */   registerCircularRelationTransform: () => (/* binding */ registerCircularRelationTransform),\n/* harmony export */   registerContourTransform: () => (/* binding */ registerContourTransform),\n/* harmony export */   registerDodgeTransform: () => (/* binding */ registerDodgeTransform),\n/* harmony export */   registerFilterTransform: () => (/* binding */ registerFilterTransform),\n/* harmony export */   registerFoldTransform: () => (/* binding */ registerFoldTransform),\n/* harmony export */   registerFunnelTransform: () => (/* binding */ registerFunnelTransform),\n/* harmony export */   registerIdentifierTransform: () => (/* binding */ registerIdentifierTransform),\n/* harmony export */   registerJitterTransform: () => (/* binding */ registerJitterTransform),\n/* harmony export */   registerJitterXTransform: () => (/* binding */ registerJitterXTransform),\n/* harmony export */   registerJitterYTransform: () => (/* binding */ registerJitterYTransform),\n/* harmony export */   registerJoinTransform: () => (/* binding */ registerJoinTransform),\n/* harmony export */   registerKdeTransform: () => (/* binding */ registerKdeTransform),\n/* harmony export */   registerMapTransform: () => (/* binding */ registerMapTransform),\n/* harmony export */   registerMarkOverlapTransform: () => (/* binding */ registerMarkOverlapTransform),\n/* harmony export */   registerPickTransform: () => (/* binding */ registerPickTransform),\n/* harmony export */   registerPieTransform: () => (/* binding */ registerPieTransform),\n/* harmony export */   registerRangeTransform: () => (/* binding */ registerRangeTransform),\n/* harmony export */   registerSampleTransform: () => (/* binding */ registerSampleTransform),\n/* harmony export */   registerSortTransform: () => (/* binding */ registerSortTransform),\n/* harmony export */   registerStackTransform: () => (/* binding */ registerStackTransform),\n/* harmony export */   registerSymmetryTransform: () => (/* binding */ registerSymmetryTransform),\n/* harmony export */   registerUnfoldTransform: () => (/* binding */ registerUnfoldTransform)\n/* harmony export */ });\n/* harmony import */ var _data_bin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data/bin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/bin.js\");\n/* harmony import */ var _data_contour__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data/contour */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/contour.js\");\n/* harmony import */ var _data_sort__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./data/sort */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/sort.js\");\n/* harmony import */ var _data_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/filter.js\");\n/* harmony import */ var _data_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./data/map */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/map.js\");\n/* harmony import */ var _data_kde__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data/kde */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/kde.js\");\n/* harmony import */ var _data_join__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./data/join */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/join.js\");\n/* harmony import */ var _data_pick__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./data/pick */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/pick.js\");\n/* harmony import */ var _data_range__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./data/range */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/range.js\");\n/* harmony import */ var _data_stack__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./data/stack */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/stack.js\");\n/* harmony import */ var _data_fold__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./data/fold */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/fold.js\");\n/* harmony import */ var _data_unfold__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./data/unfold */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/unfold.js\");\n/* harmony import */ var _data_funnel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./data/funnel */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/funnel.js\");\n/* harmony import */ var _data_pie__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./data/pie */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/pie.js\");\n/* harmony import */ var _data_circular_relation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./data/circular-relation */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/circular-relation.js\");\n/* harmony import */ var _data_sampling__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./data/sampling */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/data/sampling.js\");\n/* harmony import */ var _mark_mark_overlap__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mark/mark-overlap */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/mark-overlap.js\");\n/* harmony import */ var _view_identifier__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./view/identifier */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/view/identifier.js\");\n/* harmony import */ var _mark_dodge__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mark/dodge */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/dodge.js\");\n/* harmony import */ var _mark_jitter__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mark/jitter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/jitter.js\");\n/* harmony import */ var _mark_symmetry__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mark/symmetry */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/symmetry.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerBinTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"bin\", {\n        transform: _data_bin__WEBPACK_IMPORTED_MODULE_1__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerContourTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"contour\", {\n        transform: _data_contour__WEBPACK_IMPORTED_MODULE_2__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerSortTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"sort\", {\n        transform: _data_sort__WEBPACK_IMPORTED_MODULE_3__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerFilterTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"filter\", {\n        transform: _data_filter__WEBPACK_IMPORTED_MODULE_4__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerJoinTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"join\", {\n        transform: _data_join__WEBPACK_IMPORTED_MODULE_5__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerKdeTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"kde\", {\n        transform: _data_kde__WEBPACK_IMPORTED_MODULE_6__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerMapTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"map\", {\n        transform: _data_map__WEBPACK_IMPORTED_MODULE_7__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerPickTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"pick\", {\n        transform: _data_pick__WEBPACK_IMPORTED_MODULE_8__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerRangeTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"range\", {\n        transform: _data_range__WEBPACK_IMPORTED_MODULE_9__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerStackTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"stack\", {\n        transform: _data_stack__WEBPACK_IMPORTED_MODULE_10__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerFunnelTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"funnel\", {\n        transform: _data_funnel__WEBPACK_IMPORTED_MODULE_11__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerPieTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"pie\", {\n        transform: _data_pie__WEBPACK_IMPORTED_MODULE_12__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerCircularRelationTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"circularRelation\", {\n        transform: _data_circular_relation__WEBPACK_IMPORTED_MODULE_13__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerFoldTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"fold\", {\n        transform: _data_fold__WEBPACK_IMPORTED_MODULE_14__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerUnfoldTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"unfold\", {\n        transform: _data_unfold__WEBPACK_IMPORTED_MODULE_15__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerIdentifierTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"identifier\", {\n        transform: _view_identifier__WEBPACK_IMPORTED_MODULE_16__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerSampleTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"sampling\", {\n        transform: _data_sampling__WEBPACK_IMPORTED_MODULE_17__.transform,\n        markPhase: \"afterEncode\"\n    }, !0);\n};\n\nconst registerMarkOverlapTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"markoverlap\", {\n        transform: _mark_mark_overlap__WEBPACK_IMPORTED_MODULE_18__.transform,\n        markPhase: \"afterEncode\"\n    }, !0);\n};\n\nconst registerDodgeTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"dodge\", {\n        transform: _mark_dodge__WEBPACK_IMPORTED_MODULE_19__.transform,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n\nconst registerJitterTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"jitter\", {\n        transform: _mark_jitter__WEBPACK_IMPORTED_MODULE_20__.transform,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n\nconst registerJitterXTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"jitterX\", {\n        transform: _mark_jitter__WEBPACK_IMPORTED_MODULE_20__.jitterX,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n\nconst registerJitterYTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"jitterY\", {\n        transform: _mark_jitter__WEBPACK_IMPORTED_MODULE_20__.jitterY,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n\nconst registerSymmetryTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"symmetry\", {\n        transform: _mark_symmetry__WEBPACK_IMPORTED_MODULE_21__.symmetry,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7O0FBRVE7O0FBRU47O0FBRUk7O0FBRU47O0FBRUE7O0FBRUU7O0FBRUE7O0FBRUU7O0FBRUE7O0FBRUY7O0FBRUk7O0FBRUE7O0FBRU47O0FBRTJCOztBQUVuQjs7QUFFUzs7QUFFSDs7QUFFVjs7QUFFNEQ7O0FBRXZEOztBQUV0Qjs7QUFFbkM7QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGdEQUFZO0FBQy9CO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixvREFBZ0I7QUFDbkM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGlEQUFhO0FBQ2hDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixtREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsaURBQWE7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGdEQUFZO0FBQy9CO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixnREFBWTtBQUMvQjtBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsaURBQWE7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGtEQUFjO0FBQ2pDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixtREFBYztBQUNqQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsb0RBQWU7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGlEQUFZO0FBQy9CO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQiwrREFBeUI7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGtEQUFhO0FBQ2hDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixvREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsd0RBQW1CO0FBQ3RDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixzREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsMERBQW9CO0FBQ3ZDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixtREFBYztBQUNqQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsb0RBQWU7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGtEQUFnQjtBQUNuQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsa0RBQWdCO0FBQ25DO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixxREFBaUI7QUFDcEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2luZGV4LmpzP2I4NjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHJhbnNmb3JtIGFzIGJpblRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvYmluXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBjb250b3VyVHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS9jb250b3VyXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBzb3J0VHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS9zb3J0XCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBmaWx0ZXJUcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL2ZpbHRlclwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgbWFwVHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS9tYXBcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIGtkZVRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEva2RlXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBqb2luVHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS9qb2luXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBwaWNrVHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS9waWNrXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyByYW5nZVRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvcmFuZ2VcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIHN0YWNrVHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS9zdGFja1wiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgZm9sZFRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvZm9sZFwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgdW5mb2xkVHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS91bmZvbGRcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIGZ1bm5lbFRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvZnVubmVsXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBwaWVUcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL3BpZVwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgY2lyY3VsYXJSZWxhdGlvblRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvY2lyY3VsYXItcmVsYXRpb25cIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIHNhbXBsZVRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvc2FtcGxpbmdcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIG1hcmtvdmVybGFwVHJhbnNmb3JtIH0gZnJvbSBcIi4vbWFyay9tYXJrLW92ZXJsYXBcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIGlkZW50aWZpZXJUcmFuc2Zvcm0gfSBmcm9tIFwiLi92aWV3L2lkZW50aWZpZXJcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIGRvZGdlVHJhbnNmb3JtIH0gZnJvbSBcIi4vbWFyay9kb2RnZVwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgaml0dGVyVHJhbnNmb3JtLCBqaXR0ZXJYIGFzIGppdHRlclhUcmFuc2Zvcm0sIGppdHRlclkgYXMgaml0dGVyWVRyYW5zZm9ybSB9IGZyb20gXCIuL21hcmsvaml0dGVyXCI7XG5cbmltcG9ydCB7IHN5bW1ldHJ5IGFzIHN5bW1ldHJ5VHJhbnNmb3JtIH0gZnJvbSBcIi4vbWFyay9zeW1tZXRyeVwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJCaW5UcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImJpblwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogYmluVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQ29udG91clRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiY29udG91clwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogY29udG91clRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclNvcnRUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcInNvcnRcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IHNvcnRUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJGaWx0ZXJUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImZpbHRlclwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogZmlsdGVyVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVySm9pblRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiam9pblwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogam9pblRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlcktkZVRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwia2RlXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBrZGVUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJNYXBUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcIm1hcFwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogbWFwVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUGlja1RyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwicGlja1wiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogcGlja1RyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclJhbmdlVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJyYW5nZVwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogcmFuZ2VUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTdGFja1RyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwic3RhY2tcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IHN0YWNrVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRnVubmVsVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJmdW5uZWxcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IGZ1bm5lbFRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclBpZVRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwicGllXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBwaWVUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJDaXJjdWxhclJlbGF0aW9uVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJjaXJjdWxhclJlbGF0aW9uXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBjaXJjdWxhclJlbGF0aW9uVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRm9sZFRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiZm9sZFwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogZm9sZFRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclVuZm9sZFRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwidW5mb2xkXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiB1bmZvbGRUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJJZGVudGlmaWVyVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJpZGVudGlmaWVyXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBpZGVudGlmaWVyVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU2FtcGxlVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJzYW1wbGluZ1wiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogc2FtcGxlVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYWZ0ZXJFbmNvZGVcIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlck1hcmtPdmVybGFwVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJtYXJrb3ZlcmxhcFwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogbWFya292ZXJsYXBUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJhZnRlckVuY29kZVwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRG9kZ2VUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImRvZGdlXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBkb2RnZVRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImFmdGVyRW5jb2RlSXRlbXNcIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckppdHRlclRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiaml0dGVyXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBqaXR0ZXJUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJhZnRlckVuY29kZUl0ZW1zXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJKaXR0ZXJYVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJqaXR0ZXJYXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBqaXR0ZXJYVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYWZ0ZXJFbmNvZGVJdGVtc1wiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVySml0dGVyWVRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiaml0dGVyWVwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogaml0dGVyWVRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImFmdGVyRW5jb2RlSXRlbXNcIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclN5bW1ldHJ5VHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJzeW1tZXRyeVwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogc3ltbWV0cnlUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJhZnRlckVuY29kZUl0ZW1zXCJcbiAgICB9LCAhMCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/dodge.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/dodge.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/getter.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/toPercent.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n\n\n\n\n\n\nconst transform = (options, upstreamData) => {\n    var _a, _b, _c;\n    if (!upstreamData || 0 === upstreamData.length || !(null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark)) return upstreamData;\n    const mark = upstreamData[0].mark, markScales = mark.getScales(), bandScale = Object.values(markScales).find(_util_scale__WEBPACK_IMPORTED_MODULE_0__.isBandLikeScale);\n    if (!bandScale) return upstreamData;\n    const scales = mark.getScalesByChannel(), bandWidth = (0,_util_scale__WEBPACK_IMPORTED_MODULE_0__.getBandWidthOfScale)(bandScale), dodgeChannel = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options.dodgeChannel) ? scales.y === bandScale || scales.y1 === bandScale || scales.x && !(0,_util_scale__WEBPACK_IMPORTED_MODULE_0__.isBandLikeScale)(scales.x) || scales.x1 && !(0,_util_scale__WEBPACK_IMPORTED_MODULE_0__.isBandLikeScale)(scales.x1) ? \"y\" : \"x\" : options.dodgeChannel;\n    if (bandWidth > 0) {\n        const innerGap = null !== (_b = options.innerGap) && void 0 !== _b ? _b : 0, categoryGap = null !== (_c = options.categoryGap) && void 0 !== _c ? _c : \"20%\";\n        let getDodgeBy = element => element.groupKey;\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options.dodgeBy)) {\n            const getDodgeValue = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__.getter)((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(options.dodgeBy));\n            getDodgeBy = element => getDodgeValue(element.getDatum());\n        }\n        const groupValues = [];\n        upstreamData.forEach((element => {\n            const groupValue = getDodgeBy(element);\n            groupValues.includes(groupValue) || groupValues.push(groupValue);\n        }));\n        const groupCount = groupValues.length;\n        if (groupCount < 1) return upstreamData;\n        const catGap = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__.toPercent)(categoryGap, bandWidth);\n        let innerSize = catGap >= bandWidth ? bandWidth : bandWidth - catGap;\n        const innerGapSize = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__.toPercent)(innerGap, innerSize);\n        let size = (innerSize - Math.max(groupCount - 1, 0) * innerGapSize) / groupCount;\n        size > options.maxWidth ? (innerSize -= (size - options.maxWidth) * groupCount, \n        size = options.maxWidth) : size < options.minWidth && options.minWidth <= bandWidth / groupCount && (innerSize += (options.minWidth - size) * groupCount, \n        size = options.minWidth);\n        const offsetByGroup = {};\n        groupValues.forEach(((entry, index) => {\n            offsetByGroup[entry] = -innerSize / 2 + index * (size + innerGapSize);\n        }));\n        const markType = mark.markType;\n        \"rect\" === markType || \"interval\" === markType || \"arc\" === markType ? upstreamData.forEach((element => {\n            const groupValue = getDodgeBy(element), offset = offsetByGroup[groupValue], attrs = element.getItemAttribute();\n            if (\"x\" === dodgeChannel) {\n                const newAttrs = {\n                    x: ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.width) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.x1) ? Math.min(attrs.x, attrs.x1) : attrs.x) + ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.width) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.x1) ? bandWidth : Math.abs(attrs.x1 - attrs.x) : attrs.width) / 2 + offset\n                };\n                (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.width) ? newAttrs.x1 = newAttrs.x + size : newAttrs.width = size, element.setItemAttributes(newAttrs);\n            } else if (\"y\" === dodgeChannel) {\n                const newAttrs = {\n                    y: ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.height) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.y1) ? Math.min(attrs.y, attrs.y1) : attrs.y) + ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.height) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.y1) ? bandWidth : Math.abs(attrs.y1 - attrs.y) : attrs.height) / 2 + offset\n                };\n                (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.height) ? newAttrs.y1 = newAttrs.y + size : newAttrs.height = size, \n                element.setItemAttributes(newAttrs);\n            }\n        })) : upstreamData.forEach((element => {\n            const groupValue = getDodgeBy(element), offset = offsetByGroup[groupValue];\n            if (\"x\" === dodgeChannel) {\n                const x = element.getItemAttribute(\"x\") + bandWidth / 2 + offset + size / 2;\n                element.setItemAttributes({\n                    x: x\n                }), \"rule\" === markType && element.setItemAttributes({\n                    x1: x\n                });\n            } else if (\"y\" === dodgeChannel) {\n                const y = element.getItemAttribute(\"y\") + bandWidth / 2 + offset + size / 2;\n                element.setItemAttributes({\n                    y: y\n                }), \"rule\" === markType && element.setItemAttributes({\n                    y1: y\n                });\n            }\n        }));\n    }\n    return upstreamData;\n};\n//# sourceMappingURL=dodge.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL2RvZGdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnRDs7QUFFWTs7QUFFWTs7QUFFakU7QUFDUDtBQUNBO0FBQ0EsaUhBQWlILHdEQUFlO0FBQ2hJO0FBQ0EsMERBQTBELGdFQUFtQiw0QkFBNEIsNERBQUssMkZBQTJGLDREQUFlLDRCQUE0Qiw0REFBZTtBQUNuUTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFLO0FBQ2xCLGtDQUFrQywrREFBTSxDQUFDLHVEQUFLO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsdUJBQXVCLGtFQUFTO0FBQ2hDO0FBQ0EsNkJBQTZCLGtFQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNERBQUssa0JBQWtCLDREQUFLLHVEQUF1RCw0REFBSyxnQkFBZ0IsNERBQUs7QUFDckk7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckIsY0FBYztBQUNkO0FBQ0Esd0JBQXdCLDREQUFLLG1CQUFtQiw0REFBSyx1REFBdUQsNERBQUssaUJBQWlCLDREQUFLO0FBQ3ZJO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvbWFyay9kb2RnZS5qcz8yZjM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5LCBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGdldHRlciwgdG9QZXJjZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmltcG9ydCB7IGdldEJhbmRXaWR0aE9mU2NhbGUsIGlzQmFuZExpa2VTY2FsZSB9IGZyb20gXCIuLi8uLi91dGlsL3NjYWxlXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgMCA9PT0gdXBzdHJlYW1EYXRhLmxlbmd0aCB8fCAhKG51bGwgPT09IChfYSA9IHVwc3RyZWFtRGF0YVswXSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm1hcmspKSByZXR1cm4gdXBzdHJlYW1EYXRhO1xuICAgIGNvbnN0IG1hcmsgPSB1cHN0cmVhbURhdGFbMF0ubWFyaywgbWFya1NjYWxlcyA9IG1hcmsuZ2V0U2NhbGVzKCksIGJhbmRTY2FsZSA9IE9iamVjdC52YWx1ZXMobWFya1NjYWxlcykuZmluZChpc0JhbmRMaWtlU2NhbGUpO1xuICAgIGlmICghYmFuZFNjYWxlKSByZXR1cm4gdXBzdHJlYW1EYXRhO1xuICAgIGNvbnN0IHNjYWxlcyA9IG1hcmsuZ2V0U2NhbGVzQnlDaGFubmVsKCksIGJhbmRXaWR0aCA9IGdldEJhbmRXaWR0aE9mU2NhbGUoYmFuZFNjYWxlKSwgZG9kZ2VDaGFubmVsID0gaXNOaWwob3B0aW9ucy5kb2RnZUNoYW5uZWwpID8gc2NhbGVzLnkgPT09IGJhbmRTY2FsZSB8fCBzY2FsZXMueTEgPT09IGJhbmRTY2FsZSB8fCBzY2FsZXMueCAmJiAhaXNCYW5kTGlrZVNjYWxlKHNjYWxlcy54KSB8fCBzY2FsZXMueDEgJiYgIWlzQmFuZExpa2VTY2FsZShzY2FsZXMueDEpID8gXCJ5XCIgOiBcInhcIiA6IG9wdGlvbnMuZG9kZ2VDaGFubmVsO1xuICAgIGlmIChiYW5kV2lkdGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGlubmVyR2FwID0gbnVsbCAhPT0gKF9iID0gb3B0aW9ucy5pbm5lckdhcCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMCwgY2F0ZWdvcnlHYXAgPSBudWxsICE9PSAoX2MgPSBvcHRpb25zLmNhdGVnb3J5R2FwKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBcIjIwJVwiO1xuICAgICAgICBsZXQgZ2V0RG9kZ2VCeSA9IGVsZW1lbnQgPT4gZWxlbWVudC5ncm91cEtleTtcbiAgICAgICAgaWYgKCFpc05pbChvcHRpb25zLmRvZGdlQnkpKSB7XG4gICAgICAgICAgICBjb25zdCBnZXREb2RnZVZhbHVlID0gZ2V0dGVyKGFycmF5KG9wdGlvbnMuZG9kZ2VCeSkpO1xuICAgICAgICAgICAgZ2V0RG9kZ2VCeSA9IGVsZW1lbnQgPT4gZ2V0RG9kZ2VWYWx1ZShlbGVtZW50LmdldERhdHVtKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdyb3VwVmFsdWVzID0gW107XG4gICAgICAgIHVwc3RyZWFtRGF0YS5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwVmFsdWUgPSBnZXREb2RnZUJ5KGVsZW1lbnQpO1xuICAgICAgICAgICAgZ3JvdXBWYWx1ZXMuaW5jbHVkZXMoZ3JvdXBWYWx1ZSkgfHwgZ3JvdXBWYWx1ZXMucHVzaChncm91cFZhbHVlKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBncm91cENvdW50ID0gZ3JvdXBWYWx1ZXMubGVuZ3RoO1xuICAgICAgICBpZiAoZ3JvdXBDb3VudCA8IDEpIHJldHVybiB1cHN0cmVhbURhdGE7XG4gICAgICAgIGNvbnN0IGNhdEdhcCA9IHRvUGVyY2VudChjYXRlZ29yeUdhcCwgYmFuZFdpZHRoKTtcbiAgICAgICAgbGV0IGlubmVyU2l6ZSA9IGNhdEdhcCA+PSBiYW5kV2lkdGggPyBiYW5kV2lkdGggOiBiYW5kV2lkdGggLSBjYXRHYXA7XG4gICAgICAgIGNvbnN0IGlubmVyR2FwU2l6ZSA9IHRvUGVyY2VudChpbm5lckdhcCwgaW5uZXJTaXplKTtcbiAgICAgICAgbGV0IHNpemUgPSAoaW5uZXJTaXplIC0gTWF0aC5tYXgoZ3JvdXBDb3VudCAtIDEsIDApICogaW5uZXJHYXBTaXplKSAvIGdyb3VwQ291bnQ7XG4gICAgICAgIHNpemUgPiBvcHRpb25zLm1heFdpZHRoID8gKGlubmVyU2l6ZSAtPSAoc2l6ZSAtIG9wdGlvbnMubWF4V2lkdGgpICogZ3JvdXBDb3VudCwgXG4gICAgICAgIHNpemUgPSBvcHRpb25zLm1heFdpZHRoKSA6IHNpemUgPCBvcHRpb25zLm1pbldpZHRoICYmIG9wdGlvbnMubWluV2lkdGggPD0gYmFuZFdpZHRoIC8gZ3JvdXBDb3VudCAmJiAoaW5uZXJTaXplICs9IChvcHRpb25zLm1pbldpZHRoIC0gc2l6ZSkgKiBncm91cENvdW50LCBcbiAgICAgICAgc2l6ZSA9IG9wdGlvbnMubWluV2lkdGgpO1xuICAgICAgICBjb25zdCBvZmZzZXRCeUdyb3VwID0ge307XG4gICAgICAgIGdyb3VwVmFsdWVzLmZvckVhY2goKChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIG9mZnNldEJ5R3JvdXBbZW50cnldID0gLWlubmVyU2l6ZSAvIDIgKyBpbmRleCAqIChzaXplICsgaW5uZXJHYXBTaXplKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBtYXJrVHlwZSA9IG1hcmsubWFya1R5cGU7XG4gICAgICAgIFwicmVjdFwiID09PSBtYXJrVHlwZSB8fCBcImludGVydmFsXCIgPT09IG1hcmtUeXBlIHx8IFwiYXJjXCIgPT09IG1hcmtUeXBlID8gdXBzdHJlYW1EYXRhLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBWYWx1ZSA9IGdldERvZGdlQnkoZWxlbWVudCksIG9mZnNldCA9IG9mZnNldEJ5R3JvdXBbZ3JvdXBWYWx1ZV0sIGF0dHJzID0gZWxlbWVudC5nZXRJdGVtQXR0cmlidXRlKCk7XG4gICAgICAgICAgICBpZiAoXCJ4XCIgPT09IGRvZGdlQ2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0F0dHJzID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiAoaXNOaWwoYXR0cnMud2lkdGgpICYmICFpc05pbChhdHRycy54MSkgPyBNYXRoLm1pbihhdHRycy54LCBhdHRycy54MSkgOiBhdHRycy54KSArIChpc05pbChhdHRycy53aWR0aCkgPyBpc05pbChhdHRycy54MSkgPyBiYW5kV2lkdGggOiBNYXRoLmFicyhhdHRycy54MSAtIGF0dHJzLngpIDogYXR0cnMud2lkdGgpIC8gMiArIG9mZnNldFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaXNOaWwoYXR0cnMud2lkdGgpID8gbmV3QXR0cnMueDEgPSBuZXdBdHRycy54ICsgc2l6ZSA6IG5ld0F0dHJzLndpZHRoID0gc2l6ZSwgZWxlbWVudC5zZXRJdGVtQXR0cmlidXRlcyhuZXdBdHRycyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFwieVwiID09PSBkb2RnZUNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdBdHRycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgeTogKGlzTmlsKGF0dHJzLmhlaWdodCkgJiYgIWlzTmlsKGF0dHJzLnkxKSA/IE1hdGgubWluKGF0dHJzLnksIGF0dHJzLnkxKSA6IGF0dHJzLnkpICsgKGlzTmlsKGF0dHJzLmhlaWdodCkgPyBpc05pbChhdHRycy55MSkgPyBiYW5kV2lkdGggOiBNYXRoLmFicyhhdHRycy55MSAtIGF0dHJzLnkpIDogYXR0cnMuaGVpZ2h0KSAvIDIgKyBvZmZzZXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlzTmlsKGF0dHJzLmhlaWdodCkgPyBuZXdBdHRycy55MSA9IG5ld0F0dHJzLnkgKyBzaXplIDogbmV3QXR0cnMuaGVpZ2h0ID0gc2l6ZSwgXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRJdGVtQXR0cmlidXRlcyhuZXdBdHRycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSA6IHVwc3RyZWFtRGF0YS5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwVmFsdWUgPSBnZXREb2RnZUJ5KGVsZW1lbnQpLCBvZmZzZXQgPSBvZmZzZXRCeUdyb3VwW2dyb3VwVmFsdWVdO1xuICAgICAgICAgICAgaWYgKFwieFwiID09PSBkb2RnZUNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZWxlbWVudC5nZXRJdGVtQXR0cmlidXRlKFwieFwiKSArIGJhbmRXaWR0aCAvIDIgKyBvZmZzZXQgKyBzaXplIC8gMjtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEl0ZW1BdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgeDogeFxuICAgICAgICAgICAgICAgIH0pLCBcInJ1bGVcIiA9PT0gbWFya1R5cGUgJiYgZWxlbWVudC5zZXRJdGVtQXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHgxOiB4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFwieVwiID09PSBkb2RnZUNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZWxlbWVudC5nZXRJdGVtQXR0cmlidXRlKFwieVwiKSArIGJhbmRXaWR0aCAvIDIgKyBvZmZzZXQgKyBzaXplIC8gMjtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEl0ZW1BdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgeTogeVxuICAgICAgICAgICAgICAgIH0pLCBcInJ1bGVcIiA9PT0gbWFya1R5cGUgJiYgZWxlbWVudC5zZXRJdGVtQXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHkxOiB5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb2RnZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/dodge.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/jitter.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/jitter.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   jitterX: () => (/* binding */ jitterX),\n/* harmony export */   jitterY: () => (/* binding */ jitterY),\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/extent.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n\n\n\n\n\n\nconst jitterByChannel = (options, upstreamData, channel) => {\n    var _a, _b, _c, _d;\n    const mark = upstreamData[0].mark, scale = null === (_a = mark.getScalesByChannel()) || void 0 === _a ? void 0 : _a[channel], random = null !== (_b = options.random) && void 0 !== _b ? _b : Math.random, ratio = Math.min(null !== (_c = \"x\" === channel ? options.widthRatio : options.heightRatio) && void 0 !== _c ? _c : .4, .5), bandSize = null !== (_d = \"x\" === channel ? options.bandWidth : options.bandHeight) && void 0 !== _d ? _d : (0,_util_scale__WEBPACK_IMPORTED_MODULE_0__.getBandWidthOfScale)(scale);\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bandSize)) {\n        let domain = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__.extent)(upstreamData, (el => el.getItemAttribute(channel)));\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(domain[0]) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(domain[1]) || domain[0] === domain[1]) {\n            const viewBox = mark.view.getViewBox();\n            domain = \"x\" === channel ? [ viewBox.x1, viewBox.x2 ] : [ viewBox.y1, viewBox.y2 ];\n        }\n        const length = upstreamData.length;\n        upstreamData.forEach(((element, index) => {\n            element.setItemAttributes({\n                [channel]: domain[0] + (domain[1] - domain[0]) * random(index, length)\n            });\n        }));\n    } else {\n        const length = upstreamData.length;\n        upstreamData.forEach(((element, index) => {\n            const val = element.getItemAttribute(channel), domain = [ val - ratio * bandSize, val + ratio * bandSize ];\n            element.setItemAttributes({\n                [channel]: domain[0] + (domain[1] - domain[0]) * random(index, length)\n            });\n        }));\n    }\n};\n\nconst jitterY = (options, upstreamData) => {\n    var _a;\n    return upstreamData && 0 !== upstreamData.length && (null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark) ? jitterByChannel(options, upstreamData, \"y\") : upstreamData;\n};\n\nconst jitterX = (options, upstreamData) => {\n    var _a;\n    return upstreamData && 0 !== upstreamData.length && (null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark) ? jitterByChannel(options, upstreamData, \"x\") : upstreamData;\n};\n\nconst transform = (options, upstreamData) => {\n    var _a;\n    return upstreamData && 0 !== upstreamData.length && (null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark) ? (jitterByChannel(options, upstreamData, \"x\"), \n    jitterByChannel(options, upstreamData, \"y\"), upstreamData) : upstreamData;\n};\n//# sourceMappingURL=jitter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL2ppdHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUM7O0FBRVE7O0FBRU07O0FBRXZEO0FBQ0E7QUFDQSx3YkFBd2IsZ0VBQW1CO0FBQzNjLFFBQVEsNERBQUs7QUFDYixxQkFBcUIsK0RBQU07QUFDM0IsWUFBWSw0REFBSyxlQUFlLDREQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL2ppdHRlci5qcz9iNDllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgZXh0ZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmltcG9ydCB7IGdldEJhbmRXaWR0aE9mU2NhbGUgfSBmcm9tIFwiLi4vLi4vdXRpbC9zY2FsZVwiO1xuXG5jb25zdCBqaXR0ZXJCeUNoYW5uZWwgPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhLCBjaGFubmVsKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IG1hcmsgPSB1cHN0cmVhbURhdGFbMF0ubWFyaywgc2NhbGUgPSBudWxsID09PSAoX2EgPSBtYXJrLmdldFNjYWxlc0J5Q2hhbm5lbCgpKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2FbY2hhbm5lbF0sIHJhbmRvbSA9IG51bGwgIT09IChfYiA9IG9wdGlvbnMucmFuZG9tKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBNYXRoLnJhbmRvbSwgcmF0aW8gPSBNYXRoLm1pbihudWxsICE9PSAoX2MgPSBcInhcIiA9PT0gY2hhbm5lbCA/IG9wdGlvbnMud2lkdGhSYXRpbyA6IG9wdGlvbnMuaGVpZ2h0UmF0aW8pICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IC40LCAuNSksIGJhbmRTaXplID0gbnVsbCAhPT0gKF9kID0gXCJ4XCIgPT09IGNoYW5uZWwgPyBvcHRpb25zLmJhbmRXaWR0aCA6IG9wdGlvbnMuYmFuZEhlaWdodCkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogZ2V0QmFuZFdpZHRoT2ZTY2FsZShzY2FsZSk7XG4gICAgaWYgKGlzTmlsKGJhbmRTaXplKSkge1xuICAgICAgICBsZXQgZG9tYWluID0gZXh0ZW50KHVwc3RyZWFtRGF0YSwgKGVsID0+IGVsLmdldEl0ZW1BdHRyaWJ1dGUoY2hhbm5lbCkpKTtcbiAgICAgICAgaWYgKGlzTmlsKGRvbWFpblswXSkgfHwgaXNOaWwoZG9tYWluWzFdKSB8fCBkb21haW5bMF0gPT09IGRvbWFpblsxXSkge1xuICAgICAgICAgICAgY29uc3Qgdmlld0JveCA9IG1hcmsudmlldy5nZXRWaWV3Qm94KCk7XG4gICAgICAgICAgICBkb21haW4gPSBcInhcIiA9PT0gY2hhbm5lbCA/IFsgdmlld0JveC54MSwgdmlld0JveC54MiBdIDogWyB2aWV3Qm94LnkxLCB2aWV3Qm94LnkyIF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdXBzdHJlYW1EYXRhLmxlbmd0aDtcbiAgICAgICAgdXBzdHJlYW1EYXRhLmZvckVhY2goKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRJdGVtQXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgW2NoYW5uZWxdOiBkb21haW5bMF0gKyAoZG9tYWluWzFdIC0gZG9tYWluWzBdKSAqIHJhbmRvbShpbmRleCwgbGVuZ3RoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB1cHN0cmVhbURhdGEubGVuZ3RoO1xuICAgICAgICB1cHN0cmVhbURhdGEuZm9yRWFjaCgoKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBlbGVtZW50LmdldEl0ZW1BdHRyaWJ1dGUoY2hhbm5lbCksIGRvbWFpbiA9IFsgdmFsIC0gcmF0aW8gKiBiYW5kU2l6ZSwgdmFsICsgcmF0aW8gKiBiYW5kU2l6ZSBdO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRJdGVtQXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgW2NoYW5uZWxdOiBkb21haW5bMF0gKyAoZG9tYWluWzFdIC0gZG9tYWluWzBdKSAqIHJhbmRvbShpbmRleCwgbGVuZ3RoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3Qgaml0dGVyWSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YSAmJiAwICE9PSB1cHN0cmVhbURhdGEubGVuZ3RoICYmIChudWxsID09PSAoX2EgPSB1cHN0cmVhbURhdGFbMF0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5tYXJrKSA/IGppdHRlckJ5Q2hhbm5lbChvcHRpb25zLCB1cHN0cmVhbURhdGEsIFwieVwiKSA6IHVwc3RyZWFtRGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBqaXR0ZXJYID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdXBzdHJlYW1EYXRhICYmIDAgIT09IHVwc3RyZWFtRGF0YS5sZW5ndGggJiYgKG51bGwgPT09IChfYSA9IHVwc3RyZWFtRGF0YVswXSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm1hcmspID8gaml0dGVyQnlDaGFubmVsKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSwgXCJ4XCIpIDogdXBzdHJlYW1EYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YSAmJiAwICE9PSB1cHN0cmVhbURhdGEubGVuZ3RoICYmIChudWxsID09PSAoX2EgPSB1cHN0cmVhbURhdGFbMF0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5tYXJrKSA/IChqaXR0ZXJCeUNoYW5uZWwob3B0aW9ucywgdXBzdHJlYW1EYXRhLCBcInhcIiksIFxuICAgIGppdHRlckJ5Q2hhbm5lbChvcHRpb25zLCB1cHN0cmVhbURhdGEsIFwieVwiKSwgdXBzdHJlYW1EYXRhKSA6IHVwc3RyZWFtRGF0YTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qaXR0ZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/jitter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/mark-overlap.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/mark-overlap.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n\n\n\n\nfunction reset(elements) {\n    return elements.forEach((element => {\n        element.getGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY) && (element.setGraphicAttribute(\"visible\", !0), \n        element.setGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY, !1));\n    })), elements;\n}\n\nfunction overlapX(elements, delta, deltaMul, useRadius) {\n    if (useRadius) {\n        let lastX = -1 / 0, lastR = 0;\n        const useDeltaMul = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(delta);\n        let itemDelta = delta;\n        elements.forEach((element => {\n            if (!1 === element.getGraphicAttribute(\"visible\")) return;\n            const r = element.getGraphicAttribute(\"size\") / 2, currentX = element.getGraphicAttribute(\"x\");\n            useDeltaMul && (itemDelta = (r + lastR) * deltaMul), Math.abs(currentX - lastX) < itemDelta + lastR + r ? element.getGraphicAttribute(\"forceShow\") || (element.setGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY, !0), \n            element.setGraphicAttribute(\"visible\", !1)) : lastX = currentX, lastR = r;\n        }));\n    }\n}\n\nfunction overlapY(elements, delta, deltaMul, useRadius) {\n    if (useRadius) {\n        let lastY = -1 / 0, lastR = 0;\n        const useDeltaMul = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(delta);\n        let itemDelta = delta;\n        elements.forEach((element => {\n            if (!1 === element.getGraphicAttribute(\"visible\")) return;\n            const r = element.getGraphicAttribute(\"size\") / 2, currentY = element.getGraphicAttribute(\"y\");\n            useDeltaMul && (itemDelta = (r + lastR) * deltaMul), Math.abs(currentY - lastY) < itemDelta + lastR + r ? element.getGraphicAttribute(\"forceShow\") || (element.setGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY, !0), \n            element.setGraphicAttribute(\"visible\", !1)) : lastY = currentY, lastR = r;\n        }));\n    }\n}\n\nfunction overlapXY(elements, delta, deltaMul, useRadius) {\n    if (useRadius) {\n        const lastX = -1 / 0;\n        let lastY = -1 / 0, lastR = 0, dis = 0;\n        const useDeltaMul = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(delta);\n        let itemDelta = delta;\n        elements.forEach((element => {\n            if (!1 === element.getGraphicAttribute(\"visible\")) return;\n            const r = element.getGraphicAttribute(\"size\") / 2, currentX = element.getGraphicAttribute(\"x\"), currentY = element.getGraphicAttribute(\"y\");\n            useDeltaMul && (itemDelta = (r + lastR) * deltaMul), dis = (lastX - currentX) ** 2 + (lastY - currentY) ** 2, \n            dis < (itemDelta + lastR + r) ** 2 ? element.getGraphicAttribute(\"forceShow\") || (element.setGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY, !0), \n            element.setGraphicAttribute(\"visible\", !1)) : lastY = currentY, lastR = r;\n        }));\n    }\n}\n\nconst transform = (options, upstreamData) => {\n    if (!upstreamData || 0 === upstreamData.length) return;\n    let {radius: radius} = options;\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(radius) && \"symbol\" === upstreamData[0].mark.markType && (radius = !0);\n    const {direction: direction, delta: delta, deltaMul: deltaMul = 1, groupBy: groupBy} = options, handleOverlap = elements => {\n        reset(elements);\n        const sortedElements = options.sort ? elements.slice().sort(((a, b) => a.getGraphicAttribute(\"x\") - b.getGraphicAttribute(\"x\"))) : elements;\n        0 === direction ? overlapXY(sortedElements, delta, deltaMul, radius) : 1 === direction ? overlapX(sortedElements, delta, deltaMul, radius) : overlapY(sortedElements, delta, deltaMul, radius);\n    };\n    if (groupBy) {\n        const map = upstreamData.reduce(((res, element) => {\n            const groupName = element.getDatum()[groupBy];\n            return res[groupName] ? res[groupName].push(element) : res[groupName] = [ element ], \n            res;\n        }), {});\n        Object.keys(map).forEach((key => {\n            handleOverlap(map[key]);\n        }));\n    } else handleOverlap(upstreamData);\n    return upstreamData;\n};\n//# sourceMappingURL=mark-overlap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL21hcmstb3ZlcmxhcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7O0FBRXFCOztBQUU5RDtBQUNBO0FBQ0Esb0NBQW9DLG1FQUFxQjtBQUN6RCxvQ0FBb0MsbUVBQXFCO0FBQ3pELEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNERBQUs7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrTEFBK0wsbUVBQXFCO0FBQ3BOO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0xBQStMLG1FQUFxQjtBQUNwTjtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwSEFBMEgsbUVBQXFCO0FBQy9JO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRU87QUFDUDtBQUNBLFNBQVMsZ0JBQWdCO0FBQ3pCLElBQUksNERBQUs7QUFDVCxXQUFXLDhFQUE4RTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEtBQUs7QUFDZDtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL21hcmstb3ZlcmxhcC5qcz80OGYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgTUFSS19PVkVSTEFQX0hJREVfS0VZIH0gZnJvbSBcIi4uLy4uL2dyYXBoL2NvbnN0YW50c1wiO1xuXG5mdW5jdGlvbiByZXNldChlbGVtZW50cykge1xuICAgIHJldHVybiBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKE1BUktfT1ZFUkxBUF9ISURFX0tFWSkgJiYgKGVsZW1lbnQuc2V0R3JhcGhpY0F0dHJpYnV0ZShcInZpc2libGVcIiwgITApLCBcbiAgICAgICAgZWxlbWVudC5zZXRHcmFwaGljQXR0cmlidXRlKE1BUktfT1ZFUkxBUF9ISURFX0tFWSwgITEpKTtcbiAgICB9KSksIGVsZW1lbnRzO1xufVxuXG5mdW5jdGlvbiBvdmVybGFwWChlbGVtZW50cywgZGVsdGEsIGRlbHRhTXVsLCB1c2VSYWRpdXMpIHtcbiAgICBpZiAodXNlUmFkaXVzKSB7XG4gICAgICAgIGxldCBsYXN0WCA9IC0xIC8gMCwgbGFzdFIgPSAwO1xuICAgICAgICBjb25zdCB1c2VEZWx0YU11bCA9IGlzTmlsKGRlbHRhKTtcbiAgICAgICAgbGV0IGl0ZW1EZWx0YSA9IGRlbHRhO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmICghMSA9PT0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwidmlzaWJsZVwiKSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgciA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInNpemVcIikgLyAyLCBjdXJyZW50WCA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIik7XG4gICAgICAgICAgICB1c2VEZWx0YU11bCAmJiAoaXRlbURlbHRhID0gKHIgKyBsYXN0UikgKiBkZWx0YU11bCksIE1hdGguYWJzKGN1cnJlbnRYIC0gbGFzdFgpIDwgaXRlbURlbHRhICsgbGFzdFIgKyByID8gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZm9yY2VTaG93XCIpIHx8IChlbGVtZW50LnNldEdyYXBoaWNBdHRyaWJ1dGUoTUFSS19PVkVSTEFQX0hJREVfS0VZLCAhMCksIFxuICAgICAgICAgICAgZWxlbWVudC5zZXRHcmFwaGljQXR0cmlidXRlKFwidmlzaWJsZVwiLCAhMSkpIDogbGFzdFggPSBjdXJyZW50WCwgbGFzdFIgPSByO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvdmVybGFwWShlbGVtZW50cywgZGVsdGEsIGRlbHRhTXVsLCB1c2VSYWRpdXMpIHtcbiAgICBpZiAodXNlUmFkaXVzKSB7XG4gICAgICAgIGxldCBsYXN0WSA9IC0xIC8gMCwgbGFzdFIgPSAwO1xuICAgICAgICBjb25zdCB1c2VEZWx0YU11bCA9IGlzTmlsKGRlbHRhKTtcbiAgICAgICAgbGV0IGl0ZW1EZWx0YSA9IGRlbHRhO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmICghMSA9PT0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwidmlzaWJsZVwiKSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgciA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInNpemVcIikgLyAyLCBjdXJyZW50WSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIik7XG4gICAgICAgICAgICB1c2VEZWx0YU11bCAmJiAoaXRlbURlbHRhID0gKHIgKyBsYXN0UikgKiBkZWx0YU11bCksIE1hdGguYWJzKGN1cnJlbnRZIC0gbGFzdFkpIDwgaXRlbURlbHRhICsgbGFzdFIgKyByID8gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZm9yY2VTaG93XCIpIHx8IChlbGVtZW50LnNldEdyYXBoaWNBdHRyaWJ1dGUoTUFSS19PVkVSTEFQX0hJREVfS0VZLCAhMCksIFxuICAgICAgICAgICAgZWxlbWVudC5zZXRHcmFwaGljQXR0cmlidXRlKFwidmlzaWJsZVwiLCAhMSkpIDogbGFzdFkgPSBjdXJyZW50WSwgbGFzdFIgPSByO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvdmVybGFwWFkoZWxlbWVudHMsIGRlbHRhLCBkZWx0YU11bCwgdXNlUmFkaXVzKSB7XG4gICAgaWYgKHVzZVJhZGl1cykge1xuICAgICAgICBjb25zdCBsYXN0WCA9IC0xIC8gMDtcbiAgICAgICAgbGV0IGxhc3RZID0gLTEgLyAwLCBsYXN0UiA9IDAsIGRpcyA9IDA7XG4gICAgICAgIGNvbnN0IHVzZURlbHRhTXVsID0gaXNOaWwoZGVsdGEpO1xuICAgICAgICBsZXQgaXRlbURlbHRhID0gZGVsdGE7XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKCExID09PSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIpKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCByID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic2l6ZVwiKSAvIDIsIGN1cnJlbnRYID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiKSwgY3VycmVudFkgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIpO1xuICAgICAgICAgICAgdXNlRGVsdGFNdWwgJiYgKGl0ZW1EZWx0YSA9IChyICsgbGFzdFIpICogZGVsdGFNdWwpLCBkaXMgPSAobGFzdFggLSBjdXJyZW50WCkgKiogMiArIChsYXN0WSAtIGN1cnJlbnRZKSAqKiAyLCBcbiAgICAgICAgICAgIGRpcyA8IChpdGVtRGVsdGEgKyBsYXN0UiArIHIpICoqIDIgPyBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJmb3JjZVNob3dcIikgfHwgKGVsZW1lbnQuc2V0R3JhcGhpY0F0dHJpYnV0ZShNQVJLX09WRVJMQVBfSElERV9LRVksICEwKSwgXG4gICAgICAgICAgICBlbGVtZW50LnNldEdyYXBoaWNBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIsICExKSkgOiBsYXN0WSA9IGN1cnJlbnRZLCBsYXN0UiA9IHI7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgMCA9PT0gdXBzdHJlYW1EYXRhLmxlbmd0aCkgcmV0dXJuO1xuICAgIGxldCB7cmFkaXVzOiByYWRpdXN9ID0gb3B0aW9ucztcbiAgICBpc05pbChyYWRpdXMpICYmIFwic3ltYm9sXCIgPT09IHVwc3RyZWFtRGF0YVswXS5tYXJrLm1hcmtUeXBlICYmIChyYWRpdXMgPSAhMCk7XG4gICAgY29uc3Qge2RpcmVjdGlvbjogZGlyZWN0aW9uLCBkZWx0YTogZGVsdGEsIGRlbHRhTXVsOiBkZWx0YU11bCA9IDEsIGdyb3VwQnk6IGdyb3VwQnl9ID0gb3B0aW9ucywgaGFuZGxlT3ZlcmxhcCA9IGVsZW1lbnRzID0+IHtcbiAgICAgICAgcmVzZXQoZWxlbWVudHMpO1xuICAgICAgICBjb25zdCBzb3J0ZWRFbGVtZW50cyA9IG9wdGlvbnMuc29ydCA/IGVsZW1lbnRzLnNsaWNlKCkuc29ydCgoKGEsIGIpID0+IGEuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIikgLSBiLmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIpKSkgOiBlbGVtZW50cztcbiAgICAgICAgMCA9PT0gZGlyZWN0aW9uID8gb3ZlcmxhcFhZKHNvcnRlZEVsZW1lbnRzLCBkZWx0YSwgZGVsdGFNdWwsIHJhZGl1cykgOiAxID09PSBkaXJlY3Rpb24gPyBvdmVybGFwWChzb3J0ZWRFbGVtZW50cywgZGVsdGEsIGRlbHRhTXVsLCByYWRpdXMpIDogb3ZlcmxhcFkoc29ydGVkRWxlbWVudHMsIGRlbHRhLCBkZWx0YU11bCwgcmFkaXVzKTtcbiAgICB9O1xuICAgIGlmIChncm91cEJ5KSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHVwc3RyZWFtRGF0YS5yZWR1Y2UoKChyZXMsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IGVsZW1lbnQuZ2V0RGF0dW0oKVtncm91cEJ5XTtcbiAgICAgICAgICAgIHJldHVybiByZXNbZ3JvdXBOYW1lXSA/IHJlc1tncm91cE5hbWVdLnB1c2goZWxlbWVudCkgOiByZXNbZ3JvdXBOYW1lXSA9IFsgZWxlbWVudCBdLCBcbiAgICAgICAgICAgIHJlcztcbiAgICAgICAgfSksIHt9KTtcbiAgICAgICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlT3ZlcmxhcChtYXBba2V5XSk7XG4gICAgICAgIH0pKTtcbiAgICB9IGVsc2UgaGFuZGxlT3ZlcmxhcCh1cHN0cmVhbURhdGEpO1xuICAgIHJldHVybiB1cHN0cmVhbURhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFyay1vdmVybGFwLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/mark-overlap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/symmetry.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/symmetry.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   symmetry: () => (/* binding */ symmetry)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst symmetryByChannel = (upstreamData, channel, align) => {\n    const baseChannel = `${channel}1`, hasRangeValue = upstreamData.some((el => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(el.getItemAttribute(baseChannel)))), middleValues = hasRangeValue ? upstreamData.map((el => (el.getItemAttribute(baseChannel) + el.getItemAttribute(channel)) / 2)) : upstreamData.map((el => el.getItemAttribute(channel))), maxMid = \"min\" === align ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.minInArray)(middleValues) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.maxInArray)(middleValues);\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(maxMid) && upstreamData.forEach(((el, index) => {\n        const offset = maxMid - middleValues[index];\n        hasRangeValue ? el.setItemAttributes({\n            [baseChannel]: el.getItemAttribute(baseChannel) + offset,\n            [channel]: el.getItemAttribute(channel) + offset\n        }) : el.setItemAttributes({\n            [channel]: el.getItemAttribute(channel) + offset\n        });\n    })), upstreamData;\n};\n\nconst symmetry = (options, upstreamData) => {\n    var _a, _b;\n    return upstreamData && 0 !== upstreamData.length && (null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark) ? symmetryByChannel(upstreamData, null !== (_b = options.channel) && void 0 !== _b ? _b : \"y\", options.align) : upstreamData;\n};\n//# sourceMappingURL=symmetry.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL3N5bW1ldHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0Y7O0FBRWhGO0FBQ0EsMkJBQTJCLFFBQVEsOENBQThDLDREQUFLLDBQQUEwUCw0REFBVSxpQkFBaUIsNERBQVU7QUFDclgsV0FBVyw0REFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL21hcmsvc3ltbWV0cnkuanM/YmQ5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgaXNWYWxpZE51bWJlciwgbWF4SW5BcnJheSwgbWluSW5BcnJheSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmNvbnN0IHN5bW1ldHJ5QnlDaGFubmVsID0gKHVwc3RyZWFtRGF0YSwgY2hhbm5lbCwgYWxpZ24pID0+IHtcbiAgICBjb25zdCBiYXNlQ2hhbm5lbCA9IGAke2NoYW5uZWx9MWAsIGhhc1JhbmdlVmFsdWUgPSB1cHN0cmVhbURhdGEuc29tZSgoZWwgPT4gIWlzTmlsKGVsLmdldEl0ZW1BdHRyaWJ1dGUoYmFzZUNoYW5uZWwpKSkpLCBtaWRkbGVWYWx1ZXMgPSBoYXNSYW5nZVZhbHVlID8gdXBzdHJlYW1EYXRhLm1hcCgoZWwgPT4gKGVsLmdldEl0ZW1BdHRyaWJ1dGUoYmFzZUNoYW5uZWwpICsgZWwuZ2V0SXRlbUF0dHJpYnV0ZShjaGFubmVsKSkgLyAyKSkgOiB1cHN0cmVhbURhdGEubWFwKChlbCA9PiBlbC5nZXRJdGVtQXR0cmlidXRlKGNoYW5uZWwpKSksIG1heE1pZCA9IFwibWluXCIgPT09IGFsaWduID8gbWluSW5BcnJheShtaWRkbGVWYWx1ZXMpIDogbWF4SW5BcnJheShtaWRkbGVWYWx1ZXMpO1xuICAgIHJldHVybiBpc1ZhbGlkTnVtYmVyKG1heE1pZCkgJiYgdXBzdHJlYW1EYXRhLmZvckVhY2goKChlbCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbWF4TWlkIC0gbWlkZGxlVmFsdWVzW2luZGV4XTtcbiAgICAgICAgaGFzUmFuZ2VWYWx1ZSA/IGVsLnNldEl0ZW1BdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgIFtiYXNlQ2hhbm5lbF06IGVsLmdldEl0ZW1BdHRyaWJ1dGUoYmFzZUNoYW5uZWwpICsgb2Zmc2V0LFxuICAgICAgICAgICAgW2NoYW5uZWxdOiBlbC5nZXRJdGVtQXR0cmlidXRlKGNoYW5uZWwpICsgb2Zmc2V0XG4gICAgICAgIH0pIDogZWwuc2V0SXRlbUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgW2NoYW5uZWxdOiBlbC5nZXRJdGVtQXR0cmlidXRlKGNoYW5uZWwpICsgb2Zmc2V0XG4gICAgICAgIH0pO1xuICAgIH0pKSwgdXBzdHJlYW1EYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHN5bW1ldHJ5ID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YSAmJiAwICE9PSB1cHN0cmVhbURhdGEubGVuZ3RoICYmIChudWxsID09PSAoX2EgPSB1cHN0cmVhbURhdGFbMF0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5tYXJrKSA/IHN5bW1ldHJ5QnlDaGFubmVsKHVwc3RyZWFtRGF0YSwgbnVsbCAhPT0gKF9iID0gb3B0aW9ucy5jaGFubmVsKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBcInlcIiwgb3B0aW9ucy5hbGlnbikgOiB1cHN0cmVhbURhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ltbWV0cnkuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/mark/symmetry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   average: () => (/* binding */ average),\n/* harmony export */   fieldNames: () => (/* binding */ fieldNames),\n/* harmony export */   partition: () => (/* binding */ partition),\n/* harmony export */   sum: () => (/* binding */ sum)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/accessor.js\");\n\n\n\n\nfunction fieldNames(fields, as) {\n    return fields ? fields.map(((f, i) => {\n        var _a;\n        return null !== (_a = as[i]) && void 0 !== _a ? _a : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(f) ? f : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.accessorName)(f);\n    })) : null;\n}\n\nfunction partition(data, groupBy, field) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(groupBy)) return [ data.map(field) ];\n    const groups = [], map = {};\n    return data.forEach((entry => {\n        const groupKey = groupBy.map((groupFunc => groupFunc(entry))).toString();\n        if (map[groupKey]) map[groupKey].push(field(entry)); else {\n            const groupItem = [];\n            groupItem.dims = groupKey, groups.push(groupItem), map[groupKey] = groupItem;\n        }\n    })), groups;\n}\n\nfunction sum(arr) {\n    return arr.reduce(((accumulator, currentValue) => accumulator + currentValue), 0);\n}\n\nfunction average(arr) {\n    if (0 === arr.length) return 0;\n    return sum(arr) / arr.length;\n}\n//# sourceMappingURL=util.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy91dGlsL3V0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtRDs7QUFFSTs7QUFFaEQ7QUFDUDtBQUNBO0FBQ0EsNkRBQTZELDREQUFRLFVBQVUscUVBQVk7QUFDM0YsS0FBSztBQUNMOztBQUVPO0FBQ1AsUUFBUSw0REFBSztBQUNiO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy91dGlsL3V0aWwuanM/Y2M3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBhY2Nlc3Nvck5hbWUgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpZWxkTmFtZXMoZmllbGRzLCBhcykge1xuICAgIHJldHVybiBmaWVsZHMgPyBmaWVsZHMubWFwKCgoZiwgaSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSBhc1tpXSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogaXNTdHJpbmcoZikgPyBmIDogYWNjZXNzb3JOYW1lKGYpO1xuICAgIH0pKSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aXRpb24oZGF0YSwgZ3JvdXBCeSwgZmllbGQpIHtcbiAgICBpZiAoaXNOaWwoZ3JvdXBCeSkpIHJldHVybiBbIGRhdGEubWFwKGZpZWxkKSBdO1xuICAgIGNvbnN0IGdyb3VwcyA9IFtdLCBtYXAgPSB7fTtcbiAgICByZXR1cm4gZGF0YS5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgIGNvbnN0IGdyb3VwS2V5ID0gZ3JvdXBCeS5tYXAoKGdyb3VwRnVuYyA9PiBncm91cEZ1bmMoZW50cnkpKSkudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKG1hcFtncm91cEtleV0pIG1hcFtncm91cEtleV0ucHVzaChmaWVsZChlbnRyeSkpOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwSXRlbSA9IFtdO1xuICAgICAgICAgICAgZ3JvdXBJdGVtLmRpbXMgPSBncm91cEtleSwgZ3JvdXBzLnB1c2goZ3JvdXBJdGVtKSwgbWFwW2dyb3VwS2V5XSA9IGdyb3VwSXRlbTtcbiAgICAgICAgfVxuICAgIH0pKSwgZ3JvdXBzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VtKGFycikge1xuICAgIHJldHVybiBhcnIucmVkdWNlKCgoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSkgPT4gYWNjdW11bGF0b3IgKyBjdXJyZW50VmFsdWUpLCAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGF2ZXJhZ2UoYXJyKSB7XG4gICAgaWYgKDAgPT09IGFyci5sZW5ndGgpIHJldHVybiAwO1xuICAgIHJldHVybiBzdW0oYXJyKSAvIGFyci5sZW5ndGg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/view/identifier.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/view/identifier.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nconst COUNTER_NAME = \":vGrammar_identifier:\";\n\nconst transform = (options, upstreamData, params, view) => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(view[COUNTER_NAME]) && (view[COUNTER_NAME] = 0);\n    let id = view[COUNTER_NAME];\n    const as = options.as;\n    return upstreamData.forEach((entry => {\n        entry && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(entry[as]) && (id += 1, entry[as] = id);\n    })), view[COUNTER_NAME] = id, id;\n};\n//# sourceMappingURL=identifier.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy92aWV3L2lkZW50aWZpZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7O0FBRXpDOztBQUVPO0FBQ1AsSUFBSSw0REFBSztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBSztBQUN0QixLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL3ZpZXcvaWRlbnRpZmllci5qcz9hMTRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuY29uc3QgQ09VTlRFUl9OQU1FID0gXCI6dkdyYW1tYXJfaWRlbnRpZmllcjpcIjtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEsIHBhcmFtcywgdmlldykgPT4ge1xuICAgIGlzTmlsKHZpZXdbQ09VTlRFUl9OQU1FXSkgJiYgKHZpZXdbQ09VTlRFUl9OQU1FXSA9IDApO1xuICAgIGxldCBpZCA9IHZpZXdbQ09VTlRFUl9OQU1FXTtcbiAgICBjb25zdCBhcyA9IG9wdGlvbnMuYXM7XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YS5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgIGVudHJ5ICYmIGlzTmlsKGVudHJ5W2FzXSkgJiYgKGlkICs9IDEsIGVudHJ5W2FzXSA9IGlkKTtcbiAgICB9KSksIHZpZXdbQ09VTlRFUl9OQU1FXSA9IGlkLCBpZDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGlmaWVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/transforms/view/identifier.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/data.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/data.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseFormat: () => (/* binding */ parseFormat)\n/* harmony export */ });\n/* harmony import */ var _visactor_vdataset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vdataset */ \"(ssr)/./node_modules/.pnpm/@visactor+vdataset@0.18.18/node_modules/@visactor/vdataset/es/parser/dsv.js\");\n/* harmony import */ var _visactor_vdataset__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vdataset */ \"(ssr)/./node_modules/.pnpm/@visactor+vdataset@0.18.18/node_modules/@visactor/vdataset/es/data-view.js\");\n/* harmony import */ var _visactor_vdataset__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vdataset */ \"(ssr)/./node_modules/.pnpm/@visactor+vdataset@0.18.18/node_modules/@visactor/vdataset/es/data-set.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n\n\n\n\nconst jsonParser = (data, options = {}, dataView) => {\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(data)) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(data);\n    try {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(JSON.parse(data));\n    } catch (e) {\n        return [];\n    }\n}, parsers = {\n    csv: _visactor_vdataset__WEBPACK_IMPORTED_MODULE_2__.csvParser,\n    dsv: _visactor_vdataset__WEBPACK_IMPORTED_MODULE_2__.dsvParser,\n    tsv: _visactor_vdataset__WEBPACK_IMPORTED_MODULE_2__.tsvParser,\n    json: jsonParser\n};\n\nconst parseFormat = (data, format) => {\n    if (!format || !parsers[format.type]) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(data);\n    const options = \"dsv\" === format.type ? {\n        delimiter: format.delimiter\n    } : {};\n    return parsers[format.type](data, options, new _visactor_vdataset__WEBPACK_IMPORTED_MODULE_3__.DataView(new _visactor_vdataset__WEBPACK_IMPORTED_MODULE_4__.DataSet));\n};\n//# sourceMappingURL=data.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC9kYXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3Rjs7QUFFckM7O0FBRW5ELHNDQUFzQztBQUN0QyxTQUFTLDREQUFRLGVBQWUsdURBQUs7QUFDckM7QUFDQSxlQUFlLHVEQUFLO0FBQ3BCLE1BQU07QUFDTjtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVMseURBQVM7QUFDbEIsU0FBUyx5REFBUztBQUNsQixTQUFTLHlEQUFTO0FBQ2xCO0FBQ0E7O0FBRU87QUFDUCxpREFBaUQsdURBQUs7QUFDdEQ7QUFDQTtBQUNBLE1BQU07QUFDTixtREFBbUQsd0RBQVEsS0FBSyx1REFBTztBQUN2RTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3V0aWwvZGF0YS5qcz9mMmJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFTZXQsIERhdGFWaWV3LCBjc3ZQYXJzZXIsIGRzdlBhcnNlciwgdHN2UGFyc2VyIH0gZnJvbSBcIkB2aXNhY3Rvci92ZGF0YXNldFwiO1xuXG5pbXBvcnQgeyBhcnJheSwgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5jb25zdCBqc29uUGFyc2VyID0gKGRhdGEsIG9wdGlvbnMgPSB7fSwgZGF0YVZpZXcpID0+IHtcbiAgICBpZiAoIWlzU3RyaW5nKGRhdGEpKSByZXR1cm4gYXJyYXkoZGF0YSk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFycmF5KEpTT04ucGFyc2UoZGF0YSkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn0sIHBhcnNlcnMgPSB7XG4gICAgY3N2OiBjc3ZQYXJzZXIsXG4gICAgZHN2OiBkc3ZQYXJzZXIsXG4gICAgdHN2OiB0c3ZQYXJzZXIsXG4gICAganNvbjoganNvblBhcnNlclxufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlRm9ybWF0ID0gKGRhdGEsIGZvcm1hdCkgPT4ge1xuICAgIGlmICghZm9ybWF0IHx8ICFwYXJzZXJzW2Zvcm1hdC50eXBlXSkgcmV0dXJuIGFycmF5KGRhdGEpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBcImRzdlwiID09PSBmb3JtYXQudHlwZSA/IHtcbiAgICAgICAgZGVsaW1pdGVyOiBmb3JtYXQuZGVsaW1pdGVyXG4gICAgfSA6IHt9O1xuICAgIHJldHVybiBwYXJzZXJzW2Zvcm1hdC50eXBlXShkYXRhLCBvcHRpb25zLCBuZXcgRGF0YVZpZXcobmV3IERhdGFTZXQpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/grammar-heap.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/grammar-heap.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Heap: () => (/* binding */ Heap)\n/* harmony export */ });\nfunction moveToHead(array, idx, start, cmp) {\n    let parent, pidx;\n    const item = array[idx];\n    for (;idx > start && (pidx = Math.floor((idx - 1) / 2), parent = array[pidx], item && parent && cmp(item, parent) < 0); ) array[idx] = parent, \n    idx = pidx;\n    return array[idx] = item;\n}\n\nfunction moveToTail(array, idx, end, cmp) {\n    const start = idx, endIdx = null != end ? end : array.length, item = array[idx];\n    let ridx, cidx = 2 * idx + 1;\n    for (;cidx < endIdx; ) ridx = cidx + 1, ridx < endIdx && cmp(array[cidx], array[ridx]) >= 0 && (cidx = ridx), \n    array[idx] = array[cidx], cidx = 2 * (idx = cidx) + 1;\n    return array[idx] = item, moveToHead(array, idx, start, cmp);\n}\n\nclass Heap {\n    constructor(compare) {\n        this.compare = compare, this.nodes = [];\n    }\n    size() {\n        return this.nodes.length;\n    }\n    last() {\n        return this.nodes[0];\n    }\n    validate() {\n        for (let i = this.nodes.length - 1; i > 0; i -= 1) {\n            const parentIndex = Math.floor((i - 1) / 2);\n            if (this.compare(this.nodes[parentIndex], this.nodes[i]) > 0) return !1;\n        }\n        return !0;\n    }\n    push(node) {\n        if (this.nodes.includes(node)) {\n            const index = this.nodes.indexOf(node);\n            return moveToHead(this.nodes, index, 0, this.compare), moveToTail(this.nodes, index, null, this.compare);\n        }\n        return this.nodes.push(node), moveToHead(this.nodes, this.nodes.length - 1, 0, this.compare);\n    }\n    remove(node) {\n        if (this.nodes.includes(node)) {\n            const index = this.nodes.indexOf(node);\n            this.nodes = this.nodes.slice(0, index).concat(this.nodes.slice(index + 1)), moveToHead(this.nodes, index, 0, this.compare), \n            moveToTail(this.nodes, index, null, this.compare);\n        }\n    }\n    pop() {\n        const last = this.nodes.pop();\n        let item;\n        return this.nodes.length ? (item = this.nodes[0], this.nodes[0] = last, moveToTail(this.nodes, 0, null, this.compare)) : item = last, \n        item;\n    }\n    clear() {\n        this.nodes = [];\n    }\n}\n//# sourceMappingURL=grammar-heap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC9ncmFtbWFyLWhlYXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0hBQWtIO0FBQzVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGVBQWU7QUFDekI7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC9ncmFtbWFyLWhlYXAuanM/MjU5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBtb3ZlVG9IZWFkKGFycmF5LCBpZHgsIHN0YXJ0LCBjbXApIHtcbiAgICBsZXQgcGFyZW50LCBwaWR4O1xuICAgIGNvbnN0IGl0ZW0gPSBhcnJheVtpZHhdO1xuICAgIGZvciAoO2lkeCA+IHN0YXJ0ICYmIChwaWR4ID0gTWF0aC5mbG9vcigoaWR4IC0gMSkgLyAyKSwgcGFyZW50ID0gYXJyYXlbcGlkeF0sIGl0ZW0gJiYgcGFyZW50ICYmIGNtcChpdGVtLCBwYXJlbnQpIDwgMCk7ICkgYXJyYXlbaWR4XSA9IHBhcmVudCwgXG4gICAgaWR4ID0gcGlkeDtcbiAgICByZXR1cm4gYXJyYXlbaWR4XSA9IGl0ZW07XG59XG5cbmZ1bmN0aW9uIG1vdmVUb1RhaWwoYXJyYXksIGlkeCwgZW5kLCBjbXApIHtcbiAgICBjb25zdCBzdGFydCA9IGlkeCwgZW5kSWR4ID0gbnVsbCAhPSBlbmQgPyBlbmQgOiBhcnJheS5sZW5ndGgsIGl0ZW0gPSBhcnJheVtpZHhdO1xuICAgIGxldCByaWR4LCBjaWR4ID0gMiAqIGlkeCArIDE7XG4gICAgZm9yICg7Y2lkeCA8IGVuZElkeDsgKSByaWR4ID0gY2lkeCArIDEsIHJpZHggPCBlbmRJZHggJiYgY21wKGFycmF5W2NpZHhdLCBhcnJheVtyaWR4XSkgPj0gMCAmJiAoY2lkeCA9IHJpZHgpLCBcbiAgICBhcnJheVtpZHhdID0gYXJyYXlbY2lkeF0sIGNpZHggPSAyICogKGlkeCA9IGNpZHgpICsgMTtcbiAgICByZXR1cm4gYXJyYXlbaWR4XSA9IGl0ZW0sIG1vdmVUb0hlYWQoYXJyYXksIGlkeCwgc3RhcnQsIGNtcCk7XG59XG5cbmV4cG9ydCBjbGFzcyBIZWFwIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wYXJlKSB7XG4gICAgICAgIHRoaXMuY29tcGFyZSA9IGNvbXBhcmUsIHRoaXMubm9kZXMgPSBbXTtcbiAgICB9XG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMubGVuZ3RoO1xuICAgIH1cbiAgICBsYXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlc1swXTtcbiAgICB9XG4gICAgdmFsaWRhdGUoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLm5vZGVzLmxlbmd0aCAtIDE7IGkgPiAwOyBpIC09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gTWF0aC5mbG9vcigoaSAtIDEpIC8gMik7XG4gICAgICAgICAgICBpZiAodGhpcy5jb21wYXJlKHRoaXMubm9kZXNbcGFyZW50SW5kZXhdLCB0aGlzLm5vZGVzW2ldKSA+IDApIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIHB1c2gobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5ub2Rlcy5pbmNsdWRlcyhub2RlKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmluZGV4T2Yobm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbW92ZVRvSGVhZCh0aGlzLm5vZGVzLCBpbmRleCwgMCwgdGhpcy5jb21wYXJlKSwgbW92ZVRvVGFpbCh0aGlzLm5vZGVzLCBpbmRleCwgbnVsbCwgdGhpcy5jb21wYXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5wdXNoKG5vZGUpLCBtb3ZlVG9IZWFkKHRoaXMubm9kZXMsIHRoaXMubm9kZXMubGVuZ3RoIC0gMSwgMCwgdGhpcy5jb21wYXJlKTtcbiAgICB9XG4gICAgcmVtb3ZlKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMubm9kZXMuaW5jbHVkZXMobm9kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5pbmRleE9mKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5ub2RlcyA9IHRoaXMubm9kZXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdCh0aGlzLm5vZGVzLnNsaWNlKGluZGV4ICsgMSkpLCBtb3ZlVG9IZWFkKHRoaXMubm9kZXMsIGluZGV4LCAwLCB0aGlzLmNvbXBhcmUpLCBcbiAgICAgICAgICAgIG1vdmVUb1RhaWwodGhpcy5ub2RlcywgaW5kZXgsIG51bGwsIHRoaXMuY29tcGFyZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9wKCkge1xuICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5ub2Rlcy5wb3AoKTtcbiAgICAgICAgbGV0IGl0ZW07XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aCA/IChpdGVtID0gdGhpcy5ub2Rlc1swXSwgdGhpcy5ub2Rlc1swXSA9IGxhc3QsIG1vdmVUb1RhaWwodGhpcy5ub2RlcywgMCwgbnVsbCwgdGhpcy5jb21wYXJlKSkgOiBpdGVtID0gbGFzdCwgXG4gICAgICAgIGl0ZW07XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLm5vZGVzID0gW107XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhbW1hci1oZWFwLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/grammar-heap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/scale.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/scale.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBandWidthOfScale: () => (/* binding */ getBandWidthOfScale),\n/* harmony export */   getScaleRangeRatio: () => (/* binding */ getScaleRangeRatio),\n/* harmony export */   isBandLikeScale: () => (/* binding */ isBandLikeScale)\n/* harmony export */ });\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/type.js\");\n\n\nfunction isBandLikeScale(scale) {\n    return scale && (scale.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.ScaleEnum.Band || scale.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.ScaleEnum.Point);\n}\n\nfunction getBandWidthOfScale(scale) {\n    if (scale) return scale.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.ScaleEnum.Band ? scale.bandwidth() : scale.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.ScaleEnum.Point ? scale.step() : void 0;\n}\n\nfunction getScaleRangeRatio(scale, input) {\n    const range = scale.range();\n    return (scale.scale(input) - range[0]) / (range[range.length - 1] - range[0]);\n}\n//# sourceMappingURL=scale.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC9zY2FsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTZDOztBQUV0QztBQUNQLG9DQUFvQyx1REFBUyx3QkFBd0IsdURBQVM7QUFDOUU7O0FBRU87QUFDUCxxQ0FBcUMsdURBQVMsMkNBQTJDLHVEQUFTO0FBQ2xHOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC9zY2FsZS5qcz8wZTBmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjYWxlRW51bSB9IGZyb20gXCJAdmlzYWN0b3IvdnNjYWxlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JhbmRMaWtlU2NhbGUoc2NhbGUpIHtcbiAgICByZXR1cm4gc2NhbGUgJiYgKHNjYWxlLnR5cGUgPT09IFNjYWxlRW51bS5CYW5kIHx8IHNjYWxlLnR5cGUgPT09IFNjYWxlRW51bS5Qb2ludCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCYW5kV2lkdGhPZlNjYWxlKHNjYWxlKSB7XG4gICAgaWYgKHNjYWxlKSByZXR1cm4gc2NhbGUudHlwZSA9PT0gU2NhbGVFbnVtLkJhbmQgPyBzY2FsZS5iYW5kd2lkdGgoKSA6IHNjYWxlLnR5cGUgPT09IFNjYWxlRW51bS5Qb2ludCA/IHNjYWxlLnN0ZXAoKSA6IHZvaWQgMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxlUmFuZ2VSYXRpbyhzY2FsZSwgaW5wdXQpIHtcbiAgICBjb25zdCByYW5nZSA9IHNjYWxlLnJhbmdlKCk7XG4gICAgcmV0dXJuIChzY2FsZS5zY2FsZShpbnB1dCkgLSByYW5nZVswXSkgLyAocmFuZ2VbcmFuZ2UubGVuZ3RoIC0gMV0gLSByYW5nZVswXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/text.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/text.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   richJsx: () => (/* binding */ richJsx),\n/* harmony export */   richXul: () => (/* binding */ richXul)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/tools.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/graphic/richtext.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n\n\n\n\nfunction richXul(strings, ...insertVars) {\n    return {\n        type: \"rich\",\n        text: (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.xul)(strings.reduce(((res, temp, i) => res + temp + (i >= insertVars.length ? \"\" : insertVars[i])), \"\"))\n    };\n}\n\nfunction richJsx(richText) {\n    return {\n        type: \"rich\",\n        text: richText instanceof _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.RichText ? richText.attribute.textConfig : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(richText) ? richText.map((entry => entry.type ? entry.attribute : entry)) : []\n    };\n}\n//# sourceMappingURL=text.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC90ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFFOztBQUUxQjs7QUFFcEM7QUFDUDtBQUNBO0FBQ0EsY0FBYywyREFBVTtBQUN4QjtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLGtDQUFrQyw0REFBUSxtQ0FBbUMsNERBQU87QUFDcEY7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3V0aWwvdGV4dC5qcz81NTg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHh1bCBhcyB2UmVuZGVyWHVsLCBSaWNoVGV4dCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmljaFh1bChzdHJpbmdzLCAuLi5pbnNlcnRWYXJzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJyaWNoXCIsXG4gICAgICAgIHRleHQ6IHZSZW5kZXJYdWwoc3RyaW5ncy5yZWR1Y2UoKChyZXMsIHRlbXAsIGkpID0+IHJlcyArIHRlbXAgKyAoaSA+PSBpbnNlcnRWYXJzLmxlbmd0aCA/IFwiXCIgOiBpbnNlcnRWYXJzW2ldKSksIFwiXCIpKVxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByaWNoSnN4KHJpY2hUZXh0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJyaWNoXCIsXG4gICAgICAgIHRleHQ6IHJpY2hUZXh0IGluc3RhbmNlb2YgUmljaFRleHQgPyByaWNoVGV4dC5hdHRyaWJ1dGUudGV4dENvbmZpZyA6IGlzQXJyYXkocmljaFRleHQpID8gcmljaFRleHQubWFwKChlbnRyeSA9PiBlbnRyeS50eXBlID8gZW50cnkuYXR0cmlidXRlIDogZW50cnkpKSA6IFtdXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/text.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/unique-list.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/unique-list.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniqueList: () => (/* binding */ UniqueList)\n/* harmony export */ });\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.14.13/node_modules/@visactor/vgrammar-util/es/accessors.js\");\n\n\nclass UniqueList {\n    constructor(idFunc) {\n        this.list = [], this.ids = {}, this.idFunc = idFunc || _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.identity;\n    }\n    add(element) {\n        const id = this.idFunc(element);\n        return this.ids[id] || (this.ids[id] = 1, this.list.push(element)), this;\n    }\n    remove(element) {\n        const id = this.idFunc(element);\n        return this.ids[id] && (this.ids[id] = 0, this.list = this.list.filter((entry => entry !== element))), \n        this;\n    }\n    forEach(callback, reverse) {\n        reverse ? this.list.slice().reverse().forEach(callback) : this.list.forEach(callback);\n    }\n    filter(callback) {\n        return this.list.filter(callback);\n    }\n    get length() {\n        return this.list.length;\n    }\n    getElementByIndex(index) {\n        return this.list[index];\n    }\n}\n//# sourceMappingURL=unique-list.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC91bmlxdWUtbGlzdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRDs7QUFFNUM7QUFDUDtBQUNBLHFDQUFxQywwQkFBMEIsNkRBQVE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3V0aWwvdW5pcXVlLWxpc3QuanM/MDFkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5leHBvcnQgY2xhc3MgVW5pcXVlTGlzdCB7XG4gICAgY29uc3RydWN0b3IoaWRGdW5jKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IFtdLCB0aGlzLmlkcyA9IHt9LCB0aGlzLmlkRnVuYyA9IGlkRnVuYyB8fCBpZGVudGl0eTtcbiAgICB9XG4gICAgYWRkKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkRnVuYyhlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWRzW2lkXSB8fCAodGhpcy5pZHNbaWRdID0gMSwgdGhpcy5saXN0LnB1c2goZWxlbWVudCkpLCB0aGlzO1xuICAgIH1cbiAgICByZW1vdmUoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuaWRGdW5jKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5pZHNbaWRdICYmICh0aGlzLmlkc1tpZF0gPSAwLCB0aGlzLmxpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKChlbnRyeSA9PiBlbnRyeSAhPT0gZWxlbWVudCkpKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2ssIHJldmVyc2UpIHtcbiAgICAgICAgcmV2ZXJzZSA/IHRoaXMubGlzdC5zbGljZSgpLnJldmVyc2UoKS5mb3JFYWNoKGNhbGxiYWNrKSA6IHRoaXMubGlzdC5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZmlsdGVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QuZmlsdGVyKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5sZW5ndGg7XG4gICAgfVxuICAgIGdldEVsZW1lbnRCeUluZGV4KGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RbaW5kZXhdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuaXF1ZS1saXN0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/unique-list.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/View.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/View.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ View)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/debounce.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/dom.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/logger.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/modules.js\");\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./data */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/data.js\");\n/* harmony import */ var _dataflow__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./dataflow */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/dataflow.js\");\n/* harmony import */ var _graph_mark_tree__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../graph/mark-tree */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark-tree.js\");\n/* harmony import */ var _graph_canvas_renderer__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../graph/canvas-renderer */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/canvas-renderer.js\");\n/* harmony import */ var _graph_util_events_extend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/util/events-extend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _signal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./signal */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/signal.js\");\n/* harmony import */ var _parse_view__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../parse/view */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/view.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _graph_util_env__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../graph/util/env */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/env.js\");\n/* harmony import */ var _group__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./group */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/group.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _grammar_record__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./grammar-record */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-record.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _semantic_marks_text__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../semantic-marks/text */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/semantic-marks/text.js\");\n/* harmony import */ var _theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../theme/theme-manager */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _graph_view_diff__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../graph/view-diff */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/view-diff.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass View extends (_visactor_vutils__WEBPACK_IMPORTED_MODULE_0___default()) {\n    static useRegisters(comps) {\n        comps.forEach((fn => {\n            fn();\n        }));\n    }\n    constructor(options = {}, config = {}) {\n        super(), this._observer = null, this._onResize = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(((...args) => {\n            const size = this._getContainerSize();\n            size && this.resize(size.width, size.height);\n        }), 100), this.delegateEvent = (event, type) => {\n            const extendedEvt = (0,_graph_util_events_extend__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, event, type, _constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_VIEW);\n            this.emit(type, extendedEvt, event.element);\n        }, this.handleProgressiveFrame = () => {\n            this._progressiveMarks.length && this._progressiveMarks.forEach((mark => {\n                mark.isDoingProgressive() && mark.evaluateProgressive();\n            })), this.doPreProgressive();\n        }, this._config = config, this._options = Object.assign({\n            mode: _constants__WEBPACK_IMPORTED_MODULE_3__.BROWSER\n        }, options), this.initialize();\n    }\n    getGrammarById(id) {\n        return this.grammars.getGrammar(id);\n    }\n    getSignalById(id) {\n        return this.grammars.getSignal(id);\n    }\n    getDataById(id) {\n        return this.grammars.getData(id);\n    }\n    getScaleById(id) {\n        return this.grammars.getScale(id);\n    }\n    getCoordinateById(id) {\n        return this.grammars.getCoordinate(id);\n    }\n    getMarkById(id) {\n        return this.grammars.getMark(id);\n    }\n    getCustomizedById(id) {\n        return this.grammars.getCustomized(id);\n    }\n    getGrammarsByName(name) {\n        return this.grammars.filter((grammar => grammar.name() === name));\n    }\n    getGrammarsByType(grammarType) {\n        return this.grammars.filter((grammar => grammar.grammarType === grammarType));\n    }\n    getMarksByType(markType) {\n        return this.grammars.getAllMarks().filter((mark => mark.markType === markType));\n    }\n    getMarksByName(name) {\n        return this.grammars.getAllMarks().filter((mark => mark.name() === name));\n    }\n    getMarksBySelector(selector) {\n        if (!selector) return null;\n        const selectors = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(selector), res = [];\n        return selectors.forEach((selectorStr => {\n            if ((0,_parse_util__WEBPACK_IMPORTED_MODULE_5__.isGrammar)(selectorStr)) return void res.push(selectorStr);\n            if (selectorStr[0] === _constants__WEBPACK_IMPORTED_MODULE_3__.ID_PREFIX) {\n                const mark = this.getMarkById(selectorStr.slice(1));\n                return void (mark && res.push(mark));\n            }\n            const marks = selectorStr[0] === _constants__WEBPACK_IMPORTED_MODULE_3__.NAME_PREFIX ? this.getMarksByName(selectorStr.slice(1)) : (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_6__.isMarkType)(selectorStr) ? this.getMarksByType(selectorStr) : null;\n            marks && marks.length && marks.forEach((mark => {\n                res.push(mark);\n            }));\n        })), res;\n    }\n    updateSignal(signal, value) {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(signal) && (signal = this.getSignalById(signal)), signal.set(value), this.commit(signal);\n    }\n    signal(value, update) {\n        const signal = new _signal__WEBPACK_IMPORTED_MODULE_8__.Signal(this);\n        return arguments.length >= 1 && signal.value(value), arguments.length >= 2 && signal.update(update), \n        this.grammars.record(signal), this._dataflow.add(signal), signal;\n    }\n    data(values) {\n        const data = new _data__WEBPACK_IMPORTED_MODULE_9__.Data(this, values);\n        return this.grammars.record(data), this._dataflow.add(data), data;\n    }\n    scale(type) {\n        const scale = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createGrammar(\"scale\", this, type);\n        return scale && (this.grammars.record(scale), this._dataflow.add(scale)), scale;\n    }\n    coordinate(type) {\n        const coordinate = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createGrammar(\"coordinate\", this, type);\n        return coordinate && (this.grammars.record(coordinate), this._dataflow.add(coordinate)), \n        coordinate;\n    }\n    mark(type, group, markOptions) {\n        const groupMark = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(group) ? this.getMarkById(group) : group;\n        let mark;\n        switch (type) {\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.group:\n            mark = new _group__WEBPACK_IMPORTED_MODULE_12__.GroupMark(this, groupMark);\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.glyph:\n            const GlyphMark = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.getMark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.glyph);\n            GlyphMark && (mark = new GlyphMark(this, null == markOptions ? void 0 : markOptions.glyphType, groupMark));\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component:\n            mark = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.hasComponent(null == markOptions ? void 0 : markOptions.componentType) ? _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createComponent(null == markOptions ? void 0 : markOptions.componentType, this, groupMark, null == markOptions ? void 0 : markOptions.mode) : new _component__WEBPACK_IMPORTED_MODULE_13__.Component(this, null == markOptions ? void 0 : markOptions.componentType, groupMark, null == markOptions ? void 0 : markOptions.mode);\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.text:\n            mark = new _semantic_marks_text__WEBPACK_IMPORTED_MODULE_14__.Text(this, type, groupMark);\n            break;\n\n          default:\n            mark = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.hasMark(type) ? _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createMark(type, this, groupMark) : new _mark__WEBPACK_IMPORTED_MODULE_15__.Mark(this, type, groupMark);\n        }\n        return this.grammars.record(mark), this._dataflow.add(mark), mark;\n    }\n    group(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.group, group);\n    }\n    glyph(glyphType, group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.glyph, group, {\n            glyphType: glyphType\n        });\n    }\n    component(componentType, group, mode = \"2d\") {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: componentType,\n            mode: mode\n        });\n    }\n    axis(group, mode = \"2d\") {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.axis,\n            mode: mode\n        });\n    }\n    grid(group, mode = \"2d\") {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.grid,\n            mode: mode\n        });\n    }\n    legend(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.legend\n        });\n    }\n    slider(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.slider\n        });\n    }\n    label(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.label\n        });\n    }\n    datazoom(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.datazoom\n        });\n    }\n    player(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.player\n        });\n    }\n    title(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.title\n        });\n    }\n    scrollbar(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.scrollbar\n        });\n    }\n    customized(type, spec) {\n        const grammar = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createGrammar(type, this, null == spec ? void 0 : spec.type);\n        if (grammar) return grammar.parse(spec), this.grammars.record(grammar), this._dataflow.add(grammar), \n        grammar;\n    }\n    addGrammar(grammar) {\n        return this.grammars.find((storedGrammar => storedGrammar.uid === grammar.uid)) || (this.grammars.record(grammar), \n        this._dataflow.add(grammar), grammar.parse(grammar.getSpec()), this._needBuildLayoutTree = !0), \n        this;\n    }\n    removeGrammar(grammar) {\n        const recordedGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(grammar) ? this.getGrammarById(grammar) : grammar;\n        return recordedGrammar && this.grammars.find((storedGrammar => storedGrammar.uid === recordedGrammar.uid)) ? (\"mark\" === recordedGrammar.grammarType && recordedGrammar.prepareRelease(), \n        this._cachedGrammars.record(recordedGrammar), this._dataflow.remove(recordedGrammar), \n        this.grammars.unrecord(recordedGrammar), this._needBuildLayoutTree = !0, this) : this;\n    }\n    removeAllGrammars() {\n        return this.grammars.traverse((grammar => {\n            \"signal\" === grammar.grammarType && _parse_view__WEBPACK_IMPORTED_MODULE_16__.BuiltInSignalID.includes(grammar.id()) || \"mark\" === grammar.grammarType && \"root\" === grammar.id() || this.removeGrammar(grammar);\n        })), this;\n    }\n    removeAllGraphicItems() {\n        return this.traverseMarkTree((mark => {\n            mark.graphicItem && ((0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_6__.removeGraphicItem)(mark.graphicItem), mark.elementMap.forEach((element => {\n                element.resetGraphicItem();\n            })), mark.graphicItem = null);\n        })), this;\n    }\n    parseSpec(spec) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        if (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_PARSE_VIEW), this._spec = spec, (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.normalizeMarkTree)(spec), \n        spec.theme ? this.theme(spec.theme) : this.theme(_theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__.ThemeManager.getDefaultTheme()), \n        spec.width && this.width(spec.width), spec.height && this.height(spec.height), this.padding(null !== (_b = null !== (_a = spec.padding) && void 0 !== _a ? _a : this._options.padding) && void 0 !== _b ? _b : this._theme.padding), \n        !this.width() || !this.height()) {\n            const size = this._getContainerSize();\n            size && (this.updateSignal(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_WIDTH, size.width), this.updateSignal(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_HEIGHT, size.height));\n        }\n        (null === (_c = spec.signals) || void 0 === _c ? void 0 : _c.length) && spec.signals.forEach((signal => {\n            this.signal().parse(signal);\n        })), (null === (_d = spec.data) || void 0 === _d ? void 0 : _d.length) && spec.data.forEach((data => {\n            this.data(null).parse(data);\n        })), (null === (_e = spec.coordinates) || void 0 === _e ? void 0 : _e.length) && spec.coordinates.forEach((coordinate => {\n            var _a;\n            null === (_a = this.coordinate(coordinate.type)) || void 0 === _a || _a.parse(coordinate);\n        })), (null === (_f = spec.scales) || void 0 === _f ? void 0 : _f.length) && spec.scales.forEach((scale => {\n            var _a;\n            null === (_a = this.scale(scale.type)) || void 0 === _a || _a.parse(scale);\n        }));\n        const customizedGrammars = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.getGrammars();\n        return Object.keys(customizedGrammars).forEach((key => {\n            const {specKey: specKey} = customizedGrammars[key];\n            spec[specKey] && spec[specKey].length && spec[specKey].forEach((specValue => {\n                this.customized(key, specValue);\n            }));\n        })), spec.marks && spec.marks.length && spec.marks.forEach((mark => {\n            this.parseMarkSpec(mark);\n        })), spec.events && spec.events.length && spec.events.forEach((eventConfig => {\n            var _b;\n            null === (_b = this.event) || void 0 === _b || _b.call(this, eventConfig);\n        })), spec.interactions && spec.interactions.length && spec.interactions.forEach((interaction => {\n            this.interaction(interaction.type, interaction);\n        })), !1 === spec.animation ? null === (_g = this.animate) || void 0 === _g || _g.disable() : null === (_h = this.animate) || void 0 === _h || _h.enable(), \n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_PARSE_VIEW), this._needBuildLayoutTree = !0, this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.before, \n        this;\n    }\n    updateSpec(spec) {\n        return this.removeAllInteractions(), this.removeAllGrammars(), this.parseSpec(spec);\n    }\n    parseBuiltIn() {\n        (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.builtInSignals)(this._options, this._config, this.getCurrentTheme()).forEach((signalSpec => {\n            const signal = this.signal().parse(signalSpec);\n            signalSpec.value && signal.set(signalSpec.value);\n        }));\n        this.parseMarkSpec({\n            id: \"root\",\n            type: \"group\",\n            encode: {\n                enter: {\n                    x: 0,\n                    y: 0\n                },\n                update: {\n                    width: {\n                        signal: \"width\"\n                    },\n                    height: {\n                        signal: \"height\"\n                    }\n                }\n            }\n        }), this.rootMark = this.getMarkById(\"root\");\n    }\n    parseMarkSpec(spec) {\n        var _a;\n        const markOptions = spec.type === _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.glyph ? {\n            glyphType: spec.glyphType\n        } : spec.type === _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component ? {\n            componentType: spec.componentType,\n            mode: spec.mode\n        } : null;\n        this.mark(spec.type, spec.group, markOptions).parse(spec), null === (_a = spec.marks) || void 0 === _a || _a.forEach((childSpec => {\n            this.parseMarkSpec(childSpec);\n        }));\n    }\n    theme(theme) {\n        var _a, _b, _c, _d, _e, _f;\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(theme) ? this._theme = null !== (_a = _theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__.ThemeManager.getTheme(theme)) && void 0 !== _a ? _a : _theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__.ThemeManager.getDefaultTheme() : this._theme = theme;\n        const {background: background, padding: padding} = null !== (_b = this._spec) && void 0 !== _b ? _b : {};\n        return this._theme ? (this.background(null !== (_c = null != background ? background : this._options.background) && void 0 !== _c ? _c : this._theme.background), \n        this.padding(null !== (_d = null != padding ? padding : this._options.padding) && void 0 !== _d ? _d : this._theme.padding), \n        null === (_f = null === (_e = this.renderer.stage()) || void 0 === _e ? void 0 : _e.setTheme) || void 0 === _f || _f.call(_e, Object.assign({}, this._theme.marks))) : (this.background(null != background ? background : this._options.background), \n        this.padding(null != padding ? padding : this._options.padding)), this;\n    }\n    getCurrentTheme() {\n        return this._theme;\n    }\n    setCurrentTheme(theme, render = !0) {\n        return this.theme(theme), this.grammars.getAllMarks().forEach((mark => {\n            mark.commit();\n        })), render ? (this.evaluate(), this.renderer.render(!0)) : this._dataflow.evaluate(), \n        this;\n    }\n    background(value) {\n        return arguments.length ? (this._background = value, this.renderer.background(value), \n        value) : this._background;\n    }\n    width(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_WIDTH);\n        return arguments.length ? (this._options.width = value, this.updateSignal(signal, value), \n        value) : signal.output();\n    }\n    height(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_HEIGHT);\n        return arguments.length ? (this._options.height = value, this.updateSignal(signal, value), \n        value) : signal.output();\n    }\n    viewWidth(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_WIDTH);\n        if (arguments.length) {\n            const padding = this.padding();\n            return this.width(value + padding.left + padding.right), value;\n        }\n        return signal.output();\n    }\n    viewHeight(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_HEIGHT);\n        if (arguments.length) {\n            const padding = this.padding();\n            return this.height(value + padding.top + padding.bottom), value;\n        }\n        return signal.output();\n    }\n    padding(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_PADDING);\n        if (arguments.length) {\n            const padding = (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.normalizePadding)(value);\n            return this.updateSignal(signal, padding), padding;\n        }\n        return (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.normalizePadding)(signal.output());\n    }\n    autoFit(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_AUTOFIT);\n        return arguments.length ? (this.updateSignal(signal, value), value) : signal.output();\n    }\n    getViewBox() {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_BOX);\n        return null == signal ? void 0 : signal.output();\n    }\n    updateLayoutTag() {\n        return this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.before, this;\n    }\n    getLayoutState() {\n        return this._layoutState;\n    }\n    buildLayoutTree() {\n        const markMap = {}, rootMarks = [];\n        this.traverseMarkTree((mark => {\n            markMap[mark.id()] = !0, mark.group && markMap[mark.group.id()] || rootMarks.push(mark), \n            mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.group && mark.updateLayoutChildren();\n        }), (mark => mark.needLayout())), this._layoutMarks = rootMarks;\n    }\n    doLayout() {\n        var _a;\n        const doLayout = this._options.doLayout || _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.getDefaultLayout();\n        doLayout && (null === (_a = this._layoutMarks) || void 0 === _a ? void 0 : _a.length) && (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_DO_LAYOUT), \n        doLayout(this._layoutMarks, this._options, this), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_DO_LAYOUT));\n    }\n    handleLayoutEnd() {\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_MARK_LAYOUT_END), this._layoutMarks.forEach((layoutMark => {\n            (0,_graph_mark_tree__WEBPACK_IMPORTED_MODULE_18__.traverseMarkTree)(layoutMark, \"layoutChildren\", (mark => {\n                mark.handleLayoutEnd();\n            }), (mark => mark !== layoutMark));\n        })), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_MARK_LAYOUT_END);\n    }\n    handleRenderEnd() {\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_MARK_RENDER_END), (0,_graph_mark_tree__WEBPACK_IMPORTED_MODULE_18__.traverseMarkTree)(this.rootMark, \"children\", (mark => {\n            mark.handleRenderEnd();\n        })), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_MARK_RENDER_END);\n    }\n    commit(grammar) {\n        return this._dataflow.commit(grammar), this;\n    }\n    run(runningConfig) {\n        return this.evaluate(runningConfig), this;\n    }\n    doRender(immediately) {\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_DO_RENDER), this.renderer && (!this._progressiveMarks && this.animate ? this.animate.animate() : this.traverseMarkTree((mark => {\n            mark.cleanExitElements();\n        }), null, !0), this.renderer.render(immediately), this.handleRenderEnd()), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_DO_RENDER);\n    }\n    evaluate(runningConfig) {\n        var _a, _c;\n        const normalizedRunningConfig = (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.normalizeRunningConfig)(runningConfig), grammarWillDetach = this._cachedGrammars.size() > 0;\n        grammarWillDetach && (this.reuseCachedGrammars(normalizedRunningConfig), this.detachCachedGrammar());\n        const hasResize = this._resizeRenderer(), hasUpdate = this._dataflow.hasCommitted();\n        return grammarWillDetach || hasUpdate || this._layoutState || hasResize ? (this.clearProgressive(), \n        this._dataflow.evaluate(), this._needBuildLayoutTree && (this.buildLayoutTree(), \n        this._needBuildLayoutTree = !1), this._layoutState && (this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.layouting, \n        this.doLayout(), this._dataflow.hasCommitted() && (this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.reevaluate, \n        this._dataflow.evaluate()), this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.after, (null === (_a = this._layoutMarks) || void 0 === _a ? void 0 : _a.length) && this.handleLayoutEnd()), \n        this._layoutState = null, this.findProgressiveMarks(), this._resizeRenderer(), null === (_c = this.morph) || void 0 === _c || _c.call(this, normalizedRunningConfig), \n        this.releaseCachedGrammars(normalizedRunningConfig), this.doRender(!0), this.doPreProgressive(), \n        this) : this;\n    }\n    reuseCachedGrammars(runningConfig) {\n        if (runningConfig.reuse) {\n            const reuseDiffUpdate = diff => {\n                diff.next.reuse(diff.prev), diff.prev.detachAll(), diff.prev.clear(), this._cachedGrammars.unrecord(diff.prev);\n            };\n            this._differ.diffGrammar(this._cachedGrammars.getAllSignals(), this.grammars.getAllSignals().filter((signal => !_parse_view__WEBPACK_IMPORTED_MODULE_16__.BuiltInSignalID.includes(signal.id())))).update.forEach(reuseDiffUpdate);\n            this._differ.diffGrammar(this._cachedGrammars.getAllData(), this.grammars.getAllData()).update.forEach(reuseDiffUpdate);\n            this._differ.diffGrammar(this._cachedGrammars.getAllScales(), this.grammars.getAllScales()).update.forEach(reuseDiffUpdate);\n            this._differ.diffGrammar(this._cachedGrammars.getAllCoordinates(), this.grammars.getAllCoordinates()).update.forEach(reuseDiffUpdate);\n        }\n        this._differ.diffMark(this._cachedGrammars.getAllMarks(), this.grammars.getAllMarks().filter((mark => \"root\" !== mark.id())), runningConfig).update.forEach((diff => {\n            var _b;\n            const matched = 1 === diff.prev.length && 1 === diff.next.length && diff.prev[0].markType === diff.next[0].markType, enableMarkMorphConfig = diff.prev.every((mark => mark.getMorphConfig().morph)) && diff.next.every((mark => mark.getMorphConfig().morph));\n            this.morph && (runningConfig.morph && enableMarkMorphConfig || runningConfig.morphAll) ? null === (_b = this.addMorphMarks) || void 0 === _b || _b.call(this, {\n                prev: diff.prev,\n                next: diff.next\n            }) : matched && runningConfig.reuse && (diff.next[0].reuse(diff.prev[0]), diff.prev[0].detachAll(), \n            diff.prev[0].clear(), this._cachedGrammars.unrecord(diff.prev[0]));\n        }));\n    }\n    detachCachedGrammar() {\n        this._cachedGrammars.traverse((grammar => {\n            var _a, _b;\n            if (grammar.detachAll(), \"mark\" === grammar.grammarType) {\n                const mark = grammar;\n                null === (_b = null === (_a = mark.group) || void 0 === _a ? void 0 : _a.removeChild) || void 0 === _b || _b.call(_a, mark);\n            }\n        }));\n    }\n    releaseCachedGrammars(runningConfig) {\n        this._cachedGrammars.traverse((grammar => {\n            \"mark\" !== grammar.grammarType && grammar.release();\n        }));\n        const markNodes = this._cachedGrammars.getAllMarkNodes();\n        markNodes.forEach((node => {\n            var _a;\n            null === (_a = node.mark.animate) || void 0 === _a || _a.stop(), runningConfig.enableExitAnimation && this.animate && this.animate.animateAddition(node.mark);\n        }));\n        const releaseUp = node => {\n            if (node.mark.view && (!node.mark.animate || 0 === node.mark.animate.getAnimatorCount()) && (!node.children || 0 === node.children.length)) {\n                node.mark.release();\n                const parent = node.parent;\n                parent && (node.parent.children = node.parent.children.filter((n => n !== node)), \n                node.parent = null, releaseUp(parent));\n            }\n        };\n        markNodes.forEach((node => {\n            const mark = node.mark;\n            mark.animate && 0 !== mark.animate.getAnimatorCount() ? mark.addEventListener(\"animationEnd\", (() => {\n                mark.animate && 0 === mark.animate.getAnimatorCount() && releaseUp(node);\n            })) : releaseUp(node);\n        })), this._cachedGrammars.clear();\n    }\n    runAfter(callback) {\n        return this._dataflow.runAfter((() => {\n            callback.call(null, this);\n        })), this;\n    }\n    runBefore(callback) {\n        return this._dataflow.runBefore((() => {\n            callback.call(null, this);\n        })), this;\n    }\n    getImageBuffer() {\n        var _a, _b;\n        if (\"node\" !== this._options.mode) return void this.logger.error(new TypeError(\"getImageBuffer() now only support node environment.\"));\n        const stage = null === (_b = null === (_a = this.renderer) || void 0 === _a ? void 0 : _a.stage) || void 0 === _b ? void 0 : _b.call(_a);\n        if (stage) {\n            stage.render();\n            return stage.window.getImageBuffer();\n        }\n        return this.logger.error(new ReferenceError(\"render is not defined\")), null;\n    }\n    traverseMarkTree(apply, filter, leafFirst) {\n        return (0,_graph_mark_tree__WEBPACK_IMPORTED_MODULE_18__.traverseMarkTree)(this.rootMark, \"children\", apply, filter, leafFirst), this;\n    }\n    _bindResizeEvent() {\n        var _a, _b, _c, _d, _e, _f;\n        if (this.autoFit()) {\n            const container = null === (_e = null === (_d = null === (_c = null === (_b = null === (_a = this.renderer) || void 0 === _a ? void 0 : _a.stage) || void 0 === _b ? void 0 : _b.call(_a)) || void 0 === _c ? void 0 : _c.window) || void 0 === _d ? void 0 : _d.getContainer) || void 0 === _e ? void 0 : _e.call(_d);\n            if (container) {\n                const ResizeObserverWindow = window.ResizeObserver;\n                this._observer = new ResizeObserverWindow(this._onResize), null === (_f = this._observer) || void 0 === _f || _f.observe(container);\n            }\n            window.addEventListener(\"resize\", this._onResize);\n        }\n    }\n    _unBindResizeEvent() {\n        this.autoFit() && (window.removeEventListener(\"resize\", this._onResize), this._observer && (this._observer.disconnect(), \n        this._observer = null));\n    }\n    _getContainerSize() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n        const container = null === (_e = null === (_d = null === (_c = null === (_b = null === (_a = this.renderer) || void 0 === _a ? void 0 : _a.stage) || void 0 === _b ? void 0 : _b.call(_a)) || void 0 === _c ? void 0 : _c.window) || void 0 === _d ? void 0 : _d.getContainer) || void 0 === _e ? void 0 : _e.call(_d);\n        if (container) {\n            const {width: containerWidth, height: containerHeight} = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_19__.getContainerSize)(container);\n            return {\n                width: null !== (_h = null !== (_g = null === (_f = this._spec) || void 0 === _f ? void 0 : _f.width) && void 0 !== _g ? _g : this._options.width) && void 0 !== _h ? _h : containerWidth,\n                height: null !== (_l = null !== (_k = null === (_j = this._spec) || void 0 === _j ? void 0 : _j.height) && void 0 !== _k ? _k : this._options.height) && void 0 !== _l ? _l : containerHeight\n            };\n        }\n        return null;\n    }\n    resize(width, height, render = !0) {\n        let needDataflow = !1;\n        return width !== this.width() && (needDataflow = !0, this.updateSignal(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_WIDTH, width)), \n        height !== this.height() && (needDataflow = !0, this.updateSignal(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_HEIGHT, height)), \n        needDataflow && (render ? this.evaluate({\n            morph: !1\n        }) : this._dataflow.evaluate()), this;\n    }\n    _resizeRenderer() {\n        const width = this.width(), height = this.height();\n        return !!this.renderer.shouldResize(width, height) && (this.renderer.resize(width, height), \n        this.emit(\"resize\", {}, {\n            width: width,\n            height: height\n        }), !0);\n    }\n    interaction(type, spec) {\n        const interaction = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createInteraction(type, this, spec);\n        return interaction && (interaction.bind(), this._boundInteractions || (this._boundInteractions = []), \n        this._boundInteractions.push(interaction)), interaction;\n    }\n    removeInteraction(type, id) {\n        if (this._boundInteractions) {\n            const instances = this._boundInteractions.filter((interaction => {\n                var _a;\n                return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(id) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(type) ? interaction.type === type : type ? interaction === type : void 0 : (null === (_a = interaction.options) || void 0 === _a ? void 0 : _a.id) === id;\n            }));\n            instances.length && instances.forEach((instance => {\n                instance.unbind();\n            }));\n        }\n        return this;\n    }\n    removeAllInteractions() {\n        return this._boundInteractions && (this._boundInteractions.forEach((instance => {\n            instance.unbind();\n        })), this._boundInteractions = null), this;\n    }\n    initializeEventConfig(config) {\n        const eventsConfig = Object.assign({\n            defaults: {}\n        }, config), unpack = (obj, keys) => {\n            keys.forEach((k => {\n                (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(obj[k]) && (obj[k] = obj[k].reduce(((set, key) => (set[key] = !0, set)), {}));\n            }));\n        };\n        return unpack(eventsConfig.defaults, [ \"prevent\", \"allow\" ]), unpack(eventsConfig, [ _constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_VIEW, _constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_WINDOW ]), \n        eventsConfig;\n    }\n    initEvent() {\n        const stage = this.renderer.stage();\n        stage && stage.on(\"*\", this.delegateEvent);\n    }\n    releaseStageEvent() {\n        const stage = this.renderer.stage();\n        stage && stage.off(\"*\", this.delegateEvent);\n    }\n    addEventListener(type, handler, options) {\n        let callback = handler;\n        return options && !1 === options.trap || (callback = handler, callback.raw = handler), \n        options && options.target && (callback.target = options.target), this.on(type, callback), \n        this;\n    }\n    removeEventListener(type, handler) {\n        return handler ? this.off(type, handler) : this.off(type), this;\n    }\n    initializeRenderer() {\n        const width = this._options.width, height = this._options.height;\n        this.renderer = new _graph_canvas_renderer__WEBPACK_IMPORTED_MODULE_22__[\"default\"](this), this.renderer.initialize(width, height, this._options, this._eventConfig).background(this._background);\n    }\n    initialize() {\n        var _a, _c;\n        this.grammars = new _grammar_record__WEBPACK_IMPORTED_MODULE_23__.RecordedGrammars((grammar => grammar.id()), ((key, grammar) => this.logger.warn(`Grammar id '${key}' has been occupied`, grammar))), \n        this._cachedGrammars = new _grammar_record__WEBPACK_IMPORTED_MODULE_23__.RecordedTreeGrammars((grammar => grammar.id())), this._options.logger && _visactor_vutils__WEBPACK_IMPORTED_MODULE_24__.Logger.setInstance(this._options.logger), \n        this.logger = _visactor_vutils__WEBPACK_IMPORTED_MODULE_24__.Logger.getInstance(null !== (_a = this._options.logLevel) && void 0 !== _a ? _a : 0), \n        this._dataflow = new _dataflow__WEBPACK_IMPORTED_MODULE_25__[\"default\"], this.animate = null === (_c = this.initAnimate) || void 0 === _c ? void 0 : _c.call(this, this), \n        this._differ = new _graph_view_diff__WEBPACK_IMPORTED_MODULE_26__.ViewDiff, this._options.hooks && (Object.keys(this._options.hooks).forEach((key => {\n            this.on(key, this._options.hooks[key]);\n        })), this.hooks = this._options.hooks), this.container = null, this.renderer = null, \n        this._eventListeners = [], this._eventConfig = this.initializeEventConfig(this._options.eventConfig), \n        this._theme = this._options.disableTheme ? null : _theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__.ThemeManager.getDefaultTheme(), \n        this.parseBuiltIn(), (0,_graph_util_env__WEBPACK_IMPORTED_MODULE_27__.configureEnvironment)(this._options), this.initializeRenderer(), \n        this._eventConfig.disable || this.initEvent(), this._bindResizeEvent(), this._needBuildLayoutTree = !0, \n        this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.before, this.theme(this._theme);\n    }\n    pauseProgressive() {\n        return !1;\n    }\n    resumeProgressive() {\n        return !1;\n    }\n    restartProgressive() {\n        return !1;\n    }\n    findProgressiveMarks() {\n        const marks = [];\n        return this.traverseMarkTree((mark => {\n            marks.push(mark);\n        }), (mark => mark.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.group && mark.isProgressive())), \n        marks.length ? (this._progressiveMarks = marks, this.renderer && this.renderer.combineIncrementalLayers(), \n        marks) : (this._progressiveMarks = null, null);\n    }\n    doPreProgressive() {\n        if (this._progressiveMarks && this._progressiveMarks.some((mark => mark.isDoingProgressive()))) {\n            const raf = _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__.vglobal.getRequestAnimationFrame();\n            this._progressiveRafId = raf(this.handleProgressiveFrame);\n        } else this._progressiveMarks && this.animate && this._progressiveMarks.every((mark => mark.canAnimateAfterProgressive())) ? this.animate.animate() : this._progressiveMarks && (this._progressiveMarks = null);\n    }\n    clearProgressive() {\n        if (this._progressiveRafId) {\n            _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__.vglobal.getCancelAnimationFrame()(this._progressiveRafId);\n        }\n        this._progressiveMarks && this._progressiveMarks.length && (this._progressiveMarks.forEach((entry => {\n            entry.clearProgressive();\n        })), this._progressiveMarks = null);\n    }\n    release() {\n        var _a, _b, _c, _d;\n        this.removeAllInteractions(), this.releaseStageEvent(), this._unBindResizeEvent(), \n        this.clearProgressive(), _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.unregisterRuntimeTransforms(), _visactor_vutils__WEBPACK_IMPORTED_MODULE_24__.Logger.setInstance(null), \n        null === (_a = this.animate) || void 0 === _a || _a.stop(), this.grammars.release(), \n        this._cachedGrammars.release(), this._dataflow.release(), this._dataflow = null, \n        null === (_c = null === (_b = this.renderer) || void 0 === _b ? void 0 : _b.release) || void 0 === _c || _c.call(_b), \n        this.renderer = null, this._boundInteractions = null, this.removeAllListeners(), \n        null === (_d = this._eventListeners) || void 0 === _d || _d.forEach((listener => {\n            listener.source.removeEventListener(listener.type, listener.handler);\n        })), this._eventListeners = null;\n    }\n}\n//# sourceMappingURL=View.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9WaWV3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUg7O0FBRXBFOztBQUVuQjs7QUFFSTs7QUFFb0I7O0FBRUE7O0FBRU07O0FBRStKOztBQUV6TDs7QUFFMkY7O0FBRW5GOztBQUVlOztBQUVyQjs7QUFFTjs7QUFFNEM7O0FBRWU7O0FBRTNDOztBQUVROztBQUVaOztBQUVGOztBQUU4Qjs7QUFFeEI7O0FBRS9CLG1CQUFtQix5REFBWTtBQUM5QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw0QkFBNEIsYUFBYTtBQUN6Qyx5REFBeUQsNERBQVE7QUFDakU7QUFDQTtBQUNBLFNBQVM7QUFDVCxnQ0FBZ0MscUVBQWlCLG9CQUFvQix5REFBaUI7QUFDdEY7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Qsa0JBQWtCLCtDQUFPO0FBQ3pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsdURBQUs7QUFDL0I7QUFDQSxnQkFBZ0Isc0RBQVM7QUFDekIsbUNBQW1DLGlEQUFTO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxtREFBVywrQ0FBK0MsK0RBQVU7QUFDakg7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsNERBQVE7QUFDaEI7QUFDQTtBQUNBLDJCQUEyQiwyQ0FBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1Q0FBSTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbURBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDREQUFRO0FBQ2xDO0FBQ0E7QUFDQSxlQUFlLDBEQUFlO0FBQzlCLHVCQUF1Qiw4Q0FBUztBQUNoQzs7QUFFQSxlQUFlLDBEQUFlO0FBQzlCLDhCQUE4QixtREFBTyxTQUFTLDBEQUFlO0FBQzdEO0FBQ0E7O0FBRUEsZUFBZSwwREFBZTtBQUM5QixtQkFBbUIsbURBQU8sMEVBQTBFLG1EQUFPLG1KQUFtSixrREFBUztBQUN2UTs7QUFFQSxlQUFlLDBEQUFlO0FBQzlCLHVCQUF1Qix1REFBSTtBQUMzQjs7QUFFQTtBQUNBLG1CQUFtQixtREFBTyxpQkFBaUIsbURBQU8seUNBQXlDLHdDQUFJO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFlO0FBQ3hDO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QiwwREFBZTtBQUN4QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0EseUJBQXlCLDBEQUFlO0FBQ3hDLDJCQUEyQix3REFBYTtBQUN4QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QiwwREFBZTtBQUN4QywyQkFBMkIsd0RBQWE7QUFDeEMsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0EseUJBQXlCLDBEQUFlO0FBQ3hDLDJCQUEyQix3REFBYTtBQUN4QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QiwwREFBZTtBQUN4QywyQkFBMkIsd0RBQWE7QUFDeEMsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0REFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QseURBQWU7QUFDL0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzRUFBaUI7QUFDbEQ7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxREFBVSx3Q0FBd0MsK0RBQWlCO0FBQ3pGLHlEQUF5RCwrREFBWTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsb0RBQVksaUNBQWlDLHFEQUFhO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUNBQW1DLG1EQUFPO0FBQzFDO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNULGtCQUFrQixxREFBVSx3RUFBd0Usc0RBQVc7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBYztBQUN0QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywwREFBZTtBQUN6RDtBQUNBLFVBQVUsZ0JBQWdCLDBEQUFlO0FBQ3pDO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFRLHVDQUF1QywrREFBWSwwQ0FBMEMsK0RBQVk7QUFDekgsZUFBZSwwQ0FBMEM7QUFDekQ7QUFDQTtBQUNBLHNKQUFzSjtBQUN0SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG9EQUFZO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFEQUFhO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHlEQUFpQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywwREFBa0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsc0RBQWM7QUFDeEQ7QUFDQSw0QkFBNEIsOERBQWdCO0FBQzVDO0FBQ0E7QUFDQSxlQUFlLDhEQUFnQjtBQUMvQjtBQUNBO0FBQ0EsMENBQTBDLHNEQUFjO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx1REFBZTtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0RBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsOEJBQThCLDBEQUFlO0FBQzdDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsbURBQU87QUFDMUQsNEdBQTRHLHFEQUFVO0FBQ3RILG9FQUFvRSxxREFBVTtBQUM5RTtBQUNBO0FBQ0Esa0JBQWtCLHFEQUFVO0FBQzVCLFlBQVksbUVBQWdCO0FBQzVCO0FBQ0EsYUFBYTtBQUNiLFNBQVMsY0FBYyxxREFBVTtBQUNqQztBQUNBO0FBQ0Esa0JBQWtCLHFEQUFVLDBCQUEwQixtRUFBZ0I7QUFDdEU7QUFDQSxTQUFTLGNBQWMscURBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxREFBVTtBQUM1QjtBQUNBLFNBQVMsb0ZBQW9GLHFEQUFVO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxvRUFBc0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsc0RBQVc7QUFDOUYsK0VBQStFLHNEQUFXO0FBQzFGLHdEQUF3RCxzREFBVztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0SEFBNEgseURBQWU7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUVBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdELEVBQUUsbUVBQWdCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxvREFBWTtBQUMzRiwwRUFBMEUscURBQWE7QUFDdkY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw0QkFBNEIsbURBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNkRBQUssT0FBTyw0REFBUTtBQUMzQyxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxnQkFBZ0IsNkRBQU8sNEVBQTRFO0FBQ25HLGFBQWE7QUFDYjtBQUNBLDZGQUE2Rix5REFBaUIsRUFBRSwyREFBbUI7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4REFBZ0IsK0VBQStFLElBQUk7QUFDL0gsbUNBQW1DLGtFQUFvQixxREFBcUQscURBQU07QUFDbEgsc0JBQXNCLHFEQUFNO0FBQzVCLDZCQUE2QixrREFBUTtBQUNyQywyQkFBMkIsdURBQVE7QUFDbkM7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwwREFBMEQsK0RBQVk7QUFDdEUsNkJBQTZCLHNFQUFvQjtBQUNqRDtBQUNBLDRCQUE0QixzREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4QkFBOEIsMERBQWU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0REFBTztBQUMvQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxtREFBTyxnQ0FBZ0MscURBQU07QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L1ZpZXcuanM/NmNjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIGRlYm91bmNlLCBpc1N0cmluZywgZ2V0Q29udGFpbmVyU2l6ZSwgTG9nZ2VyLCBhcnJheSwgaXNOaWwsIGlzQXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyB2Z2xvYmFsIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuaW1wb3J0IHsgRGF0YSB9IGZyb20gXCIuL2RhdGFcIjtcblxuaW1wb3J0IERhdGFmbG93IGZyb20gXCIuL2RhdGFmbG93XCI7XG5cbmltcG9ydCB7IHRyYXZlcnNlTWFya1RyZWUgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay10cmVlXCI7XG5cbmltcG9ydCBDYW52YXNSZW5kZXJlciBmcm9tIFwiLi4vZ3JhcGgvY2FudmFzLXJlbmRlcmVyXCI7XG5cbmltcG9ydCBnZXRFeHRlbmRlZEV2ZW50cyBmcm9tIFwiLi4vZ3JhcGgvdXRpbC9ldmVudHMtZXh0ZW5kXCI7XG5cbmltcG9ydCB7IEJST1dTRVIsIFNJR05BTF9XSURUSCwgU0lHTkFMX0hFSUdIVCwgU0lHTkFMX1BBRERJTkcsIFNJR05BTF9BVVRPRklULCBTSUdOQUxfVklFV19XSURUSCwgU0lHTkFMX1ZJRVdfSEVJR0hULCBFVkVOVF9TT1VSQ0VfVklFVywgU0lHTkFMX1ZJRVdfQk9YLCBJRF9QUkVGSVgsIE5BTUVfUFJFRklYLCBFVkVOVF9TT1VSQ0VfV0lORE9XIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuL3NpZ25hbFwiO1xuXG5pbXBvcnQgeyBCdWlsdEluU2lnbmFsSUQsIGJ1aWx0SW5TaWduYWxzLCBub3JtYWxpemVNYXJrVHJlZSwgbm9ybWFsaXplUnVubmluZ0NvbmZpZywgbm9ybWFsaXplUGFkZGluZyB9IGZyb20gXCIuLi9wYXJzZS92aWV3XCI7XG5cbmltcG9ydCB7IGlzR3JhbW1hciB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmltcG9ydCB7IGNvbmZpZ3VyZUVudmlyb25tZW50IH0gZnJvbSBcIi4uL2dyYXBoL3V0aWwvZW52XCI7XG5cbmltcG9ydCB7IEdyb3VwTWFyayB9IGZyb20gXCIuL2dyb3VwXCI7XG5cbmltcG9ydCB7IE1hcmsgfSBmcm9tIFwiLi9tYXJrXCI7XG5cbmltcG9ydCB7IFJlY29yZGVkR3JhbW1hcnMsIFJlY29yZGVkVHJlZUdyYW1tYXJzIH0gZnJvbSBcIi4vZ3JhbW1hci1yZWNvcmRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSwgSE9PS19FVkVOVCwgTGF5b3V0U3RhdGUsIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSBcIi4uL3NlbWFudGljLW1hcmtzL3RleHRcIjtcblxuaW1wb3J0IHsgVGhlbWVNYW5hZ2VyIH0gZnJvbSBcIi4uL3RoZW1lL3RoZW1lLW1hbmFnZXJcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5cbmltcG9ydCB7IGlzTWFya1R5cGUsIHJlbW92ZUdyYXBoaWNJdGVtIH0gZnJvbSBcIi4uL2dyYXBoL3V0aWwvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyBWaWV3RGlmZiB9IGZyb20gXCIuLi9ncmFwaC92aWV3LWRpZmZcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gICAgc3RhdGljIHVzZVJlZ2lzdGVycyhjb21wcykge1xuICAgICAgICBjb21wcy5mb3JFYWNoKChmbiA9PiB7XG4gICAgICAgICAgICBmbigpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSwgY29uZmlnID0ge30pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5fb2JzZXJ2ZXIgPSBudWxsLCB0aGlzLl9vblJlc2l6ZSA9IGRlYm91bmNlKCgoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldENvbnRhaW5lclNpemUoKTtcbiAgICAgICAgICAgIHNpemUgJiYgdGhpcy5yZXNpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICB9KSwgMTAwKSwgdGhpcy5kZWxlZ2F0ZUV2ZW50ID0gKGV2ZW50LCB0eXBlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleHRlbmRlZEV2dCA9IGdldEV4dGVuZGVkRXZlbnRzKHRoaXMsIGV2ZW50LCB0eXBlLCBFVkVOVF9TT1VSQ0VfVklFVyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQodHlwZSwgZXh0ZW5kZWRFdnQsIGV2ZW50LmVsZW1lbnQpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVByb2dyZXNzaXZlRnJhbWUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wcm9ncmVzc2l2ZU1hcmtzLmxlbmd0aCAmJiB0aGlzLl9wcm9ncmVzc2l2ZU1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgICAgIG1hcmsuaXNEb2luZ1Byb2dyZXNzaXZlKCkgJiYgbWFyay5ldmFsdWF0ZVByb2dyZXNzaXZlKCk7XG4gICAgICAgICAgICB9KSksIHRoaXMuZG9QcmVQcm9ncmVzc2l2ZSgpO1xuICAgICAgICB9LCB0aGlzLl9jb25maWcgPSBjb25maWcsIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIG1vZGU6IEJST1dTRVJcbiAgICAgICAgfSwgb3B0aW9ucyksIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgICBnZXRHcmFtbWFyQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5nZXRHcmFtbWFyKGlkKTtcbiAgICB9XG4gICAgZ2V0U2lnbmFsQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5nZXRTaWduYWwoaWQpO1xuICAgIH1cbiAgICBnZXREYXRhQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5nZXREYXRhKGlkKTtcbiAgICB9XG4gICAgZ2V0U2NhbGVCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLmdldFNjYWxlKGlkKTtcbiAgICB9XG4gICAgZ2V0Q29vcmRpbmF0ZUJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMuZ2V0Q29vcmRpbmF0ZShpZCk7XG4gICAgfVxuICAgIGdldE1hcmtCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLmdldE1hcmsoaWQpO1xuICAgIH1cbiAgICBnZXRDdXN0b21pemVkQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5nZXRDdXN0b21pemVkKGlkKTtcbiAgICB9XG4gICAgZ2V0R3JhbW1hcnNCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5maWx0ZXIoKGdyYW1tYXIgPT4gZ3JhbW1hci5uYW1lKCkgPT09IG5hbWUpKTtcbiAgICB9XG4gICAgZ2V0R3JhbW1hcnNCeVR5cGUoZ3JhbW1hclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMuZmlsdGVyKChncmFtbWFyID0+IGdyYW1tYXIuZ3JhbW1hclR5cGUgPT09IGdyYW1tYXJUeXBlKSk7XG4gICAgfVxuICAgIGdldE1hcmtzQnlUeXBlKG1hcmtUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLmdldEFsbE1hcmtzKCkuZmlsdGVyKChtYXJrID0+IG1hcmsubWFya1R5cGUgPT09IG1hcmtUeXBlKSk7XG4gICAgfVxuICAgIGdldE1hcmtzQnlOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMuZ2V0QWxsTWFya3MoKS5maWx0ZXIoKG1hcmsgPT4gbWFyay5uYW1lKCkgPT09IG5hbWUpKTtcbiAgICB9XG4gICAgZ2V0TWFya3NCeVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICAgIGlmICghc2VsZWN0b3IpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBzZWxlY3RvcnMgPSBhcnJheShzZWxlY3RvciksIHJlcyA9IFtdO1xuICAgICAgICByZXR1cm4gc2VsZWN0b3JzLmZvckVhY2goKHNlbGVjdG9yU3RyID0+IHtcbiAgICAgICAgICAgIGlmIChpc0dyYW1tYXIoc2VsZWN0b3JTdHIpKSByZXR1cm4gdm9pZCByZXMucHVzaChzZWxlY3RvclN0cik7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3JTdHJbMF0gPT09IElEX1BSRUZJWCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmsgPSB0aGlzLmdldE1hcmtCeUlkKHNlbGVjdG9yU3RyLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAobWFyayAmJiByZXMucHVzaChtYXJrKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXJrcyA9IHNlbGVjdG9yU3RyWzBdID09PSBOQU1FX1BSRUZJWCA/IHRoaXMuZ2V0TWFya3NCeU5hbWUoc2VsZWN0b3JTdHIuc2xpY2UoMSkpIDogaXNNYXJrVHlwZShzZWxlY3RvclN0cikgPyB0aGlzLmdldE1hcmtzQnlUeXBlKHNlbGVjdG9yU3RyKSA6IG51bGw7XG4gICAgICAgICAgICBtYXJrcyAmJiBtYXJrcy5sZW5ndGggJiYgbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gobWFyayk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKSwgcmVzO1xuICAgIH1cbiAgICB1cGRhdGVTaWduYWwoc2lnbmFsLCB2YWx1ZSkge1xuICAgICAgICBpc1N0cmluZyhzaWduYWwpICYmIChzaWduYWwgPSB0aGlzLmdldFNpZ25hbEJ5SWQoc2lnbmFsKSksIHNpZ25hbC5zZXQodmFsdWUpLCB0aGlzLmNvbW1pdChzaWduYWwpO1xuICAgIH1cbiAgICBzaWduYWwodmFsdWUsIHVwZGF0ZSkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+PSAxICYmIHNpZ25hbC52YWx1ZSh2YWx1ZSksIGFyZ3VtZW50cy5sZW5ndGggPj0gMiAmJiBzaWduYWwudXBkYXRlKHVwZGF0ZSksIFxuICAgICAgICB0aGlzLmdyYW1tYXJzLnJlY29yZChzaWduYWwpLCB0aGlzLl9kYXRhZmxvdy5hZGQoc2lnbmFsKSwgc2lnbmFsO1xuICAgIH1cbiAgICBkYXRhKHZhbHVlcykge1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IERhdGEodGhpcywgdmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMucmVjb3JkKGRhdGEpLCB0aGlzLl9kYXRhZmxvdy5hZGQoZGF0YSksIGRhdGE7XG4gICAgfVxuICAgIHNjYWxlKHR5cGUpIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBGYWN0b3J5LmNyZWF0ZUdyYW1tYXIoXCJzY2FsZVwiLCB0aGlzLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlICYmICh0aGlzLmdyYW1tYXJzLnJlY29yZChzY2FsZSksIHRoaXMuX2RhdGFmbG93LmFkZChzY2FsZSkpLCBzY2FsZTtcbiAgICB9XG4gICAgY29vcmRpbmF0ZSh0eXBlKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBGYWN0b3J5LmNyZWF0ZUdyYW1tYXIoXCJjb29yZGluYXRlXCIsIHRoaXMsIHR5cGUpO1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZSAmJiAodGhpcy5ncmFtbWFycy5yZWNvcmQoY29vcmRpbmF0ZSksIHRoaXMuX2RhdGFmbG93LmFkZChjb29yZGluYXRlKSksIFxuICAgICAgICBjb29yZGluYXRlO1xuICAgIH1cbiAgICBtYXJrKHR5cGUsIGdyb3VwLCBtYXJrT3B0aW9ucykge1xuICAgICAgICBjb25zdCBncm91cE1hcmsgPSBpc1N0cmluZyhncm91cCkgPyB0aGlzLmdldE1hcmtCeUlkKGdyb3VwKSA6IGdyb3VwO1xuICAgICAgICBsZXQgbWFyaztcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuZ3JvdXA6XG4gICAgICAgICAgICBtYXJrID0gbmV3IEdyb3VwTWFyayh0aGlzLCBncm91cE1hcmspO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5nbHlwaDpcbiAgICAgICAgICAgIGNvbnN0IEdseXBoTWFyayA9IEZhY3RvcnkuZ2V0TWFyayhHcmFtbWFyTWFya1R5cGUuZ2x5cGgpO1xuICAgICAgICAgICAgR2x5cGhNYXJrICYmIChtYXJrID0gbmV3IEdseXBoTWFyayh0aGlzLCBudWxsID09IG1hcmtPcHRpb25zID8gdm9pZCAwIDogbWFya09wdGlvbnMuZ2x5cGhUeXBlLCBncm91cE1hcmspKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50OlxuICAgICAgICAgICAgbWFyayA9IEZhY3RvcnkuaGFzQ29tcG9uZW50KG51bGwgPT0gbWFya09wdGlvbnMgPyB2b2lkIDAgOiBtYXJrT3B0aW9ucy5jb21wb25lbnRUeXBlKSA/IEZhY3RvcnkuY3JlYXRlQ29tcG9uZW50KG51bGwgPT0gbWFya09wdGlvbnMgPyB2b2lkIDAgOiBtYXJrT3B0aW9ucy5jb21wb25lbnRUeXBlLCB0aGlzLCBncm91cE1hcmssIG51bGwgPT0gbWFya09wdGlvbnMgPyB2b2lkIDAgOiBtYXJrT3B0aW9ucy5tb2RlKSA6IG5ldyBDb21wb25lbnQodGhpcywgbnVsbCA9PSBtYXJrT3B0aW9ucyA/IHZvaWQgMCA6IG1hcmtPcHRpb25zLmNvbXBvbmVudFR5cGUsIGdyb3VwTWFyaywgbnVsbCA9PSBtYXJrT3B0aW9ucyA/IHZvaWQgMCA6IG1hcmtPcHRpb25zLm1vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS50ZXh0OlxuICAgICAgICAgICAgbWFyayA9IG5ldyBUZXh0KHRoaXMsIHR5cGUsIGdyb3VwTWFyayk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBtYXJrID0gRmFjdG9yeS5oYXNNYXJrKHR5cGUpID8gRmFjdG9yeS5jcmVhdGVNYXJrKHR5cGUsIHRoaXMsIGdyb3VwTWFyaykgOiBuZXcgTWFyayh0aGlzLCB0eXBlLCBncm91cE1hcmspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLnJlY29yZChtYXJrKSwgdGhpcy5fZGF0YWZsb3cuYWRkKG1hcmspLCBtYXJrO1xuICAgIH1cbiAgICBncm91cChncm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5ncm91cCwgZ3JvdXApO1xuICAgIH1cbiAgICBnbHlwaChnbHlwaFR5cGUsIGdyb3VwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmsoR3JhbW1hck1hcmtUeXBlLmdseXBoLCBncm91cCwge1xuICAgICAgICAgICAgZ2x5cGhUeXBlOiBnbHlwaFR5cGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbXBvbmVudChjb21wb25lbnRUeXBlLCBncm91cCwgbW9kZSA9IFwiMmRcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBjb21wb25lbnRUeXBlLFxuICAgICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXhpcyhncm91cCwgbW9kZSA9IFwiMmRcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBDb21wb25lbnRFbnVtLmF4aXMsXG4gICAgICAgICAgICBtb2RlOiBtb2RlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBncmlkKGdyb3VwLCBtb2RlID0gXCIyZFwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmsoR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudCwgZ3JvdXAsIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IENvbXBvbmVudEVudW0uZ3JpZCxcbiAgICAgICAgICAgIG1vZGU6IG1vZGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlZ2VuZChncm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBDb21wb25lbnRFbnVtLmxlZ2VuZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2xpZGVyKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmsoR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudCwgZ3JvdXAsIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IENvbXBvbmVudEVudW0uc2xpZGVyXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsYWJlbChncm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBDb21wb25lbnRFbnVtLmxhYmVsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRhem9vbShncm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBDb21wb25lbnRFbnVtLmRhdGF6b29tXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwbGF5ZXIoZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayhHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50LCBncm91cCwge1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogQ29tcG9uZW50RW51bS5wbGF5ZXJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRpdGxlKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmsoR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudCwgZ3JvdXAsIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IENvbXBvbmVudEVudW0udGl0bGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNjcm9sbGJhcihncm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBDb21wb25lbnRFbnVtLnNjcm9sbGJhclxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3VzdG9taXplZCh0eXBlLCBzcGVjKSB7XG4gICAgICAgIGNvbnN0IGdyYW1tYXIgPSBGYWN0b3J5LmNyZWF0ZUdyYW1tYXIodHlwZSwgdGhpcywgbnVsbCA9PSBzcGVjID8gdm9pZCAwIDogc3BlYy50eXBlKTtcbiAgICAgICAgaWYgKGdyYW1tYXIpIHJldHVybiBncmFtbWFyLnBhcnNlKHNwZWMpLCB0aGlzLmdyYW1tYXJzLnJlY29yZChncmFtbWFyKSwgdGhpcy5fZGF0YWZsb3cuYWRkKGdyYW1tYXIpLCBcbiAgICAgICAgZ3JhbW1hcjtcbiAgICB9XG4gICAgYWRkR3JhbW1hcihncmFtbWFyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLmZpbmQoKHN0b3JlZEdyYW1tYXIgPT4gc3RvcmVkR3JhbW1hci51aWQgPT09IGdyYW1tYXIudWlkKSkgfHwgKHRoaXMuZ3JhbW1hcnMucmVjb3JkKGdyYW1tYXIpLCBcbiAgICAgICAgdGhpcy5fZGF0YWZsb3cuYWRkKGdyYW1tYXIpLCBncmFtbWFyLnBhcnNlKGdyYW1tYXIuZ2V0U3BlYygpKSwgdGhpcy5fbmVlZEJ1aWxkTGF5b3V0VHJlZSA9ICEwKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZUdyYW1tYXIoZ3JhbW1hcikge1xuICAgICAgICBjb25zdCByZWNvcmRlZEdyYW1tYXIgPSBpc1N0cmluZyhncmFtbWFyKSA/IHRoaXMuZ2V0R3JhbW1hckJ5SWQoZ3JhbW1hcikgOiBncmFtbWFyO1xuICAgICAgICByZXR1cm4gcmVjb3JkZWRHcmFtbWFyICYmIHRoaXMuZ3JhbW1hcnMuZmluZCgoc3RvcmVkR3JhbW1hciA9PiBzdG9yZWRHcmFtbWFyLnVpZCA9PT0gcmVjb3JkZWRHcmFtbWFyLnVpZCkpID8gKFwibWFya1wiID09PSByZWNvcmRlZEdyYW1tYXIuZ3JhbW1hclR5cGUgJiYgcmVjb3JkZWRHcmFtbWFyLnByZXBhcmVSZWxlYXNlKCksIFxuICAgICAgICB0aGlzLl9jYWNoZWRHcmFtbWFycy5yZWNvcmQocmVjb3JkZWRHcmFtbWFyKSwgdGhpcy5fZGF0YWZsb3cucmVtb3ZlKHJlY29yZGVkR3JhbW1hciksIFxuICAgICAgICB0aGlzLmdyYW1tYXJzLnVucmVjb3JkKHJlY29yZGVkR3JhbW1hciksIHRoaXMuX25lZWRCdWlsZExheW91dFRyZWUgPSAhMCwgdGhpcykgOiB0aGlzO1xuICAgIH1cbiAgICByZW1vdmVBbGxHcmFtbWFycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMudHJhdmVyc2UoKGdyYW1tYXIgPT4ge1xuICAgICAgICAgICAgXCJzaWduYWxcIiA9PT0gZ3JhbW1hci5ncmFtbWFyVHlwZSAmJiBCdWlsdEluU2lnbmFsSUQuaW5jbHVkZXMoZ3JhbW1hci5pZCgpKSB8fCBcIm1hcmtcIiA9PT0gZ3JhbW1hci5ncmFtbWFyVHlwZSAmJiBcInJvb3RcIiA9PT0gZ3JhbW1hci5pZCgpIHx8IHRoaXMucmVtb3ZlR3JhbW1hcihncmFtbWFyKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICByZW1vdmVBbGxHcmFwaGljSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5ncmFwaGljSXRlbSAmJiAocmVtb3ZlR3JhcGhpY0l0ZW0obWFyay5ncmFwaGljSXRlbSksIG1hcmsuZWxlbWVudE1hcC5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlc2V0R3JhcGhpY0l0ZW0oKTtcbiAgICAgICAgICAgIH0pKSwgbWFyay5ncmFwaGljSXRlbSA9IG51bGwpO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIHBhcnNlU3BlYyhzcGVjKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2g7XG4gICAgICAgIGlmICh0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfUEFSU0VfVklFVyksIHRoaXMuX3NwZWMgPSBzcGVjLCBub3JtYWxpemVNYXJrVHJlZShzcGVjKSwgXG4gICAgICAgIHNwZWMudGhlbWUgPyB0aGlzLnRoZW1lKHNwZWMudGhlbWUpIDogdGhpcy50aGVtZShUaGVtZU1hbmFnZXIuZ2V0RGVmYXVsdFRoZW1lKCkpLCBcbiAgICAgICAgc3BlYy53aWR0aCAmJiB0aGlzLndpZHRoKHNwZWMud2lkdGgpLCBzcGVjLmhlaWdodCAmJiB0aGlzLmhlaWdodChzcGVjLmhlaWdodCksIHRoaXMucGFkZGluZyhudWxsICE9PSAoX2IgPSBudWxsICE9PSAoX2EgPSBzcGVjLnBhZGRpbmcpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHRoaXMuX29wdGlvbnMucGFkZGluZykgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogdGhpcy5fdGhlbWUucGFkZGluZyksIFxuICAgICAgICAhdGhpcy53aWR0aCgpIHx8ICF0aGlzLmhlaWdodCgpKSB7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gdGhpcy5fZ2V0Q29udGFpbmVyU2l6ZSgpO1xuICAgICAgICAgICAgc2l6ZSAmJiAodGhpcy51cGRhdGVTaWduYWwoU0lHTkFMX1dJRFRILCBzaXplLndpZHRoKSwgdGhpcy51cGRhdGVTaWduYWwoU0lHTkFMX0hFSUdIVCwgc2l6ZS5oZWlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICAobnVsbCA9PT0gKF9jID0gc3BlYy5zaWduYWxzKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MubGVuZ3RoKSAmJiBzcGVjLnNpZ25hbHMuZm9yRWFjaCgoc2lnbmFsID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2lnbmFsKCkucGFyc2Uoc2lnbmFsKTtcbiAgICAgICAgfSkpLCAobnVsbCA9PT0gKF9kID0gc3BlYy5kYXRhKSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2QubGVuZ3RoKSAmJiBzcGVjLmRhdGEuZm9yRWFjaCgoZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEobnVsbCkucGFyc2UoZGF0YSk7XG4gICAgICAgIH0pKSwgKG51bGwgPT09IChfZSA9IHNwZWMuY29vcmRpbmF0ZXMpIHx8IHZvaWQgMCA9PT0gX2UgPyB2b2lkIDAgOiBfZS5sZW5ndGgpICYmIHNwZWMuY29vcmRpbmF0ZXMuZm9yRWFjaCgoY29vcmRpbmF0ZSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBudWxsID09PSAoX2EgPSB0aGlzLmNvb3JkaW5hdGUoY29vcmRpbmF0ZS50eXBlKSkgfHwgdm9pZCAwID09PSBfYSB8fCBfYS5wYXJzZShjb29yZGluYXRlKTtcbiAgICAgICAgfSkpLCAobnVsbCA9PT0gKF9mID0gc3BlYy5zY2FsZXMpIHx8IHZvaWQgMCA9PT0gX2YgPyB2b2lkIDAgOiBfZi5sZW5ndGgpICYmIHNwZWMuc2NhbGVzLmZvckVhY2goKHNjYWxlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIG51bGwgPT09IChfYSA9IHRoaXMuc2NhbGUoc2NhbGUudHlwZSkpIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2EucGFyc2Uoc2NhbGUpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGN1c3RvbWl6ZWRHcmFtbWFycyA9IEZhY3RvcnkuZ2V0R3JhbW1hcnMoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGN1c3RvbWl6ZWRHcmFtbWFycykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtzcGVjS2V5OiBzcGVjS2V5fSA9IGN1c3RvbWl6ZWRHcmFtbWFyc1trZXldO1xuICAgICAgICAgICAgc3BlY1tzcGVjS2V5XSAmJiBzcGVjW3NwZWNLZXldLmxlbmd0aCAmJiBzcGVjW3NwZWNLZXldLmZvckVhY2goKHNwZWNWYWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemVkKGtleSwgc3BlY1ZhbHVlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLCBzcGVjLm1hcmtzICYmIHNwZWMubWFya3MubGVuZ3RoICYmIHNwZWMubWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlTWFya1NwZWMobWFyayk7XG4gICAgICAgIH0pKSwgc3BlYy5ldmVudHMgJiYgc3BlYy5ldmVudHMubGVuZ3RoICYmIHNwZWMuZXZlbnRzLmZvckVhY2goKGV2ZW50Q29uZmlnID0+IHtcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIG51bGwgPT09IChfYiA9IHRoaXMuZXZlbnQpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbCh0aGlzLCBldmVudENvbmZpZyk7XG4gICAgICAgIH0pKSwgc3BlYy5pbnRlcmFjdGlvbnMgJiYgc3BlYy5pbnRlcmFjdGlvbnMubGVuZ3RoICYmIHNwZWMuaW50ZXJhY3Rpb25zLmZvckVhY2goKGludGVyYWN0aW9uID0+IHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb24oaW50ZXJhY3Rpb24udHlwZSwgaW50ZXJhY3Rpb24pO1xuICAgICAgICB9KSksICExID09PSBzcGVjLmFuaW1hdGlvbiA/IG51bGwgPT09IChfZyA9IHRoaXMuYW5pbWF0ZSkgfHwgdm9pZCAwID09PSBfZyB8fCBfZy5kaXNhYmxlKCkgOiBudWxsID09PSAoX2ggPSB0aGlzLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2ggfHwgX2guZW5hYmxlKCksIFxuICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9QQVJTRV9WSUVXKSwgdGhpcy5fbmVlZEJ1aWxkTGF5b3V0VHJlZSA9ICEwLCB0aGlzLl9sYXlvdXRTdGF0ZSA9IExheW91dFN0YXRlLmJlZm9yZSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHVwZGF0ZVNwZWMoc3BlYykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVBbGxJbnRlcmFjdGlvbnMoKSwgdGhpcy5yZW1vdmVBbGxHcmFtbWFycygpLCB0aGlzLnBhcnNlU3BlYyhzcGVjKTtcbiAgICB9XG4gICAgcGFyc2VCdWlsdEluKCkge1xuICAgICAgICBidWlsdEluU2lnbmFscyh0aGlzLl9vcHRpb25zLCB0aGlzLl9jb25maWcsIHRoaXMuZ2V0Q3VycmVudFRoZW1lKCkpLmZvckVhY2goKHNpZ25hbFNwZWMgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gdGhpcy5zaWduYWwoKS5wYXJzZShzaWduYWxTcGVjKTtcbiAgICAgICAgICAgIHNpZ25hbFNwZWMudmFsdWUgJiYgc2lnbmFsLnNldChzaWduYWxTcGVjLnZhbHVlKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLnBhcnNlTWFya1NwZWMoe1xuICAgICAgICAgICAgaWQ6IFwicm9vdFwiLFxuICAgICAgICAgICAgdHlwZTogXCJncm91cFwiLFxuICAgICAgICAgICAgZW5jb2RlOiB7XG4gICAgICAgICAgICAgICAgZW50ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IFwid2lkdGhcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogXCJoZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgdGhpcy5yb290TWFyayA9IHRoaXMuZ2V0TWFya0J5SWQoXCJyb290XCIpO1xuICAgIH1cbiAgICBwYXJzZU1hcmtTcGVjKHNwZWMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBtYXJrT3B0aW9ucyA9IHNwZWMudHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmdseXBoID8ge1xuICAgICAgICAgICAgZ2x5cGhUeXBlOiBzcGVjLmdseXBoVHlwZVxuICAgICAgICB9IDogc3BlYy50eXBlID09PSBHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50ID8ge1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogc3BlYy5jb21wb25lbnRUeXBlLFxuICAgICAgICAgICAgbW9kZTogc3BlYy5tb2RlXG4gICAgICAgIH0gOiBudWxsO1xuICAgICAgICB0aGlzLm1hcmsoc3BlYy50eXBlLCBzcGVjLmdyb3VwLCBtYXJrT3B0aW9ucykucGFyc2Uoc3BlYyksIG51bGwgPT09IChfYSA9IHNwZWMubWFya3MpIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2EuZm9yRWFjaCgoY2hpbGRTcGVjID0+IHtcbiAgICAgICAgICAgIHRoaXMucGFyc2VNYXJrU3BlYyhjaGlsZFNwZWMpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHRoZW1lKHRoZW1lKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBpc1N0cmluZyh0aGVtZSkgPyB0aGlzLl90aGVtZSA9IG51bGwgIT09IChfYSA9IFRoZW1lTWFuYWdlci5nZXRUaGVtZSh0aGVtZSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFRoZW1lTWFuYWdlci5nZXREZWZhdWx0VGhlbWUoKSA6IHRoaXMuX3RoZW1lID0gdGhlbWU7XG4gICAgICAgIGNvbnN0IHtiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLCBwYWRkaW5nOiBwYWRkaW5nfSA9IG51bGwgIT09IChfYiA9IHRoaXMuX3NwZWMpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhlbWUgPyAodGhpcy5iYWNrZ3JvdW5kKG51bGwgIT09IChfYyA9IG51bGwgIT0gYmFja2dyb3VuZCA/IGJhY2tncm91bmQgOiB0aGlzLl9vcHRpb25zLmJhY2tncm91bmQpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IHRoaXMuX3RoZW1lLmJhY2tncm91bmQpLCBcbiAgICAgICAgdGhpcy5wYWRkaW5nKG51bGwgIT09IChfZCA9IG51bGwgIT0gcGFkZGluZyA/IHBhZGRpbmcgOiB0aGlzLl9vcHRpb25zLnBhZGRpbmcpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IHRoaXMuX3RoZW1lLnBhZGRpbmcpLCBcbiAgICAgICAgbnVsbCA9PT0gKF9mID0gbnVsbCA9PT0gKF9lID0gdGhpcy5yZW5kZXJlci5zdGFnZSgpKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2Uuc2V0VGhlbWUpIHx8IHZvaWQgMCA9PT0gX2YgfHwgX2YuY2FsbChfZSwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fdGhlbWUubWFya3MpKSkgOiAodGhpcy5iYWNrZ3JvdW5kKG51bGwgIT0gYmFja2dyb3VuZCA/IGJhY2tncm91bmQgOiB0aGlzLl9vcHRpb25zLmJhY2tncm91bmQpLCBcbiAgICAgICAgdGhpcy5wYWRkaW5nKG51bGwgIT0gcGFkZGluZyA/IHBhZGRpbmcgOiB0aGlzLl9vcHRpb25zLnBhZGRpbmcpKSwgdGhpcztcbiAgICB9XG4gICAgZ2V0Q3VycmVudFRoZW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhlbWU7XG4gICAgfVxuICAgIHNldEN1cnJlbnRUaGVtZSh0aGVtZSwgcmVuZGVyID0gITApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbWUodGhlbWUpLCB0aGlzLmdyYW1tYXJzLmdldEFsbE1hcmtzKCkuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmNvbW1pdCgpO1xuICAgICAgICB9KSksIHJlbmRlciA/ICh0aGlzLmV2YWx1YXRlKCksIHRoaXMucmVuZGVyZXIucmVuZGVyKCEwKSkgOiB0aGlzLl9kYXRhZmxvdy5ldmFsdWF0ZSgpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgYmFja2dyb3VuZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0aGlzLl9iYWNrZ3JvdW5kID0gdmFsdWUsIHRoaXMucmVuZGVyZXIuYmFja2dyb3VuZCh2YWx1ZSksIFxuICAgICAgICB2YWx1ZSkgOiB0aGlzLl9iYWNrZ3JvdW5kO1xuICAgIH1cbiAgICB3aWR0aCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmdldFNpZ25hbEJ5SWQoU0lHTkFMX1dJRFRIKTtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodGhpcy5fb3B0aW9ucy53aWR0aCA9IHZhbHVlLCB0aGlzLnVwZGF0ZVNpZ25hbChzaWduYWwsIHZhbHVlKSwgXG4gICAgICAgIHZhbHVlKSA6IHNpZ25hbC5vdXRwdXQoKTtcbiAgICB9XG4gICAgaGVpZ2h0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuZ2V0U2lnbmFsQnlJZChTSUdOQUxfSEVJR0hUKTtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodGhpcy5fb3B0aW9ucy5oZWlnaHQgPSB2YWx1ZSwgdGhpcy51cGRhdGVTaWduYWwoc2lnbmFsLCB2YWx1ZSksIFxuICAgICAgICB2YWx1ZSkgOiBzaWduYWwub3V0cHV0KCk7XG4gICAgfVxuICAgIHZpZXdXaWR0aCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmdldFNpZ25hbEJ5SWQoU0lHTkFMX1ZJRVdfV0lEVEgpO1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMucGFkZGluZygpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2lkdGgodmFsdWUgKyBwYWRkaW5nLmxlZnQgKyBwYWRkaW5nLnJpZ2h0KSwgdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpZ25hbC5vdXRwdXQoKTtcbiAgICB9XG4gICAgdmlld0hlaWdodCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmdldFNpZ25hbEJ5SWQoU0lHTkFMX1ZJRVdfSEVJR0hUKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLnBhZGRpbmcoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlaWdodCh2YWx1ZSArIHBhZGRpbmcudG9wICsgcGFkZGluZy5ib3R0b20pLCB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2lnbmFsLm91dHB1dCgpO1xuICAgIH1cbiAgICBwYWRkaW5nKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuZ2V0U2lnbmFsQnlJZChTSUdOQUxfUEFERElORyk7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gbm9ybWFsaXplUGFkZGluZyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVTaWduYWwoc2lnbmFsLCBwYWRkaW5nKSwgcGFkZGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplUGFkZGluZyhzaWduYWwub3V0cHV0KCkpO1xuICAgIH1cbiAgICBhdXRvRml0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuZ2V0U2lnbmFsQnlJZChTSUdOQUxfQVVUT0ZJVCk7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHRoaXMudXBkYXRlU2lnbmFsKHNpZ25hbCwgdmFsdWUpLCB2YWx1ZSkgOiBzaWduYWwub3V0cHV0KCk7XG4gICAgfVxuICAgIGdldFZpZXdCb3goKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuZ2V0U2lnbmFsQnlJZChTSUdOQUxfVklFV19CT1gpO1xuICAgICAgICByZXR1cm4gbnVsbCA9PSBzaWduYWwgPyB2b2lkIDAgOiBzaWduYWwub3V0cHV0KCk7XG4gICAgfVxuICAgIHVwZGF0ZUxheW91dFRhZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xheW91dFN0YXRlID0gTGF5b3V0U3RhdGUuYmVmb3JlLCB0aGlzO1xuICAgIH1cbiAgICBnZXRMYXlvdXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xheW91dFN0YXRlO1xuICAgIH1cbiAgICBidWlsZExheW91dFRyZWUoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtNYXAgPSB7fSwgcm9vdE1hcmtzID0gW107XG4gICAgICAgIHRoaXMudHJhdmVyc2VNYXJrVHJlZSgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrTWFwW21hcmsuaWQoKV0gPSAhMCwgbWFyay5ncm91cCAmJiBtYXJrTWFwW21hcmsuZ3JvdXAuaWQoKV0gfHwgcm9vdE1hcmtzLnB1c2gobWFyayksIFxuICAgICAgICAgICAgbWFyay5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwICYmIG1hcmsudXBkYXRlTGF5b3V0Q2hpbGRyZW4oKTtcbiAgICAgICAgfSksIChtYXJrID0+IG1hcmsubmVlZExheW91dCgpKSksIHRoaXMuX2xheW91dE1hcmtzID0gcm9vdE1hcmtzO1xuICAgIH1cbiAgICBkb0xheW91dCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkb0xheW91dCA9IHRoaXMuX29wdGlvbnMuZG9MYXlvdXQgfHwgRmFjdG9yeS5nZXREZWZhdWx0TGF5b3V0KCk7XG4gICAgICAgIGRvTGF5b3V0ICYmIChudWxsID09PSAoX2EgPSB0aGlzLl9sYXlvdXRNYXJrcykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgJiYgKHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9ET19MQVlPVVQpLCBcbiAgICAgICAgZG9MYXlvdXQodGhpcy5fbGF5b3V0TWFya3MsIHRoaXMuX29wdGlvbnMsIHRoaXMpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9ET19MQVlPVVQpKTtcbiAgICB9XG4gICAgaGFuZGxlTGF5b3V0RW5kKCkge1xuICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfTUFSS19MQVlPVVRfRU5EKSwgdGhpcy5fbGF5b3V0TWFya3MuZm9yRWFjaCgobGF5b3V0TWFyayA9PiB7XG4gICAgICAgICAgICB0cmF2ZXJzZU1hcmtUcmVlKGxheW91dE1hcmssIFwibGF5b3V0Q2hpbGRyZW5cIiwgKG1hcmsgPT4ge1xuICAgICAgICAgICAgICAgIG1hcmsuaGFuZGxlTGF5b3V0RW5kKCk7XG4gICAgICAgICAgICB9KSwgKG1hcmsgPT4gbWFyayAhPT0gbGF5b3V0TWFyaykpO1xuICAgICAgICB9KSksIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfTEFZT1VUX0VORCk7XG4gICAgfVxuICAgIGhhbmRsZVJlbmRlckVuZCgpIHtcbiAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX01BUktfUkVOREVSX0VORCksIHRyYXZlcnNlTWFya1RyZWUodGhpcy5yb290TWFyaywgXCJjaGlsZHJlblwiLCAobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmhhbmRsZVJlbmRlckVuZCgpO1xuICAgICAgICB9KSksIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfUkVOREVSX0VORCk7XG4gICAgfVxuICAgIGNvbW1pdChncmFtbWFyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhZmxvdy5jb21taXQoZ3JhbW1hciksIHRoaXM7XG4gICAgfVxuICAgIHJ1bihydW5uaW5nQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2YWx1YXRlKHJ1bm5pbmdDb25maWcpLCB0aGlzO1xuICAgIH1cbiAgICBkb1JlbmRlcihpbW1lZGlhdGVseSkge1xuICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRE9fUkVOREVSKSwgdGhpcy5yZW5kZXJlciAmJiAoIXRoaXMuX3Byb2dyZXNzaXZlTWFya3MgJiYgdGhpcy5hbmltYXRlID8gdGhpcy5hbmltYXRlLmFuaW1hdGUoKSA6IHRoaXMudHJhdmVyc2VNYXJrVHJlZSgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmNsZWFuRXhpdEVsZW1lbnRzKCk7XG4gICAgICAgIH0pLCBudWxsLCAhMCksIHRoaXMucmVuZGVyZXIucmVuZGVyKGltbWVkaWF0ZWx5KSwgdGhpcy5oYW5kbGVSZW5kZXJFbmQoKSksIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX0RPX1JFTkRFUik7XG4gICAgfVxuICAgIGV2YWx1YXRlKHJ1bm5pbmdDb25maWcpIHtcbiAgICAgICAgdmFyIF9hLCBfYztcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJ1bm5pbmdDb25maWcgPSBub3JtYWxpemVSdW5uaW5nQ29uZmlnKHJ1bm5pbmdDb25maWcpLCBncmFtbWFyV2lsbERldGFjaCA9IHRoaXMuX2NhY2hlZEdyYW1tYXJzLnNpemUoKSA+IDA7XG4gICAgICAgIGdyYW1tYXJXaWxsRGV0YWNoICYmICh0aGlzLnJldXNlQ2FjaGVkR3JhbW1hcnMobm9ybWFsaXplZFJ1bm5pbmdDb25maWcpLCB0aGlzLmRldGFjaENhY2hlZEdyYW1tYXIoKSk7XG4gICAgICAgIGNvbnN0IGhhc1Jlc2l6ZSA9IHRoaXMuX3Jlc2l6ZVJlbmRlcmVyKCksIGhhc1VwZGF0ZSA9IHRoaXMuX2RhdGFmbG93Lmhhc0NvbW1pdHRlZCgpO1xuICAgICAgICByZXR1cm4gZ3JhbW1hcldpbGxEZXRhY2ggfHwgaGFzVXBkYXRlIHx8IHRoaXMuX2xheW91dFN0YXRlIHx8IGhhc1Jlc2l6ZSA/ICh0aGlzLmNsZWFyUHJvZ3Jlc3NpdmUoKSwgXG4gICAgICAgIHRoaXMuX2RhdGFmbG93LmV2YWx1YXRlKCksIHRoaXMuX25lZWRCdWlsZExheW91dFRyZWUgJiYgKHRoaXMuYnVpbGRMYXlvdXRUcmVlKCksIFxuICAgICAgICB0aGlzLl9uZWVkQnVpbGRMYXlvdXRUcmVlID0gITEpLCB0aGlzLl9sYXlvdXRTdGF0ZSAmJiAodGhpcy5fbGF5b3V0U3RhdGUgPSBMYXlvdXRTdGF0ZS5sYXlvdXRpbmcsIFxuICAgICAgICB0aGlzLmRvTGF5b3V0KCksIHRoaXMuX2RhdGFmbG93Lmhhc0NvbW1pdHRlZCgpICYmICh0aGlzLl9sYXlvdXRTdGF0ZSA9IExheW91dFN0YXRlLnJlZXZhbHVhdGUsIFxuICAgICAgICB0aGlzLl9kYXRhZmxvdy5ldmFsdWF0ZSgpKSwgdGhpcy5fbGF5b3V0U3RhdGUgPSBMYXlvdXRTdGF0ZS5hZnRlciwgKG51bGwgPT09IChfYSA9IHRoaXMuX2xheW91dE1hcmtzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubGVuZ3RoKSAmJiB0aGlzLmhhbmRsZUxheW91dEVuZCgpKSwgXG4gICAgICAgIHRoaXMuX2xheW91dFN0YXRlID0gbnVsbCwgdGhpcy5maW5kUHJvZ3Jlc3NpdmVNYXJrcygpLCB0aGlzLl9yZXNpemVSZW5kZXJlcigpLCBudWxsID09PSAoX2MgPSB0aGlzLm1vcnBoKSB8fCB2b2lkIDAgPT09IF9jIHx8IF9jLmNhbGwodGhpcywgbm9ybWFsaXplZFJ1bm5pbmdDb25maWcpLCBcbiAgICAgICAgdGhpcy5yZWxlYXNlQ2FjaGVkR3JhbW1hcnMobm9ybWFsaXplZFJ1bm5pbmdDb25maWcpLCB0aGlzLmRvUmVuZGVyKCEwKSwgdGhpcy5kb1ByZVByb2dyZXNzaXZlKCksIFxuICAgICAgICB0aGlzKSA6IHRoaXM7XG4gICAgfVxuICAgIHJldXNlQ2FjaGVkR3JhbW1hcnMocnVubmluZ0NvbmZpZykge1xuICAgICAgICBpZiAocnVubmluZ0NvbmZpZy5yZXVzZSkge1xuICAgICAgICAgICAgY29uc3QgcmV1c2VEaWZmVXBkYXRlID0gZGlmZiA9PiB7XG4gICAgICAgICAgICAgICAgZGlmZi5uZXh0LnJldXNlKGRpZmYucHJldiksIGRpZmYucHJldi5kZXRhY2hBbGwoKSwgZGlmZi5wcmV2LmNsZWFyKCksIHRoaXMuX2NhY2hlZEdyYW1tYXJzLnVucmVjb3JkKGRpZmYucHJldik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fZGlmZmVyLmRpZmZHcmFtbWFyKHRoaXMuX2NhY2hlZEdyYW1tYXJzLmdldEFsbFNpZ25hbHMoKSwgdGhpcy5ncmFtbWFycy5nZXRBbGxTaWduYWxzKCkuZmlsdGVyKChzaWduYWwgPT4gIUJ1aWx0SW5TaWduYWxJRC5pbmNsdWRlcyhzaWduYWwuaWQoKSkpKSkudXBkYXRlLmZvckVhY2gocmV1c2VEaWZmVXBkYXRlKTtcbiAgICAgICAgICAgIHRoaXMuX2RpZmZlci5kaWZmR3JhbW1hcih0aGlzLl9jYWNoZWRHcmFtbWFycy5nZXRBbGxEYXRhKCksIHRoaXMuZ3JhbW1hcnMuZ2V0QWxsRGF0YSgpKS51cGRhdGUuZm9yRWFjaChyZXVzZURpZmZVcGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5fZGlmZmVyLmRpZmZHcmFtbWFyKHRoaXMuX2NhY2hlZEdyYW1tYXJzLmdldEFsbFNjYWxlcygpLCB0aGlzLmdyYW1tYXJzLmdldEFsbFNjYWxlcygpKS51cGRhdGUuZm9yRWFjaChyZXVzZURpZmZVcGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5fZGlmZmVyLmRpZmZHcmFtbWFyKHRoaXMuX2NhY2hlZEdyYW1tYXJzLmdldEFsbENvb3JkaW5hdGVzKCksIHRoaXMuZ3JhbW1hcnMuZ2V0QWxsQ29vcmRpbmF0ZXMoKSkudXBkYXRlLmZvckVhY2gocmV1c2VEaWZmVXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaWZmZXIuZGlmZk1hcmsodGhpcy5fY2FjaGVkR3JhbW1hcnMuZ2V0QWxsTWFya3MoKSwgdGhpcy5ncmFtbWFycy5nZXRBbGxNYXJrcygpLmZpbHRlcigobWFyayA9PiBcInJvb3RcIiAhPT0gbWFyay5pZCgpKSksIHJ1bm5pbmdDb25maWcpLnVwZGF0ZS5mb3JFYWNoKChkaWZmID0+IHtcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWQgPSAxID09PSBkaWZmLnByZXYubGVuZ3RoICYmIDEgPT09IGRpZmYubmV4dC5sZW5ndGggJiYgZGlmZi5wcmV2WzBdLm1hcmtUeXBlID09PSBkaWZmLm5leHRbMF0ubWFya1R5cGUsIGVuYWJsZU1hcmtNb3JwaENvbmZpZyA9IGRpZmYucHJldi5ldmVyeSgobWFyayA9PiBtYXJrLmdldE1vcnBoQ29uZmlnKCkubW9ycGgpKSAmJiBkaWZmLm5leHQuZXZlcnkoKG1hcmsgPT4gbWFyay5nZXRNb3JwaENvbmZpZygpLm1vcnBoKSk7XG4gICAgICAgICAgICB0aGlzLm1vcnBoICYmIChydW5uaW5nQ29uZmlnLm1vcnBoICYmIGVuYWJsZU1hcmtNb3JwaENvbmZpZyB8fCBydW5uaW5nQ29uZmlnLm1vcnBoQWxsKSA/IG51bGwgPT09IChfYiA9IHRoaXMuYWRkTW9ycGhNYXJrcykgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgICAgICBwcmV2OiBkaWZmLnByZXYsXG4gICAgICAgICAgICAgICAgbmV4dDogZGlmZi5uZXh0XG4gICAgICAgICAgICB9KSA6IG1hdGNoZWQgJiYgcnVubmluZ0NvbmZpZy5yZXVzZSAmJiAoZGlmZi5uZXh0WzBdLnJldXNlKGRpZmYucHJldlswXSksIGRpZmYucHJldlswXS5kZXRhY2hBbGwoKSwgXG4gICAgICAgICAgICBkaWZmLnByZXZbMF0uY2xlYXIoKSwgdGhpcy5fY2FjaGVkR3JhbW1hcnMudW5yZWNvcmQoZGlmZi5wcmV2WzBdKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZGV0YWNoQ2FjaGVkR3JhbW1hcigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkR3JhbW1hcnMudHJhdmVyc2UoKGdyYW1tYXIgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmIChncmFtbWFyLmRldGFjaEFsbCgpLCBcIm1hcmtcIiA9PT0gZ3JhbW1hci5ncmFtbWFyVHlwZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmsgPSBncmFtbWFyO1xuICAgICAgICAgICAgICAgIG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IG1hcmsuZ3JvdXApIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hLCBtYXJrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZWxlYXNlQ2FjaGVkR3JhbW1hcnMocnVubmluZ0NvbmZpZykge1xuICAgICAgICB0aGlzLl9jYWNoZWRHcmFtbWFycy50cmF2ZXJzZSgoZ3JhbW1hciA9PiB7XG4gICAgICAgICAgICBcIm1hcmtcIiAhPT0gZ3JhbW1hci5ncmFtbWFyVHlwZSAmJiBncmFtbWFyLnJlbGVhc2UoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBtYXJrTm9kZXMgPSB0aGlzLl9jYWNoZWRHcmFtbWFycy5nZXRBbGxNYXJrTm9kZXMoKTtcbiAgICAgICAgbWFya05vZGVzLmZvckVhY2goKG5vZGUgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgbnVsbCA9PT0gKF9hID0gbm9kZS5tYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2Euc3RvcCgpLCBydW5uaW5nQ29uZmlnLmVuYWJsZUV4aXRBbmltYXRpb24gJiYgdGhpcy5hbmltYXRlICYmIHRoaXMuYW5pbWF0ZS5hbmltYXRlQWRkaXRpb24obm9kZS5tYXJrKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCByZWxlYXNlVXAgPSBub2RlID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlLm1hcmsudmlldyAmJiAoIW5vZGUubWFyay5hbmltYXRlIHx8IDAgPT09IG5vZGUubWFyay5hbmltYXRlLmdldEFuaW1hdG9yQ291bnQoKSkgJiYgKCFub2RlLmNoaWxkcmVuIHx8IDAgPT09IG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIG5vZGUubWFyay5yZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgcGFyZW50ICYmIChub2RlLnBhcmVudC5jaGlsZHJlbiA9IG5vZGUucGFyZW50LmNoaWxkcmVuLmZpbHRlcigobiA9PiBuICE9PSBub2RlKSksIFxuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50ID0gbnVsbCwgcmVsZWFzZVVwKHBhcmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtYXJrTm9kZXMuZm9yRWFjaCgobm9kZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXJrID0gbm9kZS5tYXJrO1xuICAgICAgICAgICAgbWFyay5hbmltYXRlICYmIDAgIT09IG1hcmsuYW5pbWF0ZS5nZXRBbmltYXRvckNvdW50KCkgPyBtYXJrLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25FbmRcIiwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrLmFuaW1hdGUgJiYgMCA9PT0gbWFyay5hbmltYXRlLmdldEFuaW1hdG9yQ291bnQoKSAmJiByZWxlYXNlVXAobm9kZSk7XG4gICAgICAgICAgICB9KSkgOiByZWxlYXNlVXAobm9kZSk7XG4gICAgICAgIH0pKSwgdGhpcy5fY2FjaGVkR3JhbW1hcnMuY2xlYXIoKTtcbiAgICB9XG4gICAgcnVuQWZ0ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFmbG93LnJ1bkFmdGVyKCgoKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKG51bGwsIHRoaXMpO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIHJ1bkJlZm9yZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YWZsb3cucnVuQmVmb3JlKCgoKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKG51bGwsIHRoaXMpO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIGdldEltYWdlQnVmZmVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoXCJub2RlXCIgIT09IHRoaXMuX29wdGlvbnMubW9kZSkgcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IobmV3IFR5cGVFcnJvcihcImdldEltYWdlQnVmZmVyKCkgbm93IG9ubHkgc3VwcG9ydCBub2RlIGVudmlyb25tZW50LlwiKSk7XG4gICAgICAgIGNvbnN0IHN0YWdlID0gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy5yZW5kZXJlcikgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnN0YWdlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIGlmIChzdGFnZSkge1xuICAgICAgICAgICAgc3RhZ2UucmVuZGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gc3RhZ2Uud2luZG93LmdldEltYWdlQnVmZmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKG5ldyBSZWZlcmVuY2VFcnJvcihcInJlbmRlciBpcyBub3QgZGVmaW5lZFwiKSksIG51bGw7XG4gICAgfVxuICAgIHRyYXZlcnNlTWFya1RyZWUoYXBwbHksIGZpbHRlciwgbGVhZkZpcnN0KSB7XG4gICAgICAgIHJldHVybiB0cmF2ZXJzZU1hcmtUcmVlKHRoaXMucm9vdE1hcmssIFwiY2hpbGRyZW5cIiwgYXBwbHksIGZpbHRlciwgbGVhZkZpcnN0KSwgdGhpcztcbiAgICB9XG4gICAgX2JpbmRSZXNpemVFdmVudCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIGlmICh0aGlzLmF1dG9GaXQoKSkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gbnVsbCA9PT0gKF9lID0gbnVsbCA9PT0gKF9kID0gbnVsbCA9PT0gKF9jID0gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy5yZW5kZXJlcikgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnN0YWdlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChfYSkpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy53aW5kb3cpIHx8IHZvaWQgMCA9PT0gX2QgPyB2b2lkIDAgOiBfZC5nZXRDb250YWluZXIpIHx8IHZvaWQgMCA9PT0gX2UgPyB2b2lkIDAgOiBfZS5jYWxsKF9kKTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBSZXNpemVPYnNlcnZlcldpbmRvdyA9IHdpbmRvdy5SZXNpemVPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICB0aGlzLl9vYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcldpbmRvdyh0aGlzLl9vblJlc2l6ZSksIG51bGwgPT09IChfZiA9IHRoaXMuX29ic2VydmVyKSB8fCB2b2lkIDAgPT09IF9mIHx8IF9mLm9ic2VydmUoY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMuX29uUmVzaXplKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfdW5CaW5kUmVzaXplRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuYXV0b0ZpdCgpICYmICh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLl9vblJlc2l6ZSksIHRoaXMuX29ic2VydmVyICYmICh0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCksIFxuICAgICAgICB0aGlzLl9vYnNlcnZlciA9IG51bGwpKTtcbiAgICB9XG4gICAgX2dldENvbnRhaW5lclNpemUoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG51bGwgPT09IChfZSA9IG51bGwgPT09IChfZCA9IG51bGwgPT09IChfYyA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMucmVuZGVyZXIpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zdGFnZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2Mud2luZG93KSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2QuZ2V0Q29udGFpbmVyKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2UuY2FsbChfZCk7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aDogY29udGFpbmVyV2lkdGgsIGhlaWdodDogY29udGFpbmVySGVpZ2h0fSA9IGdldENvbnRhaW5lclNpemUoY29udGFpbmVyKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG51bGwgIT09IChfaCA9IG51bGwgIT09IChfZyA9IG51bGwgPT09IChfZiA9IHRoaXMuX3NwZWMpIHx8IHZvaWQgMCA9PT0gX2YgPyB2b2lkIDAgOiBfZi53aWR0aCkgJiYgdm9pZCAwICE9PSBfZyA/IF9nIDogdGhpcy5fb3B0aW9ucy53aWR0aCkgJiYgdm9pZCAwICE9PSBfaCA/IF9oIDogY29udGFpbmVyV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBudWxsICE9PSAoX2wgPSBudWxsICE9PSAoX2sgPSBudWxsID09PSAoX2ogPSB0aGlzLl9zcGVjKSB8fCB2b2lkIDAgPT09IF9qID8gdm9pZCAwIDogX2ouaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9rID8gX2sgOiB0aGlzLl9vcHRpb25zLmhlaWdodCkgJiYgdm9pZCAwICE9PSBfbCA/IF9sIDogY29udGFpbmVySGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXNpemUod2lkdGgsIGhlaWdodCwgcmVuZGVyID0gITApIHtcbiAgICAgICAgbGV0IG5lZWREYXRhZmxvdyA9ICExO1xuICAgICAgICByZXR1cm4gd2lkdGggIT09IHRoaXMud2lkdGgoKSAmJiAobmVlZERhdGFmbG93ID0gITAsIHRoaXMudXBkYXRlU2lnbmFsKFNJR05BTF9XSURUSCwgd2lkdGgpKSwgXG4gICAgICAgIGhlaWdodCAhPT0gdGhpcy5oZWlnaHQoKSAmJiAobmVlZERhdGFmbG93ID0gITAsIHRoaXMudXBkYXRlU2lnbmFsKFNJR05BTF9IRUlHSFQsIGhlaWdodCkpLCBcbiAgICAgICAgbmVlZERhdGFmbG93ICYmIChyZW5kZXIgPyB0aGlzLmV2YWx1YXRlKHtcbiAgICAgICAgICAgIG1vcnBoOiAhMVxuICAgICAgICB9KSA6IHRoaXMuX2RhdGFmbG93LmV2YWx1YXRlKCkpLCB0aGlzO1xuICAgIH1cbiAgICBfcmVzaXplUmVuZGVyZXIoKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aCgpLCBoZWlnaHQgPSB0aGlzLmhlaWdodCgpO1xuICAgICAgICByZXR1cm4gISF0aGlzLnJlbmRlcmVyLnNob3VsZFJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSAmJiAodGhpcy5yZW5kZXJlci5yZXNpemUod2lkdGgsIGhlaWdodCksIFxuICAgICAgICB0aGlzLmVtaXQoXCJyZXNpemVcIiwge30sIHtcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgIH0pLCAhMCk7XG4gICAgfVxuICAgIGludGVyYWN0aW9uKHR5cGUsIHNwZWMpIHtcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBGYWN0b3J5LmNyZWF0ZUludGVyYWN0aW9uKHR5cGUsIHRoaXMsIHNwZWMpO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb24gJiYgKGludGVyYWN0aW9uLmJpbmQoKSwgdGhpcy5fYm91bmRJbnRlcmFjdGlvbnMgfHwgKHRoaXMuX2JvdW5kSW50ZXJhY3Rpb25zID0gW10pLCBcbiAgICAgICAgdGhpcy5fYm91bmRJbnRlcmFjdGlvbnMucHVzaChpbnRlcmFjdGlvbikpLCBpbnRlcmFjdGlvbjtcbiAgICB9XG4gICAgcmVtb3ZlSW50ZXJhY3Rpb24odHlwZSwgaWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kSW50ZXJhY3Rpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZXMgPSB0aGlzLl9ib3VuZEludGVyYWN0aW9ucy5maWx0ZXIoKGludGVyYWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTmlsKGlkKSA/IGlzU3RyaW5nKHR5cGUpID8gaW50ZXJhY3Rpb24udHlwZSA9PT0gdHlwZSA6IHR5cGUgPyBpbnRlcmFjdGlvbiA9PT0gdHlwZSA6IHZvaWQgMCA6IChudWxsID09PSAoX2EgPSBpbnRlcmFjdGlvbi5vcHRpb25zKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuaWQpID09PSBpZDtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGluc3RhbmNlcy5sZW5ndGggJiYgaW5zdGFuY2VzLmZvckVhY2goKGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS51bmJpbmQoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVtb3ZlQWxsSW50ZXJhY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRJbnRlcmFjdGlvbnMgJiYgKHRoaXMuX2JvdW5kSW50ZXJhY3Rpb25zLmZvckVhY2goKGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgIGluc3RhbmNlLnVuYmluZCgpO1xuICAgICAgICB9KSksIHRoaXMuX2JvdW5kSW50ZXJhY3Rpb25zID0gbnVsbCksIHRoaXM7XG4gICAgfVxuICAgIGluaXRpYWxpemVFdmVudENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzQ29uZmlnID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBkZWZhdWx0czoge31cbiAgICAgICAgfSwgY29uZmlnKSwgdW5wYWNrID0gKG9iaiwga2V5cykgPT4ge1xuICAgICAgICAgICAga2V5cy5mb3JFYWNoKChrID0+IHtcbiAgICAgICAgICAgICAgICBpc0FycmF5KG9ialtrXSkgJiYgKG9ialtrXSA9IG9ialtrXS5yZWR1Y2UoKChzZXQsIGtleSkgPT4gKHNldFtrZXldID0gITAsIHNldCkpLCB7fSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdW5wYWNrKGV2ZW50c0NvbmZpZy5kZWZhdWx0cywgWyBcInByZXZlbnRcIiwgXCJhbGxvd1wiIF0pLCB1bnBhY2soZXZlbnRzQ29uZmlnLCBbIEVWRU5UX1NPVVJDRV9WSUVXLCBFVkVOVF9TT1VSQ0VfV0lORE9XIF0pLCBcbiAgICAgICAgZXZlbnRzQ29uZmlnO1xuICAgIH1cbiAgICBpbml0RXZlbnQoKSB7XG4gICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy5yZW5kZXJlci5zdGFnZSgpO1xuICAgICAgICBzdGFnZSAmJiBzdGFnZS5vbihcIipcIiwgdGhpcy5kZWxlZ2F0ZUV2ZW50KTtcbiAgICB9XG4gICAgcmVsZWFzZVN0YWdlRXZlbnQoKSB7XG4gICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy5yZW5kZXJlci5zdGFnZSgpO1xuICAgICAgICBzdGFnZSAmJiBzdGFnZS5vZmYoXCIqXCIsIHRoaXMuZGVsZWdhdGVFdmVudCk7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICBsZXQgY2FsbGJhY2sgPSBoYW5kbGVyO1xuICAgICAgICByZXR1cm4gb3B0aW9ucyAmJiAhMSA9PT0gb3B0aW9ucy50cmFwIHx8IChjYWxsYmFjayA9IGhhbmRsZXIsIGNhbGxiYWNrLnJhdyA9IGhhbmRsZXIpLCBcbiAgICAgICAgb3B0aW9ucyAmJiBvcHRpb25zLnRhcmdldCAmJiAoY2FsbGJhY2sudGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQpLCB0aGlzLm9uKHR5cGUsIGNhbGxiYWNrKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlciA/IHRoaXMub2ZmKHR5cGUsIGhhbmRsZXIpIDogdGhpcy5vZmYodHlwZSksIHRoaXM7XG4gICAgfVxuICAgIGluaXRpYWxpemVSZW5kZXJlcigpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9vcHRpb25zLndpZHRoLCBoZWlnaHQgPSB0aGlzLl9vcHRpb25zLmhlaWdodDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBDYW52YXNSZW5kZXJlcih0aGlzKSwgdGhpcy5yZW5kZXJlci5pbml0aWFsaXplKHdpZHRoLCBoZWlnaHQsIHRoaXMuX29wdGlvbnMsIHRoaXMuX2V2ZW50Q29uZmlnKS5iYWNrZ3JvdW5kKHRoaXMuX2JhY2tncm91bmQpO1xuICAgIH1cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICB2YXIgX2EsIF9jO1xuICAgICAgICB0aGlzLmdyYW1tYXJzID0gbmV3IFJlY29yZGVkR3JhbW1hcnMoKGdyYW1tYXIgPT4gZ3JhbW1hci5pZCgpKSwgKChrZXksIGdyYW1tYXIpID0+IHRoaXMubG9nZ2VyLndhcm4oYEdyYW1tYXIgaWQgJyR7a2V5fScgaGFzIGJlZW4gb2NjdXBpZWRgLCBncmFtbWFyKSkpLCBcbiAgICAgICAgdGhpcy5fY2FjaGVkR3JhbW1hcnMgPSBuZXcgUmVjb3JkZWRUcmVlR3JhbW1hcnMoKGdyYW1tYXIgPT4gZ3JhbW1hci5pZCgpKSksIHRoaXMuX29wdGlvbnMubG9nZ2VyICYmIExvZ2dlci5zZXRJbnN0YW5jZSh0aGlzLl9vcHRpb25zLmxvZ2dlciksIFxuICAgICAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZShudWxsICE9PSAoX2EgPSB0aGlzLl9vcHRpb25zLmxvZ0xldmVsKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwKSwgXG4gICAgICAgIHRoaXMuX2RhdGFmbG93ID0gbmV3IERhdGFmbG93LCB0aGlzLmFuaW1hdGUgPSBudWxsID09PSAoX2MgPSB0aGlzLmluaXRBbmltYXRlKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuY2FsbCh0aGlzLCB0aGlzKSwgXG4gICAgICAgIHRoaXMuX2RpZmZlciA9IG5ldyBWaWV3RGlmZiwgdGhpcy5fb3B0aW9ucy5ob29rcyAmJiAoT2JqZWN0LmtleXModGhpcy5fb3B0aW9ucy5ob29rcykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIHRoaXMub24oa2V5LCB0aGlzLl9vcHRpb25zLmhvb2tzW2tleV0pO1xuICAgICAgICB9KSksIHRoaXMuaG9va3MgPSB0aGlzLl9vcHRpb25zLmhvb2tzKSwgdGhpcy5jb250YWluZXIgPSBudWxsLCB0aGlzLnJlbmRlcmVyID0gbnVsbCwgXG4gICAgICAgIHRoaXMuX2V2ZW50TGlzdGVuZXJzID0gW10sIHRoaXMuX2V2ZW50Q29uZmlnID0gdGhpcy5pbml0aWFsaXplRXZlbnRDb25maWcodGhpcy5fb3B0aW9ucy5ldmVudENvbmZpZyksIFxuICAgICAgICB0aGlzLl90aGVtZSA9IHRoaXMuX29wdGlvbnMuZGlzYWJsZVRoZW1lID8gbnVsbCA6IFRoZW1lTWFuYWdlci5nZXREZWZhdWx0VGhlbWUoKSwgXG4gICAgICAgIHRoaXMucGFyc2VCdWlsdEluKCksIGNvbmZpZ3VyZUVudmlyb25tZW50KHRoaXMuX29wdGlvbnMpLCB0aGlzLmluaXRpYWxpemVSZW5kZXJlcigpLCBcbiAgICAgICAgdGhpcy5fZXZlbnRDb25maWcuZGlzYWJsZSB8fCB0aGlzLmluaXRFdmVudCgpLCB0aGlzLl9iaW5kUmVzaXplRXZlbnQoKSwgdGhpcy5fbmVlZEJ1aWxkTGF5b3V0VHJlZSA9ICEwLCBcbiAgICAgICAgdGhpcy5fbGF5b3V0U3RhdGUgPSBMYXlvdXRTdGF0ZS5iZWZvcmUsIHRoaXMudGhlbWUodGhpcy5fdGhlbWUpO1xuICAgIH1cbiAgICBwYXVzZVByb2dyZXNzaXZlKCkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHJlc3VtZVByb2dyZXNzaXZlKCkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHJlc3RhcnRQcm9ncmVzc2l2ZSgpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmaW5kUHJvZ3Jlc3NpdmVNYXJrcygpIHtcbiAgICAgICAgY29uc3QgbWFya3MgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhdmVyc2VNYXJrVHJlZSgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrcy5wdXNoKG1hcmspO1xuICAgICAgICB9KSwgKG1hcmsgPT4gbWFyay5tYXJrVHlwZSAhPT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwICYmIG1hcmsuaXNQcm9ncmVzc2l2ZSgpKSksIFxuICAgICAgICBtYXJrcy5sZW5ndGggPyAodGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcyA9IG1hcmtzLCB0aGlzLnJlbmRlcmVyICYmIHRoaXMucmVuZGVyZXIuY29tYmluZUluY3JlbWVudGFsTGF5ZXJzKCksIFxuICAgICAgICBtYXJrcykgOiAodGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcyA9IG51bGwsIG51bGwpO1xuICAgIH1cbiAgICBkb1ByZVByb2dyZXNzaXZlKCkge1xuICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcyAmJiB0aGlzLl9wcm9ncmVzc2l2ZU1hcmtzLnNvbWUoKG1hcmsgPT4gbWFyay5pc0RvaW5nUHJvZ3Jlc3NpdmUoKSkpKSB7XG4gICAgICAgICAgICBjb25zdCByYWYgPSB2Z2xvYmFsLmdldFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NpdmVSYWZJZCA9IHJhZih0aGlzLmhhbmRsZVByb2dyZXNzaXZlRnJhbWUpO1xuICAgICAgICB9IGVsc2UgdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcyAmJiB0aGlzLmFuaW1hdGUgJiYgdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcy5ldmVyeSgobWFyayA9PiBtYXJrLmNhbkFuaW1hdGVBZnRlclByb2dyZXNzaXZlKCkpKSA/IHRoaXMuYW5pbWF0ZS5hbmltYXRlKCkgOiB0aGlzLl9wcm9ncmVzc2l2ZU1hcmtzICYmICh0aGlzLl9wcm9ncmVzc2l2ZU1hcmtzID0gbnVsbCk7XG4gICAgfVxuICAgIGNsZWFyUHJvZ3Jlc3NpdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc2l2ZVJhZklkKSB7XG4gICAgICAgICAgICB2Z2xvYmFsLmdldENhbmNlbEFuaW1hdGlvbkZyYW1lKCkodGhpcy5fcHJvZ3Jlc3NpdmVSYWZJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcyAmJiB0aGlzLl9wcm9ncmVzc2l2ZU1hcmtzLmxlbmd0aCAmJiAodGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcy5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgICAgICBlbnRyeS5jbGVhclByb2dyZXNzaXZlKCk7XG4gICAgICAgIH0pKSwgdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcyA9IG51bGwpO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsSW50ZXJhY3Rpb25zKCksIHRoaXMucmVsZWFzZVN0YWdlRXZlbnQoKSwgdGhpcy5fdW5CaW5kUmVzaXplRXZlbnQoKSwgXG4gICAgICAgIHRoaXMuY2xlYXJQcm9ncmVzc2l2ZSgpLCBGYWN0b3J5LnVucmVnaXN0ZXJSdW50aW1lVHJhbnNmb3JtcygpLCBMb2dnZXIuc2V0SW5zdGFuY2UobnVsbCksIFxuICAgICAgICBudWxsID09PSAoX2EgPSB0aGlzLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2Euc3RvcCgpLCB0aGlzLmdyYW1tYXJzLnJlbGVhc2UoKSwgXG4gICAgICAgIHRoaXMuX2NhY2hlZEdyYW1tYXJzLnJlbGVhc2UoKSwgdGhpcy5fZGF0YWZsb3cucmVsZWFzZSgpLCB0aGlzLl9kYXRhZmxvdyA9IG51bGwsIFxuICAgICAgICBudWxsID09PSAoX2MgPSBudWxsID09PSAoX2IgPSB0aGlzLnJlbmRlcmVyKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IucmVsZWFzZSkgfHwgdm9pZCAwID09PSBfYyB8fCBfYy5jYWxsKF9iKSwgXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsLCB0aGlzLl9ib3VuZEludGVyYWN0aW9ucyA9IG51bGwsIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksIFxuICAgICAgICBudWxsID09PSAoX2QgPSB0aGlzLl9ldmVudExpc3RlbmVycykgfHwgdm9pZCAwID09PSBfZCB8fCBfZC5mb3JFYWNoKChsaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICBsaXN0ZW5lci5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihsaXN0ZW5lci50eXBlLCBsaXN0ZW5lci5oYW5kbGVyKTtcbiAgICAgICAgfSkpLCB0aGlzLl9ldmVudExpc3RlbmVycyA9IG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/View.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/animate.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/animate.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewAnimate: () => (/* binding */ ViewAnimate)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\nclass ViewAnimate {\n    constructor(view) {\n        this._animations = [], this._additionalAnimateMarks = [], this.isEnabled = !0, this._onAnimationStart = event => {\n            this._additionalAnimateMarks = this._additionalAnimateMarks.filter((mark => {\n                var _a;\n                return null === (_a = null == mark ? void 0 : mark.animate) || void 0 === _a ? void 0 : _a.isAnimating();\n            })), 0 === this._animations.length && 0 === this._additionalAnimateMarks.length && this._view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ALL_ANIMATION_START, {}), \n            this._animations = this._animations.concat({\n                config: event.animationConfig,\n                mark: event.mark\n            });\n        }, this._onAnimationEnd = event => {\n            this._additionalAnimateMarks = this._additionalAnimateMarks.filter((mark => {\n                var _a;\n                return null === (_a = null == mark ? void 0 : mark.animate) || void 0 === _a ? void 0 : _a.isAnimating();\n            })), this._animations = this._animations.filter((animation => animation.config !== event.animationConfig || animation.mark !== event.mark)), \n            0 === this._animations.length && 0 === this._additionalAnimateMarks.length && this._view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ALL_ANIMATION_END, {});\n        }, this._view = view, this._view.addEventListener(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ANIMATION_START, this._onAnimationStart), \n        this._view.addEventListener(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ANIMATION_END, this._onAnimationEnd);\n    }\n    stop() {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).stop) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks.forEach((mark => {\n            var _a, _b;\n            mark.view && mark.animate && (null === (_b = (_a = mark.animate).stop) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks = [], this;\n    }\n    pause() {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).pause) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks.forEach((mark => {\n            var _a, _b;\n            mark.view && mark.animate && (null === (_b = (_a = mark.animate).pause) || void 0 === _b || _b.call(_a));\n        })), this;\n    }\n    resume() {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).resume) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks.forEach((mark => {\n            var _a, _b;\n            mark.view && mark.animate && (null === (_b = (_a = mark.animate).resume) || void 0 === _b || _b.call(_a));\n        })), this;\n    }\n    enable() {\n        return this.isEnabled = !0, this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).enable) || void 0 === _b || _b.call(_a));\n        })), this;\n    }\n    disable() {\n        return this.isEnabled = !1, this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).disable) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks.forEach((mark => {\n            var _a, _b;\n            mark.view && mark.animate && (null === (_b = (_a = mark.animate).stop) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks = [], this;\n    }\n    enableAnimationState(state) {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).enableAnimationState) || void 0 === _b || _b.call(_a, state));\n        })), this;\n    }\n    disableAnimationState(state) {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).disableAnimationState) || void 0 === _b || _b.call(_a, state));\n        })), this;\n    }\n    isAnimating() {\n        return 0 !== this._animations.length || this._additionalAnimateMarks.some((mark => {\n            var _a;\n            return (null === (_a = null == mark ? void 0 : mark.animate) || void 0 === _a ? void 0 : _a.isAnimating()) || !1;\n        }));\n    }\n    animate() {\n        return this.isEnabled ? (this._view.traverseMarkTree((mark => {\n            mark.isUpdated && mark.animate && mark.animate.animate(), mark.cleanExitElements(), \n            mark.isUpdated = !1;\n        }), null, !0), this) : this;\n    }\n    animateAddition(additionMark) {\n        var _a;\n        const animate = null === (_a = additionMark.animate) || void 0 === _a ? void 0 : _a.animate();\n        return animate && animate.isAnimating() && this._additionalAnimateMarks.push(additionMark), \n        this;\n    }\n    release() {\n        this._additionalAnimateMarks = [], this._animations = [], this._view.removeEventListener(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ALL_ANIMATION_START, this._onAnimationStart), \n        this._view.removeEventListener(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ALL_ANIMATION_END, this._onAnimationEnd), \n        this._view = null;\n    }\n}\n//# sourceMappingURL=animate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9hbmltYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDOztBQUVyQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtHQUFrRyxvREFBVSx3QkFBd0I7QUFDako7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMEdBQTBHLG9EQUFVLHNCQUFzQjtBQUMxSSxTQUFTLGlEQUFpRCxvREFBVTtBQUNwRSxvQ0FBb0Msb0RBQVU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLG9EQUFVO0FBQzNHLHVDQUF1QyxvREFBVTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L2FuaW1hdGUuanM/OGU3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIT09LX0VWRU5UIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3QW5pbWF0ZSB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLl9hbmltYXRpb25zID0gW10sIHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MgPSBbXSwgdGhpcy5pc0VuYWJsZWQgPSAhMCwgdGhpcy5fb25BbmltYXRpb25TdGFydCA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MgPSB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzLmZpbHRlcigobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsID09PSAoX2EgPSBudWxsID09IG1hcmsgPyB2b2lkIDAgOiBtYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5pc0FuaW1hdGluZygpO1xuICAgICAgICAgICAgfSkpLCAwID09PSB0aGlzLl9hbmltYXRpb25zLmxlbmd0aCAmJiAwID09PSB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzLmxlbmd0aCAmJiB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5BTExfQU5JTUFUSU9OX1NUQVJULCB7fSksIFxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9ucyA9IHRoaXMuX2FuaW1hdGlvbnMuY29uY2F0KHtcbiAgICAgICAgICAgICAgICBjb25maWc6IGV2ZW50LmFuaW1hdGlvbkNvbmZpZyxcbiAgICAgICAgICAgICAgICBtYXJrOiBldmVudC5tYXJrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGhpcy5fb25BbmltYXRpb25FbmQgPSBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzID0gdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5maWx0ZXIoKG1hcmsgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSBtYXJrID8gdm9pZCAwIDogbWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuaXNBbmltYXRpbmcoKTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5fYW5pbWF0aW9ucyA9IHRoaXMuX2FuaW1hdGlvbnMuZmlsdGVyKChhbmltYXRpb24gPT4gYW5pbWF0aW9uLmNvbmZpZyAhPT0gZXZlbnQuYW5pbWF0aW9uQ29uZmlnIHx8IGFuaW1hdGlvbi5tYXJrICE9PSBldmVudC5tYXJrKSksIFxuICAgICAgICAgICAgMCA9PT0gdGhpcy5fYW5pbWF0aW9ucy5sZW5ndGggJiYgMCA9PT0gdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5sZW5ndGggJiYgdGhpcy5fdmlldy5lbWl0KEhPT0tfRVZFTlQuQUxMX0FOSU1BVElPTl9FTkQsIHt9KTtcbiAgICAgICAgfSwgdGhpcy5fdmlldyA9IHZpZXcsIHRoaXMuX3ZpZXcuYWRkRXZlbnRMaXN0ZW5lcihIT09LX0VWRU5ULkFOSU1BVElPTl9TVEFSVCwgdGhpcy5fb25BbmltYXRpb25TdGFydCksIFxuICAgICAgICB0aGlzLl92aWV3LmFkZEV2ZW50TGlzdGVuZXIoSE9PS19FVkVOVC5BTklNQVRJT05fRU5ELCB0aGlzLl9vbkFuaW1hdGlvbkVuZCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3LnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIG1hcmsuYW5pbWF0ZSAmJiAobnVsbCA9PT0gKF9iID0gKF9hID0gbWFyay5hbmltYXRlKS5zdG9wKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EpKTtcbiAgICAgICAgfSkpLCB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIG1hcmsudmlldyAmJiBtYXJrLmFuaW1hdGUgJiYgKG51bGwgPT09IChfYiA9IChfYSA9IG1hcmsuYW5pbWF0ZSkuc3RvcCkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hKSk7XG4gICAgICAgIH0pKSwgdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcyA9IFtdLCB0aGlzO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXcudHJhdmVyc2VNYXJrVHJlZSgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLnBhdXNlKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EpKTtcbiAgICAgICAgfSkpLCB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIG1hcmsudmlldyAmJiBtYXJrLmFuaW1hdGUgJiYgKG51bGwgPT09IChfYiA9IChfYSA9IG1hcmsuYW5pbWF0ZSkucGF1c2UpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSkpO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXcudHJhdmVyc2VNYXJrVHJlZSgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLnJlc3VtZSkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hKSk7XG4gICAgICAgIH0pKSwgdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBtYXJrLnZpZXcgJiYgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLnJlc3VtZSkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hKSk7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgZW5hYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgPSAhMCwgdGhpcy5fdmlldy50cmF2ZXJzZU1hcmtUcmVlKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBtYXJrLmFuaW1hdGUgJiYgKG51bGwgPT09IChfYiA9IChfYSA9IG1hcmsuYW5pbWF0ZSkuZW5hYmxlKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EpKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgPSAhMSwgdGhpcy5fdmlldy50cmF2ZXJzZU1hcmtUcmVlKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBtYXJrLmFuaW1hdGUgJiYgKG51bGwgPT09IChfYiA9IChfYSA9IG1hcmsuYW5pbWF0ZSkuZGlzYWJsZSkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hKSk7XG4gICAgICAgIH0pKSwgdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBtYXJrLnZpZXcgJiYgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLnN0b3ApIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSkpO1xuICAgICAgICB9KSksIHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MgPSBbXSwgdGhpcztcbiAgICB9XG4gICAgZW5hYmxlQW5pbWF0aW9uU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXcudHJhdmVyc2VNYXJrVHJlZSgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLmVuYWJsZUFuaW1hdGlvblN0YXRlKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EsIHN0YXRlKSk7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgZGlzYWJsZUFuaW1hdGlvblN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3LnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIG1hcmsuYW5pbWF0ZSAmJiAobnVsbCA9PT0gKF9iID0gKF9hID0gbWFyay5hbmltYXRlKS5kaXNhYmxlQW5pbWF0aW9uU3RhdGUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSwgc3RhdGUpKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBpc0FuaW1hdGluZygpIHtcbiAgICAgICAgcmV0dXJuIDAgIT09IHRoaXMuX2FuaW1hdGlvbnMubGVuZ3RoIHx8IHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3Muc29tZSgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKG51bGwgPT09IChfYSA9IG51bGwgPT0gbWFyayA/IHZvaWQgMCA6IG1hcmsuYW5pbWF0ZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmlzQW5pbWF0aW5nKCkpIHx8ICExO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFuaW1hdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRW5hYmxlZCA/ICh0aGlzLl92aWV3LnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5pc1VwZGF0ZWQgJiYgbWFyay5hbmltYXRlICYmIG1hcmsuYW5pbWF0ZS5hbmltYXRlKCksIG1hcmsuY2xlYW5FeGl0RWxlbWVudHMoKSwgXG4gICAgICAgICAgICBtYXJrLmlzVXBkYXRlZCA9ICExO1xuICAgICAgICB9KSwgbnVsbCwgITApLCB0aGlzKSA6IHRoaXM7XG4gICAgfVxuICAgIGFuaW1hdGVBZGRpdGlvbihhZGRpdGlvbk1hcmspIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBhbmltYXRlID0gbnVsbCA9PT0gKF9hID0gYWRkaXRpb25NYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5hbmltYXRlKCk7XG4gICAgICAgIHJldHVybiBhbmltYXRlICYmIGFuaW1hdGUuaXNBbmltYXRpbmcoKSAmJiB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzLnB1c2goYWRkaXRpb25NYXJrKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MgPSBbXSwgdGhpcy5fYW5pbWF0aW9ucyA9IFtdLCB0aGlzLl92aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoSE9PS19FVkVOVC5BTExfQU5JTUFUSU9OX1NUQVJULCB0aGlzLl9vbkFuaW1hdGlvblN0YXJ0KSwgXG4gICAgICAgIHRoaXMuX3ZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihIT09LX0VWRU5ULkFMTF9BTklNQVRJT05fRU5ELCB0aGlzLl9vbkFuaW1hdGlvbkVuZCksIFxuICAgICAgICB0aGlzLl92aWV3ID0gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/animate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Component: () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n\n\n\n\n\n\n\n\nclass Component extends _mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    constructor(view, componentType, group, mode) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component, group), this._componentDatum = {\n            [_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey]: 0\n        }, this.componentType = componentType, this.spec.type = \"component\", this.spec.componentType = componentType, \n        this.mode = mode, this._updateComponentEncoders();\n    }\n    configureComponent(config) {\n        return this.spec.componentConfig = config, this.commit(), this;\n    }\n    addGraphicItem(attrs, groupKey, newGraphicItem) {\n        const graphicItem = null != newGraphicItem ? newGraphicItem : _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.createGraphicComponent(this.componentType, attrs, {\n            mode: this.mode,\n            skipDefault: this.spec.skipTheme\n        });\n        return graphicItem && (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.BEFORE_ADD_VRENDER_MARK, {\n            graphicItem: graphicItem\n        }), this.graphicParent.appendChild(graphicItem), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.AFTER_ADD_VRENDER_MARK, {\n            graphicItem: graphicItem\n        })), graphicItem;\n    }\n    join(data) {\n        return super.join(data, _graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey);\n    }\n    encodeState(state, channel, value) {\n        return super.encodeState(state, channel, value), this._updateComponentEncoders(), \n        this;\n    }\n    parseRenderContext() {\n        return {\n            large: !1\n        };\n    }\n    _prepareRejoin() {\n        this._componentDatum[_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey] += 1;\n    }\n    evaluateJoin(data) {\n        return this.spec.key = _graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey, data ? (data[_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey] = this._componentDatum[_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey], \n        this._componentDatum = data) : this._componentDatum = {\n            [_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey]: this._componentDatum[_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey]\n        }, super.evaluateJoin([ this._componentDatum ]);\n    }\n    _updateComponentEncoders() {\n        this._encoders = this.spec.encode;\n    }\n    _getEncoders() {\n        var _a;\n        return null !== (_a = this._encoders) && void 0 !== _a ? _a : {};\n    }\n}\n//# sourceMappingURL=component.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9jb21wb25lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7O0FBRWE7O0FBRW5COztBQUVaOztBQUV2Qix3QkFBd0IsdUNBQUk7QUFDbkM7QUFDQSxvQkFBb0IseURBQWU7QUFDbkMsYUFBYSx3REFBVTtBQUN2QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGtEQUFPO0FBQzdFO0FBQ0E7QUFDQSxTQUFTO0FBQ1QseUNBQXlDLG9EQUFVO0FBQ25EO0FBQ0EsU0FBUywwREFBMEQsb0RBQVU7QUFDN0U7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdDQUFnQyx3REFBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFVO0FBQ3ZDO0FBQ0E7QUFDQSwrQkFBK0Isd0RBQVUsZUFBZSx3REFBVSx5QkFBeUIsd0RBQVU7QUFDckc7QUFDQSxhQUFhLHdEQUFVLHdCQUF3Qix3REFBVTtBQUN6RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9jb21wb25lbnQuanM/NTAxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWZhdWx0S2V5IH0gZnJvbSBcIi4uL2dyYXBoL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBHcmFtbWFyTWFya1R5cGUsIEhPT0tfRVZFTlQgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgTWFyayB9IGZyb20gXCIuL21hcmtcIjtcblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCBleHRlbmRzIE1hcmsge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGNvbXBvbmVudFR5cGUsIGdyb3VwLCBtb2RlKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwKSwgdGhpcy5fY29tcG9uZW50RGF0dW0gPSB7XG4gICAgICAgICAgICBbRGVmYXVsdEtleV06IDBcbiAgICAgICAgfSwgdGhpcy5jb21wb25lbnRUeXBlID0gY29tcG9uZW50VHlwZSwgdGhpcy5zcGVjLnR5cGUgPSBcImNvbXBvbmVudFwiLCB0aGlzLnNwZWMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudFR5cGUsIFxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlLCB0aGlzLl91cGRhdGVDb21wb25lbnRFbmNvZGVycygpO1xuICAgIH1cbiAgICBjb25maWd1cmVDb21wb25lbnQoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuY29tcG9uZW50Q29uZmlnID0gY29uZmlnLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBhZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXksIG5ld0dyYXBoaWNJdGVtKSB7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtID0gbnVsbCAhPSBuZXdHcmFwaGljSXRlbSA/IG5ld0dyYXBoaWNJdGVtIDogRmFjdG9yeS5jcmVhdGVHcmFwaGljQ29tcG9uZW50KHRoaXMuY29tcG9uZW50VHlwZSwgYXR0cnMsIHtcbiAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgIHNraXBEZWZhdWx0OiB0aGlzLnNwZWMuc2tpcFRoZW1lXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ3JhcGhpY0l0ZW0gJiYgKHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9BRERfVlJFTkRFUl9NQVJLLCB7XG4gICAgICAgICAgICBncmFwaGljSXRlbTogZ3JhcGhpY0l0ZW1cbiAgICAgICAgfSksIHRoaXMuZ3JhcGhpY1BhcmVudC5hcHBlbmRDaGlsZChncmFwaGljSXRlbSksIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX0FERF9WUkVOREVSX01BUkssIHtcbiAgICAgICAgICAgIGdyYXBoaWNJdGVtOiBncmFwaGljSXRlbVxuICAgICAgICB9KSksIGdyYXBoaWNJdGVtO1xuICAgIH1cbiAgICBqb2luKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmpvaW4oZGF0YSwgRGVmYXVsdEtleSk7XG4gICAgfVxuICAgIGVuY29kZVN0YXRlKHN0YXRlLCBjaGFubmVsLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZW5jb2RlU3RhdGUoc3RhdGUsIGNoYW5uZWwsIHZhbHVlKSwgdGhpcy5fdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHBhcnNlUmVuZGVyQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhcmdlOiAhMVxuICAgICAgICB9O1xuICAgIH1cbiAgICBfcHJlcGFyZVJlam9pbigpIHtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RGF0dW1bRGVmYXVsdEtleV0gKz0gMTtcbiAgICB9XG4gICAgZXZhbHVhdGVKb2luKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5rZXkgPSBEZWZhdWx0S2V5LCBkYXRhID8gKGRhdGFbRGVmYXVsdEtleV0gPSB0aGlzLl9jb21wb25lbnREYXR1bVtEZWZhdWx0S2V5XSwgXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudERhdHVtID0gZGF0YSkgOiB0aGlzLl9jb21wb25lbnREYXR1bSA9IHtcbiAgICAgICAgICAgIFtEZWZhdWx0S2V5XTogdGhpcy5fY29tcG9uZW50RGF0dW1bRGVmYXVsdEtleV1cbiAgICAgICAgfSwgc3VwZXIuZXZhbHVhdGVKb2luKFsgdGhpcy5fY29tcG9uZW50RGF0dW0gXSk7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycygpIHtcbiAgICAgICAgdGhpcy5fZW5jb2RlcnMgPSB0aGlzLnNwZWMuZW5jb2RlO1xuICAgIH1cbiAgICBfZ2V0RW5jb2RlcnMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuX2VuY29kZXJzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/component.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BROWSER: () => (/* binding */ BROWSER),\n/* harmony export */   DEFAULT_HOVER_STATE: () => (/* binding */ DEFAULT_HOVER_STATE),\n/* harmony export */   EVENT_SOURCE_VIEW: () => (/* binding */ EVENT_SOURCE_VIEW),\n/* harmony export */   EVENT_SOURCE_WINDOW: () => (/* binding */ EVENT_SOURCE_WINDOW),\n/* harmony export */   ID_PREFIX: () => (/* binding */ ID_PREFIX),\n/* harmony export */   NAME_PREFIX: () => (/* binding */ NAME_PREFIX),\n/* harmony export */   NO_TRAP: () => (/* binding */ NO_TRAP),\n/* harmony export */   SIGNAL_AUTOFIT: () => (/* binding */ SIGNAL_AUTOFIT),\n/* harmony export */   SIGNAL_HEIGHT: () => (/* binding */ SIGNAL_HEIGHT),\n/* harmony export */   SIGNAL_PADDING: () => (/* binding */ SIGNAL_PADDING),\n/* harmony export */   SIGNAL_VIEW_BOX: () => (/* binding */ SIGNAL_VIEW_BOX),\n/* harmony export */   SIGNAL_VIEW_HEIGHT: () => (/* binding */ SIGNAL_VIEW_HEIGHT),\n/* harmony export */   SIGNAL_VIEW_WIDTH: () => (/* binding */ SIGNAL_VIEW_WIDTH),\n/* harmony export */   SIGNAL_WIDTH: () => (/* binding */ SIGNAL_WIDTH)\n/* harmony export */ });\nconst EVENT_SOURCE_WINDOW = \"window\";\n\nconst EVENT_SOURCE_VIEW = \"view\";\n\nconst BROWSER = \"browser\";\n\nconst NO_TRAP = {\n    trap: !1\n};\n\nconst SIGNAL_WIDTH = \"width\";\n\nconst SIGNAL_HEIGHT = \"height\";\n\nconst SIGNAL_VIEW_WIDTH = \"viewWidth\";\n\nconst SIGNAL_VIEW_HEIGHT = \"viewHeight\";\n\nconst SIGNAL_PADDING = \"padding\";\n\nconst SIGNAL_VIEW_BOX = \"viewBox\";\n\nconst SIGNAL_AUTOFIT = \"autoFit\";\n\nconst DEFAULT_HOVER_STATE = \"hover\";\n\nconst NAME_PREFIX = \"@\";\n\nconst ID_PREFIX = \"#\";\n//# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTzs7QUFFQTs7QUFFQTs7QUFFQTtBQUNQO0FBQ0E7O0FBRU87O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L2NvbnN0YW50cy5qcz8yOTM2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFVkVOVF9TT1VSQ0VfV0lORE9XID0gXCJ3aW5kb3dcIjtcblxuZXhwb3J0IGNvbnN0IEVWRU5UX1NPVVJDRV9WSUVXID0gXCJ2aWV3XCI7XG5cbmV4cG9ydCBjb25zdCBCUk9XU0VSID0gXCJicm93c2VyXCI7XG5cbmV4cG9ydCBjb25zdCBOT19UUkFQID0ge1xuICAgIHRyYXA6ICExXG59O1xuXG5leHBvcnQgY29uc3QgU0lHTkFMX1dJRFRIID0gXCJ3aWR0aFwiO1xuXG5leHBvcnQgY29uc3QgU0lHTkFMX0hFSUdIVCA9IFwiaGVpZ2h0XCI7XG5cbmV4cG9ydCBjb25zdCBTSUdOQUxfVklFV19XSURUSCA9IFwidmlld1dpZHRoXCI7XG5cbmV4cG9ydCBjb25zdCBTSUdOQUxfVklFV19IRUlHSFQgPSBcInZpZXdIZWlnaHRcIjtcblxuZXhwb3J0IGNvbnN0IFNJR05BTF9QQURESU5HID0gXCJwYWRkaW5nXCI7XG5cbmV4cG9ydCBjb25zdCBTSUdOQUxfVklFV19CT1ggPSBcInZpZXdCb3hcIjtcblxuZXhwb3J0IGNvbnN0IFNJR05BTF9BVVRPRklUID0gXCJhdXRvRml0XCI7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0hPVkVSX1NUQVRFID0gXCJob3ZlclwiO1xuXG5leHBvcnQgY29uc3QgTkFNRV9QUkVGSVggPSBcIkBcIjtcblxuZXhwb3J0IGNvbnN0IElEX1BSRUZJWCA9IFwiI1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/coordinate.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/coordinate.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Coordinate: () => (/* binding */ Coordinate),\n/* harmony export */   registerCoordinate: () => (/* binding */ registerCoordinate)\n/* harmony export */ });\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_coordinate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/coordinate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/coordinate.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\nclass Coordinate extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor(view, coordinateType) {\n        super(view), this.grammarType = \"coordinate\", this.spec = {\n            type: \"cartesian\"\n        }, this.spec.type = coordinateType, this.coordinate = (0,_parse_coordinate__WEBPACK_IMPORTED_MODULE_1__.createCoordinate)(coordinateType);\n    }\n    parse(spec) {\n        return super.parse(spec), this.start(spec.start), this.end(spec.end), this.origin(spec.origin), \n        this.translate(spec.translate), this.rotate(spec.rotate), this.scale(spec.scale), \n        this.transpose(spec.transpose), this.commit(), this;\n    }\n    evaluate(upstream, parameters) {\n        return this.coordinate && this.coordinate.type === this.spec.type || (this.coordinate = (0,_parse_coordinate__WEBPACK_IMPORTED_MODULE_1__.createCoordinate)(this.spec.type)), \n        (0,_parse_coordinate__WEBPACK_IMPORTED_MODULE_1__.configureCoordinate)(this.spec, this.coordinate, parameters), this;\n    }\n    output() {\n        return this.coordinate;\n    }\n    start(start) {\n        return this.setFunctionSpec(start, \"start\");\n    }\n    end(end) {\n        return this.setFunctionSpec(end, \"end\");\n    }\n    origin(origin) {\n        return this.setFunctionSpec(origin, \"origin\");\n    }\n    translate(offset) {\n        return this.setFunctionSpec(offset, \"translate\");\n    }\n    rotate(angle) {\n        return this.setFunctionSpec(angle, \"rotate\");\n    }\n    scale(ratio) {\n        return this.setFunctionSpec(ratio, \"scale\");\n    }\n    transpose(isTransposed) {\n        return this.setFunctionSpec(isTransposed, \"transpose\");\n    }\n    reuse(grammar) {\n        return grammar.grammarType !== this.grammarType || (this.coordinate = grammar.output()), \n        this;\n    }\n    clear() {\n        super.clear(), this.coordinate = null;\n    }\n}\n\nconst registerCoordinate = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGrammar(\"coordinate\", Coordinate, \"coordinates\");\n};\n//# sourceMappingURL=coordinate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9jb29yZGluYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTZDOztBQUUrQjs7QUFFbEM7O0FBRW5DLHlCQUF5QixzREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQSxTQUFTLHFEQUFxRCxtRUFBZ0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0csbUVBQWdCO0FBQ2hILFFBQVEsc0VBQW1CO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvY29vcmRpbmF0ZS5qcz9mZjJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYW1tYXJCYXNlIH0gZnJvbSBcIi4vZ3JhbW1hci1iYXNlXCI7XG5cbmltcG9ydCB7IGNvbmZpZ3VyZUNvb3JkaW5hdGUsIGNyZWF0ZUNvb3JkaW5hdGUgfSBmcm9tIFwiLi4vcGFyc2UvY29vcmRpbmF0ZVwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5leHBvcnQgY2xhc3MgQ29vcmRpbmF0ZSBleHRlbmRzIEdyYW1tYXJCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBjb29yZGluYXRlVHlwZSkge1xuICAgICAgICBzdXBlcih2aWV3KSwgdGhpcy5ncmFtbWFyVHlwZSA9IFwiY29vcmRpbmF0ZVwiLCB0aGlzLnNwZWMgPSB7XG4gICAgICAgICAgICB0eXBlOiBcImNhcnRlc2lhblwiXG4gICAgICAgIH0sIHRoaXMuc3BlYy50eXBlID0gY29vcmRpbmF0ZVR5cGUsIHRoaXMuY29vcmRpbmF0ZSA9IGNyZWF0ZUNvb3JkaW5hdGUoY29vcmRpbmF0ZVR5cGUpO1xuICAgIH1cbiAgICBwYXJzZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZShzcGVjKSwgdGhpcy5zdGFydChzcGVjLnN0YXJ0KSwgdGhpcy5lbmQoc3BlYy5lbmQpLCB0aGlzLm9yaWdpbihzcGVjLm9yaWdpbiksIFxuICAgICAgICB0aGlzLnRyYW5zbGF0ZShzcGVjLnRyYW5zbGF0ZSksIHRoaXMucm90YXRlKHNwZWMucm90YXRlKSwgdGhpcy5zY2FsZShzcGVjLnNjYWxlKSwgXG4gICAgICAgIHRoaXMudHJhbnNwb3NlKHNwZWMudHJhbnNwb3NlKSwgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgZXZhbHVhdGUodXBzdHJlYW0sIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZSAmJiB0aGlzLmNvb3JkaW5hdGUudHlwZSA9PT0gdGhpcy5zcGVjLnR5cGUgfHwgKHRoaXMuY29vcmRpbmF0ZSA9IGNyZWF0ZUNvb3JkaW5hdGUodGhpcy5zcGVjLnR5cGUpKSwgXG4gICAgICAgIGNvbmZpZ3VyZUNvb3JkaW5hdGUodGhpcy5zcGVjLCB0aGlzLmNvb3JkaW5hdGUsIHBhcmFtZXRlcnMpLCB0aGlzO1xuICAgIH1cbiAgICBvdXRwdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGU7XG4gICAgfVxuICAgIHN0YXJ0KHN0YXJ0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhzdGFydCwgXCJzdGFydFwiKTtcbiAgICB9XG4gICAgZW5kKGVuZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMoZW5kLCBcImVuZFwiKTtcbiAgICB9XG4gICAgb3JpZ2luKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMob3JpZ2luLCBcIm9yaWdpblwiKTtcbiAgICB9XG4gICAgdHJhbnNsYXRlKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMob2Zmc2V0LCBcInRyYW5zbGF0ZVwiKTtcbiAgICB9XG4gICAgcm90YXRlKGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhhbmdsZSwgXCJyb3RhdGVcIik7XG4gICAgfVxuICAgIHNjYWxlKHJhdGlvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhyYXRpbywgXCJzY2FsZVwiKTtcbiAgICB9XG4gICAgdHJhbnNwb3NlKGlzVHJhbnNwb3NlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMoaXNUcmFuc3Bvc2VkLCBcInRyYW5zcG9zZVwiKTtcbiAgICB9XG4gICAgcmV1c2UoZ3JhbW1hcikge1xuICAgICAgICByZXR1cm4gZ3JhbW1hci5ncmFtbWFyVHlwZSAhPT0gdGhpcy5ncmFtbWFyVHlwZSB8fCAodGhpcy5jb29yZGluYXRlID0gZ3JhbW1hci5vdXRwdXQoKSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgc3VwZXIuY2xlYXIoKSwgdGhpcy5jb29yZGluYXRlID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckNvb3JkaW5hdGUgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYW1tYXIoXCJjb29yZGluYXRlXCIsIENvb3JkaW5hdGUsIFwiY29vcmRpbmF0ZXNcIik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29vcmRpbmF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/coordinate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/data.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/data.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Data: () => (/* binding */ Data)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _parse_transform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/transform.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _util_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/data */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/data.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass Data extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor(view, values, format) {\n        super(view), this.grammarType = \"data\", this.spec = {}, this._dataIDKey = `VGRAMMAR_DATA_ID_KEY_${this.uid}`, \n        this._loadTasks = [], this._postFilters = [], this.ingest = options => {\n            const format = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.invokeParameterFunctionType)(options.format, this.parameters());\n            return this._input = (0,_util_data__WEBPACK_IMPORTED_MODULE_2__.parseFormat)(options.values, format), this._input;\n        }, this.load = options => {\n            if (options.values) return this.ingest(options);\n        }, this.relay = options => options[0], this._loadTasks = [], (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(values) || this.values(values, format);\n    }\n    parse(spec) {\n        return super.parse(spec), this._isLoaded = !1, this.source(spec.source, spec.format, !1), \n        this.url(spec.url, spec.format, !1), this.values(spec.values, spec.format, !1), \n        this.transform(spec.transform), this.parseLoad(spec), this.commit(), this;\n    }\n    parseDataSource(spec) {\n        const refs = [], transforms = [], formatRef = spec.format ? (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.parseFunctionType)(spec.format, this.view)[0] : null;\n        if (formatRef && refs.push(formatRef), spec.values) {\n            const valuesRef = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.parseFunctionType)(spec.values, this.view)[0];\n            valuesRef && refs.push(valuesRef), transforms.push({\n                type: \"ingest\",\n                transform: this.ingest,\n                isRawOptions: !0,\n                options: {\n                    values: spec.values,\n                    format: spec.format\n                }\n            });\n        } else if (spec.url) {\n            const urlRef = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.parseFunctionType)(spec.url, this.view)[0];\n            urlRef && refs.push(urlRef), transforms.push({\n                type: \"load\",\n                transform: this.load,\n                options: {\n                    url: null != urlRef ? urlRef : spec.url,\n                    format: null != formatRef ? formatRef : spec.format\n                }\n            });\n        } else if (spec.source) {\n            const upstreamData = [];\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(spec.source).forEach((sourceId => {\n                const sourceData = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.isGrammar)(sourceId) ? sourceId : this.view.getDataById(sourceId);\n                sourceData && (refs.push(sourceData), upstreamData.push(sourceData));\n            })), upstreamData.length && (transforms.push({\n                type: \"relay\",\n                transform: this.relay,\n                options: upstreamData\n            }), this.grammarSource = upstreamData[0]);\n        }\n        return {\n            transforms: transforms,\n            refs: refs\n        };\n    }\n    evaluate(upstream, parameters) {\n        this.view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_5__.HOOK_EVENT.BEFORE_EVALUATE_DATA);\n        const tasks = this._isLoaded ? this.transforms : this._loadTasks.concat(this.transforms);\n        this.grammarSource && (this._input = upstream);\n        const values = this.evaluateTransform(tasks, this._input, parameters), filteredValues = this._evaluateFilter(values, parameters);\n        return this.setValues(filteredValues), this._isLoaded = !0, this.view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_5__.HOOK_EVENT.AFTER_EVALUATE_DATA), \n        this;\n    }\n    output() {\n        return this._values;\n    }\n    getDataIDKey() {\n        return this._dataIDKey;\n    }\n    values(values, format, load = !0) {\n        const spec = Object.assign({}, this.spec, {\n            values: values,\n            format: format\n        });\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(values) || (spec.url = void 0, spec.source = void 0), load ? this.parseLoad(spec) : this;\n    }\n    url(url, format, load = !0) {\n        const spec = Object.assign({}, this.spec, {\n            url: url,\n            format: format\n        });\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(url) || (spec.values = void 0, spec.source = void 0), load ? this.parseLoad(spec) : this;\n    }\n    source(source, format, load = !0) {\n        const spec = Object.assign({}, this.spec, {\n            source: source,\n            format: format\n        });\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source) || (spec.values = void 0, spec.url = void 0), load ? this.parseLoad(spec) : this;\n    }\n    parseLoad(spec) {\n        this.detach(this.parseDataSource(this.spec).refs), this.spec = spec;\n        const dataSourceResult = this.parseDataSource(this.spec);\n        return this.attach(dataSourceResult.refs), this._loadTasks = dataSourceResult.transforms, \n        this._isLoaded = !1, this.commit(), this;\n    }\n    setValues(data) {\n        this._values = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(data).map(((entry, index) => {\n            const datum = entry === Object(entry) ? entry : {\n                data: entry\n            };\n            return datum[this._dataIDKey] = index, datum;\n        }));\n    }\n    field(field) {\n        return this._values.map((value => value[field]));\n    }\n    transform(transforms) {\n        const prevTransforms = (0,_parse_transform__WEBPACK_IMPORTED_MODULE_6__.parseTransformSpec)(this.spec.transform, this.view);\n        prevTransforms && (this.detach(prevTransforms.refs), this.transforms = []), this.spec.transform = transforms;\n        const nextTransforms = (0,_parse_transform__WEBPACK_IMPORTED_MODULE_6__.parseTransformSpec)(this.spec.transform, this.view);\n        return nextTransforms && (this.attach(nextTransforms.refs), this.transforms = nextTransforms.transforms), \n        this.commit(), this;\n    }\n    getValue() {\n        return this._values;\n    }\n    getInput() {\n        return this._input;\n    }\n    addDataFilter(filter) {\n        return this._postFilters = this._postFilters.concat((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(filter)), this._postFilters.sort(((filterA, filterB) => {\n            var _a, _b;\n            return (null !== (_a = filterA.rank) && void 0 !== _a ? _a : 0) - (null !== (_b = filterB.rank) && void 0 !== _b ? _b : 0);\n        })), this;\n    }\n    removeDataFilter(filter) {\n        const filters = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(filter);\n        return this._postFilters = this._postFilters.filter((filter => !filters.includes(filter))), \n        this;\n    }\n    _evaluateFilter(value, parameters) {\n        return this._postFilters.reduce(((result, filter) => filter.filter(result, parameters)), value);\n    }\n    reuse(grammar) {\n        return grammar.grammarType !== this.grammarType || (this._isLoaded = !1, this._values = grammar.output()), \n        this;\n    }\n    clear() {\n        super.clear(), this._input = null, this._values = null;\n    }\n}\n//# sourceMappingURL=data.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9kYXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWdEOztBQUVIOztBQUU2Qzs7QUFFbEM7O0FBRVo7O0FBRUQ7O0FBRXBDLG1CQUFtQixzREFBVztBQUNyQztBQUNBLDhEQUE4RCw0Q0FBNEMsU0FBUztBQUNuSDtBQUNBLDJCQUEyQix3RUFBMkI7QUFDdEQsaUNBQWlDLHVEQUFXO0FBQzVDLFNBQVM7QUFDVDtBQUNBLFNBQVMsNERBQTRELDREQUFLO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLDhEQUFpQjtBQUNyRjtBQUNBLDhCQUE4Qiw4REFBaUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1YsMkJBQTJCLDhEQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1Y7QUFDQSxZQUFZLHVEQUFLO0FBQ2pCLG1DQUFtQyxzREFBUztBQUM1QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLG9EQUFVO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBSztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9FQUFrQjtBQUNqRDtBQUNBLCtCQUErQixvRUFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsdURBQUs7QUFDakU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0JBQXdCLHVEQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L2RhdGEuanM/NzMwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcnJheSwgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBHcmFtbWFyQmFzZSB9IGZyb20gXCIuL2dyYW1tYXItYmFzZVwiO1xuXG5pbXBvcnQgeyBpbnZva2VQYXJhbWV0ZXJGdW5jdGlvblR5cGUsIGlzR3JhbW1hciwgcGFyc2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBwYXJzZVRyYW5zZm9ybVNwZWMgfSBmcm9tIFwiLi4vcGFyc2UvdHJhbnNmb3JtXCI7XG5cbmltcG9ydCB7IEhPT0tfRVZFTlQgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgcGFyc2VGb3JtYXQgfSBmcm9tIFwiLi4vdXRpbC9kYXRhXCI7XG5cbmV4cG9ydCBjbGFzcyBEYXRhIGV4dGVuZHMgR3JhbW1hckJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHZhbHVlcywgZm9ybWF0KSB7XG4gICAgICAgIHN1cGVyKHZpZXcpLCB0aGlzLmdyYW1tYXJUeXBlID0gXCJkYXRhXCIsIHRoaXMuc3BlYyA9IHt9LCB0aGlzLl9kYXRhSURLZXkgPSBgVkdSQU1NQVJfREFUQV9JRF9LRVlfJHt0aGlzLnVpZH1gLCBcbiAgICAgICAgdGhpcy5fbG9hZFRhc2tzID0gW10sIHRoaXMuX3Bvc3RGaWx0ZXJzID0gW10sIHRoaXMuaW5nZXN0ID0gb3B0aW9ucyA9PiB7XG4gICAgICAgICAgICBjb25zdCBmb3JtYXQgPSBpbnZva2VQYXJhbWV0ZXJGdW5jdGlvblR5cGUob3B0aW9ucy5mb3JtYXQsIHRoaXMucGFyYW1ldGVycygpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnB1dCA9IHBhcnNlRm9ybWF0KG9wdGlvbnMudmFsdWVzLCBmb3JtYXQpLCB0aGlzLl9pbnB1dDtcbiAgICAgICAgfSwgdGhpcy5sb2FkID0gb3B0aW9ucyA9PiB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy52YWx1ZXMpIHJldHVybiB0aGlzLmluZ2VzdChvcHRpb25zKTtcbiAgICAgICAgfSwgdGhpcy5yZWxheSA9IG9wdGlvbnMgPT4gb3B0aW9uc1swXSwgdGhpcy5fbG9hZFRhc2tzID0gW10sIGlzTmlsKHZhbHVlcykgfHwgdGhpcy52YWx1ZXModmFsdWVzLCBmb3JtYXQpO1xuICAgIH1cbiAgICBwYXJzZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZShzcGVjKSwgdGhpcy5faXNMb2FkZWQgPSAhMSwgdGhpcy5zb3VyY2Uoc3BlYy5zb3VyY2UsIHNwZWMuZm9ybWF0LCAhMSksIFxuICAgICAgICB0aGlzLnVybChzcGVjLnVybCwgc3BlYy5mb3JtYXQsICExKSwgdGhpcy52YWx1ZXMoc3BlYy52YWx1ZXMsIHNwZWMuZm9ybWF0LCAhMSksIFxuICAgICAgICB0aGlzLnRyYW5zZm9ybShzcGVjLnRyYW5zZm9ybSksIHRoaXMucGFyc2VMb2FkKHNwZWMpLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBwYXJzZURhdGFTb3VyY2Uoc3BlYykge1xuICAgICAgICBjb25zdCByZWZzID0gW10sIHRyYW5zZm9ybXMgPSBbXSwgZm9ybWF0UmVmID0gc3BlYy5mb3JtYXQgPyBwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLmZvcm1hdCwgdGhpcy52aWV3KVswXSA6IG51bGw7XG4gICAgICAgIGlmIChmb3JtYXRSZWYgJiYgcmVmcy5wdXNoKGZvcm1hdFJlZiksIHNwZWMudmFsdWVzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXNSZWYgPSBwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnZhbHVlcywgdGhpcy52aWV3KVswXTtcbiAgICAgICAgICAgIHZhbHVlc1JlZiAmJiByZWZzLnB1c2godmFsdWVzUmVmKSwgdHJhbnNmb3Jtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImluZ2VzdFwiLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5pbmdlc3QsXG4gICAgICAgICAgICAgICAgaXNSYXdPcHRpb25zOiAhMCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogc3BlYy52YWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogc3BlYy5mb3JtYXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChzcGVjLnVybCkge1xuICAgICAgICAgICAgY29uc3QgdXJsUmVmID0gcGFyc2VGdW5jdGlvblR5cGUoc3BlYy51cmwsIHRoaXMudmlldylbMF07XG4gICAgICAgICAgICB1cmxSZWYgJiYgcmVmcy5wdXNoKHVybFJlZiksIHRyYW5zZm9ybXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJsb2FkXCIsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLmxvYWQsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IG51bGwgIT0gdXJsUmVmID8gdXJsUmVmIDogc3BlYy51cmwsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogbnVsbCAhPSBmb3JtYXRSZWYgPyBmb3JtYXRSZWYgOiBzcGVjLmZvcm1hdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNwZWMuc291cmNlKSB7XG4gICAgICAgICAgICBjb25zdCB1cHN0cmVhbURhdGEgPSBbXTtcbiAgICAgICAgICAgIGFycmF5KHNwZWMuc291cmNlKS5mb3JFYWNoKChzb3VyY2VJZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlRGF0YSA9IGlzR3JhbW1hcihzb3VyY2VJZCkgPyBzb3VyY2VJZCA6IHRoaXMudmlldy5nZXREYXRhQnlJZChzb3VyY2VJZCk7XG4gICAgICAgICAgICAgICAgc291cmNlRGF0YSAmJiAocmVmcy5wdXNoKHNvdXJjZURhdGEpLCB1cHN0cmVhbURhdGEucHVzaChzb3VyY2VEYXRhKSk7XG4gICAgICAgICAgICB9KSksIHVwc3RyZWFtRGF0YS5sZW5ndGggJiYgKHRyYW5zZm9ybXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZWxheVwiLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5yZWxheSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB1cHN0cmVhbURhdGFcbiAgICAgICAgICAgIH0pLCB0aGlzLmdyYW1tYXJTb3VyY2UgPSB1cHN0cmVhbURhdGFbMF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1zOiB0cmFuc2Zvcm1zLFxuICAgICAgICAgICAgcmVmczogcmVmc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBldmFsdWF0ZSh1cHN0cmVhbSwgcGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLnZpZXcuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9FVkFMVUFURV9EQVRBKTtcbiAgICAgICAgY29uc3QgdGFza3MgPSB0aGlzLl9pc0xvYWRlZCA/IHRoaXMudHJhbnNmb3JtcyA6IHRoaXMuX2xvYWRUYXNrcy5jb25jYXQodGhpcy50cmFuc2Zvcm1zKTtcbiAgICAgICAgdGhpcy5ncmFtbWFyU291cmNlICYmICh0aGlzLl9pbnB1dCA9IHVwc3RyZWFtKTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5ldmFsdWF0ZVRyYW5zZm9ybSh0YXNrcywgdGhpcy5faW5wdXQsIHBhcmFtZXRlcnMpLCBmaWx0ZXJlZFZhbHVlcyA9IHRoaXMuX2V2YWx1YXRlRmlsdGVyKHZhbHVlcywgcGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFZhbHVlcyhmaWx0ZXJlZFZhbHVlcyksIHRoaXMuX2lzTG9hZGVkID0gITAsIHRoaXMudmlldy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfRVZBTFVBVEVfREFUQSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBvdXRwdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XG4gICAgfVxuICAgIGdldERhdGFJREtleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFJREtleTtcbiAgICB9XG4gICAgdmFsdWVzKHZhbHVlcywgZm9ybWF0LCBsb2FkID0gITApIHtcbiAgICAgICAgY29uc3Qgc3BlYyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3BlYywge1xuICAgICAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgICAgICBmb3JtYXQ6IGZvcm1hdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlzTmlsKHZhbHVlcykgfHwgKHNwZWMudXJsID0gdm9pZCAwLCBzcGVjLnNvdXJjZSA9IHZvaWQgMCksIGxvYWQgPyB0aGlzLnBhcnNlTG9hZChzcGVjKSA6IHRoaXM7XG4gICAgfVxuICAgIHVybCh1cmwsIGZvcm1hdCwgbG9hZCA9ICEwKSB7XG4gICAgICAgIGNvbnN0IHNwZWMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNwZWMsIHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc05pbCh1cmwpIHx8IChzcGVjLnZhbHVlcyA9IHZvaWQgMCwgc3BlYy5zb3VyY2UgPSB2b2lkIDApLCBsb2FkID8gdGhpcy5wYXJzZUxvYWQoc3BlYykgOiB0aGlzO1xuICAgIH1cbiAgICBzb3VyY2Uoc291cmNlLCBmb3JtYXQsIGxvYWQgPSAhMCkge1xuICAgICAgICBjb25zdCBzcGVjID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zcGVjLCB7XG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXNOaWwoc291cmNlKSB8fCAoc3BlYy52YWx1ZXMgPSB2b2lkIDAsIHNwZWMudXJsID0gdm9pZCAwKSwgbG9hZCA/IHRoaXMucGFyc2VMb2FkKHNwZWMpIDogdGhpcztcbiAgICB9XG4gICAgcGFyc2VMb2FkKHNwZWMpIHtcbiAgICAgICAgdGhpcy5kZXRhY2godGhpcy5wYXJzZURhdGFTb3VyY2UodGhpcy5zcGVjKS5yZWZzKSwgdGhpcy5zcGVjID0gc3BlYztcbiAgICAgICAgY29uc3QgZGF0YVNvdXJjZVJlc3VsdCA9IHRoaXMucGFyc2VEYXRhU291cmNlKHRoaXMuc3BlYyk7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaChkYXRhU291cmNlUmVzdWx0LnJlZnMpLCB0aGlzLl9sb2FkVGFza3MgPSBkYXRhU291cmNlUmVzdWx0LnRyYW5zZm9ybXMsIFxuICAgICAgICB0aGlzLl9pc0xvYWRlZCA9ICExLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBzZXRWYWx1ZXMoZGF0YSkge1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSBhcnJheShkYXRhKS5tYXAoKChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdHVtID0gZW50cnkgPT09IE9iamVjdChlbnRyeSkgPyBlbnRyeSA6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBlbnRyeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBkYXR1bVt0aGlzLl9kYXRhSURLZXldID0gaW5kZXgsIGRhdHVtO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGZpZWxkKGZpZWxkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXMubWFwKCh2YWx1ZSA9PiB2YWx1ZVtmaWVsZF0pKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtKHRyYW5zZm9ybXMpIHtcbiAgICAgICAgY29uc3QgcHJldlRyYW5zZm9ybXMgPSBwYXJzZVRyYW5zZm9ybVNwZWModGhpcy5zcGVjLnRyYW5zZm9ybSwgdGhpcy52aWV3KTtcbiAgICAgICAgcHJldlRyYW5zZm9ybXMgJiYgKHRoaXMuZGV0YWNoKHByZXZUcmFuc2Zvcm1zLnJlZnMpLCB0aGlzLnRyYW5zZm9ybXMgPSBbXSksIHRoaXMuc3BlYy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zO1xuICAgICAgICBjb25zdCBuZXh0VHJhbnNmb3JtcyA9IHBhcnNlVHJhbnNmb3JtU3BlYyh0aGlzLnNwZWMudHJhbnNmb3JtLCB0aGlzLnZpZXcpO1xuICAgICAgICByZXR1cm4gbmV4dFRyYW5zZm9ybXMgJiYgKHRoaXMuYXR0YWNoKG5leHRUcmFuc2Zvcm1zLnJlZnMpLCB0aGlzLnRyYW5zZm9ybXMgPSBuZXh0VHJhbnNmb3Jtcy50cmFuc2Zvcm1zKSwgXG4gICAgICAgIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzO1xuICAgIH1cbiAgICBnZXRJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0O1xuICAgIH1cbiAgICBhZGREYXRhRmlsdGVyKGZpbHRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zdEZpbHRlcnMgPSB0aGlzLl9wb3N0RmlsdGVycy5jb25jYXQoYXJyYXkoZmlsdGVyKSksIHRoaXMuX3Bvc3RGaWx0ZXJzLnNvcnQoKChmaWx0ZXJBLCBmaWx0ZXJCKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChudWxsICE9PSAoX2EgPSBmaWx0ZXJBLnJhbmspICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDApIC0gKG51bGwgIT09IChfYiA9IGZpbHRlckIucmFuaykgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMCk7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgcmVtb3ZlRGF0YUZpbHRlcihmaWx0ZXIpIHtcbiAgICAgICAgY29uc3QgZmlsdGVycyA9IGFycmF5KGZpbHRlcik7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3N0RmlsdGVycyA9IHRoaXMuX3Bvc3RGaWx0ZXJzLmZpbHRlcigoZmlsdGVyID0+ICFmaWx0ZXJzLmluY2x1ZGVzKGZpbHRlcikpKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIF9ldmFsdWF0ZUZpbHRlcih2YWx1ZSwgcGFyYW1ldGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zdEZpbHRlcnMucmVkdWNlKCgocmVzdWx0LCBmaWx0ZXIpID0+IGZpbHRlci5maWx0ZXIocmVzdWx0LCBwYXJhbWV0ZXJzKSksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV1c2UoZ3JhbW1hcikge1xuICAgICAgICByZXR1cm4gZ3JhbW1hci5ncmFtbWFyVHlwZSAhPT0gdGhpcy5ncmFtbWFyVHlwZSB8fCAodGhpcy5faXNMb2FkZWQgPSAhMSwgdGhpcy5fdmFsdWVzID0gZ3JhbW1hci5vdXRwdXQoKSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgc3VwZXIuY2xlYXIoKSwgdGhpcy5faW5wdXQgPSBudWxsLCB0aGlzLl92YWx1ZXMgPSBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGEuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/dataflow.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/dataflow.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Dataflow)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/logger.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _util_grammar_heap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/grammar-heap */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/grammar-heap.js\");\n/* harmony import */ var _util_unique_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/unique-list */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/util/unique-list.js\");\n\n\n\n\n\n\nclass Dataflow {\n    constructor() {\n        this.grammars = [], this.logger = _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.Logger.getInstance(), this._curRank = 0, this._committed = new _util_unique_list__WEBPACK_IMPORTED_MODULE_1__.UniqueList((grammar => grammar.uid)), \n        this._heap = new _util_grammar_heap__WEBPACK_IMPORTED_MODULE_2__.Heap(((a, b) => (null == a ? void 0 : a.qrank) - (null == b ? void 0 : b.qrank))), \n        this._beforeRunner = null, this._afterRunner = null, this._updateCounter = 0, this._finishFirstRender = !1;\n    }\n    add(grammar) {\n        if (grammar) return this._setRankOfGrammar(grammar), this.commit(grammar), !this.grammars.includes(grammar) && (this.grammars.push(grammar), \n        !0);\n    }\n    remove(grammar) {\n        grammar && (this._committed.remove(grammar), this._heap.remove(grammar), this.grammars = this.grammars.filter((storedGrammar => storedGrammar !== grammar)));\n    }\n    _setRankOfGrammar(grammar) {\n        grammar && (grammar.rank = ++this._curRank);\n    }\n    _reRank(grammar) {\n        const queue = [ grammar ];\n        for (;queue.length; ) {\n            const cur = queue.pop();\n            this._setRankOfGrammar(cur);\n            const list = cur.targets;\n            list && list.forEach((entry => {\n                queue.push(entry), entry === grammar && this.logger.error(\"Cycle detected in dataflow graph.\");\n            }));\n        }\n    }\n    _enqueue(grammar) {\n        grammar && (grammar.qrank = grammar.rank, this._heap.push(grammar));\n    }\n    _logGrammarRunInfo(grammar) {\n        if (this.logger.canLogError()) {\n            const debugStr = [ {\n                key: \"id\",\n                value: grammar.id()\n            }, {\n                key: \"name\",\n                value: grammar.name()\n            } ].reduce(((str, entry, index) => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(entry.value) ? str : `${str}${index ? \" , \" : \"\"}${entry.key}: ${entry.value}`), \"\");\n            this.logger.debug(\"Run Operator: \", grammar, debugStr);\n        }\n    }\n    hasCommitted() {\n        return !!this._committed.length;\n    }\n    commit(grammar) {\n        return this._committed.add(grammar), this;\n    }\n    _beforeEvaluate() {\n        this.grammars.forEach((grammar => {\n            grammar.targets.some((target => (null == target ? void 0 : target.rank) < (null == grammar ? void 0 : grammar.rank))) && this._reRank(grammar);\n        })), this._committed.forEach((grammar => this._enqueue(grammar))), this._committed = new _util_unique_list__WEBPACK_IMPORTED_MODULE_1__.UniqueList((grammar => grammar.uid));\n    }\n    _enqueueTargets(grammar) {\n        grammar.targets && grammar.targets.length && this._finishFirstRender && grammar.targets.forEach((target => this._enqueue(target)));\n    }\n    evaluate() {\n        if (this._beforeRunner && this._beforeRunner(this), !this._committed.length) return this.logger.info(\"Dataflow invoked, but nothing to do.\"), \n        !1;\n        this._updateCounter += 1;\n        let grammar, dt, count = 0;\n        for (this.logger.canLogInfo() && (dt = Date.now(), this.logger.debug(`-- START PROPAGATION (${this._updateCounter}) -----`)), \n        this._beforeEvaluate(); this._heap.size() > 0; ) grammar = this._heap.pop(), grammar && (grammar.rank === grammar.qrank ? (grammar.run(), \n        this._logGrammarRunInfo(grammar), this._enqueueTargets(grammar), count += 1) : this._enqueue(grammar));\n        return this.logger.canLogInfo() && (dt = Date.now() - dt, this.logger.info(`> ${count} grammars updated; ${dt} ms`)), \n        this._afterRunner && this._afterRunner(this), this._finishFirstRender = !0, !0;\n    }\n    runBefore(callback) {\n        this._beforeRunner = callback;\n    }\n    runAfter(callback) {\n        this._afterRunner = callback;\n    }\n    release() {\n        this._heap && (this._heap.clear(), this._heap = null), this.logger = null, this._committed = null;\n    }\n}\n//# sourceMappingURL=dataflow.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9kYXRhZmxvdy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpRDs7QUFFTDs7QUFFSzs7QUFFbEM7QUFDZjtBQUNBLDBDQUEwQyxvREFBTSx5REFBeUQseURBQVU7QUFDbkgseUJBQXlCLG9EQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsY0FBYyxpQ0FBaUMsNERBQUsseUJBQXlCLElBQUksRUFBRSxtQkFBbUIsRUFBRSxVQUFVLElBQUksWUFBWTtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdGQUF3Rix5REFBVTtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzR0FBc0csb0JBQW9CO0FBQzFILGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQSx3RkFBd0YsT0FBTyxrQkFBa0IsRUFBRSxJQUFJO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvZGF0YWZsb3cuanM/MWU4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgTG9nZ2VyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgSGVhcCB9IGZyb20gXCIuLi91dGlsL2dyYW1tYXItaGVhcFwiO1xuXG5pbXBvcnQgeyBVbmlxdWVMaXN0IH0gZnJvbSBcIi4uL3V0aWwvdW5pcXVlLWxpc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YWZsb3cge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdyYW1tYXJzID0gW10sIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCksIHRoaXMuX2N1clJhbmsgPSAwLCB0aGlzLl9jb21taXR0ZWQgPSBuZXcgVW5pcXVlTGlzdCgoZ3JhbW1hciA9PiBncmFtbWFyLnVpZCkpLCBcbiAgICAgICAgdGhpcy5faGVhcCA9IG5ldyBIZWFwKCgoYSwgYikgPT4gKG51bGwgPT0gYSA/IHZvaWQgMCA6IGEucXJhbmspIC0gKG51bGwgPT0gYiA/IHZvaWQgMCA6IGIucXJhbmspKSksIFxuICAgICAgICB0aGlzLl9iZWZvcmVSdW5uZXIgPSBudWxsLCB0aGlzLl9hZnRlclJ1bm5lciA9IG51bGwsIHRoaXMuX3VwZGF0ZUNvdW50ZXIgPSAwLCB0aGlzLl9maW5pc2hGaXJzdFJlbmRlciA9ICExO1xuICAgIH1cbiAgICBhZGQoZ3JhbW1hcikge1xuICAgICAgICBpZiAoZ3JhbW1hcikgcmV0dXJuIHRoaXMuX3NldFJhbmtPZkdyYW1tYXIoZ3JhbW1hciksIHRoaXMuY29tbWl0KGdyYW1tYXIpLCAhdGhpcy5ncmFtbWFycy5pbmNsdWRlcyhncmFtbWFyKSAmJiAodGhpcy5ncmFtbWFycy5wdXNoKGdyYW1tYXIpLCBcbiAgICAgICAgITApO1xuICAgIH1cbiAgICByZW1vdmUoZ3JhbW1hcikge1xuICAgICAgICBncmFtbWFyICYmICh0aGlzLl9jb21taXR0ZWQucmVtb3ZlKGdyYW1tYXIpLCB0aGlzLl9oZWFwLnJlbW92ZShncmFtbWFyKSwgdGhpcy5ncmFtbWFycyA9IHRoaXMuZ3JhbW1hcnMuZmlsdGVyKChzdG9yZWRHcmFtbWFyID0+IHN0b3JlZEdyYW1tYXIgIT09IGdyYW1tYXIpKSk7XG4gICAgfVxuICAgIF9zZXRSYW5rT2ZHcmFtbWFyKGdyYW1tYXIpIHtcbiAgICAgICAgZ3JhbW1hciAmJiAoZ3JhbW1hci5yYW5rID0gKyt0aGlzLl9jdXJSYW5rKTtcbiAgICB9XG4gICAgX3JlUmFuayhncmFtbWFyKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gWyBncmFtbWFyIF07XG4gICAgICAgIGZvciAoO3F1ZXVlLmxlbmd0aDsgKSB7XG4gICAgICAgICAgICBjb25zdCBjdXIgPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuX3NldFJhbmtPZkdyYW1tYXIoY3VyKTtcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBjdXIudGFyZ2V0cztcbiAgICAgICAgICAgIGxpc3QgJiYgbGlzdC5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChlbnRyeSksIGVudHJ5ID09PSBncmFtbWFyICYmIHRoaXMubG9nZ2VyLmVycm9yKFwiQ3ljbGUgZGV0ZWN0ZWQgaW4gZGF0YWZsb3cgZ3JhcGguXCIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9lbnF1ZXVlKGdyYW1tYXIpIHtcbiAgICAgICAgZ3JhbW1hciAmJiAoZ3JhbW1hci5xcmFuayA9IGdyYW1tYXIucmFuaywgdGhpcy5faGVhcC5wdXNoKGdyYW1tYXIpKTtcbiAgICB9XG4gICAgX2xvZ0dyYW1tYXJSdW5JbmZvKGdyYW1tYXIpIHtcbiAgICAgICAgaWYgKHRoaXMubG9nZ2VyLmNhbkxvZ0Vycm9yKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlYnVnU3RyID0gWyB7XG4gICAgICAgICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGdyYW1tYXIuaWQoKVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJuYW1lXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGdyYW1tYXIubmFtZSgpXG4gICAgICAgICAgICB9IF0ucmVkdWNlKCgoc3RyLCBlbnRyeSwgaW5kZXgpID0+IGlzTmlsKGVudHJ5LnZhbHVlKSA/IHN0ciA6IGAke3N0cn0ke2luZGV4ID8gXCIgLCBcIiA6IFwiXCJ9JHtlbnRyeS5rZXl9OiAke2VudHJ5LnZhbHVlfWApLCBcIlwiKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiUnVuIE9wZXJhdG9yOiBcIiwgZ3JhbW1hciwgZGVidWdTdHIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhc0NvbW1pdHRlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fY29tbWl0dGVkLmxlbmd0aDtcbiAgICB9XG4gICAgY29tbWl0KGdyYW1tYXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbW1pdHRlZC5hZGQoZ3JhbW1hciksIHRoaXM7XG4gICAgfVxuICAgIF9iZWZvcmVFdmFsdWF0ZSgpIHtcbiAgICAgICAgdGhpcy5ncmFtbWFycy5mb3JFYWNoKChncmFtbWFyID0+IHtcbiAgICAgICAgICAgIGdyYW1tYXIudGFyZ2V0cy5zb21lKCh0YXJnZXQgPT4gKG51bGwgPT0gdGFyZ2V0ID8gdm9pZCAwIDogdGFyZ2V0LnJhbmspIDwgKG51bGwgPT0gZ3JhbW1hciA/IHZvaWQgMCA6IGdyYW1tYXIucmFuaykpKSAmJiB0aGlzLl9yZVJhbmsoZ3JhbW1hcik7XG4gICAgICAgIH0pKSwgdGhpcy5fY29tbWl0dGVkLmZvckVhY2goKGdyYW1tYXIgPT4gdGhpcy5fZW5xdWV1ZShncmFtbWFyKSkpLCB0aGlzLl9jb21taXR0ZWQgPSBuZXcgVW5pcXVlTGlzdCgoZ3JhbW1hciA9PiBncmFtbWFyLnVpZCkpO1xuICAgIH1cbiAgICBfZW5xdWV1ZVRhcmdldHMoZ3JhbW1hcikge1xuICAgICAgICBncmFtbWFyLnRhcmdldHMgJiYgZ3JhbW1hci50YXJnZXRzLmxlbmd0aCAmJiB0aGlzLl9maW5pc2hGaXJzdFJlbmRlciAmJiBncmFtbWFyLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0ID0+IHRoaXMuX2VucXVldWUodGFyZ2V0KSkpO1xuICAgIH1cbiAgICBldmFsdWF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JlZm9yZVJ1bm5lciAmJiB0aGlzLl9iZWZvcmVSdW5uZXIodGhpcyksICF0aGlzLl9jb21taXR0ZWQubGVuZ3RoKSByZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhcIkRhdGFmbG93IGludm9rZWQsIGJ1dCBub3RoaW5nIHRvIGRvLlwiKSwgXG4gICAgICAgICExO1xuICAgICAgICB0aGlzLl91cGRhdGVDb3VudGVyICs9IDE7XG4gICAgICAgIGxldCBncmFtbWFyLCBkdCwgY291bnQgPSAwO1xuICAgICAgICBmb3IgKHRoaXMubG9nZ2VyLmNhbkxvZ0luZm8oKSAmJiAoZHQgPSBEYXRlLm5vdygpLCB0aGlzLmxvZ2dlci5kZWJ1ZyhgLS0gU1RBUlQgUFJPUEFHQVRJT04gKCR7dGhpcy5fdXBkYXRlQ291bnRlcn0pIC0tLS0tYCkpLCBcbiAgICAgICAgdGhpcy5fYmVmb3JlRXZhbHVhdGUoKTsgdGhpcy5faGVhcC5zaXplKCkgPiAwOyApIGdyYW1tYXIgPSB0aGlzLl9oZWFwLnBvcCgpLCBncmFtbWFyICYmIChncmFtbWFyLnJhbmsgPT09IGdyYW1tYXIucXJhbmsgPyAoZ3JhbW1hci5ydW4oKSwgXG4gICAgICAgIHRoaXMuX2xvZ0dyYW1tYXJSdW5JbmZvKGdyYW1tYXIpLCB0aGlzLl9lbnF1ZXVlVGFyZ2V0cyhncmFtbWFyKSwgY291bnQgKz0gMSkgOiB0aGlzLl9lbnF1ZXVlKGdyYW1tYXIpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyLmNhbkxvZ0luZm8oKSAmJiAoZHQgPSBEYXRlLm5vdygpIC0gZHQsIHRoaXMubG9nZ2VyLmluZm8oYD4gJHtjb3VudH0gZ3JhbW1hcnMgdXBkYXRlZDsgJHtkdH0gbXNgKSksIFxuICAgICAgICB0aGlzLl9hZnRlclJ1bm5lciAmJiB0aGlzLl9hZnRlclJ1bm5lcih0aGlzKSwgdGhpcy5fZmluaXNoRmlyc3RSZW5kZXIgPSAhMCwgITA7XG4gICAgfVxuICAgIHJ1bkJlZm9yZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9iZWZvcmVSdW5uZXIgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcnVuQWZ0ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fYWZ0ZXJSdW5uZXIgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgdGhpcy5faGVhcCAmJiAodGhpcy5faGVhcC5jbGVhcigpLCB0aGlzLl9oZWFwID0gbnVsbCksIHRoaXMubG9nZ2VyID0gbnVsbCwgdGhpcy5fY29tbWl0dGVkID0gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhZmxvdy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/dataflow.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/events.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/events.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   permit: () => (/* binding */ permit),\n/* harmony export */   prevent: () => (/* binding */ prevent)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isObject.js\");\n\n\nfunction prevent(eventConfig, type) {\n    const def = eventConfig.defaults, prevent = def.prevent, allow = def.allow;\n    return !1 !== prevent && !0 !== allow && (!0 === prevent || !1 === allow || (prevent ? prevent[type] : !!allow && !allow[type]));\n}\n\nfunction permit(eventConfig, key, type) {\n    const rule = null == eventConfig ? void 0 : eventConfig[key];\n    return !(!1 === rule || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(rule) && !rule[type]);\n}\n//# sourceMappingURL=events.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ldmVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDOztBQUVyQztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0EsNEJBQTRCLDREQUFRO0FBQ3BDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ldmVudHMuanM/MTYyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc09iamVjdCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50KGV2ZW50Q29uZmlnLCB0eXBlKSB7XG4gICAgY29uc3QgZGVmID0gZXZlbnRDb25maWcuZGVmYXVsdHMsIHByZXZlbnQgPSBkZWYucHJldmVudCwgYWxsb3cgPSBkZWYuYWxsb3c7XG4gICAgcmV0dXJuICExICE9PSBwcmV2ZW50ICYmICEwICE9PSBhbGxvdyAmJiAoITAgPT09IHByZXZlbnQgfHwgITEgPT09IGFsbG93IHx8IChwcmV2ZW50ID8gcHJldmVudFt0eXBlXSA6ICEhYWxsb3cgJiYgIWFsbG93W3R5cGVdKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJtaXQoZXZlbnRDb25maWcsIGtleSwgdHlwZSkge1xuICAgIGNvbnN0IHJ1bGUgPSBudWxsID09IGV2ZW50Q29uZmlnID8gdm9pZCAwIDogZXZlbnRDb25maWdba2V5XTtcbiAgICByZXR1cm4gISghMSA9PT0gcnVsZSB8fCBpc09iamVjdChydWxlKSAmJiAhcnVsZVt0eXBlXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph-meta.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph-meta.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlyphMeta: () => (/* binding */ GlyphMeta)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n\n\nclass GlyphMeta {\n    constructor(marks, encoders, defaultEncoder, progressiveChannels) {\n        this.channelEncoder = {}, this.marks = marks, encoders && this.registerChannelEncoder(encoders), \n        defaultEncoder && this.registerDefaultEncoder(defaultEncoder), this.progressiveChannels && this.registerProgressiveChannels(progressiveChannels);\n    }\n    getMarks() {\n        return this.marks;\n    }\n    registerChannelEncoder(channel, encoder) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(channel) ? this.channelEncoder[channel] = encoder : Object.assign(this.channelEncoder, channel), \n        this;\n    }\n    registerFunctionEncoder(encoder) {\n        return this.functionEncoder = encoder, this;\n    }\n    registerDefaultEncoder(encoder) {\n        return this.defaultEncoder = encoder, this;\n    }\n    registerProgressiveChannels(channels) {\n        return this.progressiveChannels = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(channels), this;\n    }\n    getChannelEncoder() {\n        return this.channelEncoder;\n    }\n    getFunctionEncoder() {\n        return this.functionEncoder;\n    }\n    getDefaultEncoder() {\n        return this.defaultEncoder;\n    }\n    getProgressiveChannels() {\n        return this.progressiveChannels;\n    }\n}\n//# sourceMappingURL=glyph-meta.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9nbHlwaC1tZXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRDs7QUFFNUM7QUFDUDtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx1REFBSztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9nbHlwaC1tZXRhLmpzP2M0OTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXksIGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEdseXBoTWV0YSB7XG4gICAgY29uc3RydWN0b3IobWFya3MsIGVuY29kZXJzLCBkZWZhdWx0RW5jb2RlciwgcHJvZ3Jlc3NpdmVDaGFubmVscykge1xuICAgICAgICB0aGlzLmNoYW5uZWxFbmNvZGVyID0ge30sIHRoaXMubWFya3MgPSBtYXJrcywgZW5jb2RlcnMgJiYgdGhpcy5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKGVuY29kZXJzKSwgXG4gICAgICAgIGRlZmF1bHRFbmNvZGVyICYmIHRoaXMucmVnaXN0ZXJEZWZhdWx0RW5jb2RlcihkZWZhdWx0RW5jb2RlciksIHRoaXMucHJvZ3Jlc3NpdmVDaGFubmVscyAmJiB0aGlzLnJlZ2lzdGVyUHJvZ3Jlc3NpdmVDaGFubmVscyhwcm9ncmVzc2l2ZUNoYW5uZWxzKTtcbiAgICB9XG4gICAgZ2V0TWFya3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmtzO1xuICAgIH1cbiAgICByZWdpc3RlckNoYW5uZWxFbmNvZGVyKGNoYW5uZWwsIGVuY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGNoYW5uZWwpID8gdGhpcy5jaGFubmVsRW5jb2RlcltjaGFubmVsXSA9IGVuY29kZXIgOiBPYmplY3QuYXNzaWduKHRoaXMuY2hhbm5lbEVuY29kZXIsIGNoYW5uZWwpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgcmVnaXN0ZXJGdW5jdGlvbkVuY29kZXIoZW5jb2Rlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jdGlvbkVuY29kZXIgPSBlbmNvZGVyLCB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlckRlZmF1bHRFbmNvZGVyKGVuY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdEVuY29kZXIgPSBlbmNvZGVyLCB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlclByb2dyZXNzaXZlQ2hhbm5lbHMoY2hhbm5lbHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NpdmVDaGFubmVscyA9IGFycmF5KGNoYW5uZWxzKSwgdGhpcztcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbEVuY29kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWxFbmNvZGVyO1xuICAgIH1cbiAgICBnZXRGdW5jdGlvbkVuY29kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmN0aW9uRW5jb2RlcjtcbiAgICB9XG4gICAgZ2V0RGVmYXVsdEVuY29kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRFbmNvZGVyO1xuICAgIH1cbiAgICBnZXRQcm9ncmVzc2l2ZUNoYW5uZWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc2l2ZUNoYW5uZWxzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdseXBoLW1ldGEuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph-meta.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlyphMark: () => (/* binding */ GlyphMark),\n/* harmony export */   registerGlyphMark: () => (/* binding */ registerGlyphMark)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_glyph_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/glyph-element */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/glyph-element.js\");\n\n\n\n\n\n\n\n\n\n\nclass GlyphMark extends _mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    constructor(view, glyphType, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.glyph, group), this.glyphType = glyphType, this.glyphMeta = _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.getGlyph(glyphType);\n    }\n    configureGlyph(config) {\n        return this.spec.glyphConfig = config, this.commit(), this;\n    }\n    getGlyphMeta() {\n        return this.glyphMeta;\n    }\n    getGlyphConfig() {\n        return this.spec.glyphConfig;\n    }\n    addGraphicItem(attrs, groupKey) {\n        const graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_3__.createGlyphGraphicItem)(this, this.glyphMeta, attrs);\n        return super.addGraphicItem(attrs, groupKey, graphicItem);\n    }\n    createElement() {\n        return new _graph_glyph_element__WEBPACK_IMPORTED_MODULE_4__.GlyphElement(this);\n    }\n}\n\nGlyphMark.markType = _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.glyph;\n\nconst registerGlyphMark = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerMark(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.glyph, GlyphMark);\n};\n//# sourceMappingURL=glyph.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9nbHlwaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlEOztBQUVjOztBQUVqQzs7QUFFWTs7QUFFWTs7QUFFL0Msd0JBQXdCLHVDQUFJO0FBQ25DO0FBQ0Esb0JBQW9CLHlEQUFlLDZEQUE2RCxrREFBTztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDJFQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOERBQVk7QUFDL0I7QUFDQTs7QUFFQSxxQkFBcUIseURBQWU7O0FBRTdCO0FBQ1AsSUFBSSxrREFBTyxjQUFjLHlEQUFlO0FBQ3hDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9nbHlwaC5qcz9kOTUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBjcmVhdGVHbHlwaEdyYXBoaWNJdGVtIH0gZnJvbSBcIi4uL2dyYXBoL3V0aWwvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyBNYXJrIH0gZnJvbSBcIi4vbWFya1wiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBHbHlwaEVsZW1lbnQgfSBmcm9tIFwiLi4vZ3JhcGgvZ2x5cGgtZWxlbWVudFwiO1xuXG5leHBvcnQgY2xhc3MgR2x5cGhNYXJrIGV4dGVuZHMgTWFyayB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ2x5cGhUeXBlLCBncm91cCkge1xuICAgICAgICBzdXBlcih2aWV3LCBHcmFtbWFyTWFya1R5cGUuZ2x5cGgsIGdyb3VwKSwgdGhpcy5nbHlwaFR5cGUgPSBnbHlwaFR5cGUsIHRoaXMuZ2x5cGhNZXRhID0gRmFjdG9yeS5nZXRHbHlwaChnbHlwaFR5cGUpO1xuICAgIH1cbiAgICBjb25maWd1cmVHbHlwaChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5nbHlwaENvbmZpZyA9IGNvbmZpZywgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgZ2V0R2x5cGhNZXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nbHlwaE1ldGE7XG4gICAgfVxuICAgIGdldEdseXBoQ29uZmlnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmdseXBoQ29uZmlnO1xuICAgIH1cbiAgICBhZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXkpIHtcbiAgICAgICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBjcmVhdGVHbHlwaEdyYXBoaWNJdGVtKHRoaXMsIHRoaXMuZ2x5cGhNZXRhLCBhdHRycyk7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXksIGdyYXBoaWNJdGVtKTtcbiAgICB9XG4gICAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHbHlwaEVsZW1lbnQodGhpcyk7XG4gICAgfVxufVxuXG5HbHlwaE1hcmsubWFya1R5cGUgPSBHcmFtbWFyTWFya1R5cGUuZ2x5cGg7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckdseXBoTWFyayA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyTWFyayhHcmFtbWFyTWFya1R5cGUuZ2x5cGgsIEdseXBoTWFyayk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2x5cGguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/glyph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GrammarBase: () => (/* binding */ GrammarBase)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _parse_option__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parse/option */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/option.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\n\n\nlet grammarBaseId = -1;\n\nclass GrammarBase extends (_visactor_vutils__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(view) {\n        super(), this.spec = {}, this.references = new Map, this.targets = [], this.transforms = [], \n        this.view = view, this.uid = ++grammarBaseId;\n    }\n    parse(spec) {\n        return this.id(spec.id), this.name(spec.name), this.depend(spec.dependency), this;\n    }\n    depend(grammars) {\n        var _a;\n        if (null === (_a = this.spec) || void 0 === _a ? void 0 : _a.dependency) {\n            const lastGrammars = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(this.spec.dependency).map((grammar => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(grammar) ? this.view.getGrammarById(grammar) : grammar));\n            this.detach(lastGrammars);\n        }\n        this.spec.dependency = grammars;\n        const currentGrammars = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(grammars).map((grammar => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(grammar) ? this.view.getGrammarById(grammar) : grammar));\n        return this.attach(currentGrammars), this.commit(), this;\n    }\n    addEventListener(type, handler, options) {\n        let callback = handler;\n        return options && !1 === options.trap || (callback = handler, callback.raw = handler), \n        options && options.target && (callback.target = options.target), this.on(type, callback), \n        this;\n    }\n    removeEventListener(type, handler) {\n        return handler ? this.off(type, handler) : this.off(type), this;\n    }\n    emit(event, ...args) {\n        var _a, _b;\n        return null === (_b = null === (_a = this.view) || void 0 === _a ? void 0 : _a.emit) || void 0 === _b || _b.call(_a, event, ...args), \n        super.emit(event, ...args);\n    }\n    emitGrammarEvent(event, ...args) {\n        return super.emit(event, ...args);\n    }\n    evaluateTransform(transforms, upstream, parameters) {\n        if (!transforms || !transforms.length) return upstream;\n        let currentUpstreamData = upstream, i = 0;\n        const n = transforms.length;\n        for (;i < n; ) {\n            const task = transforms[i];\n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.HOOK_EVENT.BEFORE_TRANSFORM, task.type), currentUpstreamData = task.transform(task.isRawOptions ? task.options : (0,_parse_option__WEBPACK_IMPORTED_MODULE_4__.parseOptions)(task.options, parameters), currentUpstreamData, parameters, this.view), \n            i++, this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.HOOK_EVENT.AFTER_TRANSFORM, task.type);\n        }\n        return currentUpstreamData;\n    }\n    set(value) {\n        return !1;\n    }\n    id(id) {\n        return arguments.length ? (this.view.grammars.unrecord(this), this._id = id, this.view.grammars.record(this), \n        this) : this._id;\n    }\n    name(name) {\n        return arguments.length ? (this._name = name, this) : this._name;\n    }\n    attach(reference, count = 1) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(reference).filter((ref => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ref))).forEach((ref => {\n            var _a;\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(reference) || (ref.targets.includes(this) || ref.targets.push(this), this.references.set(ref, (null !== (_a = this.references.get(ref)) && void 0 !== _a ? _a : 0) + count));\n        })), this;\n    }\n    detach(reference, count = 1) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(reference).filter((ref => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ref))).forEach((ref => {\n            const refCount = this.references.get(ref) - count;\n            refCount > 0 ? this.references.set(ref, refCount - 1) : (this.references.delete(ref), \n            ref.targets.includes(this) && (ref.targets = ref.targets.filter((target => target !== this))));\n        })), this;\n    }\n    detachAll() {\n        this.references.forEach(((count, ref) => {\n            this.detach(ref, count);\n        }));\n    }\n    link(source) {\n        this.grammarSource = source;\n    }\n    run() {\n        var _a;\n        const upstream = null === (_a = this.grammarSource) || void 0 === _a ? void 0 : _a.output(), parameters = this.parameters();\n        return this.evaluate(upstream, parameters);\n    }\n    commit() {\n        this.view.commit(this);\n    }\n    parameters() {\n        const params = {};\n        return this.references.forEach(((count, ref) => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ref.id()) && (params[ref.id()] = ref.output());\n        })), params;\n    }\n    getSpec() {\n        return this.spec;\n    }\n    reuse(grammar) {\n        return this;\n    }\n    clear() {\n        this.spec = null, this.view = null;\n    }\n    release() {\n        this.clear();\n    }\n    setFunctionSpec(spec, specField) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec[specField]) || this.detach((0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.parseFunctionType)(this.spec[specField], this.view)), \n        this.spec[specField] = spec, this.attach((0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.parseFunctionType)(spec, this.view)), this.commit(), \n        this;\n    }\n}\n//# sourceMappingURL=grammar-base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ncmFtbWFyLWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpRjs7QUFFbEM7O0FBRUc7O0FBRU47O0FBRTVDOztBQUVPLDBCQUEwQix5REFBWTtBQUM3QztBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFLLHVDQUF1Qyw0REFBUTtBQUNyRjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsdURBQUssMkJBQTJCLDREQUFRO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQSxzQkFBc0Isb0RBQVUsdUdBQXVHLDJEQUFZO0FBQ25KLDJCQUEyQixvREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1REFBSyw0QkFBNEIsNERBQUs7QUFDckQ7QUFDQSxZQUFZLDREQUFLO0FBQ2pCLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZSx1REFBSyw0QkFBNEIsNERBQUs7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQU87QUFDbkIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFLLHNDQUFzQyw4REFBaUI7QUFDM0UsaURBQWlELDhEQUFpQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L2dyYW1tYXItYmFzZS5qcz9iZmIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5LCBFdmVudEVtaXR0ZXIsIGlzTmlsLCBpc1N0cmluZywgaXNWYWxpZCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IHBhcnNlT3B0aW9ucyB9IGZyb20gXCIuLi9wYXJzZS9vcHRpb25cIjtcblxuaW1wb3J0IHsgcGFyc2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBIT09LX0VWRU5UIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmxldCBncmFtbWFyQmFzZUlkID0gLTE7XG5cbmV4cG9ydCBjbGFzcyBHcmFtbWFyQmFzZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICBzdXBlcigpLCB0aGlzLnNwZWMgPSB7fSwgdGhpcy5yZWZlcmVuY2VzID0gbmV3IE1hcCwgdGhpcy50YXJnZXRzID0gW10sIHRoaXMudHJhbnNmb3JtcyA9IFtdLCBcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldywgdGhpcy51aWQgPSArK2dyYW1tYXJCYXNlSWQ7XG4gICAgfVxuICAgIHBhcnNlKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQoc3BlYy5pZCksIHRoaXMubmFtZShzcGVjLm5hbWUpLCB0aGlzLmRlcGVuZChzcGVjLmRlcGVuZGVuY3kpLCB0aGlzO1xuICAgIH1cbiAgICBkZXBlbmQoZ3JhbW1hcnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAobnVsbCA9PT0gKF9hID0gdGhpcy5zcGVjKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGVwZW5kZW5jeSkge1xuICAgICAgICAgICAgY29uc3QgbGFzdEdyYW1tYXJzID0gYXJyYXkodGhpcy5zcGVjLmRlcGVuZGVuY3kpLm1hcCgoZ3JhbW1hciA9PiBpc1N0cmluZyhncmFtbWFyKSA/IHRoaXMudmlldy5nZXRHcmFtbWFyQnlJZChncmFtbWFyKSA6IGdyYW1tYXIpKTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKGxhc3RHcmFtbWFycyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGVjLmRlcGVuZGVuY3kgPSBncmFtbWFycztcbiAgICAgICAgY29uc3QgY3VycmVudEdyYW1tYXJzID0gYXJyYXkoZ3JhbW1hcnMpLm1hcCgoZ3JhbW1hciA9PiBpc1N0cmluZyhncmFtbWFyKSA/IHRoaXMudmlldy5nZXRHcmFtbWFyQnlJZChncmFtbWFyKSA6IGdyYW1tYXIpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoKGN1cnJlbnRHcmFtbWFycyksIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICBsZXQgY2FsbGJhY2sgPSBoYW5kbGVyO1xuICAgICAgICByZXR1cm4gb3B0aW9ucyAmJiAhMSA9PT0gb3B0aW9ucy50cmFwIHx8IChjYWxsYmFjayA9IGhhbmRsZXIsIGNhbGxiYWNrLnJhdyA9IGhhbmRsZXIpLCBcbiAgICAgICAgb3B0aW9ucyAmJiBvcHRpb25zLnRhcmdldCAmJiAoY2FsbGJhY2sudGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQpLCB0aGlzLm9uKHR5cGUsIGNhbGxiYWNrKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlciA/IHRoaXMub2ZmKHR5cGUsIGhhbmRsZXIpIDogdGhpcy5vZmYodHlwZSksIHRoaXM7XG4gICAgfVxuICAgIGVtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMudmlldykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmVtaXQpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSwgZXZlbnQsIC4uLmFyZ3MpLCBcbiAgICAgICAgc3VwZXIuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgfVxuICAgIGVtaXRHcmFtbWFyRXZlbnQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBldmFsdWF0ZVRyYW5zZm9ybSh0cmFuc2Zvcm1zLCB1cHN0cmVhbSwgcGFyYW1ldGVycykge1xuICAgICAgICBpZiAoIXRyYW5zZm9ybXMgfHwgIXRyYW5zZm9ybXMubGVuZ3RoKSByZXR1cm4gdXBzdHJlYW07XG4gICAgICAgIGxldCBjdXJyZW50VXBzdHJlYW1EYXRhID0gdXBzdHJlYW0sIGkgPSAwO1xuICAgICAgICBjb25zdCBuID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICAgIGZvciAoO2kgPCBuOyApIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2sgPSB0cmFuc2Zvcm1zW2ldO1xuICAgICAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX1RSQU5TRk9STSwgdGFzay50eXBlKSwgY3VycmVudFVwc3RyZWFtRGF0YSA9IHRhc2sudHJhbnNmb3JtKHRhc2suaXNSYXdPcHRpb25zID8gdGFzay5vcHRpb25zIDogcGFyc2VPcHRpb25zKHRhc2sub3B0aW9ucywgcGFyYW1ldGVycyksIGN1cnJlbnRVcHN0cmVhbURhdGEsIHBhcmFtZXRlcnMsIHRoaXMudmlldyksIFxuICAgICAgICAgICAgaSsrLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9UUkFOU0ZPUk0sIHRhc2sudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVcHN0cmVhbURhdGE7XG4gICAgfVxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGlkKGlkKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHRoaXMudmlldy5ncmFtbWFycy51bnJlY29yZCh0aGlzKSwgdGhpcy5faWQgPSBpZCwgdGhpcy52aWV3LmdyYW1tYXJzLnJlY29yZCh0aGlzKSwgXG4gICAgICAgIHRoaXMpIDogdGhpcy5faWQ7XG4gICAgfVxuICAgIG5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0aGlzLl9uYW1lID0gbmFtZSwgdGhpcykgOiB0aGlzLl9uYW1lO1xuICAgIH1cbiAgICBhdHRhY2gocmVmZXJlbmNlLCBjb3VudCA9IDEpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5KHJlZmVyZW5jZSkuZmlsdGVyKChyZWYgPT4gIWlzTmlsKHJlZikpKS5mb3JFYWNoKChyZWYgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaXNOaWwocmVmZXJlbmNlKSB8fCAocmVmLnRhcmdldHMuaW5jbHVkZXModGhpcykgfHwgcmVmLnRhcmdldHMucHVzaCh0aGlzKSwgdGhpcy5yZWZlcmVuY2VzLnNldChyZWYsIChudWxsICE9PSAoX2EgPSB0aGlzLnJlZmVyZW5jZXMuZ2V0KHJlZikpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDApICsgY291bnQpKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBkZXRhY2gocmVmZXJlbmNlLCBjb3VudCA9IDEpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5KHJlZmVyZW5jZSkuZmlsdGVyKChyZWYgPT4gIWlzTmlsKHJlZikpKS5mb3JFYWNoKChyZWYgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVmQ291bnQgPSB0aGlzLnJlZmVyZW5jZXMuZ2V0KHJlZikgLSBjb3VudDtcbiAgICAgICAgICAgIHJlZkNvdW50ID4gMCA/IHRoaXMucmVmZXJlbmNlcy5zZXQocmVmLCByZWZDb3VudCAtIDEpIDogKHRoaXMucmVmZXJlbmNlcy5kZWxldGUocmVmKSwgXG4gICAgICAgICAgICByZWYudGFyZ2V0cy5pbmNsdWRlcyh0aGlzKSAmJiAocmVmLnRhcmdldHMgPSByZWYudGFyZ2V0cy5maWx0ZXIoKHRhcmdldCA9PiB0YXJnZXQgIT09IHRoaXMpKSkpO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIGRldGFjaEFsbCgpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzLmZvckVhY2goKChjb3VudCwgcmVmKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaChyZWYsIGNvdW50KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBsaW5rKHNvdXJjZSkge1xuICAgICAgICB0aGlzLmdyYW1tYXJTb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB1cHN0cmVhbSA9IG51bGwgPT09IChfYSA9IHRoaXMuZ3JhbW1hclNvdXJjZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm91dHB1dCgpLCBwYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmV2YWx1YXRlKHVwc3RyZWFtLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB0aGlzLnZpZXcuY29tbWl0KHRoaXMpO1xuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlcy5mb3JFYWNoKCgoY291bnQsIHJlZikgPT4ge1xuICAgICAgICAgICAgaXNWYWxpZChyZWYuaWQoKSkgJiYgKHBhcmFtc1tyZWYuaWQoKV0gPSByZWYub3V0cHV0KCkpO1xuICAgICAgICB9KSksIHBhcmFtcztcbiAgICB9XG4gICAgZ2V0U3BlYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYztcbiAgICB9XG4gICAgcmV1c2UoZ3JhbW1hcikge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuc3BlYyA9IG51bGwsIHRoaXMudmlldyA9IG51bGw7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9XG4gICAgc2V0RnVuY3Rpb25TcGVjKHNwZWMsIHNwZWNGaWVsZCkge1xuICAgICAgICByZXR1cm4gaXNOaWwodGhpcy5zcGVjW3NwZWNGaWVsZF0pIHx8IHRoaXMuZGV0YWNoKHBhcnNlRnVuY3Rpb25UeXBlKHRoaXMuc3BlY1tzcGVjRmllbGRdLCB0aGlzLnZpZXcpKSwgXG4gICAgICAgIHRoaXMuc3BlY1tzcGVjRmllbGRdID0gc3BlYywgdGhpcy5hdHRhY2gocGFyc2VGdW5jdGlvblR5cGUoc3BlYywgdGhpcy52aWV3KSksIHRoaXMuY29tbWl0KCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYW1tYXItYmFzZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-record.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-record.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordedGrammars: () => (/* binding */ RecordedGrammars),\n/* harmony export */   RecordedTreeGrammars: () => (/* binding */ RecordedTreeGrammars),\n/* harmony export */   releaseUpMarkNode: () => (/* binding */ releaseUpMarkNode)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\nclass RecordedGrammars {\n    constructor(mapKey, warningWhenDuplicated) {\n        this._grammars = {\n            signal: [],\n            data: [],\n            scale: [],\n            coordinate: [],\n            mark: [],\n            customized: []\n        }, this._grammarMap = {\n            signal: {},\n            data: {},\n            scale: {},\n            coordinate: {},\n            mark: {},\n            customized: {}\n        }, this._size = 0, this._mapKey = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(mapKey) ? grammar => grammar[mapKey] : mapKey, \n        this._warning = warningWhenDuplicated;\n    }\n    record(grammar) {\n        var _a, _b;\n        const grammarType = grammar.grammarType, key = this._mapKey(grammar);\n        return this._grammarMap[grammarType] ? (this._grammars[grammarType].push(grammar), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key) || (this._grammarMap[grammarType][key] ? null === (_a = this._warning) || void 0 === _a || _a.call(this, key, grammar) : this._grammarMap[grammarType][key] = grammar)) : (this._grammars.customized.push(grammar), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key) || (this._grammarMap.customized[key] ? null === (_b = this._warning) || void 0 === _b || _b.call(this, key, grammar) : this._grammarMap.customized[key] = grammar)), \n        this._size += 1, this;\n    }\n    unrecord(grammar) {\n        const grammarType = grammar.grammarType, key = this._mapKey(grammar);\n        return this._grammarMap[grammarType] ? (this._grammars[grammarType] = this._grammars[grammarType].filter((storedGrammar => storedGrammar !== grammar)), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key) || this._grammarMap[grammarType][key] !== grammar || delete this._grammarMap[grammarType][key]) : (this._grammars.customized = this._grammars.customized.filter((storedGrammar => storedGrammar !== grammar)), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key) || this._grammarMap.customized[key] !== grammar || delete this._grammarMap.customized[key]), \n        this._size -= 1, this;\n    }\n    size() {\n        return this._size;\n    }\n    getSignal(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.signal[key]) && void 0 !== _a ? _a : null;\n    }\n    getData(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.data[key]) && void 0 !== _a ? _a : null;\n    }\n    getScale(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.scale[key]) && void 0 !== _a ? _a : null;\n    }\n    getCoordinate(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.coordinate[key]) && void 0 !== _a ? _a : null;\n    }\n    getMark(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.mark[key]) && void 0 !== _a ? _a : null;\n    }\n    getCustomized(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.customized[key]) && void 0 !== _a ? _a : null;\n    }\n    getGrammar(key) {\n        return this._grammarMap.data[key] ? this._grammarMap.data[key] : this._grammarMap.signal[key] ? this._grammarMap.signal[key] : this._grammarMap.scale[key] ? this._grammarMap.scale[key] : this._grammarMap.coordinate[key] ? this._grammarMap.coordinate[key] : this._grammarMap.mark[key] ? this._grammarMap.mark[key] : this._grammarMap.customized[key] ? this._grammarMap.customized[key] : null;\n    }\n    getAllSignals() {\n        return this._grammars.signal;\n    }\n    getAllData() {\n        return this._grammars.data;\n    }\n    getAllScales() {\n        return this._grammars.scale;\n    }\n    getAllCoordinates() {\n        return this._grammars.coordinate;\n    }\n    getAllMarks() {\n        return this._grammars.mark;\n    }\n    getAllCustomized() {\n        return this._grammars.customized;\n    }\n    traverse(func) {\n        var _a;\n        Object.values(null !== (_a = this._grammars) && void 0 !== _a ? _a : {}).forEach((grammars => (null != grammars ? grammars : []).forEach((grammar => {\n            func.call(null, grammar);\n        }))));\n    }\n    find(func) {\n        let targetGrammar = null;\n        return this.traverse((grammar => !0 === func.call(null, grammar) && (targetGrammar = grammar, \n        !0))), targetGrammar;\n    }\n    filter(func) {\n        const targetGrammars = [];\n        return this.traverse((grammar => {\n            !0 === func.call(null, grammar) && targetGrammars.push(grammar);\n        })), targetGrammars;\n    }\n    clear() {\n        this._size = 0, this._grammars = {\n            signal: [],\n            data: [],\n            scale: [],\n            coordinate: [],\n            mark: [],\n            customized: []\n        }, this._grammarMap = {\n            signal: {},\n            data: {},\n            scale: {},\n            coordinate: {},\n            mark: {},\n            customized: {}\n        };\n    }\n    release() {\n        this._size = 0, this._grammars = null, this._grammarMap = null;\n    }\n}\n\nclass RecordedTreeGrammars extends RecordedGrammars {\n    constructor() {\n        super(...arguments), this._markNodes = [];\n    }\n    record(grammar) {\n        if (super.record(grammar), \"mark\" === grammar.grammarType) {\n            const mark = grammar, currentNode = {\n                mark: mark,\n                parent: null,\n                children: []\n            };\n            this._markNodes.forEach((node => {\n                const targetMark = node.mark;\n                targetMark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group && targetMark.includesChild(mark, !1) ? (node.children.push(currentNode), \n                currentNode.parent = node) : mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group && mark.includesChild(targetMark, !1) && (currentNode.children.push(node), \n                node.parent = currentNode);\n            })), this._markNodes.push(currentNode);\n        }\n        return this;\n    }\n    unrecord(grammar) {\n        if (super.unrecord(grammar), \"mark\" === grammar.grammarType) {\n            const mark = grammar, currentNode = this._markNodes.find((node => node.mark === mark));\n            this._markNodes.forEach((node => {\n                node.mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group && node.children.includes(currentNode) ? (node.children = node.children.filter((n => n !== currentNode)), \n                currentNode.parent = null) : mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group && currentNode.children.includes(node) && (currentNode.children = currentNode.children.filter((n => n !== node)), \n                node.parent = null);\n            })), this._markNodes = this._markNodes.filter((n => n !== currentNode));\n        }\n        return this;\n    }\n    getAllMarkNodes() {\n        return this._markNodes;\n    }\n    clear() {\n        super.clear(), this._markNodes = [];\n    }\n    release() {\n        super.release(), this._markNodes = null;\n    }\n}\n\nconst releaseUpMarkNode = node => {};\n//# sourceMappingURL=grammar-record.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ncmFtbWFyLXJlY29yZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBbUQ7O0FBRUY7O0FBRTFDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxzQkFBc0I7QUFDdEIsb0JBQW9CO0FBQ3BCLHFCQUFxQjtBQUNyQiwwQkFBMEI7QUFDMUIsb0JBQW9CO0FBQ3BCO0FBQ0EsU0FBUyxpQ0FBaUMsNERBQVE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiLFFBQVEsNERBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiLFFBQVEsNERBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRTtBQUMvRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsc0JBQXNCO0FBQ3RCLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckIsMEJBQTBCO0FBQzFCLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5REFBZTtBQUN2RCwrREFBK0QseURBQWU7QUFDOUU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseURBQWU7QUFDdEQsK0RBQStELHlEQUFlO0FBQzlFO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9meW5sYXRpY3MtYWkvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ncmFtbWFyLXJlY29yZC5qcz85MzEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsLCBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgUmVjb3JkZWRHcmFtbWFycyB7XG4gICAgY29uc3RydWN0b3IobWFwS2V5LCB3YXJuaW5nV2hlbkR1cGxpY2F0ZWQpIHtcbiAgICAgICAgdGhpcy5fZ3JhbW1hcnMgPSB7XG4gICAgICAgICAgICBzaWduYWw6IFtdLFxuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICBzY2FsZTogW10sXG4gICAgICAgICAgICBjb29yZGluYXRlOiBbXSxcbiAgICAgICAgICAgIG1hcms6IFtdLFxuICAgICAgICAgICAgY3VzdG9taXplZDogW11cbiAgICAgICAgfSwgdGhpcy5fZ3JhbW1hck1hcCA9IHtcbiAgICAgICAgICAgIHNpZ25hbDoge30sXG4gICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgIHNjYWxlOiB7fSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGU6IHt9LFxuICAgICAgICAgICAgbWFyazoge30sXG4gICAgICAgICAgICBjdXN0b21pemVkOiB7fVxuICAgICAgICB9LCB0aGlzLl9zaXplID0gMCwgdGhpcy5fbWFwS2V5ID0gaXNTdHJpbmcobWFwS2V5KSA/IGdyYW1tYXIgPT4gZ3JhbW1hclttYXBLZXldIDogbWFwS2V5LCBcbiAgICAgICAgdGhpcy5fd2FybmluZyA9IHdhcm5pbmdXaGVuRHVwbGljYXRlZDtcbiAgICB9XG4gICAgcmVjb3JkKGdyYW1tYXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgZ3JhbW1hclR5cGUgPSBncmFtbWFyLmdyYW1tYXJUeXBlLCBrZXkgPSB0aGlzLl9tYXBLZXkoZ3JhbW1hcik7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncmFtbWFyTWFwW2dyYW1tYXJUeXBlXSA/ICh0aGlzLl9ncmFtbWFyc1tncmFtbWFyVHlwZV0ucHVzaChncmFtbWFyKSwgXG4gICAgICAgIGlzTmlsKGtleSkgfHwgKHRoaXMuX2dyYW1tYXJNYXBbZ3JhbW1hclR5cGVdW2tleV0gPyBudWxsID09PSAoX2EgPSB0aGlzLl93YXJuaW5nKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLmNhbGwodGhpcywga2V5LCBncmFtbWFyKSA6IHRoaXMuX2dyYW1tYXJNYXBbZ3JhbW1hclR5cGVdW2tleV0gPSBncmFtbWFyKSkgOiAodGhpcy5fZ3JhbW1hcnMuY3VzdG9taXplZC5wdXNoKGdyYW1tYXIpLCBcbiAgICAgICAgaXNOaWwoa2V5KSB8fCAodGhpcy5fZ3JhbW1hck1hcC5jdXN0b21pemVkW2tleV0gPyBudWxsID09PSAoX2IgPSB0aGlzLl93YXJuaW5nKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwodGhpcywga2V5LCBncmFtbWFyKSA6IHRoaXMuX2dyYW1tYXJNYXAuY3VzdG9taXplZFtrZXldID0gZ3JhbW1hcikpLCBcbiAgICAgICAgdGhpcy5fc2l6ZSArPSAxLCB0aGlzO1xuICAgIH1cbiAgICB1bnJlY29yZChncmFtbWFyKSB7XG4gICAgICAgIGNvbnN0IGdyYW1tYXJUeXBlID0gZ3JhbW1hci5ncmFtbWFyVHlwZSwga2V5ID0gdGhpcy5fbWFwS2V5KGdyYW1tYXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JhbW1hck1hcFtncmFtbWFyVHlwZV0gPyAodGhpcy5fZ3JhbW1hcnNbZ3JhbW1hclR5cGVdID0gdGhpcy5fZ3JhbW1hcnNbZ3JhbW1hclR5cGVdLmZpbHRlcigoc3RvcmVkR3JhbW1hciA9PiBzdG9yZWRHcmFtbWFyICE9PSBncmFtbWFyKSksIFxuICAgICAgICBpc05pbChrZXkpIHx8IHRoaXMuX2dyYW1tYXJNYXBbZ3JhbW1hclR5cGVdW2tleV0gIT09IGdyYW1tYXIgfHwgZGVsZXRlIHRoaXMuX2dyYW1tYXJNYXBbZ3JhbW1hclR5cGVdW2tleV0pIDogKHRoaXMuX2dyYW1tYXJzLmN1c3RvbWl6ZWQgPSB0aGlzLl9ncmFtbWFycy5jdXN0b21pemVkLmZpbHRlcigoc3RvcmVkR3JhbW1hciA9PiBzdG9yZWRHcmFtbWFyICE9PSBncmFtbWFyKSksIFxuICAgICAgICBpc05pbChrZXkpIHx8IHRoaXMuX2dyYW1tYXJNYXAuY3VzdG9taXplZFtrZXldICE9PSBncmFtbWFyIHx8IGRlbGV0ZSB0aGlzLl9ncmFtbWFyTWFwLmN1c3RvbWl6ZWRba2V5XSksIFxuICAgICAgICB0aGlzLl9zaXplIC09IDEsIHRoaXM7XG4gICAgfVxuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xuICAgIH1cbiAgICBnZXRTaWduYWwoa2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuX2dyYW1tYXJNYXAuc2lnbmFsW2tleV0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGw7XG4gICAgfVxuICAgIGdldERhdGEoa2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuX2dyYW1tYXJNYXAuZGF0YVtrZXldKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBudWxsO1xuICAgIH1cbiAgICBnZXRTY2FsZShrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5fZ3JhbW1hck1hcC5zY2FsZVtrZXldKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBudWxsO1xuICAgIH1cbiAgICBnZXRDb29yZGluYXRlKGtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9ncmFtbWFyTWFwLmNvb3JkaW5hdGVba2V5XSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0TWFyayhrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5fZ3JhbW1hck1hcC5tYXJrW2tleV0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGw7XG4gICAgfVxuICAgIGdldEN1c3RvbWl6ZWQoa2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuX2dyYW1tYXJNYXAuY3VzdG9taXplZFtrZXldKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBudWxsO1xuICAgIH1cbiAgICBnZXRHcmFtbWFyKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JhbW1hck1hcC5kYXRhW2tleV0gPyB0aGlzLl9ncmFtbWFyTWFwLmRhdGFba2V5XSA6IHRoaXMuX2dyYW1tYXJNYXAuc2lnbmFsW2tleV0gPyB0aGlzLl9ncmFtbWFyTWFwLnNpZ25hbFtrZXldIDogdGhpcy5fZ3JhbW1hck1hcC5zY2FsZVtrZXldID8gdGhpcy5fZ3JhbW1hck1hcC5zY2FsZVtrZXldIDogdGhpcy5fZ3JhbW1hck1hcC5jb29yZGluYXRlW2tleV0gPyB0aGlzLl9ncmFtbWFyTWFwLmNvb3JkaW5hdGVba2V5XSA6IHRoaXMuX2dyYW1tYXJNYXAubWFya1trZXldID8gdGhpcy5fZ3JhbW1hck1hcC5tYXJrW2tleV0gOiB0aGlzLl9ncmFtbWFyTWFwLmN1c3RvbWl6ZWRba2V5XSA/IHRoaXMuX2dyYW1tYXJNYXAuY3VzdG9taXplZFtrZXldIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0QWxsU2lnbmFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJzLnNpZ25hbDtcbiAgICB9XG4gICAgZ2V0QWxsRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJzLmRhdGE7XG4gICAgfVxuICAgIGdldEFsbFNjYWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJzLnNjYWxlO1xuICAgIH1cbiAgICBnZXRBbGxDb29yZGluYXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJzLmNvb3JkaW5hdGU7XG4gICAgfVxuICAgIGdldEFsbE1hcmtzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JhbW1hcnMubWFyaztcbiAgICB9XG4gICAgZ2V0QWxsQ3VzdG9taXplZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJzLmN1c3RvbWl6ZWQ7XG4gICAgfVxuICAgIHRyYXZlcnNlKGZ1bmMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBPYmplY3QudmFsdWVzKG51bGwgIT09IChfYSA9IHRoaXMuX2dyYW1tYXJzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fSkuZm9yRWFjaCgoZ3JhbW1hcnMgPT4gKG51bGwgIT0gZ3JhbW1hcnMgPyBncmFtbWFycyA6IFtdKS5mb3JFYWNoKChncmFtbWFyID0+IHtcbiAgICAgICAgICAgIGZ1bmMuY2FsbChudWxsLCBncmFtbWFyKTtcbiAgICAgICAgfSkpKSk7XG4gICAgfVxuICAgIGZpbmQoZnVuYykge1xuICAgICAgICBsZXQgdGFyZ2V0R3JhbW1hciA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYXZlcnNlKChncmFtbWFyID0+ICEwID09PSBmdW5jLmNhbGwobnVsbCwgZ3JhbW1hcikgJiYgKHRhcmdldEdyYW1tYXIgPSBncmFtbWFyLCBcbiAgICAgICAgITApKSksIHRhcmdldEdyYW1tYXI7XG4gICAgfVxuICAgIGZpbHRlcihmdW5jKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEdyYW1tYXJzID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLnRyYXZlcnNlKChncmFtbWFyID0+IHtcbiAgICAgICAgICAgICEwID09PSBmdW5jLmNhbGwobnVsbCwgZ3JhbW1hcikgJiYgdGFyZ2V0R3JhbW1hcnMucHVzaChncmFtbWFyKTtcbiAgICAgICAgfSkpLCB0YXJnZXRHcmFtbWFycztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX3NpemUgPSAwLCB0aGlzLl9ncmFtbWFycyA9IHtcbiAgICAgICAgICAgIHNpZ25hbDogW10sXG4gICAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICAgIHNjYWxlOiBbXSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGU6IFtdLFxuICAgICAgICAgICAgbWFyazogW10sXG4gICAgICAgICAgICBjdXN0b21pemVkOiBbXVxuICAgICAgICB9LCB0aGlzLl9ncmFtbWFyTWFwID0ge1xuICAgICAgICAgICAgc2lnbmFsOiB7fSxcbiAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgc2NhbGU6IHt9LFxuICAgICAgICAgICAgY29vcmRpbmF0ZToge30sXG4gICAgICAgICAgICBtYXJrOiB7fSxcbiAgICAgICAgICAgIGN1c3RvbWl6ZWQ6IHt9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMuX3NpemUgPSAwLCB0aGlzLl9ncmFtbWFycyA9IG51bGwsIHRoaXMuX2dyYW1tYXJNYXAgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlY29yZGVkVHJlZUdyYW1tYXJzIGV4dGVuZHMgUmVjb3JkZWRHcmFtbWFycyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuX21hcmtOb2RlcyA9IFtdO1xuICAgIH1cbiAgICByZWNvcmQoZ3JhbW1hcikge1xuICAgICAgICBpZiAoc3VwZXIucmVjb3JkKGdyYW1tYXIpLCBcIm1hcmtcIiA9PT0gZ3JhbW1hci5ncmFtbWFyVHlwZSkge1xuICAgICAgICAgICAgY29uc3QgbWFyayA9IGdyYW1tYXIsIGN1cnJlbnROb2RlID0ge1xuICAgICAgICAgICAgICAgIG1hcms6IG1hcmssXG4gICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX21hcmtOb2Rlcy5mb3JFYWNoKChub2RlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRNYXJrID0gbm9kZS5tYXJrO1xuICAgICAgICAgICAgICAgIHRhcmdldE1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCAmJiB0YXJnZXRNYXJrLmluY2x1ZGVzQ2hpbGQobWFyaywgITEpID8gKG5vZGUuY2hpbGRyZW4ucHVzaChjdXJyZW50Tm9kZSksIFxuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnBhcmVudCA9IG5vZGUpIDogbWFyay5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwICYmIG1hcmsuaW5jbHVkZXNDaGlsZCh0YXJnZXRNYXJrLCAhMSkgJiYgKGN1cnJlbnROb2RlLmNoaWxkcmVuLnB1c2gobm9kZSksIFxuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50ID0gY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLl9tYXJrTm9kZXMucHVzaChjdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHVucmVjb3JkKGdyYW1tYXIpIHtcbiAgICAgICAgaWYgKHN1cGVyLnVucmVjb3JkKGdyYW1tYXIpLCBcIm1hcmtcIiA9PT0gZ3JhbW1hci5ncmFtbWFyVHlwZSkge1xuICAgICAgICAgICAgY29uc3QgbWFyayA9IGdyYW1tYXIsIGN1cnJlbnROb2RlID0gdGhpcy5fbWFya05vZGVzLmZpbmQoKG5vZGUgPT4gbm9kZS5tYXJrID09PSBtYXJrKSk7XG4gICAgICAgICAgICB0aGlzLl9tYXJrTm9kZXMuZm9yRWFjaCgobm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgbm9kZS5tYXJrLm1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuZ3JvdXAgJiYgbm9kZS5jaGlsZHJlbi5pbmNsdWRlcyhjdXJyZW50Tm9kZSkgPyAobm9kZS5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4uZmlsdGVyKChuID0+IG4gIT09IGN1cnJlbnROb2RlKSksIFxuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnBhcmVudCA9IG51bGwpIDogbWFyay5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwICYmIGN1cnJlbnROb2RlLmNoaWxkcmVuLmluY2x1ZGVzKG5vZGUpICYmIChjdXJyZW50Tm9kZS5jaGlsZHJlbiA9IGN1cnJlbnROb2RlLmNoaWxkcmVuLmZpbHRlcigobiA9PiBuICE9PSBub2RlKSksIFxuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50ID0gbnVsbCk7XG4gICAgICAgICAgICB9KSksIHRoaXMuX21hcmtOb2RlcyA9IHRoaXMuX21hcmtOb2Rlcy5maWx0ZXIoKG4gPT4gbiAhPT0gY3VycmVudE5vZGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0QWxsTWFya05vZGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFya05vZGVzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgc3VwZXIuY2xlYXIoKSwgdGhpcy5fbWFya05vZGVzID0gW107XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHN1cGVyLnJlbGVhc2UoKSwgdGhpcy5fbWFya05vZGVzID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWxlYXNlVXBNYXJrTm9kZSA9IG5vZGUgPT4ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFtbWFyLXJlY29yZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-record.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/group.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/group.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroupMark: () => (/* binding */ GroupMark)\n/* harmony export */ });\n/* harmony import */ var _graph_attributes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/attributes */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass GroupMark extends _mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.group, group), this.children = [];\n    }\n    parseRenderContext() {\n        return {\n            large: !1\n        };\n    }\n    appendChild(mark) {\n        return this.children.push(mark), this;\n    }\n    removeChild(mark) {\n        return this.children = this.children.filter((child => child !== mark)), this;\n    }\n    includesChild(mark, descendant = !0) {\n        return !!this.children.includes(mark) || !!descendant && this.children.some((child => child.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.group && child.includesChild(mark, !0)));\n    }\n    updateLayoutChildren() {\n        return this.children.length ? (this.layoutChildren || (this.layoutChildren = []), \n        this.layoutChildren = this.children.filter((child => child.needLayout())), this) : this;\n    }\n    getAttributeTransforms() {\n        return _graph_attributes__WEBPACK_IMPORTED_MODULE_2__.transformsByType.rect;\n    }\n    evaluateJoin(data) {\n        if (!this.elements.length) {\n            const el = this.createElement();\n            el.updateData(_graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultKey, _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultMarkData, (() => \"\")), this.elements = [ el ], \n            this.elementMap.set(_graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultKey, el);\n        }\n    }\n    getChannelsFromConfig(element) {\n        const spec = this.spec, initAttrs = {};\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec.clip) || (initAttrs.clip = spec.clip), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec.zIndex) || (initAttrs.zIndex = spec.zIndex), \n        !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec.clipPath)) {\n            const paths = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(spec.clipPath) ? spec.clipPath([ element ]) : spec.clipPath;\n            paths && paths.length ? initAttrs.path = paths : (initAttrs.path = null, initAttrs.clip = !1);\n        }\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec.interactive) || (initAttrs.pickable = spec.interactive), initAttrs;\n    }\n    evaluateGroupEncode(elements, groupEncode, parameters) {\n        var _a;\n        const el = this.elements[0], nextAttrs = {}, items = [ Object.assign({}, null === (_a = el.items) || void 0 === _a ? void 0 : _a[0], {\n            nextAttrs: nextAttrs\n        }) ];\n        return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_6__.invokeEncoderToItems)(el, items, groupEncode, parameters), this._groupEncodeResult = nextAttrs, \n        nextAttrs;\n    }\n    evaluateEncode(elements, encoders, parameters, noGroupEncode) {\n        const initAttrs = this.getChannelsFromConfig();\n        if (encoders) {\n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.BEFORE_ELEMENT_ENCODE, {\n                encoders: encoders,\n                parameters: parameters\n            }, this);\n            const groupEncodeAttrs = noGroupEncode ? null : this.evaluateGroupEncode(elements, encoders[_graph_enums__WEBPACK_IMPORTED_MODULE_1__.BuiltInEncodeNames.group], parameters);\n            elements.forEach((element => {\n                element.items.forEach((item => {\n                    item.nextAttrs = Object.assign(item.nextAttrs, initAttrs, groupEncodeAttrs);\n                })), element.encodeItems(element.items, encoders, this._isReentered, parameters);\n            })), this._isReentered = !1, this.evaluateTransform(this._getTransformsAfterEncodeItems(), elements, parameters), \n            elements.forEach((element => {\n                element.encodeGraphic();\n            })), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.AFTER_ELEMENT_ENCODE, {\n                encoders: encoders,\n                parameters: parameters\n            }, this);\n        } else elements.forEach((element => {\n            element.initGraphicItem(initAttrs);\n        }));\n    }\n    addGraphicItem(attrs, groupKey, newGraphicItem) {\n        const graphicItem = null != newGraphicItem ? newGraphicItem : (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_7__.createGraphicItem)(this, this.markType, attrs);\n        if (graphicItem) return this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.BEFORE_ADD_VRENDER_MARK, {\n            graphicItem: graphicItem\n        }), graphicItem.name = `${this.id() || this.markType}`, this.graphicParent.insertIntoKeepIdx(graphicItem, this.graphicIndex), \n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.AFTER_ADD_VRENDER_MARK, {\n            graphicItem: graphicItem\n        }), graphicItem;\n    }\n}\n//# sourceMappingURL=group.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ncm91cC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUQ7O0FBRVU7O0FBRWdCOztBQUV2Qjs7QUFFNUI7O0FBRXVCOztBQUVPOztBQUVyRCx3QkFBd0IsdUNBQUk7QUFDbkM7QUFDQSxvQkFBb0IseURBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpSEFBaUgseURBQWU7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwrREFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsd0RBQVUsRUFBRSw2REFBZTtBQUNyRCxnQ0FBZ0Msd0RBQVU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFLLDZDQUE2Qyw0REFBSztBQUNuRSxTQUFTLDREQUFLO0FBQ2QsMEJBQTBCLDREQUFVO0FBQ3BDO0FBQ0E7QUFDQSxlQUFlLDREQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw0QkFBNEI7QUFDL0U7QUFDQSxTQUFTO0FBQ1QsZUFBZSx3RUFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvREFBVTtBQUNoQztBQUNBO0FBQ0EsYUFBYTtBQUNiLHdHQUF3Ryw0REFBa0I7QUFDMUg7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYSxjQUFjLG9EQUFVO0FBQ3JDO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxzRUFBc0Usc0VBQWlCO0FBQ3ZGLDBDQUEwQyxvREFBVTtBQUNwRDtBQUNBLFNBQVMseUJBQXlCLDJCQUEyQjtBQUM3RCxrQkFBa0Isb0RBQVU7QUFDNUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvZ3JvdXAuanM/MjUxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0cmFuc2Zvcm1zQnlUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2F0dHJpYnV0ZXNcIjtcblxuaW1wb3J0IHsgRGVmYXVsdEtleSwgRGVmYXVsdE1hcmtEYXRhIH0gZnJvbSBcIi4uL2dyYXBoL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBCdWlsdEluRW5jb2RlTmFtZXMsIEdyYW1tYXJNYXJrVHlwZSwgSE9PS19FVkVOVCB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBjcmVhdGVHcmFwaGljSXRlbSB9IGZyb20gXCIuLi9ncmFwaC91dGlsL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgTWFyayB9IGZyb20gXCIuL21hcmtcIjtcblxuaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyVG9JdGVtcyB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2VuY29kZVwiO1xuXG5leHBvcnQgY2xhc3MgR3JvdXBNYXJrIGV4dGVuZHMgTWFyayB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldywgR3JhbW1hck1hcmtUeXBlLmdyb3VwLCBncm91cCksIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG4gICAgcGFyc2VSZW5kZXJDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFyZ2U6ICExXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFwcGVuZENoaWxkKG1hcmspIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ucHVzaChtYXJrKSwgdGhpcztcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGQobWFyaykge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uZmlsdGVyKChjaGlsZCA9PiBjaGlsZCAhPT0gbWFyaykpLCB0aGlzO1xuICAgIH1cbiAgICBpbmNsdWRlc0NoaWxkKG1hcmssIGRlc2NlbmRhbnQgPSAhMCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmNoaWxkcmVuLmluY2x1ZGVzKG1hcmspIHx8ICEhZGVzY2VuZGFudCAmJiB0aGlzLmNoaWxkcmVuLnNvbWUoKGNoaWxkID0+IGNoaWxkLm1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuZ3JvdXAgJiYgY2hpbGQuaW5jbHVkZXNDaGlsZChtYXJrLCAhMCkpKTtcbiAgICB9XG4gICAgdXBkYXRlTGF5b3V0Q2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA/ICh0aGlzLmxheW91dENoaWxkcmVuIHx8ICh0aGlzLmxheW91dENoaWxkcmVuID0gW10pLCBcbiAgICAgICAgdGhpcy5sYXlvdXRDaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uZmlsdGVyKChjaGlsZCA9PiBjaGlsZC5uZWVkTGF5b3V0KCkpKSwgdGhpcykgOiB0aGlzO1xuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGVUcmFuc2Zvcm1zKCkge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3Jtc0J5VHlwZS5yZWN0O1xuICAgIH1cbiAgICBldmFsdWF0ZUpvaW4oZGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IHRoaXMuY3JlYXRlRWxlbWVudCgpO1xuICAgICAgICAgICAgZWwudXBkYXRlRGF0YShEZWZhdWx0S2V5LCBEZWZhdWx0TWFya0RhdGEsICgoKSA9PiBcIlwiKSksIHRoaXMuZWxlbWVudHMgPSBbIGVsIF0sIFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50TWFwLnNldChEZWZhdWx0S2V5LCBlbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHNGcm9tQ29uZmlnKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc3BlYyA9IHRoaXMuc3BlYywgaW5pdEF0dHJzID0ge307XG4gICAgICAgIGlmIChpc05pbChzcGVjLmNsaXApIHx8IChpbml0QXR0cnMuY2xpcCA9IHNwZWMuY2xpcCksIGlzTmlsKHNwZWMuekluZGV4KSB8fCAoaW5pdEF0dHJzLnpJbmRleCA9IHNwZWMuekluZGV4KSwgXG4gICAgICAgICFpc05pbChzcGVjLmNsaXBQYXRoKSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aHMgPSBpc0Z1bmN0aW9uKHNwZWMuY2xpcFBhdGgpID8gc3BlYy5jbGlwUGF0aChbIGVsZW1lbnQgXSkgOiBzcGVjLmNsaXBQYXRoO1xuICAgICAgICAgICAgcGF0aHMgJiYgcGF0aHMubGVuZ3RoID8gaW5pdEF0dHJzLnBhdGggPSBwYXRocyA6IChpbml0QXR0cnMucGF0aCA9IG51bGwsIGluaXRBdHRycy5jbGlwID0gITEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc05pbChzcGVjLmludGVyYWN0aXZlKSB8fCAoaW5pdEF0dHJzLnBpY2thYmxlID0gc3BlYy5pbnRlcmFjdGl2ZSksIGluaXRBdHRycztcbiAgICB9XG4gICAgZXZhbHVhdGVHcm91cEVuY29kZShlbGVtZW50cywgZ3JvdXBFbmNvZGUsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxlbWVudHNbMF0sIG5leHRBdHRycyA9IHt9LCBpdGVtcyA9IFsgT2JqZWN0LmFzc2lnbih7fSwgbnVsbCA9PT0gKF9hID0gZWwuaXRlbXMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVswXSwge1xuICAgICAgICAgICAgbmV4dEF0dHJzOiBuZXh0QXR0cnNcbiAgICAgICAgfSkgXTtcbiAgICAgICAgcmV0dXJuIGludm9rZUVuY29kZXJUb0l0ZW1zKGVsLCBpdGVtcywgZ3JvdXBFbmNvZGUsIHBhcmFtZXRlcnMpLCB0aGlzLl9ncm91cEVuY29kZVJlc3VsdCA9IG5leHRBdHRycywgXG4gICAgICAgIG5leHRBdHRycztcbiAgICB9XG4gICAgZXZhbHVhdGVFbmNvZGUoZWxlbWVudHMsIGVuY29kZXJzLCBwYXJhbWV0ZXJzLCBub0dyb3VwRW5jb2RlKSB7XG4gICAgICAgIGNvbnN0IGluaXRBdHRycyA9IHRoaXMuZ2V0Q2hhbm5lbHNGcm9tQ29uZmlnKCk7XG4gICAgICAgIGlmIChlbmNvZGVycykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX0VMRU1FTlRfRU5DT0RFLCB7XG4gICAgICAgICAgICAgICAgZW5jb2RlcnM6IGVuY29kZXJzLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHBhcmFtZXRlcnNcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBFbmNvZGVBdHRycyA9IG5vR3JvdXBFbmNvZGUgPyBudWxsIDogdGhpcy5ldmFsdWF0ZUdyb3VwRW5jb2RlKGVsZW1lbnRzLCBlbmNvZGVyc1tCdWlsdEluRW5jb2RlTmFtZXMuZ3JvdXBdLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaXRlbXMuZm9yRWFjaCgoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ubmV4dEF0dHJzID0gT2JqZWN0LmFzc2lnbihpdGVtLm5leHRBdHRycywgaW5pdEF0dHJzLCBncm91cEVuY29kZUF0dHJzKTtcbiAgICAgICAgICAgICAgICB9KSksIGVsZW1lbnQuZW5jb2RlSXRlbXMoZWxlbWVudC5pdGVtcywgZW5jb2RlcnMsIHRoaXMuX2lzUmVlbnRlcmVkLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5faXNSZWVudGVyZWQgPSAhMSwgdGhpcy5ldmFsdWF0ZVRyYW5zZm9ybSh0aGlzLl9nZXRUcmFuc2Zvcm1zQWZ0ZXJFbmNvZGVJdGVtcygpLCBlbGVtZW50cywgcGFyYW1ldGVycyksIFxuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5lbmNvZGVHcmFwaGljKCk7XG4gICAgICAgICAgICB9KSksIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX0VMRU1FTlRfRU5DT0RFLCB7XG4gICAgICAgICAgICAgICAgZW5jb2RlcnM6IGVuY29kZXJzLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHBhcmFtZXRlcnNcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9IGVsc2UgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmluaXRHcmFwaGljSXRlbShpbml0QXR0cnMpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSwgbmV3R3JhcGhpY0l0ZW0pIHtcbiAgICAgICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBudWxsICE9IG5ld0dyYXBoaWNJdGVtID8gbmV3R3JhcGhpY0l0ZW0gOiBjcmVhdGVHcmFwaGljSXRlbSh0aGlzLCB0aGlzLm1hcmtUeXBlLCBhdHRycyk7XG4gICAgICAgIGlmIChncmFwaGljSXRlbSkgcmV0dXJuIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9BRERfVlJFTkRFUl9NQVJLLCB7XG4gICAgICAgICAgICBncmFwaGljSXRlbTogZ3JhcGhpY0l0ZW1cbiAgICAgICAgfSksIGdyYXBoaWNJdGVtLm5hbWUgPSBgJHt0aGlzLmlkKCkgfHwgdGhpcy5tYXJrVHlwZX1gLCB0aGlzLmdyYXBoaWNQYXJlbnQuaW5zZXJ0SW50b0tlZXBJZHgoZ3JhcGhpY0l0ZW0sIHRoaXMuZ3JhcGhpY0luZGV4KSwgXG4gICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX0FERF9WUkVOREVSX01BUkssIHtcbiAgICAgICAgICAgIGdyYXBoaWNJdGVtOiBncmFwaGljSXRlbVxuICAgICAgICB9KSwgZ3JhcGhpY0l0ZW07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvdXAuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/group.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark-animate-mixin.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark-animate-mixin.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerMarkAnimateAPI: () => (/* binding */ registerMarkAnimateAPI)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _graph_animation_animate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../graph/animation/animate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/animate.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n\n\n\n\n\n\nclass MarkAnimateMixin {\n    constructor() {\n        this.animate = new _graph_animation_animate__WEBPACK_IMPORTED_MODULE_0__.Animate(this, {});\n    }\n    initAnimate(spec) {\n        this.animate || (this.animate = new _graph_animation_animate__WEBPACK_IMPORTED_MODULE_0__.Animate(this, spec.animation), this.needAnimate() && this.animate.updateState(spec.animationState));\n    }\n    reuseAnimate(mark) {\n        this.animate = mark.animate, this.animate.mark = this;\n    }\n    updateAnimate(spec) {\n        spec.animation && this.animate.updateConfig(spec.animation), this.animate.updateState(spec.animationState);\n    }\n}\n\nconst registerMarkAnimateAPI = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.mixin)(_mark__WEBPACK_IMPORTED_MODULE_2__.Mark, MarkAnimateMixin);\n};\n//# sourceMappingURL=mark-animate-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9tYXJrLWFuaW1hdGUtbWl4aW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5Qzs7QUFFWTs7QUFFdkI7O0FBRTlCO0FBQ0E7QUFDQSwyQkFBMkIsNkRBQU8sU0FBUztBQUMzQztBQUNBO0FBQ0EsNENBQTRDLDZEQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUCxJQUFJLHVEQUFLLENBQUMsdUNBQUk7QUFDZDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvbWFyay1hbmltYXRlLW1peGluLmpzP2ViNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWl4aW4gfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBBbmltYXRlIH0gZnJvbSBcIi4uL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRlXCI7XG5cbmltcG9ydCB7IE1hcmsgfSBmcm9tIFwiLi9tYXJrXCI7XG5cbmNsYXNzIE1hcmtBbmltYXRlTWl4aW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFuaW1hdGUgPSBuZXcgQW5pbWF0ZSh0aGlzLCB7fSk7XG4gICAgfVxuICAgIGluaXRBbmltYXRlKHNwZWMpIHtcbiAgICAgICAgdGhpcy5hbmltYXRlIHx8ICh0aGlzLmFuaW1hdGUgPSBuZXcgQW5pbWF0ZSh0aGlzLCBzcGVjLmFuaW1hdGlvbiksIHRoaXMubmVlZEFuaW1hdGUoKSAmJiB0aGlzLmFuaW1hdGUudXBkYXRlU3RhdGUoc3BlYy5hbmltYXRpb25TdGF0ZSkpO1xuICAgIH1cbiAgICByZXVzZUFuaW1hdGUobWFyaykge1xuICAgICAgICB0aGlzLmFuaW1hdGUgPSBtYXJrLmFuaW1hdGUsIHRoaXMuYW5pbWF0ZS5tYXJrID0gdGhpcztcbiAgICB9XG4gICAgdXBkYXRlQW5pbWF0ZShzcGVjKSB7XG4gICAgICAgIHNwZWMuYW5pbWF0aW9uICYmIHRoaXMuYW5pbWF0ZS51cGRhdGVDb25maWcoc3BlYy5hbmltYXRpb24pLCB0aGlzLmFuaW1hdGUudXBkYXRlU3RhdGUoc3BlYy5hbmltYXRpb25TdGF0ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJNYXJrQW5pbWF0ZUFQSSA9ICgpID0+IHtcbiAgICBtaXhpbihNYXJrLCBNYXJrQW5pbWF0ZU1peGluKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrLWFuaW1hdGUtbWl4aW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark-animate-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Mark: () => (/* binding */ Mark)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_differ__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/mark/differ */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _parse_transform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../parse/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/transform.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _graph_attributes__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../graph/attributes */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _graph_util_events_extend__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graph/util/events-extend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _graph_element__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../graph/element */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/element.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Mark extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor(view, markType, group) {\n        super(view), this.grammarType = \"mark\", this.elements = [], this.elementMap = new Map, \n        this.isUpdated = !0, this._isReentered = !1, this.differ = new _graph_mark_differ__WEBPACK_IMPORTED_MODULE_1__.Differ([]), this.markType = markType, \n        this.spec.type = markType, this.spec.encode = {\n            update: {}\n        }, this.spec.group = group, group && (this.group = group, this.attach(group), group.appendChild(this));\n    }\n    parse(spec) {\n        var _a, _b, _c;\n        if (super.parse(spec), this.spec.group) {\n            const groupMark = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.spec.group) ? this.view.getMarkById(this.spec.group) : this.spec.group;\n            this.detach(groupMark);\n        }\n        const groupMark = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(spec.group) ? this.view.getMarkById(spec.group) : spec.group;\n        return this.attach(groupMark), this.join(null === (_a = spec.from) || void 0 === _a ? void 0 : _a.data, spec.key, spec.sort, spec.groupBy, spec.groupSort), \n        this.coordinate(spec.coordinate), this.state(spec.state, this.spec.stateSort), Object.keys(null !== (_b = this.spec.encode) && void 0 !== _b ? _b : {}).forEach((state => {\n            this.encodeState(state, {}, !0);\n        })), Object.keys(null !== (_c = spec.encode) && void 0 !== _c ? _c : {}).forEach((state => {\n            this.encodeState(state, spec.encode[state]);\n        })), this.animation(spec.animation), this.animationState(spec.animationState), this.morph(spec.morph, spec.morphKey, spec.morphElementKey), \n        this.layout(spec.layout), this.configure(spec), this.transform(spec.transform), \n        this.parseAddition(spec), this.spec = spec, this.markType = spec.type, this.commit(), \n        this;\n    }\n    parameters() {\n        var _a;\n        return null !== (_a = this._finalParameters) && void 0 !== _a ? _a : super.parameters();\n    }\n    parseAddition(spec) {\n        return this;\n    }\n    reuse(grammar) {\n        var _b;\n        if (grammar.grammarType !== this.grammarType) return this;\n        const mark = grammar;\n        return this.markType = mark.markType, this.coord = mark.coord, this.elementMap = mark.elementMap, \n        this.elements = mark.elements, this.elementMap.forEach((element => element.mark = this)), \n        this.differ = mark.differ, null === (_b = this.reuseAnimate) || void 0 === _b || _b.call(this, mark), \n        this._context = mark._context, this.graphicItem = mark.graphicItem, this.graphicIndex = mark.graphicIndex, \n        this.graphicParent = mark.graphicParent, this.needClear = mark.needClear, this.isUpdated = mark.isUpdated, \n        this;\n    }\n    needLayout() {\n        return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.layout);\n    }\n    handleLayoutEnd() {}\n    handleRenderEnd() {\n        this.needClear && (this.cleanExitElements(), this.elementMap.forEach((element => {\n            element.diffState === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit ? element.clearGraphicAttributes() : element.clearChangedGraphicAttributes();\n        })), this.differ.updateToCurrent(), this.needClear = !1);\n    }\n    evaluateMainTasks(data, parameters) {\n        var _a, _b;\n        if (this.needSkipBeforeLayout() && this.view.getLayoutState() === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LayoutState.before) return this;\n        const stage = null === (_a = this.view.renderer) || void 0 === _a ? void 0 : _a.stage();\n        this.init(stage, parameters);\n        const transformData = this.evaluateTransform(this._getTransformsBeforeJoin(), null != data ? data : _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultMarkData, parameters), progressiveTransform = null == transformData ? void 0 : transformData.progressive;\n        if (progressiveTransform ? this.renderContext = {\n            large: !1\n        } : (this.evaluateGroup(transformData), this.renderContext = this.parseRenderContext(transformData, parameters)), \n        null === (_b = this.renderContext) || void 0 === _b ? void 0 : _b.progressive) this.differ.reset(), \n        this.elementMap.clear(), this.evaluateProgressive(); else {\n            let inputData = null;\n            if (progressiveTransform) {\n                if (this.renderContext.parameters = parameters, this.renderContext.beforeTransformProgressive = transformData.progressive, \n                inputData = transformData.progressive.output(), transformData.progressive.canAnimate && transformData.progressive.unfinished()) return this.update(this.spec), \n                this;\n            } else inputData = transformData;\n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_JOIN), this.evaluateJoin(inputData), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_JOIN), \n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_STATE), this.evaluateState(this.elements, this.spec.state, parameters), \n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_STATE), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_ENCODE), \n            this.evaluateEncode(this.elements, this._getEncoders(), parameters), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_ENCODE);\n        }\n        return this.update(this.spec), this;\n    }\n    evaluateGroup(data) {\n        if (this.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group) return;\n        const res = (0,_graph_mark_differ__WEBPACK_IMPORTED_MODULE_1__.groupData)(null != data ? data : _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultMarkData, this.spec.groupBy, this.spec.groupSort);\n        this._groupEncodeResult = null, this._groupedData = res;\n    }\n    _getTransformsAfterEncodeItems() {\n        return this.transforms && this.transforms.filter((entry => \"afterEncodeItems\" === entry.markPhase));\n    }\n    _getTransformsAfterEncode() {\n        return this.transforms && this.transforms.filter((entry => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(entry.markPhase) || \"afterEncode\" === entry.markPhase));\n    }\n    _getTransformsBeforeJoin() {\n        return this.transforms ? this.transforms.filter((entry => \"beforeJoin\" === entry.markPhase)) : [];\n    }\n    evaluate(data, parameters) {\n        var _a;\n        return this.evaluateMainTasks(data, parameters), (null === (_a = this.renderContext) || void 0 === _a ? void 0 : _a.progressive) || this.evaluateTransform(this._getTransformsAfterEncode(), this.elements, parameters), \n        this;\n    }\n    output() {\n        return this;\n    }\n    join(data, key, sort, groupBy, groupSort) {\n        return this.grammarSource && (this.detach(this.grammarSource), this.grammarSource = null), \n        this.spec.from = null, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(data) || ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(data) ? this.grammarSource = this.view.getDataById(data) : this.grammarSource = data, \n        this.spec.from = {\n            data: data\n        }, this.attach(this.grammarSource)), this.spec.key = key, this.spec.sort = sort, \n        this.spec.groupBy = groupBy, this.spec.groupSort = groupSort, this.commit(), this;\n    }\n    coordinate(coordinate) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(coordinate) ? this.coord = this.view.getCoordinateById(coordinate) : this.coord = coordinate, \n        this.attach(this.coord), this.commit(), this;\n    }\n    state(state, stateSort) {\n        return this.spec.stateSort = stateSort, this.setFunctionSpec(state, \"state\");\n    }\n    encode(channel, value, clear) {\n        return this.encodeState(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.update, channel, value, clear);\n    }\n    encodeState(state, channel, value, clear) {\n        if (state === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter && (this._isReentered = !0), this.spec.encode[state]) {\n            const lastEncoder = this.spec.encode[state];\n            if ((0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.isFunctionType)(lastEncoder)) this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(lastEncoder, this.view)); else {\n                const isSingleChannel = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(channel);\n                isSingleChannel && clear || !isSingleChannel && value ? (Object.keys(lastEncoder).forEach((c => {\n                    this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(lastEncoder[c], this.view));\n                })), this.spec.encode[state] = {}) : isSingleChannel ? this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(lastEncoder[channel], this.view)) : Object.keys(channel).forEach((c => {\n                    this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(lastEncoder[c], this.view));\n                }));\n            }\n        }\n        return channel && (this.spec.encode[state] || (this.spec.encode[state] = {}), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(channel) ? (this.spec.encode[state][channel] = value, \n        this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(value, this.view))) : (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.isFunctionType)(channel) ? (this.spec.encode[state] = channel, \n        this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(channel, this.view))) : channel && (Object.assign(this.spec.encode[state], channel), \n        Object.values(channel).forEach((channelEncoder => {\n            this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(channelEncoder, this.view));\n        })))), this.commit(), this;\n    }\n    _getEncoders() {\n        var _a;\n        return null !== (_a = this.spec.encode) && void 0 !== _a ? _a : {};\n    }\n    animation(animationConfig) {\n        return this.spec.animation = animationConfig, this;\n    }\n    animationState(animationState) {\n        return this.setFunctionSpec(animationState, \"animationState\");\n    }\n    layout(layout) {\n        return this.spec.layout = layout, this.commit(), this;\n    }\n    morph(enableMorph, morphKey, morphElementKey) {\n        return this.spec.morph = enableMorph, this.spec.morphKey = morphKey, this.spec.morphElementKey = morphElementKey, \n        this;\n    }\n    transform(transforms) {\n        const prevTransforms = (0,_parse_transform__WEBPACK_IMPORTED_MODULE_8__.parseTransformSpec)(this.spec.transform, this.view);\n        prevTransforms && (this.detach(prevTransforms.refs), this.transforms = []);\n        const nextTransforms = (0,_parse_transform__WEBPACK_IMPORTED_MODULE_8__.parseTransformSpec)(transforms, this.view);\n        return nextTransforms && (this.attach(nextTransforms.refs), this.transforms = nextTransforms.transforms), \n        this.spec.transform = transforms, this.commit(), this;\n    }\n    configure(config) {\n        const keys = [ \"clip\", \"clipPath\", \"zIndex\", \"interactive\", \"context\", \"setCustomizedShape\", \"large\", \"largeThreshold\", \"progressiveStep\", \"progressiveThreshold\", \"support3d\", \"morph\", \"morphKey\", \"morphElementKey\", \"attributeTransforms\", \"skipTheme\", \"enableSegments\", \"stateSort\" ];\n        return null === config ? (keys.forEach((key => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec[key]) || (this.spec[key] = void 0);\n        })), this) : (keys.forEach((key => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(config[key]) || (this.spec[key] = config[key]);\n        })), this);\n    }\n    context(context) {\n        return this.spec.context = context, this._context = context, this;\n    }\n    isCollectionMark() {\n        return _graph_constants__WEBPACK_IMPORTED_MODULE_5__.CollectionMarkType.includes(this.markType);\n    }\n    needAnimate() {\n        var _a;\n        return !(null === (_a = this.renderContext) || void 0 === _a ? void 0 : _a.progressive) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.animation);\n    }\n    getAllElements() {\n        const elements = this.elements.slice();\n        return this.elementMap.forEach((element => {\n            element.diffState !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit || elements.includes(element) || elements.push(element);\n        })), this.spec.sort && elements.sort(((elementA, elementB) => this.spec.sort(elementA.getDatum(), elementB.getDatum()))), \n        elements;\n    }\n    getScales() {\n        const scales = {};\n        return this.references.forEach(((count, ref) => {\n            ref.grammarType === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarTypeEnum.scale && (scales[ref.id()] = ref.output());\n        })), scales;\n    }\n    getScalesByChannel() {\n        const encoders = this.spec.encode;\n        if (!encoders) return {};\n        const res = {}, params = this.parameters();\n        return Object.keys(encoders).forEach((state => {\n            const useEncoders = encoders[state];\n            useEncoders && !(0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.isFunctionType)(useEncoders) && Object.keys(useEncoders).forEach((channel => {\n                (0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.isScaleEncode)(useEncoders[channel]) && (res[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.getGrammarOutput)(useEncoders[channel].scale, params));\n            }));\n        })), res;\n    }\n    getFieldsByChannel() {\n        const encoders = this.spec.encode;\n        if (!encoders) return {};\n        const res = {};\n        return Object.keys(encoders).forEach((state => {\n            const useEncoders = encoders[state];\n            (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.isFunctionType)(useEncoders) || Object.keys(useEncoders).forEach((channel => {\n                (0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.isFieldEncode)(useEncoders[channel]) && (res[channel] = useEncoders[channel].field);\n            }));\n        })), res;\n    }\n    init(stage, parameters) {\n        var _b, _c, _d, _e, _f;\n        if (this._delegateEvent || (this._delegateEvent = (event, type) => {\n            const extendedEvt = (0,_graph_util_events_extend__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.view, event, type, _constants__WEBPACK_IMPORTED_MODULE_10__.EVENT_SOURCE_VIEW), activeElement = event.element;\n            (null == activeElement ? void 0 : activeElement.mark) === this && this.emitGrammarEvent(type, extendedEvt, activeElement);\n        }, this.initEvent()), null === (_b = this.initAnimate) || void 0 === _b || _b.call(this, this.spec), \n        !this.group) {\n            const group = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.getGrammarOutput)(this.spec.group, parameters);\n            this.group = group, group && group.appendChild(this);\n        }\n        const groupGraphicItem = this.group ? this.group.getGroupGraphicItem() : stage.defaultLayer, markIndex = null !== (_e = null === (_d = null === (_c = this.group) || void 0 === _c ? void 0 : _c.children) || void 0 === _d ? void 0 : _d.indexOf(this)) && void 0 !== _e ? _e : 0;\n        if (this.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group) {\n            if (!this.graphicItem) {\n                const graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__.createGraphicItem)(this, _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group, {\n                    pickable: !1,\n                    zIndex: null !== (_f = this.spec.zIndex) && void 0 !== _f ? _f : 0\n                });\n                (this.spec.support3d || _graph_constants__WEBPACK_IMPORTED_MODULE_5__.Mark3DType.includes(this.markType)) && graphicItem.setMode(\"3d\"), \n                graphicItem.name = `${this.id() || this.markType}`, this.graphicItem = graphicItem;\n            }\n            this.graphicParent = this.graphicItem, !groupGraphicItem || this.graphicIndex === markIndex && this.graphicItem.parent === groupGraphicItem || groupGraphicItem.insertIntoKeepIdx(this.graphicItem, markIndex);\n        } else this.graphicParent = groupGraphicItem;\n        this.graphicIndex = markIndex;\n    }\n    update(spec) {\n        var _b;\n        if (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_UPDATE), this._context = this.spec.context, \n        this.isUpdated = !0, this.renderContext.progressive || null === (_b = this.updateAnimate) || void 0 === _b || _b.call(this, spec), \n        this.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group) {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.zIndex) || this.graphicItem.setAttribute(\"zIndex\", spec.zIndex), \n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.clip) || this.graphicItem.setAttribute(\"clip\", spec.clip), !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.clipPath)) {\n                const paths = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(spec.clipPath) ? spec.clipPath : spec.clipPath(this.elements);\n                paths && paths.length ? this.graphicItem.setAttribute(\"path\", paths) : this.graphicItem.setAttributes({\n                    path: paths,\n                    clip: !1\n                });\n            }\n            this.elementMap.forEach((element => {\n                element.updateGraphicItem();\n            }));\n        } else this.elementMap.forEach((element => {\n            element.updateGraphicItem();\n        }));\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_UPDATE);\n    }\n    createElement() {\n        return new _graph_element__WEBPACK_IMPORTED_MODULE_13__.Element(this);\n    }\n    evaluateJoin(data) {\n        var _a, _b, _c, _d;\n        this.needClear = !0;\n        const keyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.parseField)(null !== (_c = null !== (_a = this.spec.key) && void 0 !== _a ? _a : null === (_b = this.grammarSource) || void 0 === _b ? void 0 : _b.getDataIDKey()) && void 0 !== _c ? _c : () => _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultKey), groupKeyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.parseField)(null !== (_d = this.spec.groupBy) && void 0 !== _d ? _d : () => _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultKey), sort = this.spec.sort, isCollectionMark = this.isCollectionMark(), enterElements = new Set(this.elements.filter((element => element.diffState === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter))), elements = [];\n        this.differ.setCallback(((key, data, prevData) => {\n            var _a;\n            const elementKey = key;\n            let element;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(data)) element = this.elementMap.get(elementKey), element && (element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit); else if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prevData)) {\n                if (element = this.elementMap.has(elementKey) ? this.elementMap.get(elementKey) : this.createElement(), \n                element.diffState === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit) {\n                    element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter;\n                    const animators = null === (_a = this.animate) || void 0 === _a ? void 0 : _a.getElementAnimators(element, _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit);\n                    animators && animators.forEach((animator => animator.stop(\"start\")));\n                }\n                element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter;\n                const groupKey = isCollectionMark ? key : groupKeyGetter(data[0]);\n                element.updateData(groupKey, data, keyGetter), this.elementMap.set(elementKey, element), \n                elements.push(element);\n            } else if (element = this.elementMap.get(elementKey), element) {\n                element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.update;\n                const groupKey = isCollectionMark ? key : groupKeyGetter(data[0]);\n                element.updateData(groupKey, data, keyGetter), elements.push(element);\n            }\n            enterElements.delete(element);\n        }));\n        const currentData = null != data ? data : _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultMarkData;\n        isCollectionMark ? this.differ.setCurrentData(this._groupedData) : this.differ.setCurrentData((0,_graph_mark_differ__WEBPACK_IMPORTED_MODULE_1__.groupData)(currentData, (datum => `${groupKeyGetter(datum)}-${keyGetter(datum)}`), void 0)), \n        this.differ.doDiff(), enterElements.forEach((element => {\n            this.elementMap.delete(isCollectionMark ? element.groupKey : `${element.groupKey}-${element.key}`), \n            element.remove(), element.release();\n        })), this.elements = elements, sort && this.elements.length >= 2 && this.elements.sort(((elementA, elementB) => sort(elementA.getDatum(), elementB.getDatum())));\n    }\n    evaluateState(elements, stateSpec, parameters) {\n        stateSpec && elements.forEach((element => {\n            element.state(stateSpec, parameters);\n        }));\n    }\n    evaluateGroupEncode(elements, groupEncode, parameters) {\n        if (!this._groupedData || !groupEncode) return;\n        const res = {};\n        return this._groupedData.keys.forEach((key => {\n            const el = elements.find((el => el.groupKey === key));\n            el && (res[key] = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_14__.invokeEncoder)(groupEncode, el.items && el.items[0] && el.items[0].datum, el, parameters));\n        })), this._groupEncodeResult = res, res;\n    }\n    getChannelsFromConfig(element) {\n        const spec = this.spec;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.interactive) ? null : {\n            pickable: spec.interactive\n        };\n    }\n    evaluateEncode(elements, encoders, parameters, noGroupEncode) {\n        const initAttrs = this.getChannelsFromConfig();\n        if (encoders) {\n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_ELEMENT_ENCODE, {\n                encoders: encoders,\n                parameters: parameters\n            }, this);\n            const groupEncodeAttrs = noGroupEncode ? null : this.evaluateGroupEncode(elements, encoders[_graph_enums__WEBPACK_IMPORTED_MODULE_4__.BuiltInEncodeNames.group], parameters);\n            elements.forEach((element => {\n                this.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.glyph && this._groupEncodeResult ? element.items.forEach((item => {\n                    item.nextAttrs = Object.assign(item.nextAttrs, initAttrs, this._groupEncodeResult[element.groupKey]);\n                })) : (null == groupEncodeAttrs ? void 0 : groupEncodeAttrs[element.groupKey]) && !this.isCollectionMark() ? element.items.forEach((item => {\n                    item.nextAttrs = Object.assign(item.nextAttrs, initAttrs, groupEncodeAttrs[element.groupKey]);\n                })) : initAttrs && element.items.forEach((item => {\n                    item.nextAttrs = Object.assign(item.nextAttrs, initAttrs);\n                })), element.encodeItems(element.items, encoders, this._isReentered, parameters), \n                this.isCollectionMark() && (null == groupEncodeAttrs ? void 0 : groupEncodeAttrs[element.groupKey]) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(groupEncodeAttrs[element.groupKey].defined) && (element.items.forEach((item => {\n                    item.nextAttrs.defined = groupEncodeAttrs[element.groupKey].defined;\n                })), delete groupEncodeAttrs[element.groupKey].defined);\n            })), this._isReentered = !1, this.evaluateTransform(this._getTransformsAfterEncodeItems(), elements, parameters), \n            elements.forEach((element => {\n                element.encodeGraphic(this.isCollectionMark() ? null == groupEncodeAttrs ? void 0 : groupEncodeAttrs[element.groupKey] : null);\n            })), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_ELEMENT_ENCODE, {\n                encoders: encoders,\n                parameters: parameters\n            }, this);\n        } else elements.forEach((element => {\n            element.initGraphicItem(initAttrs);\n        }));\n    }\n    addGraphicItem(attrs, groupKey, newGraphicItem) {\n        var _a;\n        const graphicItem = null != newGraphicItem ? newGraphicItem : (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__.createGraphicItem)(this, this.markType, attrs);\n        if (graphicItem) {\n            if (null === (_a = this.renderContext) || void 0 === _a ? void 0 : _a.progressive) {\n                let group;\n                if (this._groupedData) {\n                    const index = this._groupedData.keys.indexOf(groupKey);\n                    index >= 0 && (group = this.graphicParent.getChildAt(index));\n                } else group = this.graphicParent.at(0);\n                this.isCollectionMark() ? (graphicItem.incremental = 1, group.appendChild(graphicItem)) : group.incrementalAppendChild(graphicItem);\n            } else this.graphicParent.appendChild(graphicItem);\n            return graphicItem;\n        }\n    }\n    parseRenderContext(data, parameters) {\n        const enableProgressive = this.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group && this.spec.progressiveStep > 0 && this.spec.progressiveThreshold > 0 && this.spec.progressiveStep < this.spec.progressiveThreshold, large = this.spec.large && this.spec.largeThreshold > 0 && data.length >= this.spec.largeThreshold;\n        if (enableProgressive) {\n            const groupedData = this._groupedData;\n            return groupedData && groupedData.keys && groupedData.keys.some((key => groupedData.data.get(key).length > this.spec.progressiveThreshold)) ? {\n                large: large,\n                parameters: parameters,\n                progressive: {\n                    data: data,\n                    step: this.spec.progressiveStep,\n                    currentIndex: 0,\n                    totalStep: groupedData.keys.reduce(((total, key) => Math.max(Math.ceil(groupedData.data.get(key).length / this.spec.progressiveStep), total)), 1),\n                    groupedData: groupedData.data\n                }\n            } : {\n                large: large\n            };\n        }\n        return {\n            large: large\n        };\n    }\n    isProgressive() {\n        return this.renderContext && (!!this.renderContext.progressive || !!this.renderContext.beforeTransformProgressive);\n    }\n    canAnimateAfterProgressive() {\n        return this.renderContext && this.renderContext.beforeTransformProgressive && this.renderContext.beforeTransformProgressive.canAnimate();\n    }\n    isDoingProgressive() {\n        return this.renderContext && (this.renderContext.progressive && this.renderContext.progressive.currentIndex < this.renderContext.progressive.totalStep || this.renderContext.beforeTransformProgressive && this.renderContext.beforeTransformProgressive.unfinished());\n    }\n    clearProgressive() {\n        this.renderContext && this.renderContext.progressive && (this.elements = [], this.graphicParent.children.forEach((group => {\n            group.incrementalClearChild();\n        })), this.graphicParent.removeAllChild()), this.renderContext && this.renderContext.beforeTransformProgressive && this.renderContext.beforeTransformProgressive.release(), \n        this.renderContext = null;\n    }\n    restartProgressive() {\n        this.renderContext && this.renderContext.progressive && (this.renderContext.progressive.currentIndex = 0);\n    }\n    evaluateJoinProgressive() {\n        var _a, _b, _c;\n        const currentIndex = this.renderContext.progressive.currentIndex, keyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.parseField)(null !== (_c = null !== (_a = this.spec.key) && void 0 !== _a ? _a : null === (_b = this.grammarSource) || void 0 === _b ? void 0 : _b.getDataIDKey()) && void 0 !== _c ? _c : () => _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultKey), elements = [];\n        if (this.isCollectionMark()) return this._groupedData.keys.forEach(((key, index) => {\n            const data = this.renderContext.progressive.groupedData.get(key), groupStep = this.renderContext.progressive.step, dataSlice = data.slice(currentIndex * groupStep, (currentIndex + 1) * groupStep);\n            if (0 === currentIndex) {\n                const element = this.createElement();\n                element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter, element.updateData(key, dataSlice, keyGetter), \n                elements.push(element);\n            } else {\n                const element = this.elements[index];\n                element.updateData(key, dataSlice, keyGetter), elements.push(element);\n            }\n        })), elements;\n        const groupElements = {};\n        return this._groupedData.keys.forEach((key => {\n            const data = this.renderContext.progressive.groupedData.get(key), groupStep = this.renderContext.progressive.step, dataSlice = data.slice(currentIndex * groupStep, (currentIndex + 1) * groupStep), group = [];\n            dataSlice.forEach((entry => {\n                const element = this.createElement();\n                element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter, element.updateData(key, [ entry ], keyGetter), \n                group.push(element), elements.push(element);\n            })), groupElements[key] = group;\n        })), {\n            groupElements: groupElements,\n            elements: elements\n        };\n    }\n    evaluateEncodeProgressive(elements, encoders, parameters) {\n        const progressiveIndex = this.renderContext.progressive.currentIndex;\n        if (0 === progressiveIndex) {\n            if (this.evaluateEncode(elements, encoders, parameters), 0 === progressiveIndex && this._groupEncodeResult && !this.isCollectionMark() && this.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.glyph) {\n                const firstElement = elements[0], firstChild = firstElement.getGraphicItem(), group = null == firstChild ? void 0 : firstChild.parent;\n                group && this._groupEncodeResult[firstElement.groupKey] && group.setTheme({\n                    common: this._groupEncodeResult[firstElement.groupKey]\n                });\n            }\n        } else this.evaluateEncode(elements, encoders, parameters, !0);\n    }\n    evaluateProgressive() {\n        var _a, _b, _c;\n        if (null === (_a = this.renderContext) || void 0 === _a ? void 0 : _a.beforeTransformProgressive) {\n            const transform = this.renderContext.beforeTransformProgressive;\n            transform.progressiveRun();\n            const output = transform.output();\n            if (transform.canAnimate) {\n                if (transform.unfinished()) return;\n                this.evaluateGroup(output);\n            }\n            return this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_JOIN), this.evaluateJoin(output), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_JOIN), \n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_STATE), this.evaluateState(this.elements, this.spec.state, this.renderContext.parameters), \n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_STATE), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_ENCODE), \n            this.evaluateEncode(this.elements, this._getEncoders(), this.renderContext.parameters), \n            void this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_ENCODE);\n        }\n        if (!(null === (_b = this.renderContext) || void 0 === _b ? void 0 : _b.progressive)) return;\n        const parameters = this.renderContext.parameters;\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_JOIN);\n        const result = this.evaluateJoinProgressive(), elements = Array.isArray(result) ? result : result.elements;\n        if (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_JOIN), 0 === this.renderContext.progressive.currentIndex ? (this.graphicParent.removeAllChild(), \n        this._groupedData.keys.forEach((key => {\n            const graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__.createGraphicItem)(this, _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group, {\n                pickable: !1,\n                zIndex: this.spec.zIndex\n            });\n            graphicItem.incremental = this.renderContext.progressive.step, this.graphicParent.appendChild(graphicItem);\n        })), this.elements = elements) : this.elements = this.elements.concat(elements), \n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_STATE), this.evaluateState(elements, this.spec.state, parameters), \n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_STATE), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_ENCODE), \n        Array.isArray(result)) this.evaluateEncodeProgressive(elements, this._getEncoders(), parameters); else {\n            const groupElements = result.groupElements;\n            Object.keys(groupElements).forEach((key => {\n                this.evaluateEncodeProgressive(groupElements[key], this._getEncoders(), parameters);\n            }));\n        }\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_ENCODE);\n        const progressiveTransforms = null === (_c = this._getTransformsAfterEncode()) || void 0 === _c ? void 0 : _c.filter((entry => !0 === entry.canProgressive));\n        (null == progressiveTransforms ? void 0 : progressiveTransforms.length) && this.evaluateTransform(progressiveTransforms, this.elements, parameters), \n        this.renderContext.progressive.currentIndex += 1;\n    }\n    isLargeMode() {\n        return this.renderContext && this.renderContext.large;\n    }\n    cleanExitElements() {\n        this.elementMap.forEach(((element, key) => {\n            element.diffState !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit || element.isReserved || (this.elementMap.delete(key), \n            element.remove(), element.release());\n        }));\n    }\n    getGroupGraphicItem() {\n        if (this.elements && this.elements[0] && this.elements[0].getGraphicItem) return this.elements[0].getGraphicItem();\n    }\n    getBounds() {\n        var _a;\n        return this.graphicItem ? this.graphicItem.AABBBounds : null === (_a = this.getGroupGraphicItem()) || void 0 === _a ? void 0 : _a.AABBBounds;\n    }\n    getMorphConfig() {\n        var _a;\n        return {\n            morph: null !== (_a = this.spec.morph) && void 0 !== _a && _a,\n            morphKey: this.spec.morphKey,\n            morphElementKey: this.spec.morphElementKey\n        };\n    }\n    getAttributeTransforms() {\n        var _a;\n        return null !== (_a = this.spec.attributeTransforms) && void 0 !== _a ? _a : _graph_attributes__WEBPACK_IMPORTED_MODULE_16__.transformsByType[this.markType];\n    }\n    getContext() {\n        return this._context;\n    }\n    needSkipBeforeLayout() {\n        var _a, _b;\n        if (!0 === (null === (_a = this.spec.layout) || void 0 === _a ? void 0 : _a.skipBeforeLayouted)) return !0;\n        let group = this.group;\n        for (;group; ) {\n            if (!0 === (null === (_b = group.getSpec().layout) || void 0 === _b ? void 0 : _b.skipBeforeLayouted)) return !0;\n            group = group.group;\n        }\n        return !1;\n    }\n    initEvent() {\n        if (this._delegateEvent) {\n            const stage = this.view.renderer.stage();\n            stage && stage.on(\"*\", this._delegateEvent);\n        }\n    }\n    releaseEvent() {\n        if (this._delegateEvent) {\n            const stage = this.view.renderer.stage();\n            stage && stage.off(\"*\", this._delegateEvent);\n        }\n    }\n    clear() {\n        var _a;\n        this.releaseEvent(), this.transforms = null, this.elementMap = null, this.elements = null, \n        this.graphicItem = null, this.animate = null, null === (_a = this.group) || void 0 === _a || _a.removeChild(this), \n        this.group = null, super.clear();\n    }\n    prepareRelease() {\n        var _a;\n        this.differ.setCurrentData(null), null === (_a = this.animate) || void 0 === _a || _a.stop(), \n        this.elementMap.forEach((element => element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit)), this._finalParameters = this.parameters();\n    }\n    release() {\n        this.releaseEvent(), this.elements.forEach((element => element.release())), this.differ = null, \n        this.elements = [], this.elementMap.clear(), this._finalParameters = null, this.animate && this.animate.release(), \n        this.graphicItem && (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__.removeGraphicItem)(this.graphicItem), this.detachAll(), super.release();\n    }\n}\n//# sourceMappingURL=mark.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9tYXJrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFxRTs7QUFFNEI7O0FBRXlCOztBQUVqRTs7QUFFb0I7O0FBRWhDOztBQUVpQzs7QUFFRDs7QUFFckI7O0FBRUg7O0FBRUU7O0FBRUs7O0FBRVo7O0FBRUw7O0FBRXBDLG1CQUFtQixzREFBVztBQUNyQztBQUNBO0FBQ0EsdUVBQXVFLHNEQUFNO0FBQzdFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNERBQVE7QUFDdEM7QUFDQTtBQUNBLDBCQUEwQiw0REFBUTtBQUNsQztBQUNBLDhKQUE4SjtBQUM5SixzQ0FBc0M7QUFDdEMsU0FBUyxzRUFBc0U7QUFDL0U7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtREFBUztBQUMzQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLHFEQUFXO0FBQ3JGO0FBQ0E7QUFDQSw0R0FBNEcsNkRBQWU7QUFDM0g7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLHNCQUFzQixvREFBVSw0REFBNEQsb0RBQVU7QUFDdEcsc0JBQXNCLG9EQUFVO0FBQ2hDLHNCQUFzQixvREFBVSw4QkFBOEIsb0RBQVU7QUFDeEUsMkZBQTJGLG9EQUFVO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUFlO0FBQzdDLG9CQUFvQiw2REFBUyx1QkFBdUIsNkRBQWU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLDREQUFLO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNERBQUssV0FBVyw0REFBUTtBQUN2RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG1EQUFTO0FBQ3pDO0FBQ0E7QUFDQSxzQkFBc0IsbURBQVM7QUFDL0I7QUFDQSxnQkFBZ0IsMkRBQWMsMkJBQTJCLDREQUFlLDJCQUEyQjtBQUNuRyx3Q0FBd0MsNERBQVE7QUFDaEQ7QUFDQSxnQ0FBZ0MsNERBQWU7QUFDL0MsaUJBQWlCLGdDQUFnQyxrQ0FBa0MsNERBQWU7QUFDbEcsZ0NBQWdDLDREQUFlO0FBQy9DLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsbUZBQW1GLEdBQUcsNERBQVE7QUFDOUYsb0JBQW9CLDREQUFlLHVCQUF1QiwyREFBYztBQUN4RSxvQkFBb0IsNERBQWU7QUFDbkM7QUFDQSx3QkFBd0IsNERBQWU7QUFDdkMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9FQUFrQjtBQUNqRDtBQUNBLCtCQUErQixvRUFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBSztBQUNqQixTQUFTO0FBQ1QsWUFBWSw0REFBSztBQUNqQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0VBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRyw0REFBSztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtREFBUztBQUMzQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5REFBZTtBQUMvQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLDRCQUE0QiwyREFBYztBQUMxQyxnQkFBZ0IsMERBQWEsMENBQTBDLDZEQUFnQjtBQUN2RixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyREFBYztBQUMxQixnQkFBZ0IsMERBQWE7QUFDN0IsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxRUFBaUIseUJBQXlCLDBEQUFpQjtBQUMzRjtBQUNBLFNBQVM7QUFDVDtBQUNBLDBCQUEwQiw2REFBZ0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUFlO0FBQzdDO0FBQ0Esb0NBQW9DLHVFQUFpQixPQUFPLHlEQUFlO0FBQzNFO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsd0NBQXdDLHdEQUFVO0FBQ2xELHNDQUFzQywyQkFBMkI7QUFDakU7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvREFBVTtBQUNoQztBQUNBLDBCQUEwQix5REFBZTtBQUN6QyxnQkFBZ0IsNERBQUs7QUFDckIsWUFBWSw0REFBSyxrRUFBa0UsNERBQUs7QUFDeEYsOEJBQThCLDZEQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0EsU0FBUztBQUNULGtCQUFrQixvREFBVTtBQUM1QjtBQUNBO0FBQ0EsbUJBQW1CLG9EQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFVLHNMQUFzTCx3REFBVSxvQkFBb0IsdURBQVUsaUVBQWlFLHdEQUFVLHFKQUFxSixtREFBUztBQUMzZTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSyxtRkFBbUYsbURBQVMsUUFBUSxTQUFTLDREQUFLO0FBQ3ZJO0FBQ0Esc0NBQXNDLG1EQUFTO0FBQy9DLHdDQUF3QyxtREFBUztBQUNqRCwrSEFBK0gsbURBQVM7QUFDeEk7QUFDQTtBQUNBLG9DQUFvQyxtREFBUztBQUM3QztBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Qsb0NBQW9DLG1EQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGtEQUFrRCw2REFBZTtBQUNqRSxzR0FBc0csNkRBQVMsMkJBQTJCLHNCQUFzQixHQUFHLGlCQUFpQjtBQUNwTDtBQUNBLDRFQUE0RSxpQkFBaUIsR0FBRyxZQUFZO0FBQzVHO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrRUFBYTtBQUMzQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0RBQVU7QUFDaEM7QUFDQTtBQUNBLGFBQWE7QUFDYix3R0FBd0csNERBQWtCO0FBQzFIO0FBQ0Esa0NBQWtDLHlEQUFlO0FBQ2pEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCLHVIQUF1SCw2REFBTztBQUM5SDtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWEsY0FBYyxvREFBVTtBQUNyQztBQUNBO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsdUVBQWlCO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx5REFBZTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsdURBQVUsc0xBQXNMLHdEQUFVO0FBQ2hTO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1EQUFTO0FBQzdDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1EQUFTO0FBQzdDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdLQUF3Syx5REFBZTtBQUN2TDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvREFBVSx5REFBeUQsb0RBQVU7QUFDMUcsc0JBQXNCLG9EQUFVO0FBQ2hDLHNCQUFzQixvREFBVSw4QkFBOEIsb0RBQVU7QUFDeEU7QUFDQSwyQkFBMkIsb0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9EQUFVO0FBQzVCO0FBQ0Esc0JBQXNCLG9EQUFVO0FBQ2hDO0FBQ0EsZ0NBQWdDLHVFQUFpQixPQUFPLHlEQUFlO0FBQ3ZFO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLG9EQUFVO0FBQzVCLGtCQUFrQixvREFBVSw4QkFBOEIsb0RBQVU7QUFDcEUsMEdBQTBHO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGtCQUFrQixvREFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsbURBQVM7QUFDM0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLGdFQUFnQjtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsbURBQVM7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUVBQWlCO0FBQzdDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L21hcmsuanM/NWEwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0FycmF5LCBpc05pbCwgaXNTdHJpbmcsIGlzVmFsaWQgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBDb2xsZWN0aW9uTWFya1R5cGUsIERlZmF1bHRLZXksIERlZmF1bHRNYXJrRGF0YSwgTWFyazNEVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgRGlmZlN0YXRlLCBHcmFtbWFyTWFya1R5cGUsIExheW91dFN0YXRlLCBIT09LX0VWRU5ULCBHcmFtbWFyVHlwZUVudW0sIEJ1aWx0SW5FbmNvZGVOYW1lcyB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBEaWZmZXIsIGdyb3VwRGF0YSB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2RpZmZlclwiO1xuXG5pbXBvcnQgeyBjcmVhdGVHcmFwaGljSXRlbSwgcmVtb3ZlR3JhcGhpY0l0ZW0gfSBmcm9tIFwiLi4vZ3JhcGgvdXRpbC9ncmFwaGljXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJCYXNlIH0gZnJvbSBcIi4vZ3JhbW1hci1iYXNlXCI7XG5cbmltcG9ydCB7IGlzRmllbGRFbmNvZGUsIGlzU2NhbGVFbmNvZGUsIHBhcnNlRW5jb2RlVHlwZSB9IGZyb20gXCIuLi9wYXJzZS9tYXJrXCI7XG5cbmltcG9ydCB7IGdldEdyYW1tYXJPdXRwdXQsIHBhcnNlRmllbGQsIGlzRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgcGFyc2VUcmFuc2Zvcm1TcGVjIH0gZnJvbSBcIi4uL3BhcnNlL3RyYW5zZm9ybVwiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybXNCeVR5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvYXR0cmlidXRlc1wiO1xuXG5pbXBvcnQgZ2V0RXh0ZW5kZWRFdmVudHMgZnJvbSBcIi4uL2dyYXBoL3V0aWwvZXZlbnRzLWV4dGVuZFwiO1xuXG5pbXBvcnQgeyBFVkVOVF9TT1VSQ0VfVklFVyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4uL2dyYXBoL2VsZW1lbnRcIjtcblxuZXhwb3J0IGNsYXNzIE1hcmsgZXh0ZW5kcyBHcmFtbWFyQmFzZSB7XG4gICAgY29uc3RydWN0b3IodmlldywgbWFya1R5cGUsIGdyb3VwKSB7XG4gICAgICAgIHN1cGVyKHZpZXcpLCB0aGlzLmdyYW1tYXJUeXBlID0gXCJtYXJrXCIsIHRoaXMuZWxlbWVudHMgPSBbXSwgdGhpcy5lbGVtZW50TWFwID0gbmV3IE1hcCwgXG4gICAgICAgIHRoaXMuaXNVcGRhdGVkID0gITAsIHRoaXMuX2lzUmVlbnRlcmVkID0gITEsIHRoaXMuZGlmZmVyID0gbmV3IERpZmZlcihbXSksIHRoaXMubWFya1R5cGUgPSBtYXJrVHlwZSwgXG4gICAgICAgIHRoaXMuc3BlYy50eXBlID0gbWFya1R5cGUsIHRoaXMuc3BlYy5lbmNvZGUgPSB7XG4gICAgICAgICAgICB1cGRhdGU6IHt9XG4gICAgICAgIH0sIHRoaXMuc3BlYy5ncm91cCA9IGdyb3VwLCBncm91cCAmJiAodGhpcy5ncm91cCA9IGdyb3VwLCB0aGlzLmF0dGFjaChncm91cCksIGdyb3VwLmFwcGVuZENoaWxkKHRoaXMpKTtcbiAgICB9XG4gICAgcGFyc2Uoc3BlYykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKHN1cGVyLnBhcnNlKHNwZWMpLCB0aGlzLnNwZWMuZ3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwTWFyayA9IGlzU3RyaW5nKHRoaXMuc3BlYy5ncm91cCkgPyB0aGlzLnZpZXcuZ2V0TWFya0J5SWQodGhpcy5zcGVjLmdyb3VwKSA6IHRoaXMuc3BlYy5ncm91cDtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKGdyb3VwTWFyayk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JvdXBNYXJrID0gaXNTdHJpbmcoc3BlYy5ncm91cCkgPyB0aGlzLnZpZXcuZ2V0TWFya0J5SWQoc3BlYy5ncm91cCkgOiBzcGVjLmdyb3VwO1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2goZ3JvdXBNYXJrKSwgdGhpcy5qb2luKG51bGwgPT09IChfYSA9IHNwZWMuZnJvbSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmRhdGEsIHNwZWMua2V5LCBzcGVjLnNvcnQsIHNwZWMuZ3JvdXBCeSwgc3BlYy5ncm91cFNvcnQpLCBcbiAgICAgICAgdGhpcy5jb29yZGluYXRlKHNwZWMuY29vcmRpbmF0ZSksIHRoaXMuc3RhdGUoc3BlYy5zdGF0ZSwgdGhpcy5zcGVjLnN0YXRlU29ydCksIE9iamVjdC5rZXlzKG51bGwgIT09IChfYiA9IHRoaXMuc3BlYy5lbmNvZGUpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHt9KS5mb3JFYWNoKChzdGF0ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZVN0YXRlKHN0YXRlLCB7fSwgITApO1xuICAgICAgICB9KSksIE9iamVjdC5rZXlzKG51bGwgIT09IChfYyA9IHNwZWMuZW5jb2RlKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiB7fSkuZm9yRWFjaCgoc3RhdGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbmNvZGVTdGF0ZShzdGF0ZSwgc3BlYy5lbmNvZGVbc3RhdGVdKTtcbiAgICAgICAgfSkpLCB0aGlzLmFuaW1hdGlvbihzcGVjLmFuaW1hdGlvbiksIHRoaXMuYW5pbWF0aW9uU3RhdGUoc3BlYy5hbmltYXRpb25TdGF0ZSksIHRoaXMubW9ycGgoc3BlYy5tb3JwaCwgc3BlYy5tb3JwaEtleSwgc3BlYy5tb3JwaEVsZW1lbnRLZXkpLCBcbiAgICAgICAgdGhpcy5sYXlvdXQoc3BlYy5sYXlvdXQpLCB0aGlzLmNvbmZpZ3VyZShzcGVjKSwgdGhpcy50cmFuc2Zvcm0oc3BlYy50cmFuc2Zvcm0pLCBcbiAgICAgICAgdGhpcy5wYXJzZUFkZGl0aW9uKHNwZWMpLCB0aGlzLnNwZWMgPSBzcGVjLCB0aGlzLm1hcmtUeXBlID0gc3BlYy50eXBlLCB0aGlzLmNvbW1pdCgpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5fZmluYWxQYXJhbWV0ZXJzKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBzdXBlci5wYXJhbWV0ZXJzKCk7XG4gICAgfVxuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV1c2UoZ3JhbW1hcikge1xuICAgICAgICB2YXIgX2I7XG4gICAgICAgIGlmIChncmFtbWFyLmdyYW1tYXJUeXBlICE9PSB0aGlzLmdyYW1tYXJUeXBlKSByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3QgbWFyayA9IGdyYW1tYXI7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmtUeXBlID0gbWFyay5tYXJrVHlwZSwgdGhpcy5jb29yZCA9IG1hcmsuY29vcmQsIHRoaXMuZWxlbWVudE1hcCA9IG1hcmsuZWxlbWVudE1hcCwgXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBtYXJrLmVsZW1lbnRzLCB0aGlzLmVsZW1lbnRNYXAuZm9yRWFjaCgoZWxlbWVudCA9PiBlbGVtZW50Lm1hcmsgPSB0aGlzKSksIFxuICAgICAgICB0aGlzLmRpZmZlciA9IG1hcmsuZGlmZmVyLCBudWxsID09PSAoX2IgPSB0aGlzLnJldXNlQW5pbWF0ZSkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKHRoaXMsIG1hcmspLCBcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG1hcmsuX2NvbnRleHQsIHRoaXMuZ3JhcGhpY0l0ZW0gPSBtYXJrLmdyYXBoaWNJdGVtLCB0aGlzLmdyYXBoaWNJbmRleCA9IG1hcmsuZ3JhcGhpY0luZGV4LCBcbiAgICAgICAgdGhpcy5ncmFwaGljUGFyZW50ID0gbWFyay5ncmFwaGljUGFyZW50LCB0aGlzLm5lZWRDbGVhciA9IG1hcmsubmVlZENsZWFyLCB0aGlzLmlzVXBkYXRlZCA9IG1hcmsuaXNVcGRhdGVkLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgbmVlZExheW91dCgpIHtcbiAgICAgICAgcmV0dXJuICFpc05pbCh0aGlzLnNwZWMubGF5b3V0KTtcbiAgICB9XG4gICAgaGFuZGxlTGF5b3V0RW5kKCkge31cbiAgICBoYW5kbGVSZW5kZXJFbmQoKSB7XG4gICAgICAgIHRoaXMubmVlZENsZWFyICYmICh0aGlzLmNsZWFuRXhpdEVsZW1lbnRzKCksIHRoaXMuZWxlbWVudE1hcC5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuZGlmZlN0YXRlID09PSBEaWZmU3RhdGUuZXhpdCA/IGVsZW1lbnQuY2xlYXJHcmFwaGljQXR0cmlidXRlcygpIDogZWxlbWVudC5jbGVhckNoYW5nZWRHcmFwaGljQXR0cmlidXRlcygpO1xuICAgICAgICB9KSksIHRoaXMuZGlmZmVyLnVwZGF0ZVRvQ3VycmVudCgpLCB0aGlzLm5lZWRDbGVhciA9ICExKTtcbiAgICB9XG4gICAgZXZhbHVhdGVNYWluVGFza3MoZGF0YSwgcGFyYW1ldGVycykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5uZWVkU2tpcEJlZm9yZUxheW91dCgpICYmIHRoaXMudmlldy5nZXRMYXlvdXRTdGF0ZSgpID09PSBMYXlvdXRTdGF0ZS5iZWZvcmUpIHJldHVybiB0aGlzO1xuICAgICAgICBjb25zdCBzdGFnZSA9IG51bGwgPT09IChfYSA9IHRoaXMudmlldy5yZW5kZXJlcikgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnN0YWdlKCk7XG4gICAgICAgIHRoaXMuaW5pdChzdGFnZSwgcGFyYW1ldGVycyk7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybURhdGEgPSB0aGlzLmV2YWx1YXRlVHJhbnNmb3JtKHRoaXMuX2dldFRyYW5zZm9ybXNCZWZvcmVKb2luKCksIG51bGwgIT0gZGF0YSA/IGRhdGEgOiBEZWZhdWx0TWFya0RhdGEsIHBhcmFtZXRlcnMpLCBwcm9ncmVzc2l2ZVRyYW5zZm9ybSA9IG51bGwgPT0gdHJhbnNmb3JtRGF0YSA/IHZvaWQgMCA6IHRyYW5zZm9ybURhdGEucHJvZ3Jlc3NpdmU7XG4gICAgICAgIGlmIChwcm9ncmVzc2l2ZVRyYW5zZm9ybSA/IHRoaXMucmVuZGVyQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxhcmdlOiAhMVxuICAgICAgICB9IDogKHRoaXMuZXZhbHVhdGVHcm91cCh0cmFuc2Zvcm1EYXRhKSwgdGhpcy5yZW5kZXJDb250ZXh0ID0gdGhpcy5wYXJzZVJlbmRlckNvbnRleHQodHJhbnNmb3JtRGF0YSwgcGFyYW1ldGVycykpLCBcbiAgICAgICAgbnVsbCA9PT0gKF9iID0gdGhpcy5yZW5kZXJDb250ZXh0KSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IucHJvZ3Jlc3NpdmUpIHRoaXMuZGlmZmVyLnJlc2V0KCksIFxuICAgICAgICB0aGlzLmVsZW1lbnRNYXAuY2xlYXIoKSwgdGhpcy5ldmFsdWF0ZVByb2dyZXNzaXZlKCk7IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlucHV0RGF0YSA9IG51bGw7XG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3NpdmVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJDb250ZXh0LnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzLCB0aGlzLnJlbmRlckNvbnRleHQuYmVmb3JlVHJhbnNmb3JtUHJvZ3Jlc3NpdmUgPSB0cmFuc2Zvcm1EYXRhLnByb2dyZXNzaXZlLCBcbiAgICAgICAgICAgICAgICBpbnB1dERhdGEgPSB0cmFuc2Zvcm1EYXRhLnByb2dyZXNzaXZlLm91dHB1dCgpLCB0cmFuc2Zvcm1EYXRhLnByb2dyZXNzaXZlLmNhbkFuaW1hdGUgJiYgdHJhbnNmb3JtRGF0YS5wcm9ncmVzc2l2ZS51bmZpbmlzaGVkKCkpIHJldHVybiB0aGlzLnVwZGF0ZSh0aGlzLnNwZWMpLCBcbiAgICAgICAgICAgICAgICB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIGlucHV0RGF0YSA9IHRyYW5zZm9ybURhdGE7XG4gICAgICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfTUFSS19KT0lOKSwgdGhpcy5ldmFsdWF0ZUpvaW4oaW5wdXREYXRhKSwgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfTUFSS19KT0lOKSwgXG4gICAgICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfTUFSS19TVEFURSksIHRoaXMuZXZhbHVhdGVTdGF0ZSh0aGlzLmVsZW1lbnRzLCB0aGlzLnNwZWMuc3RhdGUsIHBhcmFtZXRlcnMpLCBcbiAgICAgICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfU1RBVEUpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfTUFSS19FTkNPREUpLCBcbiAgICAgICAgICAgIHRoaXMuZXZhbHVhdGVFbmNvZGUodGhpcy5lbGVtZW50cywgdGhpcy5fZ2V0RW5jb2RlcnMoKSwgcGFyYW1ldGVycyksIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfRU5DT0RFKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUodGhpcy5zcGVjKSwgdGhpcztcbiAgICB9XG4gICAgZXZhbHVhdGVHcm91cChkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuZ3JvdXApIHJldHVybjtcbiAgICAgICAgY29uc3QgcmVzID0gZ3JvdXBEYXRhKG51bGwgIT0gZGF0YSA/IGRhdGEgOiBEZWZhdWx0TWFya0RhdGEsIHRoaXMuc3BlYy5ncm91cEJ5LCB0aGlzLnNwZWMuZ3JvdXBTb3J0KTtcbiAgICAgICAgdGhpcy5fZ3JvdXBFbmNvZGVSZXN1bHQgPSBudWxsLCB0aGlzLl9ncm91cGVkRGF0YSA9IHJlcztcbiAgICB9XG4gICAgX2dldFRyYW5zZm9ybXNBZnRlckVuY29kZUl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1zICYmIHRoaXMudHJhbnNmb3Jtcy5maWx0ZXIoKGVudHJ5ID0+IFwiYWZ0ZXJFbmNvZGVJdGVtc1wiID09PSBlbnRyeS5tYXJrUGhhc2UpKTtcbiAgICB9XG4gICAgX2dldFRyYW5zZm9ybXNBZnRlckVuY29kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtcyAmJiB0aGlzLnRyYW5zZm9ybXMuZmlsdGVyKChlbnRyeSA9PiBpc05pbChlbnRyeS5tYXJrUGhhc2UpIHx8IFwiYWZ0ZXJFbmNvZGVcIiA9PT0gZW50cnkubWFya1BoYXNlKSk7XG4gICAgfVxuICAgIF9nZXRUcmFuc2Zvcm1zQmVmb3JlSm9pbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtcyA/IHRoaXMudHJhbnNmb3Jtcy5maWx0ZXIoKGVudHJ5ID0+IFwiYmVmb3JlSm9pblwiID09PSBlbnRyeS5tYXJrUGhhc2UpKSA6IFtdO1xuICAgIH1cbiAgICBldmFsdWF0ZShkYXRhLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZhbHVhdGVNYWluVGFza3MoZGF0YSwgcGFyYW1ldGVycyksIChudWxsID09PSAoX2EgPSB0aGlzLnJlbmRlckNvbnRleHQpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5wcm9ncmVzc2l2ZSkgfHwgdGhpcy5ldmFsdWF0ZVRyYW5zZm9ybSh0aGlzLl9nZXRUcmFuc2Zvcm1zQWZ0ZXJFbmNvZGUoKSwgdGhpcy5lbGVtZW50cywgcGFyYW1ldGVycyksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBvdXRwdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBqb2luKGRhdGEsIGtleSwgc29ydCwgZ3JvdXBCeSwgZ3JvdXBTb3J0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJTb3VyY2UgJiYgKHRoaXMuZGV0YWNoKHRoaXMuZ3JhbW1hclNvdXJjZSksIHRoaXMuZ3JhbW1hclNvdXJjZSA9IG51bGwpLCBcbiAgICAgICAgdGhpcy5zcGVjLmZyb20gPSBudWxsLCBpc05pbChkYXRhKSB8fCAoaXNTdHJpbmcoZGF0YSkgPyB0aGlzLmdyYW1tYXJTb3VyY2UgPSB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQoZGF0YSkgOiB0aGlzLmdyYW1tYXJTb3VyY2UgPSBkYXRhLCBcbiAgICAgICAgdGhpcy5zcGVjLmZyb20gPSB7XG4gICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgIH0sIHRoaXMuYXR0YWNoKHRoaXMuZ3JhbW1hclNvdXJjZSkpLCB0aGlzLnNwZWMua2V5ID0ga2V5LCB0aGlzLnNwZWMuc29ydCA9IHNvcnQsIFxuICAgICAgICB0aGlzLnNwZWMuZ3JvdXBCeSA9IGdyb3VwQnksIHRoaXMuc3BlYy5ncm91cFNvcnQgPSBncm91cFNvcnQsIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGNvb3JkaW5hdGUoY29vcmRpbmF0ZSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29vcmRpbmF0ZSkgPyB0aGlzLmNvb3JkID0gdGhpcy52aWV3LmdldENvb3JkaW5hdGVCeUlkKGNvb3JkaW5hdGUpIDogdGhpcy5jb29yZCA9IGNvb3JkaW5hdGUsIFxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmNvb3JkKSwgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgc3RhdGUoc3RhdGUsIHN0YXRlU29ydCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLnN0YXRlU29ydCA9IHN0YXRlU29ydCwgdGhpcy5zZXRGdW5jdGlvblNwZWMoc3RhdGUsIFwic3RhdGVcIik7XG4gICAgfVxuICAgIGVuY29kZShjaGFubmVsLCB2YWx1ZSwgY2xlYXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlU3RhdGUoRGlmZlN0YXRlLnVwZGF0ZSwgY2hhbm5lbCwgdmFsdWUsIGNsZWFyKTtcbiAgICB9XG4gICAgZW5jb2RlU3RhdGUoc3RhdGUsIGNoYW5uZWwsIHZhbHVlLCBjbGVhcikge1xuICAgICAgICBpZiAoc3RhdGUgPT09IERpZmZTdGF0ZS5lbnRlciAmJiAodGhpcy5faXNSZWVudGVyZWQgPSAhMCksIHRoaXMuc3BlYy5lbmNvZGVbc3RhdGVdKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0RW5jb2RlciA9IHRoaXMuc3BlYy5lbmNvZGVbc3RhdGVdO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb25UeXBlKGxhc3RFbmNvZGVyKSkgdGhpcy5kZXRhY2gocGFyc2VFbmNvZGVUeXBlKGxhc3RFbmNvZGVyLCB0aGlzLnZpZXcpKTsgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNTaW5nbGVDaGFubmVsID0gaXNTdHJpbmcoY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgaXNTaW5nbGVDaGFubmVsICYmIGNsZWFyIHx8ICFpc1NpbmdsZUNoYW5uZWwgJiYgdmFsdWUgPyAoT2JqZWN0LmtleXMobGFzdEVuY29kZXIpLmZvckVhY2goKGMgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRldGFjaChwYXJzZUVuY29kZVR5cGUobGFzdEVuY29kZXJbY10sIHRoaXMudmlldykpO1xuICAgICAgICAgICAgICAgIH0pKSwgdGhpcy5zcGVjLmVuY29kZVtzdGF0ZV0gPSB7fSkgOiBpc1NpbmdsZUNoYW5uZWwgPyB0aGlzLmRldGFjaChwYXJzZUVuY29kZVR5cGUobGFzdEVuY29kZXJbY2hhbm5lbF0sIHRoaXMudmlldykpIDogT2JqZWN0LmtleXMoY2hhbm5lbCkuZm9yRWFjaCgoYyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoKHBhcnNlRW5jb2RlVHlwZShsYXN0RW5jb2RlcltjXSwgdGhpcy52aWV3KSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFubmVsICYmICh0aGlzLnNwZWMuZW5jb2RlW3N0YXRlXSB8fCAodGhpcy5zcGVjLmVuY29kZVtzdGF0ZV0gPSB7fSksIGlzU3RyaW5nKGNoYW5uZWwpID8gKHRoaXMuc3BlYy5lbmNvZGVbc3RhdGVdW2NoYW5uZWxdID0gdmFsdWUsIFxuICAgICAgICB0aGlzLmF0dGFjaChwYXJzZUVuY29kZVR5cGUodmFsdWUsIHRoaXMudmlldykpKSA6IGlzRnVuY3Rpb25UeXBlKGNoYW5uZWwpID8gKHRoaXMuc3BlYy5lbmNvZGVbc3RhdGVdID0gY2hhbm5lbCwgXG4gICAgICAgIHRoaXMuYXR0YWNoKHBhcnNlRW5jb2RlVHlwZShjaGFubmVsLCB0aGlzLnZpZXcpKSkgOiBjaGFubmVsICYmIChPYmplY3QuYXNzaWduKHRoaXMuc3BlYy5lbmNvZGVbc3RhdGVdLCBjaGFubmVsKSwgXG4gICAgICAgIE9iamVjdC52YWx1ZXMoY2hhbm5lbCkuZm9yRWFjaCgoY2hhbm5lbEVuY29kZXIgPT4ge1xuICAgICAgICAgICAgdGhpcy5hdHRhY2gocGFyc2VFbmNvZGVUeXBlKGNoYW5uZWxFbmNvZGVyLCB0aGlzLnZpZXcpKTtcbiAgICAgICAgfSkpKSksIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIF9nZXRFbmNvZGVycygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5zcGVjLmVuY29kZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgfVxuICAgIGFuaW1hdGlvbihhbmltYXRpb25Db25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5hbmltYXRpb24gPSBhbmltYXRpb25Db25maWcsIHRoaXM7XG4gICAgfVxuICAgIGFuaW1hdGlvblN0YXRlKGFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhhbmltYXRpb25TdGF0ZSwgXCJhbmltYXRpb25TdGF0ZVwiKTtcbiAgICB9XG4gICAgbGF5b3V0KGxheW91dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmxheW91dCA9IGxheW91dCwgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgbW9ycGgoZW5hYmxlTW9ycGgsIG1vcnBoS2V5LCBtb3JwaEVsZW1lbnRLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5tb3JwaCA9IGVuYWJsZU1vcnBoLCB0aGlzLnNwZWMubW9ycGhLZXkgPSBtb3JwaEtleSwgdGhpcy5zcGVjLm1vcnBoRWxlbWVudEtleSA9IG1vcnBoRWxlbWVudEtleSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm1zKSB7XG4gICAgICAgIGNvbnN0IHByZXZUcmFuc2Zvcm1zID0gcGFyc2VUcmFuc2Zvcm1TcGVjKHRoaXMuc3BlYy50cmFuc2Zvcm0sIHRoaXMudmlldyk7XG4gICAgICAgIHByZXZUcmFuc2Zvcm1zICYmICh0aGlzLmRldGFjaChwcmV2VHJhbnNmb3Jtcy5yZWZzKSwgdGhpcy50cmFuc2Zvcm1zID0gW10pO1xuICAgICAgICBjb25zdCBuZXh0VHJhbnNmb3JtcyA9IHBhcnNlVHJhbnNmb3JtU3BlYyh0cmFuc2Zvcm1zLCB0aGlzLnZpZXcpO1xuICAgICAgICByZXR1cm4gbmV4dFRyYW5zZm9ybXMgJiYgKHRoaXMuYXR0YWNoKG5leHRUcmFuc2Zvcm1zLnJlZnMpLCB0aGlzLnRyYW5zZm9ybXMgPSBuZXh0VHJhbnNmb3Jtcy50cmFuc2Zvcm1zKSwgXG4gICAgICAgIHRoaXMuc3BlYy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBjb25maWd1cmUoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBbIFwiY2xpcFwiLCBcImNsaXBQYXRoXCIsIFwiekluZGV4XCIsIFwiaW50ZXJhY3RpdmVcIiwgXCJjb250ZXh0XCIsIFwic2V0Q3VzdG9taXplZFNoYXBlXCIsIFwibGFyZ2VcIiwgXCJsYXJnZVRocmVzaG9sZFwiLCBcInByb2dyZXNzaXZlU3RlcFwiLCBcInByb2dyZXNzaXZlVGhyZXNob2xkXCIsIFwic3VwcG9ydDNkXCIsIFwibW9ycGhcIiwgXCJtb3JwaEtleVwiLCBcIm1vcnBoRWxlbWVudEtleVwiLCBcImF0dHJpYnV0ZVRyYW5zZm9ybXNcIiwgXCJza2lwVGhlbWVcIiwgXCJlbmFibGVTZWdtZW50c1wiLCBcInN0YXRlU29ydFwiIF07XG4gICAgICAgIHJldHVybiBudWxsID09PSBjb25maWcgPyAoa2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgaXNOaWwodGhpcy5zcGVjW2tleV0pIHx8ICh0aGlzLnNwZWNba2V5XSA9IHZvaWQgMCk7XG4gICAgICAgIH0pKSwgdGhpcykgOiAoa2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgaXNOaWwoY29uZmlnW2tleV0pIHx8ICh0aGlzLnNwZWNba2V5XSA9IGNvbmZpZ1trZXldKTtcbiAgICAgICAgfSkpLCB0aGlzKTtcbiAgICB9XG4gICAgY29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuY29udGV4dCA9IGNvbnRleHQsIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0LCB0aGlzO1xuICAgIH1cbiAgICBpc0NvbGxlY3Rpb25NYXJrKCkge1xuICAgICAgICByZXR1cm4gQ29sbGVjdGlvbk1hcmtUeXBlLmluY2x1ZGVzKHRoaXMubWFya1R5cGUpO1xuICAgIH1cbiAgICBuZWVkQW5pbWF0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gIShudWxsID09PSAoX2EgPSB0aGlzLnJlbmRlckNvbnRleHQpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5wcm9ncmVzc2l2ZSkgJiYgIWlzTmlsKHRoaXMuc3BlYy5hbmltYXRpb24pO1xuICAgIH1cbiAgICBnZXRBbGxFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzLnNsaWNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRNYXAuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSAhPT0gRGlmZlN0YXRlLmV4aXQgfHwgZWxlbWVudHMuaW5jbHVkZXMoZWxlbWVudCkgfHwgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfSkpLCB0aGlzLnNwZWMuc29ydCAmJiBlbGVtZW50cy5zb3J0KCgoZWxlbWVudEEsIGVsZW1lbnRCKSA9PiB0aGlzLnNwZWMuc29ydChlbGVtZW50QS5nZXREYXR1bSgpLCBlbGVtZW50Qi5nZXREYXR1bSgpKSkpLCBcbiAgICAgICAgZWxlbWVudHM7XG4gICAgfVxuICAgIGdldFNjYWxlcygpIHtcbiAgICAgICAgY29uc3Qgc2NhbGVzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZXMuZm9yRWFjaCgoKGNvdW50LCByZWYpID0+IHtcbiAgICAgICAgICAgIHJlZi5ncmFtbWFyVHlwZSA9PT0gR3JhbW1hclR5cGVFbnVtLnNjYWxlICYmIChzY2FsZXNbcmVmLmlkKCldID0gcmVmLm91dHB1dCgpKTtcbiAgICAgICAgfSkpLCBzY2FsZXM7XG4gICAgfVxuICAgIGdldFNjYWxlc0J5Q2hhbm5lbCgpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSB0aGlzLnNwZWMuZW5jb2RlO1xuICAgICAgICBpZiAoIWVuY29kZXJzKSByZXR1cm4ge307XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9LCBwYXJhbXMgPSB0aGlzLnBhcmFtZXRlcnMoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGVuY29kZXJzKS5mb3JFYWNoKChzdGF0ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1c2VFbmNvZGVycyA9IGVuY29kZXJzW3N0YXRlXTtcbiAgICAgICAgICAgIHVzZUVuY29kZXJzICYmICFpc0Z1bmN0aW9uVHlwZSh1c2VFbmNvZGVycykgJiYgT2JqZWN0LmtleXModXNlRW5jb2RlcnMpLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICAgICAgICAgIGlzU2NhbGVFbmNvZGUodXNlRW5jb2RlcnNbY2hhbm5lbF0pICYmIChyZXNbY2hhbm5lbF0gPSBnZXRHcmFtbWFyT3V0cHV0KHVzZUVuY29kZXJzW2NoYW5uZWxdLnNjYWxlLCBwYXJhbXMpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLCByZXM7XG4gICAgfVxuICAgIGdldEZpZWxkc0J5Q2hhbm5lbCgpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSB0aGlzLnNwZWMuZW5jb2RlO1xuICAgICAgICBpZiAoIWVuY29kZXJzKSByZXR1cm4ge307XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZW5jb2RlcnMpLmZvckVhY2goKHN0YXRlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZUVuY29kZXJzID0gZW5jb2RlcnNbc3RhdGVdO1xuICAgICAgICAgICAgaXNGdW5jdGlvblR5cGUodXNlRW5jb2RlcnMpIHx8IE9iamVjdC5rZXlzKHVzZUVuY29kZXJzKS5mb3JFYWNoKChjaGFubmVsID0+IHtcbiAgICAgICAgICAgICAgICBpc0ZpZWxkRW5jb2RlKHVzZUVuY29kZXJzW2NoYW5uZWxdKSAmJiAocmVzW2NoYW5uZWxdID0gdXNlRW5jb2RlcnNbY2hhbm5lbF0uZmllbGQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSksIHJlcztcbiAgICB9XG4gICAgaW5pdChzdGFnZSwgcGFyYW1ldGVycykge1xuICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBpZiAodGhpcy5fZGVsZWdhdGVFdmVudCB8fCAodGhpcy5fZGVsZWdhdGVFdmVudCA9IChldmVudCwgdHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXh0ZW5kZWRFdnQgPSBnZXRFeHRlbmRlZEV2ZW50cyh0aGlzLnZpZXcsIGV2ZW50LCB0eXBlLCBFVkVOVF9TT1VSQ0VfVklFVyksIGFjdGl2ZUVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuICAgICAgICAgICAgKG51bGwgPT0gYWN0aXZlRWxlbWVudCA/IHZvaWQgMCA6IGFjdGl2ZUVsZW1lbnQubWFyaykgPT09IHRoaXMgJiYgdGhpcy5lbWl0R3JhbW1hckV2ZW50KHR5cGUsIGV4dGVuZGVkRXZ0LCBhY3RpdmVFbGVtZW50KTtcbiAgICAgICAgfSwgdGhpcy5pbml0RXZlbnQoKSksIG51bGwgPT09IChfYiA9IHRoaXMuaW5pdEFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbCh0aGlzLCB0aGlzLnNwZWMpLCBcbiAgICAgICAgIXRoaXMuZ3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gZ2V0R3JhbW1hck91dHB1dCh0aGlzLnNwZWMuZ3JvdXAsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgdGhpcy5ncm91cCA9IGdyb3VwLCBncm91cCAmJiBncm91cC5hcHBlbmRDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cEdyYXBoaWNJdGVtID0gdGhpcy5ncm91cCA/IHRoaXMuZ3JvdXAuZ2V0R3JvdXBHcmFwaGljSXRlbSgpIDogc3RhZ2UuZGVmYXVsdExheWVyLCBtYXJrSW5kZXggPSBudWxsICE9PSAoX2UgPSBudWxsID09PSAoX2QgPSBudWxsID09PSAoX2MgPSB0aGlzLmdyb3VwKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuY2hpbGRyZW4pIHx8IHZvaWQgMCA9PT0gX2QgPyB2b2lkIDAgOiBfZC5pbmRleE9mKHRoaXMpKSAmJiB2b2lkIDAgIT09IF9lID8gX2UgOiAwO1xuICAgICAgICBpZiAodGhpcy5tYXJrVHlwZSAhPT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncmFwaGljSXRlbSA9IGNyZWF0ZUdyYXBoaWNJdGVtKHRoaXMsIEdyYW1tYXJNYXJrVHlwZS5ncm91cCwge1xuICAgICAgICAgICAgICAgICAgICBwaWNrYWJsZTogITEsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogbnVsbCAhPT0gKF9mID0gdGhpcy5zcGVjLnpJbmRleCkgJiYgdm9pZCAwICE9PSBfZiA/IF9mIDogMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICh0aGlzLnNwZWMuc3VwcG9ydDNkIHx8IE1hcmszRFR5cGUuaW5jbHVkZXModGhpcy5tYXJrVHlwZSkpICYmIGdyYXBoaWNJdGVtLnNldE1vZGUoXCIzZFwiKSwgXG4gICAgICAgICAgICAgICAgZ3JhcGhpY0l0ZW0ubmFtZSA9IGAke3RoaXMuaWQoKSB8fCB0aGlzLm1hcmtUeXBlfWAsIHRoaXMuZ3JhcGhpY0l0ZW0gPSBncmFwaGljSXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY1BhcmVudCA9IHRoaXMuZ3JhcGhpY0l0ZW0sICFncm91cEdyYXBoaWNJdGVtIHx8IHRoaXMuZ3JhcGhpY0luZGV4ID09PSBtYXJrSW5kZXggJiYgdGhpcy5ncmFwaGljSXRlbS5wYXJlbnQgPT09IGdyb3VwR3JhcGhpY0l0ZW0gfHwgZ3JvdXBHcmFwaGljSXRlbS5pbnNlcnRJbnRvS2VlcElkeCh0aGlzLmdyYXBoaWNJdGVtLCBtYXJrSW5kZXgpO1xuICAgICAgICB9IGVsc2UgdGhpcy5ncmFwaGljUGFyZW50ID0gZ3JvdXBHcmFwaGljSXRlbTtcbiAgICAgICAgdGhpcy5ncmFwaGljSW5kZXggPSBtYXJrSW5kZXg7XG4gICAgfVxuICAgIHVwZGF0ZShzcGVjKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgaWYgKHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX1VQREFURSksIHRoaXMuX2NvbnRleHQgPSB0aGlzLnNwZWMuY29udGV4dCwgXG4gICAgICAgIHRoaXMuaXNVcGRhdGVkID0gITAsIHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZSB8fCBudWxsID09PSAoX2IgPSB0aGlzLnVwZGF0ZUFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbCh0aGlzLCBzcGVjKSwgXG4gICAgICAgIHRoaXMubWFya1R5cGUgIT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCkge1xuICAgICAgICAgICAgaWYgKGlzTmlsKHNwZWMuekluZGV4KSB8fCB0aGlzLmdyYXBoaWNJdGVtLnNldEF0dHJpYnV0ZShcInpJbmRleFwiLCBzcGVjLnpJbmRleCksIFxuICAgICAgICAgICAgaXNOaWwoc3BlYy5jbGlwKSB8fCB0aGlzLmdyYXBoaWNJdGVtLnNldEF0dHJpYnV0ZShcImNsaXBcIiwgc3BlYy5jbGlwKSwgIWlzTmlsKHNwZWMuY2xpcFBhdGgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aHMgPSBpc0FycmF5KHNwZWMuY2xpcFBhdGgpID8gc3BlYy5jbGlwUGF0aCA6IHNwZWMuY2xpcFBhdGgodGhpcy5lbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgcGF0aHMgJiYgcGF0aHMubGVuZ3RoID8gdGhpcy5ncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGUoXCJwYXRoXCIsIHBhdGhzKSA6IHRoaXMuZ3JhcGhpY0l0ZW0uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGhzLFxuICAgICAgICAgICAgICAgICAgICBjbGlwOiAhMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50TWFwLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlR3JhcGhpY0l0ZW0oKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHRoaXMuZWxlbWVudE1hcC5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlR3JhcGhpY0l0ZW0oKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9NQVJLX1VQREFURSk7XG4gICAgfVxuICAgIGNyZWF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgZXZhbHVhdGVKb2luKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICB0aGlzLm5lZWRDbGVhciA9ICEwO1xuICAgICAgICBjb25zdCBrZXlHZXR0ZXIgPSBwYXJzZUZpZWxkKG51bGwgIT09IChfYyA9IG51bGwgIT09IChfYSA9IHRoaXMuc3BlYy5rZXkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGwgPT09IChfYiA9IHRoaXMuZ3JhbW1hclNvdXJjZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmdldERhdGFJREtleSgpKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAoKSA9PiBEZWZhdWx0S2V5KSwgZ3JvdXBLZXlHZXR0ZXIgPSBwYXJzZUZpZWxkKG51bGwgIT09IChfZCA9IHRoaXMuc3BlYy5ncm91cEJ5KSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAoKSA9PiBEZWZhdWx0S2V5KSwgc29ydCA9IHRoaXMuc3BlYy5zb3J0LCBpc0NvbGxlY3Rpb25NYXJrID0gdGhpcy5pc0NvbGxlY3Rpb25NYXJrKCksIGVudGVyRWxlbWVudHMgPSBuZXcgU2V0KHRoaXMuZWxlbWVudHMuZmlsdGVyKChlbGVtZW50ID0+IGVsZW1lbnQuZGlmZlN0YXRlID09PSBEaWZmU3RhdGUuZW50ZXIpKSksIGVsZW1lbnRzID0gW107XG4gICAgICAgIHRoaXMuZGlmZmVyLnNldENhbGxiYWNrKCgoa2V5LCBkYXRhLCBwcmV2RGF0YSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudEtleSA9IGtleTtcbiAgICAgICAgICAgIGxldCBlbGVtZW50O1xuICAgICAgICAgICAgaWYgKGlzTmlsKGRhdGEpKSBlbGVtZW50ID0gdGhpcy5lbGVtZW50TWFwLmdldChlbGVtZW50S2V5KSwgZWxlbWVudCAmJiAoZWxlbWVudC5kaWZmU3RhdGUgPSBEaWZmU3RhdGUuZXhpdCk7IGVsc2UgaWYgKGlzTmlsKHByZXZEYXRhKSkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ID0gdGhpcy5lbGVtZW50TWFwLmhhcyhlbGVtZW50S2V5KSA/IHRoaXMuZWxlbWVudE1hcC5nZXQoZWxlbWVudEtleSkgOiB0aGlzLmNyZWF0ZUVsZW1lbnQoKSwgXG4gICAgICAgICAgICAgICAgZWxlbWVudC5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS5leGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlmZlN0YXRlID0gRGlmZlN0YXRlLmVudGVyO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRvcnMgPSBudWxsID09PSAoX2EgPSB0aGlzLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5nZXRFbGVtZW50QW5pbWF0b3JzKGVsZW1lbnQsIERpZmZTdGF0ZS5leGl0KTtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0b3JzICYmIGFuaW1hdG9ycy5mb3JFYWNoKChhbmltYXRvciA9PiBhbmltYXRvci5zdG9wKFwic3RhcnRcIikpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kaWZmU3RhdGUgPSBEaWZmU3RhdGUuZW50ZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBLZXkgPSBpc0NvbGxlY3Rpb25NYXJrID8ga2V5IDogZ3JvdXBLZXlHZXR0ZXIoZGF0YVswXSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51cGRhdGVEYXRhKGdyb3VwS2V5LCBkYXRhLCBrZXlHZXR0ZXIpLCB0aGlzLmVsZW1lbnRNYXAuc2V0KGVsZW1lbnRLZXksIGVsZW1lbnQpLCBcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ID0gdGhpcy5lbGVtZW50TWFwLmdldChlbGVtZW50S2V5KSwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlmZlN0YXRlID0gRGlmZlN0YXRlLnVwZGF0ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cEtleSA9IGlzQ29sbGVjdGlvbk1hcmsgPyBrZXkgOiBncm91cEtleUdldHRlcihkYXRhWzBdKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnVwZGF0ZURhdGEoZ3JvdXBLZXksIGRhdGEsIGtleUdldHRlciksIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRlckVsZW1lbnRzLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0YSA9IG51bGwgIT0gZGF0YSA/IGRhdGEgOiBEZWZhdWx0TWFya0RhdGE7XG4gICAgICAgIGlzQ29sbGVjdGlvbk1hcmsgPyB0aGlzLmRpZmZlci5zZXRDdXJyZW50RGF0YSh0aGlzLl9ncm91cGVkRGF0YSkgOiB0aGlzLmRpZmZlci5zZXRDdXJyZW50RGF0YShncm91cERhdGEoY3VycmVudERhdGEsIChkYXR1bSA9PiBgJHtncm91cEtleUdldHRlcihkYXR1bSl9LSR7a2V5R2V0dGVyKGRhdHVtKX1gKSwgdm9pZCAwKSksIFxuICAgICAgICB0aGlzLmRpZmZlci5kb0RpZmYoKSwgZW50ZXJFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudE1hcC5kZWxldGUoaXNDb2xsZWN0aW9uTWFyayA/IGVsZW1lbnQuZ3JvdXBLZXkgOiBgJHtlbGVtZW50Lmdyb3VwS2V5fS0ke2VsZW1lbnQua2V5fWApLCBcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCksIGVsZW1lbnQucmVsZWFzZSgpO1xuICAgICAgICB9KSksIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cywgc29ydCAmJiB0aGlzLmVsZW1lbnRzLmxlbmd0aCA+PSAyICYmIHRoaXMuZWxlbWVudHMuc29ydCgoKGVsZW1lbnRBLCBlbGVtZW50QikgPT4gc29ydChlbGVtZW50QS5nZXREYXR1bSgpLCBlbGVtZW50Qi5nZXREYXR1bSgpKSkpO1xuICAgIH1cbiAgICBldmFsdWF0ZVN0YXRlKGVsZW1lbnRzLCBzdGF0ZVNwZWMsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3RhdGVTcGVjICYmIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zdGF0ZShzdGF0ZVNwZWMsIHBhcmFtZXRlcnMpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGV2YWx1YXRlR3JvdXBFbmNvZGUoZWxlbWVudHMsIGdyb3VwRW5jb2RlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGlmICghdGhpcy5fZ3JvdXBlZERhdGEgfHwgIWdyb3VwRW5jb2RlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JvdXBlZERhdGEua2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBlbGVtZW50cy5maW5kKChlbCA9PiBlbC5ncm91cEtleSA9PT0ga2V5KSk7XG4gICAgICAgICAgICBlbCAmJiAocmVzW2tleV0gPSBpbnZva2VFbmNvZGVyKGdyb3VwRW5jb2RlLCBlbC5pdGVtcyAmJiBlbC5pdGVtc1swXSAmJiBlbC5pdGVtc1swXS5kYXR1bSwgZWwsIHBhcmFtZXRlcnMpKTtcbiAgICAgICAgfSkpLCB0aGlzLl9ncm91cEVuY29kZVJlc3VsdCA9IHJlcywgcmVzO1xuICAgIH1cbiAgICBnZXRDaGFubmVsc0Zyb21Db25maWcoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBzcGVjID0gdGhpcy5zcGVjO1xuICAgICAgICByZXR1cm4gaXNOaWwoc3BlYy5pbnRlcmFjdGl2ZSkgPyBudWxsIDoge1xuICAgICAgICAgICAgcGlja2FibGU6IHNwZWMuaW50ZXJhY3RpdmVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZXZhbHVhdGVFbmNvZGUoZWxlbWVudHMsIGVuY29kZXJzLCBwYXJhbWV0ZXJzLCBub0dyb3VwRW5jb2RlKSB7XG4gICAgICAgIGNvbnN0IGluaXRBdHRycyA9IHRoaXMuZ2V0Q2hhbm5lbHNGcm9tQ29uZmlnKCk7XG4gICAgICAgIGlmIChlbmNvZGVycykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX0VMRU1FTlRfRU5DT0RFLCB7XG4gICAgICAgICAgICAgICAgZW5jb2RlcnM6IGVuY29kZXJzLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHBhcmFtZXRlcnNcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBFbmNvZGVBdHRycyA9IG5vR3JvdXBFbmNvZGUgPyBudWxsIDogdGhpcy5ldmFsdWF0ZUdyb3VwRW5jb2RlKGVsZW1lbnRzLCBlbmNvZGVyc1tCdWlsdEluRW5jb2RlTmFtZXMuZ3JvdXBdLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5nbHlwaCAmJiB0aGlzLl9ncm91cEVuY29kZVJlc3VsdCA/IGVsZW1lbnQuaXRlbXMuZm9yRWFjaCgoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ubmV4dEF0dHJzID0gT2JqZWN0LmFzc2lnbihpdGVtLm5leHRBdHRycywgaW5pdEF0dHJzLCB0aGlzLl9ncm91cEVuY29kZVJlc3VsdFtlbGVtZW50Lmdyb3VwS2V5XSk7XG4gICAgICAgICAgICAgICAgfSkpIDogKG51bGwgPT0gZ3JvdXBFbmNvZGVBdHRycyA/IHZvaWQgMCA6IGdyb3VwRW5jb2RlQXR0cnNbZWxlbWVudC5ncm91cEtleV0pICYmICF0aGlzLmlzQ29sbGVjdGlvbk1hcmsoKSA/IGVsZW1lbnQuaXRlbXMuZm9yRWFjaCgoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ubmV4dEF0dHJzID0gT2JqZWN0LmFzc2lnbihpdGVtLm5leHRBdHRycywgaW5pdEF0dHJzLCBncm91cEVuY29kZUF0dHJzW2VsZW1lbnQuZ3JvdXBLZXldKTtcbiAgICAgICAgICAgICAgICB9KSkgOiBpbml0QXR0cnMgJiYgZWxlbWVudC5pdGVtcy5mb3JFYWNoKChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5uZXh0QXR0cnMgPSBPYmplY3QuYXNzaWduKGl0ZW0ubmV4dEF0dHJzLCBpbml0QXR0cnMpO1xuICAgICAgICAgICAgICAgIH0pKSwgZWxlbWVudC5lbmNvZGVJdGVtcyhlbGVtZW50Lml0ZW1zLCBlbmNvZGVycywgdGhpcy5faXNSZWVudGVyZWQsIHBhcmFtZXRlcnMpLCBcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29sbGVjdGlvbk1hcmsoKSAmJiAobnVsbCA9PSBncm91cEVuY29kZUF0dHJzID8gdm9pZCAwIDogZ3JvdXBFbmNvZGVBdHRyc1tlbGVtZW50Lmdyb3VwS2V5XSkgJiYgaXNWYWxpZChncm91cEVuY29kZUF0dHJzW2VsZW1lbnQuZ3JvdXBLZXldLmRlZmluZWQpICYmIChlbGVtZW50Lml0ZW1zLmZvckVhY2goKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLm5leHRBdHRycy5kZWZpbmVkID0gZ3JvdXBFbmNvZGVBdHRyc1tlbGVtZW50Lmdyb3VwS2V5XS5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0pKSwgZGVsZXRlIGdyb3VwRW5jb2RlQXR0cnNbZWxlbWVudC5ncm91cEtleV0uZGVmaW5lZCk7XG4gICAgICAgICAgICB9KSksIHRoaXMuX2lzUmVlbnRlcmVkID0gITEsIHRoaXMuZXZhbHVhdGVUcmFuc2Zvcm0odGhpcy5fZ2V0VHJhbnNmb3Jtc0FmdGVyRW5jb2RlSXRlbXMoKSwgZWxlbWVudHMsIHBhcmFtZXRlcnMpLCBcbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZW5jb2RlR3JhcGhpYyh0aGlzLmlzQ29sbGVjdGlvbk1hcmsoKSA/IG51bGwgPT0gZ3JvdXBFbmNvZGVBdHRycyA/IHZvaWQgMCA6IGdyb3VwRW5jb2RlQXR0cnNbZWxlbWVudC5ncm91cEtleV0gOiBudWxsKTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfRUxFTUVOVF9FTkNPREUsIHtcbiAgICAgICAgICAgICAgICBlbmNvZGVyczogZW5jb2RlcnMsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogcGFyYW1ldGVyc1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5pdEdyYXBoaWNJdGVtKGluaXRBdHRycyk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5LCBuZXdHcmFwaGljSXRlbSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtID0gbnVsbCAhPSBuZXdHcmFwaGljSXRlbSA/IG5ld0dyYXBoaWNJdGVtIDogY3JlYXRlR3JhcGhpY0l0ZW0odGhpcywgdGhpcy5tYXJrVHlwZSwgYXR0cnMpO1xuICAgICAgICBpZiAoZ3JhcGhpY0l0ZW0pIHtcbiAgICAgICAgICAgIGlmIChudWxsID09PSAoX2EgPSB0aGlzLnJlbmRlckNvbnRleHQpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5wcm9ncmVzc2l2ZSkge1xuICAgICAgICAgICAgICAgIGxldCBncm91cDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ3JvdXBlZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9ncm91cGVkRGF0YS5rZXlzLmluZGV4T2YoZ3JvdXBLZXkpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA+PSAwICYmIChncm91cCA9IHRoaXMuZ3JhcGhpY1BhcmVudC5nZXRDaGlsZEF0KGluZGV4KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGdyb3VwID0gdGhpcy5ncmFwaGljUGFyZW50LmF0KDApO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDb2xsZWN0aW9uTWFyaygpID8gKGdyYXBoaWNJdGVtLmluY3JlbWVudGFsID0gMSwgZ3JvdXAuYXBwZW5kQ2hpbGQoZ3JhcGhpY0l0ZW0pKSA6IGdyb3VwLmluY3JlbWVudGFsQXBwZW5kQ2hpbGQoZ3JhcGhpY0l0ZW0pO1xuICAgICAgICAgICAgfSBlbHNlIHRoaXMuZ3JhcGhpY1BhcmVudC5hcHBlbmRDaGlsZChncmFwaGljSXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gZ3JhcGhpY0l0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyc2VSZW5kZXJDb250ZXh0KGRhdGEsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgY29uc3QgZW5hYmxlUHJvZ3Jlc3NpdmUgPSB0aGlzLm1hcmtUeXBlICE9PSBHcmFtbWFyTWFya1R5cGUuZ3JvdXAgJiYgdGhpcy5zcGVjLnByb2dyZXNzaXZlU3RlcCA+IDAgJiYgdGhpcy5zcGVjLnByb2dyZXNzaXZlVGhyZXNob2xkID4gMCAmJiB0aGlzLnNwZWMucHJvZ3Jlc3NpdmVTdGVwIDwgdGhpcy5zcGVjLnByb2dyZXNzaXZlVGhyZXNob2xkLCBsYXJnZSA9IHRoaXMuc3BlYy5sYXJnZSAmJiB0aGlzLnNwZWMubGFyZ2VUaHJlc2hvbGQgPiAwICYmIGRhdGEubGVuZ3RoID49IHRoaXMuc3BlYy5sYXJnZVRocmVzaG9sZDtcbiAgICAgICAgaWYgKGVuYWJsZVByb2dyZXNzaXZlKSB7XG4gICAgICAgICAgICBjb25zdCBncm91cGVkRGF0YSA9IHRoaXMuX2dyb3VwZWREYXRhO1xuICAgICAgICAgICAgcmV0dXJuIGdyb3VwZWREYXRhICYmIGdyb3VwZWREYXRhLmtleXMgJiYgZ3JvdXBlZERhdGEua2V5cy5zb21lKChrZXkgPT4gZ3JvdXBlZERhdGEuZGF0YS5nZXQoa2V5KS5sZW5ndGggPiB0aGlzLnNwZWMucHJvZ3Jlc3NpdmVUaHJlc2hvbGQpKSA/IHtcbiAgICAgICAgICAgICAgICBsYXJnZTogbGFyZ2UsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogcGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICBwcm9ncmVzc2l2ZToge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiB0aGlzLnNwZWMucHJvZ3Jlc3NpdmVTdGVwLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsU3RlcDogZ3JvdXBlZERhdGEua2V5cy5yZWR1Y2UoKCh0b3RhbCwga2V5KSA9PiBNYXRoLm1heChNYXRoLmNlaWwoZ3JvdXBlZERhdGEuZGF0YS5nZXQoa2V5KS5sZW5ndGggLyB0aGlzLnNwZWMucHJvZ3Jlc3NpdmVTdGVwKSwgdG90YWwpKSwgMSksXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwZWREYXRhOiBncm91cGVkRGF0YS5kYXRhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICBsYXJnZTogbGFyZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhcmdlOiBsYXJnZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBpc1Byb2dyZXNzaXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJDb250ZXh0ICYmICghIXRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZSB8fCAhIXRoaXMucmVuZGVyQ29udGV4dC5iZWZvcmVUcmFuc2Zvcm1Qcm9ncmVzc2l2ZSk7XG4gICAgfVxuICAgIGNhbkFuaW1hdGVBZnRlclByb2dyZXNzaXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJDb250ZXh0ICYmIHRoaXMucmVuZGVyQ29udGV4dC5iZWZvcmVUcmFuc2Zvcm1Qcm9ncmVzc2l2ZSAmJiB0aGlzLnJlbmRlckNvbnRleHQuYmVmb3JlVHJhbnNmb3JtUHJvZ3Jlc3NpdmUuY2FuQW5pbWF0ZSgpO1xuICAgIH1cbiAgICBpc0RvaW5nUHJvZ3Jlc3NpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckNvbnRleHQgJiYgKHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZSAmJiB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUuY3VycmVudEluZGV4IDwgdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlLnRvdGFsU3RlcCB8fCB0aGlzLnJlbmRlckNvbnRleHQuYmVmb3JlVHJhbnNmb3JtUHJvZ3Jlc3NpdmUgJiYgdGhpcy5yZW5kZXJDb250ZXh0LmJlZm9yZVRyYW5zZm9ybVByb2dyZXNzaXZlLnVuZmluaXNoZWQoKSk7XG4gICAgfVxuICAgIGNsZWFyUHJvZ3Jlc3NpdmUoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyQ29udGV4dCAmJiB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUgJiYgKHRoaXMuZWxlbWVudHMgPSBbXSwgdGhpcy5ncmFwaGljUGFyZW50LmNoaWxkcmVuLmZvckVhY2goKGdyb3VwID0+IHtcbiAgICAgICAgICAgIGdyb3VwLmluY3JlbWVudGFsQ2xlYXJDaGlsZCgpO1xuICAgICAgICB9KSksIHRoaXMuZ3JhcGhpY1BhcmVudC5yZW1vdmVBbGxDaGlsZCgpKSwgdGhpcy5yZW5kZXJDb250ZXh0ICYmIHRoaXMucmVuZGVyQ29udGV4dC5iZWZvcmVUcmFuc2Zvcm1Qcm9ncmVzc2l2ZSAmJiB0aGlzLnJlbmRlckNvbnRleHQuYmVmb3JlVHJhbnNmb3JtUHJvZ3Jlc3NpdmUucmVsZWFzZSgpLCBcbiAgICAgICAgdGhpcy5yZW5kZXJDb250ZXh0ID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdGFydFByb2dyZXNzaXZlKCkge1xuICAgICAgICB0aGlzLnJlbmRlckNvbnRleHQgJiYgdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlICYmICh0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUuY3VycmVudEluZGV4ID0gMCk7XG4gICAgfVxuICAgIGV2YWx1YXRlSm9pblByb2dyZXNzaXZlKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlLmN1cnJlbnRJbmRleCwga2V5R2V0dGVyID0gcGFyc2VGaWVsZChudWxsICE9PSAoX2MgPSBudWxsICE9PSAoX2EgPSB0aGlzLnNwZWMua2V5KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBudWxsID09PSAoX2IgPSB0aGlzLmdyYW1tYXJTb3VyY2UpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5nZXREYXRhSURLZXkoKSkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogKCkgPT4gRGVmYXVsdEtleSksIGVsZW1lbnRzID0gW107XG4gICAgICAgIGlmICh0aGlzLmlzQ29sbGVjdGlvbk1hcmsoKSkgcmV0dXJuIHRoaXMuX2dyb3VwZWREYXRhLmtleXMuZm9yRWFjaCgoKGtleSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUuZ3JvdXBlZERhdGEuZ2V0KGtleSksIGdyb3VwU3RlcCA9IHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZS5zdGVwLCBkYXRhU2xpY2UgPSBkYXRhLnNsaWNlKGN1cnJlbnRJbmRleCAqIGdyb3VwU3RlcCwgKGN1cnJlbnRJbmRleCArIDEpICogZ3JvdXBTdGVwKTtcbiAgICAgICAgICAgIGlmICgwID09PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kaWZmU3RhdGUgPSBEaWZmU3RhdGUuZW50ZXIsIGVsZW1lbnQudXBkYXRlRGF0YShrZXksIGRhdGFTbGljZSwga2V5R2V0dGVyKSwgXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlRGF0YShrZXksIGRhdGFTbGljZSwga2V5R2V0dGVyKSwgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLCBlbGVtZW50cztcbiAgICAgICAgY29uc3QgZ3JvdXBFbGVtZW50cyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JvdXBlZERhdGEua2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZS5ncm91cGVkRGF0YS5nZXQoa2V5KSwgZ3JvdXBTdGVwID0gdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlLnN0ZXAsIGRhdGFTbGljZSA9IGRhdGEuc2xpY2UoY3VycmVudEluZGV4ICogZ3JvdXBTdGVwLCAoY3VycmVudEluZGV4ICsgMSkgKiBncm91cFN0ZXApLCBncm91cCA9IFtdO1xuICAgICAgICAgICAgZGF0YVNsaWNlLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kaWZmU3RhdGUgPSBEaWZmU3RhdGUuZW50ZXIsIGVsZW1lbnQudXBkYXRlRGF0YShrZXksIFsgZW50cnkgXSwga2V5R2V0dGVyKSwgXG4gICAgICAgICAgICAgICAgZ3JvdXAucHVzaChlbGVtZW50KSwgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pKSwgZ3JvdXBFbGVtZW50c1trZXldID0gZ3JvdXA7XG4gICAgICAgIH0pKSwge1xuICAgICAgICAgICAgZ3JvdXBFbGVtZW50czogZ3JvdXBFbGVtZW50cyxcbiAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICAgICAgICB9O1xuICAgIH1cbiAgICBldmFsdWF0ZUVuY29kZVByb2dyZXNzaXZlKGVsZW1lbnRzLCBlbmNvZGVycywgcGFyYW1ldGVycykge1xuICAgICAgICBjb25zdCBwcm9ncmVzc2l2ZUluZGV4ID0gdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlLmN1cnJlbnRJbmRleDtcbiAgICAgICAgaWYgKDAgPT09IHByb2dyZXNzaXZlSW5kZXgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2YWx1YXRlRW5jb2RlKGVsZW1lbnRzLCBlbmNvZGVycywgcGFyYW1ldGVycyksIDAgPT09IHByb2dyZXNzaXZlSW5kZXggJiYgdGhpcy5fZ3JvdXBFbmNvZGVSZXN1bHQgJiYgIXRoaXMuaXNDb2xsZWN0aW9uTWFyaygpICYmIHRoaXMubWFya1R5cGUgIT09IEdyYW1tYXJNYXJrVHlwZS5nbHlwaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0RWxlbWVudCA9IGVsZW1lbnRzWzBdLCBmaXJzdENoaWxkID0gZmlyc3RFbGVtZW50LmdldEdyYXBoaWNJdGVtKCksIGdyb3VwID0gbnVsbCA9PSBmaXJzdENoaWxkID8gdm9pZCAwIDogZmlyc3RDaGlsZC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgZ3JvdXAgJiYgdGhpcy5fZ3JvdXBFbmNvZGVSZXN1bHRbZmlyc3RFbGVtZW50Lmdyb3VwS2V5XSAmJiBncm91cC5zZXRUaGVtZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjogdGhpcy5fZ3JvdXBFbmNvZGVSZXN1bHRbZmlyc3RFbGVtZW50Lmdyb3VwS2V5XVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgdGhpcy5ldmFsdWF0ZUVuY29kZShlbGVtZW50cywgZW5jb2RlcnMsIHBhcmFtZXRlcnMsICEwKTtcbiAgICB9XG4gICAgZXZhbHVhdGVQcm9ncmVzc2l2ZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChudWxsID09PSAoX2EgPSB0aGlzLnJlbmRlckNvbnRleHQpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5iZWZvcmVUcmFuc2Zvcm1Qcm9ncmVzc2l2ZSkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5yZW5kZXJDb250ZXh0LmJlZm9yZVRyYW5zZm9ybVByb2dyZXNzaXZlO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnByb2dyZXNzaXZlUnVuKCk7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXQgPSB0cmFuc2Zvcm0ub3V0cHV0KCk7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtLmNhbkFuaW1hdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtLnVuZmluaXNoZWQoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZhbHVhdGVHcm91cChvdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX0pPSU4pLCB0aGlzLmV2YWx1YXRlSm9pbihvdXRwdXQpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9NQVJLX0pPSU4pLCBcbiAgICAgICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX1NUQVRFKSwgdGhpcy5ldmFsdWF0ZVN0YXRlKHRoaXMuZWxlbWVudHMsIHRoaXMuc3BlYy5zdGF0ZSwgdGhpcy5yZW5kZXJDb250ZXh0LnBhcmFtZXRlcnMpLCBcbiAgICAgICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfU1RBVEUpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfTUFSS19FTkNPREUpLCBcbiAgICAgICAgICAgIHRoaXMuZXZhbHVhdGVFbmNvZGUodGhpcy5lbGVtZW50cywgdGhpcy5fZ2V0RW5jb2RlcnMoKSwgdGhpcy5yZW5kZXJDb250ZXh0LnBhcmFtZXRlcnMpLCBcbiAgICAgICAgICAgIHZvaWQgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfTUFSS19FTkNPREUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKG51bGwgPT09IChfYiA9IHRoaXMucmVuZGVyQ29udGV4dCkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLnByb2dyZXNzaXZlKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5yZW5kZXJDb250ZXh0LnBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX0pPSU4pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmV2YWx1YXRlSm9pblByb2dyZXNzaXZlKCksIGVsZW1lbnRzID0gQXJyYXkuaXNBcnJheShyZXN1bHQpID8gcmVzdWx0IDogcmVzdWx0LmVsZW1lbnRzO1xuICAgICAgICBpZiAodGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfTUFSS19KT0lOKSwgMCA9PT0gdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlLmN1cnJlbnRJbmRleCA/ICh0aGlzLmdyYXBoaWNQYXJlbnQucmVtb3ZlQWxsQ2hpbGQoKSwgXG4gICAgICAgIHRoaXMuX2dyb3VwZWREYXRhLmtleXMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtID0gY3JlYXRlR3JhcGhpY0l0ZW0odGhpcywgR3JhbW1hck1hcmtUeXBlLmdyb3VwLCB7XG4gICAgICAgICAgICAgICAgcGlja2FibGU6ICExLFxuICAgICAgICAgICAgICAgIHpJbmRleDogdGhpcy5zcGVjLnpJbmRleFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncmFwaGljSXRlbS5pbmNyZW1lbnRhbCA9IHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZS5zdGVwLCB0aGlzLmdyYXBoaWNQYXJlbnQuYXBwZW5kQ2hpbGQoZ3JhcGhpY0l0ZW0pO1xuICAgICAgICB9KSksIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cykgOiB0aGlzLmVsZW1lbnRzID0gdGhpcy5lbGVtZW50cy5jb25jYXQoZWxlbWVudHMpLCBcbiAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX01BUktfU1RBVEUpLCB0aGlzLmV2YWx1YXRlU3RhdGUoZWxlbWVudHMsIHRoaXMuc3BlYy5zdGF0ZSwgcGFyYW1ldGVycyksIFxuICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9NQVJLX1NUQVRFKSwgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX01BUktfRU5DT0RFKSwgXG4gICAgICAgIEFycmF5LmlzQXJyYXkocmVzdWx0KSkgdGhpcy5ldmFsdWF0ZUVuY29kZVByb2dyZXNzaXZlKGVsZW1lbnRzLCB0aGlzLl9nZXRFbmNvZGVycygpLCBwYXJhbWV0ZXJzKTsgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBncm91cEVsZW1lbnRzID0gcmVzdWx0Lmdyb3VwRWxlbWVudHM7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhncm91cEVsZW1lbnRzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZhbHVhdGVFbmNvZGVQcm9ncmVzc2l2ZShncm91cEVsZW1lbnRzW2tleV0sIHRoaXMuX2dldEVuY29kZXJzKCksIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfRU5DT0RFKTtcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NpdmVUcmFuc2Zvcm1zID0gbnVsbCA9PT0gKF9jID0gdGhpcy5fZ2V0VHJhbnNmb3Jtc0FmdGVyRW5jb2RlKCkpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy5maWx0ZXIoKGVudHJ5ID0+ICEwID09PSBlbnRyeS5jYW5Qcm9ncmVzc2l2ZSkpO1xuICAgICAgICAobnVsbCA9PSBwcm9ncmVzc2l2ZVRyYW5zZm9ybXMgPyB2b2lkIDAgOiBwcm9ncmVzc2l2ZVRyYW5zZm9ybXMubGVuZ3RoKSAmJiB0aGlzLmV2YWx1YXRlVHJhbnNmb3JtKHByb2dyZXNzaXZlVHJhbnNmb3JtcywgdGhpcy5lbGVtZW50cywgcGFyYW1ldGVycyksIFxuICAgICAgICB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUuY3VycmVudEluZGV4ICs9IDE7XG4gICAgfVxuICAgIGlzTGFyZ2VNb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJDb250ZXh0ICYmIHRoaXMucmVuZGVyQ29udGV4dC5sYXJnZTtcbiAgICB9XG4gICAgY2xlYW5FeGl0RWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE1hcC5mb3JFYWNoKCgoZWxlbWVudCwga2V5KSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSAhPT0gRGlmZlN0YXRlLmV4aXQgfHwgZWxlbWVudC5pc1Jlc2VydmVkIHx8ICh0aGlzLmVsZW1lbnRNYXAuZGVsZXRlKGtleSksIFxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKSwgZWxlbWVudC5yZWxlYXNlKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldEdyb3VwR3JhcGhpY0l0ZW0oKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzICYmIHRoaXMuZWxlbWVudHNbMF0gJiYgdGhpcy5lbGVtZW50c1swXS5nZXRHcmFwaGljSXRlbSkgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0uZ2V0R3JhcGhpY0l0ZW0oKTtcbiAgICB9XG4gICAgZ2V0Qm91bmRzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNJdGVtID8gdGhpcy5ncmFwaGljSXRlbS5BQUJCQm91bmRzIDogbnVsbCA9PT0gKF9hID0gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCkpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5BQUJCQm91bmRzO1xuICAgIH1cbiAgICBnZXRNb3JwaENvbmZpZygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9ycGg6IG51bGwgIT09IChfYSA9IHRoaXMuc3BlYy5tb3JwaCkgJiYgdm9pZCAwICE9PSBfYSAmJiBfYSxcbiAgICAgICAgICAgIG1vcnBoS2V5OiB0aGlzLnNwZWMubW9ycGhLZXksXG4gICAgICAgICAgICBtb3JwaEVsZW1lbnRLZXk6IHRoaXMuc3BlYy5tb3JwaEVsZW1lbnRLZXlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0QXR0cmlidXRlVHJhbnNmb3JtcygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5zcGVjLmF0dHJpYnV0ZVRyYW5zZm9ybXMpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHRyYW5zZm9ybXNCeVR5cGVbdGhpcy5tYXJrVHlwZV07XG4gICAgfVxuICAgIGdldENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0O1xuICAgIH1cbiAgICBuZWVkU2tpcEJlZm9yZUxheW91dCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCEwID09PSAobnVsbCA9PT0gKF9hID0gdGhpcy5zcGVjLmxheW91dCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnNraXBCZWZvcmVMYXlvdXRlZCkpIHJldHVybiAhMDtcbiAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5ncm91cDtcbiAgICAgICAgZm9yICg7Z3JvdXA7ICkge1xuICAgICAgICAgICAgaWYgKCEwID09PSAobnVsbCA9PT0gKF9iID0gZ3JvdXAuZ2V0U3BlYygpLmxheW91dCkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLnNraXBCZWZvcmVMYXlvdXRlZCkpIHJldHVybiAhMDtcbiAgICAgICAgICAgIGdyb3VwID0gZ3JvdXAuZ3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBpbml0RXZlbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWxlZ2F0ZUV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMudmlldy5yZW5kZXJlci5zdGFnZSgpO1xuICAgICAgICAgICAgc3RhZ2UgJiYgc3RhZ2Uub24oXCIqXCIsIHRoaXMuX2RlbGVnYXRlRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbGVhc2VFdmVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlbGVnYXRlRXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy52aWV3LnJlbmRlcmVyLnN0YWdlKCk7XG4gICAgICAgICAgICBzdGFnZSAmJiBzdGFnZS5vZmYoXCIqXCIsIHRoaXMuX2RlbGVnYXRlRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMucmVsZWFzZUV2ZW50KCksIHRoaXMudHJhbnNmb3JtcyA9IG51bGwsIHRoaXMuZWxlbWVudE1hcCA9IG51bGwsIHRoaXMuZWxlbWVudHMgPSBudWxsLCBcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbSA9IG51bGwsIHRoaXMuYW5pbWF0ZSA9IG51bGwsIG51bGwgPT09IChfYSA9IHRoaXMuZ3JvdXApIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2EucmVtb3ZlQ2hpbGQodGhpcyksIFxuICAgICAgICB0aGlzLmdyb3VwID0gbnVsbCwgc3VwZXIuY2xlYXIoKTtcbiAgICB9XG4gICAgcHJlcGFyZVJlbGVhc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5kaWZmZXIuc2V0Q3VycmVudERhdGEobnVsbCksIG51bGwgPT09IChfYSA9IHRoaXMuYW5pbWF0ZSkgfHwgdm9pZCAwID09PSBfYSB8fCBfYS5zdG9wKCksIFxuICAgICAgICB0aGlzLmVsZW1lbnRNYXAuZm9yRWFjaCgoZWxlbWVudCA9PiBlbGVtZW50LmRpZmZTdGF0ZSA9IERpZmZTdGF0ZS5leGl0KSksIHRoaXMuX2ZpbmFsUGFyYW1ldGVycyA9IHRoaXMucGFyYW1ldGVycygpO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICB0aGlzLnJlbGVhc2VFdmVudCgpLCB0aGlzLmVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4gZWxlbWVudC5yZWxlYXNlKCkpKSwgdGhpcy5kaWZmZXIgPSBudWxsLCBcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdLCB0aGlzLmVsZW1lbnRNYXAuY2xlYXIoKSwgdGhpcy5fZmluYWxQYXJhbWV0ZXJzID0gbnVsbCwgdGhpcy5hbmltYXRlICYmIHRoaXMuYW5pbWF0ZS5yZWxlYXNlKCksIFxuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtICYmIHJlbW92ZUdyYXBoaWNJdGVtKHRoaXMuZ3JhcGhpY0l0ZW0pLCB0aGlzLmRldGFjaEFsbCgpLCBzdXBlci5yZWxlYXNlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFyay5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/mark.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/scale.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/scale.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scale: () => (/* binding */ Scale),\n/* harmony export */   registerScale: () => (/* binding */ registerScale)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.18.18/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_scale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/scale.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass Scale extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor(view, scaleType) {\n        super(view), this.grammarType = \"scale\", this.spec.type = scaleType, this.scale = (0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.createScale)(scaleType);\n    }\n    parse(spec) {\n        return super.parse(spec), this.domain(spec.domain), this.range(spec.range), this.configure(spec), \n        this.commit(), this;\n    }\n    evaluate(upstream, parameters) {\n        return this.view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.HOOK_EVENT.BEFORE_EVALUATE_SCALE), this.spec.type || (this.spec.type = \"linear\"), \n        this.scale && this.scale.type === this.spec.type || (this.scale = (0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.createScale)(this.spec.type)), \n        (0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.configureScale)(this.spec, this.scale, parameters), this.scale && (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_3__.supportRangeFactor)(this.scale.type) && (this._rangeFactor ? this.scale.rangeFactor(this._rangeFactor) : this.scale.rangeFactor() && this.scale.rangeFactor(null, !1, !0), \n        this._fishEyeOptions ? this.scale.fishEye(this._fishEyeOptions) : this.scale.fishEye() && this.scale.fishEye(null, !1, !0)), \n        this.view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.HOOK_EVENT.BEFORE_EVALUATE_SCALE), this;\n    }\n    output() {\n        return this.scale;\n    }\n    getScaleType() {\n        return this.spec.type;\n    }\n    getScale() {\n        return this.scale;\n    }\n    ticks(count) {\n        var _a, _b, _c;\n        return null !== (_c = null === (_b = null === (_a = this.scale) || void 0 === _a ? void 0 : _a.tickData) || void 0 === _b ? void 0 : _b.call(_a, count)) && void 0 !== _c ? _c : [];\n    }\n    domain(domain) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.domain) || this.detach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleDomainRange)(this.spec.domain, this.view)), \n        this.spec.domain = domain, this.attach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleDomainRange)(domain, this.view)), \n        this.commit(), this;\n    }\n    range(range) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.range) || this.detach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleDomainRange)(this.spec.range, this.view)), \n        this.spec.range = range, this.attach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleDomainRange)(range, this.view)), this.commit(), \n        this;\n    }\n    tickCount(tickCount) {\n        return this.setFunctionSpec(tickCount, \"tickCount\");\n    }\n    setRangeFactor(range) {\n        return this._rangeFactor = range, this;\n    }\n    getRangeFactor() {\n        return this._rangeFactor;\n    }\n    setFishEye(fishEyeOptions) {\n        return this._fishEyeOptions = fishEyeOptions, this;\n    }\n    getFishEye() {\n        return this._fishEyeOptions;\n    }\n    getCoordinateAxisPosition() {\n        const rangeSpec = this.spec.range, coord = null == rangeSpec ? void 0 : rangeSpec.coordinate;\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(coord)) {\n            const dim = rangeSpec.dimension, isSub = rangeSpec.isSubshaft, reversed = rangeSpec.reversed, coordinate = this.parameters()[coord];\n            return null == coordinate ? void 0 : coordinate.getVisualPositionByDimension(dim, isSub, reversed);\n        }\n        return null;\n    }\n    getCoordinateAxisPoints(baseValue) {\n        const rangeSpec = this.spec.range, coord = null == rangeSpec ? void 0 : rangeSpec.coordinate;\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(coord)) {\n            const dim = rangeSpec.dimension, isSub = rangeSpec.isSubshaft, reversed = rangeSpec.reversed, coordinate = this.parameters()[coord];\n            return null == coordinate ? void 0 : coordinate.getAxisPointsByDimension(dim, isSub, reversed, baseValue);\n        }\n        return null;\n    }\n    getCoordinate() {\n        const rangeSpec = this.spec.range, coord = null == rangeSpec ? void 0 : rangeSpec.coordinate;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(coord) ? null : this.parameters()[coord];\n    }\n    configure(config) {\n        return this.detach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleConfig)(this.spec.type, config, this.view)), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config) ? this.spec = {\n            type: this.spec.type,\n            domain: this.spec.domain,\n            range: this.spec.range\n        } : (Object.assign(this.spec, config), this.attach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleConfig)(this.spec.type, config, this.view))), \n        this.commit(), this;\n    }\n    reuse(grammar) {\n        return grammar.grammarType !== this.grammarType || (this.scale = grammar.output()), \n        this;\n    }\n    clear() {\n        super.clear(), this.scale = null;\n    }\n}\n\nconst registerScale = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerGrammar(\"scale\", Scale, \"scales\");\n};\n//# sourceMappingURL=scale.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9zY2FsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5Qzs7QUFFYTs7QUFFVDs7QUFFeUQ7O0FBRTFEOztBQUVGOztBQUVuQyxvQkFBb0Isc0RBQVc7QUFDdEM7QUFDQSwwRkFBMEYseURBQVc7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG9EQUFVO0FBQ3hDLDBFQUEwRSx5REFBVztBQUNyRixRQUFRLDREQUFjLG1EQUFtRCxvRUFBa0I7QUFDM0Y7QUFDQSx1QkFBdUIsb0RBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBSyxrQ0FBa0MsbUVBQXFCO0FBQzNFLCtDQUErQyxtRUFBcUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBSyxpQ0FBaUMsbUVBQXFCO0FBQzFFLDZDQUE2QyxtRUFBcUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0REFBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBLDJCQUEyQiw4REFBZ0Isc0NBQXNDLDREQUFLO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaURBQWlELDhEQUFnQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvc2NhbGUuanM/NGZmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IHN1cHBvcnRSYW5nZUZhY3RvciB9IGZyb20gXCJAdmlzYWN0b3IvdnNjYWxlXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJCYXNlIH0gZnJvbSBcIi4vZ3JhbW1hci1iYXNlXCI7XG5cbmltcG9ydCB7IGNvbmZpZ3VyZVNjYWxlLCBjcmVhdGVTY2FsZSwgcGFyc2VTY2FsZUNvbmZpZywgcGFyc2VTY2FsZURvbWFpblJhbmdlIH0gZnJvbSBcIi4uL3BhcnNlL3NjYWxlXCI7XG5cbmltcG9ydCB7IEhPT0tfRVZFTlQgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNsYXNzIFNjYWxlIGV4dGVuZHMgR3JhbW1hckJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHNjYWxlVHlwZSkge1xuICAgICAgICBzdXBlcih2aWV3KSwgdGhpcy5ncmFtbWFyVHlwZSA9IFwic2NhbGVcIiwgdGhpcy5zcGVjLnR5cGUgPSBzY2FsZVR5cGUsIHRoaXMuc2NhbGUgPSBjcmVhdGVTY2FsZShzY2FsZVR5cGUpO1xuICAgIH1cbiAgICBwYXJzZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZShzcGVjKSwgdGhpcy5kb21haW4oc3BlYy5kb21haW4pLCB0aGlzLnJhbmdlKHNwZWMucmFuZ2UpLCB0aGlzLmNvbmZpZ3VyZShzcGVjKSwgXG4gICAgICAgIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGV2YWx1YXRlKHVwc3RyZWFtLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9FVkFMVUFURV9TQ0FMRSksIHRoaXMuc3BlYy50eXBlIHx8ICh0aGlzLnNwZWMudHlwZSA9IFwibGluZWFyXCIpLCBcbiAgICAgICAgdGhpcy5zY2FsZSAmJiB0aGlzLnNjYWxlLnR5cGUgPT09IHRoaXMuc3BlYy50eXBlIHx8ICh0aGlzLnNjYWxlID0gY3JlYXRlU2NhbGUodGhpcy5zcGVjLnR5cGUpKSwgXG4gICAgICAgIGNvbmZpZ3VyZVNjYWxlKHRoaXMuc3BlYywgdGhpcy5zY2FsZSwgcGFyYW1ldGVycyksIHRoaXMuc2NhbGUgJiYgc3VwcG9ydFJhbmdlRmFjdG9yKHRoaXMuc2NhbGUudHlwZSkgJiYgKHRoaXMuX3JhbmdlRmFjdG9yID8gdGhpcy5zY2FsZS5yYW5nZUZhY3Rvcih0aGlzLl9yYW5nZUZhY3RvcikgOiB0aGlzLnNjYWxlLnJhbmdlRmFjdG9yKCkgJiYgdGhpcy5zY2FsZS5yYW5nZUZhY3RvcihudWxsLCAhMSwgITApLCBcbiAgICAgICAgdGhpcy5fZmlzaEV5ZU9wdGlvbnMgPyB0aGlzLnNjYWxlLmZpc2hFeWUodGhpcy5fZmlzaEV5ZU9wdGlvbnMpIDogdGhpcy5zY2FsZS5maXNoRXllKCkgJiYgdGhpcy5zY2FsZS5maXNoRXllKG51bGwsICExLCAhMCkpLCBcbiAgICAgICAgdGhpcy52aWV3LmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRVZBTFVBVEVfU0NBTEUpLCB0aGlzO1xuICAgIH1cbiAgICBvdXRwdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlO1xuICAgIH1cbiAgICBnZXRTY2FsZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMudHlwZTtcbiAgICB9XG4gICAgZ2V0U2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlO1xuICAgIH1cbiAgICB0aWNrcyhjb3VudCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYyA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMuc2NhbGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS50aWNrRGF0YSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIGNvdW50KSkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogW107XG4gICAgfVxuICAgIGRvbWFpbihkb21haW4pIHtcbiAgICAgICAgcmV0dXJuIGlzTmlsKHRoaXMuc3BlYy5kb21haW4pIHx8IHRoaXMuZGV0YWNoKHBhcnNlU2NhbGVEb21haW5SYW5nZSh0aGlzLnNwZWMuZG9tYWluLCB0aGlzLnZpZXcpKSwgXG4gICAgICAgIHRoaXMuc3BlYy5kb21haW4gPSBkb21haW4sIHRoaXMuYXR0YWNoKHBhcnNlU2NhbGVEb21haW5SYW5nZShkb21haW4sIHRoaXMudmlldykpLCBcbiAgICAgICAgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgcmFuZ2UocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIGlzTmlsKHRoaXMuc3BlYy5yYW5nZSkgfHwgdGhpcy5kZXRhY2gocGFyc2VTY2FsZURvbWFpblJhbmdlKHRoaXMuc3BlYy5yYW5nZSwgdGhpcy52aWV3KSksIFxuICAgICAgICB0aGlzLnNwZWMucmFuZ2UgPSByYW5nZSwgdGhpcy5hdHRhY2gocGFyc2VTY2FsZURvbWFpblJhbmdlKHJhbmdlLCB0aGlzLnZpZXcpKSwgdGhpcy5jb21taXQoKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHRpY2tDb3VudCh0aWNrQ291bnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKHRpY2tDb3VudCwgXCJ0aWNrQ291bnRcIik7XG4gICAgfVxuICAgIHNldFJhbmdlRmFjdG9yKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZUZhY3RvciA9IHJhbmdlLCB0aGlzO1xuICAgIH1cbiAgICBnZXRSYW5nZUZhY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlRmFjdG9yO1xuICAgIH1cbiAgICBzZXRGaXNoRXllKGZpc2hFeWVPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maXNoRXllT3B0aW9ucyA9IGZpc2hFeWVPcHRpb25zLCB0aGlzO1xuICAgIH1cbiAgICBnZXRGaXNoRXllKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlzaEV5ZU9wdGlvbnM7XG4gICAgfVxuICAgIGdldENvb3JkaW5hdGVBeGlzUG9zaXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlU3BlYyA9IHRoaXMuc3BlYy5yYW5nZSwgY29vcmQgPSBudWxsID09IHJhbmdlU3BlYyA/IHZvaWQgMCA6IHJhbmdlU3BlYy5jb29yZGluYXRlO1xuICAgICAgICBpZiAoIWlzTmlsKGNvb3JkKSkge1xuICAgICAgICAgICAgY29uc3QgZGltID0gcmFuZ2VTcGVjLmRpbWVuc2lvbiwgaXNTdWIgPSByYW5nZVNwZWMuaXNTdWJzaGFmdCwgcmV2ZXJzZWQgPSByYW5nZVNwZWMucmV2ZXJzZWQsIGNvb3JkaW5hdGUgPSB0aGlzLnBhcmFtZXRlcnMoKVtjb29yZF07XG4gICAgICAgICAgICByZXR1cm4gbnVsbCA9PSBjb29yZGluYXRlID8gdm9pZCAwIDogY29vcmRpbmF0ZS5nZXRWaXN1YWxQb3NpdGlvbkJ5RGltZW5zaW9uKGRpbSwgaXNTdWIsIHJldmVyc2VkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZ2V0Q29vcmRpbmF0ZUF4aXNQb2ludHMoYmFzZVZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlU3BlYyA9IHRoaXMuc3BlYy5yYW5nZSwgY29vcmQgPSBudWxsID09IHJhbmdlU3BlYyA/IHZvaWQgMCA6IHJhbmdlU3BlYy5jb29yZGluYXRlO1xuICAgICAgICBpZiAoIWlzTmlsKGNvb3JkKSkge1xuICAgICAgICAgICAgY29uc3QgZGltID0gcmFuZ2VTcGVjLmRpbWVuc2lvbiwgaXNTdWIgPSByYW5nZVNwZWMuaXNTdWJzaGFmdCwgcmV2ZXJzZWQgPSByYW5nZVNwZWMucmV2ZXJzZWQsIGNvb3JkaW5hdGUgPSB0aGlzLnBhcmFtZXRlcnMoKVtjb29yZF07XG4gICAgICAgICAgICByZXR1cm4gbnVsbCA9PSBjb29yZGluYXRlID8gdm9pZCAwIDogY29vcmRpbmF0ZS5nZXRBeGlzUG9pbnRzQnlEaW1lbnNpb24oZGltLCBpc1N1YiwgcmV2ZXJzZWQsIGJhc2VWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldENvb3JkaW5hdGUoKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlU3BlYyA9IHRoaXMuc3BlYy5yYW5nZSwgY29vcmQgPSBudWxsID09IHJhbmdlU3BlYyA/IHZvaWQgMCA6IHJhbmdlU3BlYy5jb29yZGluYXRlO1xuICAgICAgICByZXR1cm4gaXNOaWwoY29vcmQpID8gbnVsbCA6IHRoaXMucGFyYW1ldGVycygpW2Nvb3JkXTtcbiAgICB9XG4gICAgY29uZmlndXJlKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXRhY2gocGFyc2VTY2FsZUNvbmZpZyh0aGlzLnNwZWMudHlwZSwgY29uZmlnLCB0aGlzLnZpZXcpKSwgaXNOaWwoY29uZmlnKSA/IHRoaXMuc3BlYyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuc3BlYy50eXBlLFxuICAgICAgICAgICAgZG9tYWluOiB0aGlzLnNwZWMuZG9tYWluLFxuICAgICAgICAgICAgcmFuZ2U6IHRoaXMuc3BlYy5yYW5nZVxuICAgICAgICB9IDogKE9iamVjdC5hc3NpZ24odGhpcy5zcGVjLCBjb25maWcpLCB0aGlzLmF0dGFjaChwYXJzZVNjYWxlQ29uZmlnKHRoaXMuc3BlYy50eXBlLCBjb25maWcsIHRoaXMudmlldykpKSwgXG4gICAgICAgIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIHJldXNlKGdyYW1tYXIpIHtcbiAgICAgICAgcmV0dXJuIGdyYW1tYXIuZ3JhbW1hclR5cGUgIT09IHRoaXMuZ3JhbW1hclR5cGUgfHwgKHRoaXMuc2NhbGUgPSBncmFtbWFyLm91dHB1dCgpKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBzdXBlci5jbGVhcigpLCB0aGlzLnNjYWxlID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclNjYWxlID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFtbWFyKFwic2NhbGVcIiwgU2NhbGUsIFwic2NhbGVzXCIpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/signal.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/signal.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Signal: () => (/* binding */ Signal)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\nclass Signal extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor() {\n        super(...arguments), this.grammarType = \"signal\", this.spec = {\n            value: null,\n            update: null\n        };\n    }\n    parse(spec) {\n        return super.parse(spec), this.value(spec.value), this.update(spec.update), this.commit(), \n        this;\n    }\n    evaluate(upstream, parameters) {\n        return this._signal = this.spec.update ? (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.invokeFunctionType)(this.spec.update, parameters, this._signal) : this.spec.value, \n        this.spec.value = this._signal, this;\n    }\n    output() {\n        return this._signal;\n    }\n    getValue() {\n        return this.output();\n    }\n    set(value) {\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.value) && value.length === this.value.length) {\n            for (let i = 0; i < value.length; i++) if (this.value[i] !== value[i]) return this._signal = value, \n            this.spec.value = value, !0;\n            return !1;\n        }\n        return this._signal !== value && (this._signal = value, this.spec.value = value, \n        !0);\n    }\n    update(update) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(update) || this.value(void 0), this.setFunctionSpec(update, \"update\");\n    }\n    value(value) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(value) || this.update(void 0), this.spec.value = value, this.commit(), \n        this;\n    }\n    reuse(grammar) {\n        return grammar.grammarType !== this.grammarType || (this._signal = grammar.output()), \n        this;\n    }\n    clear() {\n        super.clear(), this._signal = null;\n    }\n}\n//# sourceMappingURL=signal.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9zaWduYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0Q7O0FBRUw7O0FBRU07O0FBRTVDLHFCQUFxQixzREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELCtEQUFrQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFPLFdBQVcsNERBQU87QUFDckMsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBLGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L3NpZ25hbC5qcz9hOGFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXksIGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgR3JhbW1hckJhc2UgfSBmcm9tIFwiLi9ncmFtbWFyLWJhc2VcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIFNpZ25hbCBleHRlbmRzIEdyYW1tYXJCYXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5ncmFtbWFyVHlwZSA9IFwic2lnbmFsXCIsIHRoaXMuc3BlYyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgdXBkYXRlOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHBhcnNlKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnBhcnNlKHNwZWMpLCB0aGlzLnZhbHVlKHNwZWMudmFsdWUpLCB0aGlzLnVwZGF0ZShzcGVjLnVwZGF0ZSksIHRoaXMuY29tbWl0KCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBldmFsdWF0ZSh1cHN0cmVhbSwgcGFyYW1ldGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmFsID0gdGhpcy5zcGVjLnVwZGF0ZSA/IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWMudXBkYXRlLCBwYXJhbWV0ZXJzLCB0aGlzLl9zaWduYWwpIDogdGhpcy5zcGVjLnZhbHVlLCBcbiAgICAgICAgdGhpcy5zcGVjLnZhbHVlID0gdGhpcy5fc2lnbmFsLCB0aGlzO1xuICAgIH1cbiAgICBvdXRwdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYWw7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXQoKTtcbiAgICB9XG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSAmJiBpc0FycmF5KHRoaXMudmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gdGhpcy52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIGlmICh0aGlzLnZhbHVlW2ldICE9PSB2YWx1ZVtpXSkgcmV0dXJuIHRoaXMuX3NpZ25hbCA9IHZhbHVlLCBcbiAgICAgICAgICAgIHRoaXMuc3BlYy52YWx1ZSA9IHZhbHVlLCAhMDtcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmFsICE9PSB2YWx1ZSAmJiAodGhpcy5fc2lnbmFsID0gdmFsdWUsIHRoaXMuc3BlYy52YWx1ZSA9IHZhbHVlLCBcbiAgICAgICAgITApO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHJldHVybiBpc05pbCh1cGRhdGUpIHx8IHRoaXMudmFsdWUodm9pZCAwKSwgdGhpcy5zZXRGdW5jdGlvblNwZWModXBkYXRlLCBcInVwZGF0ZVwiKTtcbiAgICB9XG4gICAgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzTmlsKHZhbHVlKSB8fCB0aGlzLnVwZGF0ZSh2b2lkIDApLCB0aGlzLnNwZWMudmFsdWUgPSB2YWx1ZSwgdGhpcy5jb21taXQoKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHJldXNlKGdyYW1tYXIpIHtcbiAgICAgICAgcmV0dXJuIGdyYW1tYXIuZ3JhbW1hclR5cGUgIT09IHRoaXMuZ3JhbW1hclR5cGUgfHwgKHRoaXMuX3NpZ25hbCA9IGdyYW1tYXIub3V0cHV0KCkpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHN1cGVyLmNsZWFyKCksIHRoaXMuX3NpZ25hbCA9IG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbmFsLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/signal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-animate-mixin.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-animate-mixin.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerViewAnimateAPI: () => (/* binding */ registerViewAnimateAPI)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./View */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/View.js\");\n/* harmony import */ var _animate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/animate.js\");\n\n\n\n\n\n\nclass ViewAnimateMixin {\n    initAnimate(view) {\n        return this.animate = new _animate__WEBPACK_IMPORTED_MODULE_0__.ViewAnimate(view), this.animate;\n    }\n}\n\nconst registerViewAnimateAPI = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.mixin)(_View__WEBPACK_IMPORTED_MODULE_2__[\"default\"], ViewAnimateMixin);\n};\n//# sourceMappingURL=view-animate-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy92aWV3LWFuaW1hdGUtbWl4aW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5Qzs7QUFFZjs7QUFFYzs7QUFFeEM7QUFDQTtBQUNBLGtDQUFrQyxpREFBVztBQUM3QztBQUNBOztBQUVPO0FBQ1AsSUFBSSx1REFBSyxDQUFDLDZDQUFJO0FBQ2Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z5bmxhdGljcy1haS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE0LjEzL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L3ZpZXctYW5pbWF0ZS1taXhpbi5qcz9kNTEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xuXG5pbXBvcnQgeyBWaWV3QW5pbWF0ZSB9IGZyb20gXCIuL2FuaW1hdGVcIjtcblxuY2xhc3MgVmlld0FuaW1hdGVNaXhpbiB7XG4gICAgaW5pdEFuaW1hdGUodmlldykge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRlID0gbmV3IFZpZXdBbmltYXRlKHZpZXcpLCB0aGlzLmFuaW1hdGU7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWaWV3QW5pbWF0ZUFQSSA9ICgpID0+IHtcbiAgICBtaXhpbihWaWV3LCBWaWV3QW5pbWF0ZU1peGluKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LWFuaW1hdGUtbWl4aW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-animate-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-event-mixin.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-event-mixin.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerViewEventsAPI: () => (/* binding */ registerViewEventsAPI)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _parse_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parse/event */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/event.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/events.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.20.12/node_modules/@visactor/vrender-core/es/modules.js\");\n/* harmony import */ var _graph_util_events_extend__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/util/events-extend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js\");\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./View */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/View.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ViewEventsMixin {\n    event(eventSpec) {\n        if (\"between\" in eventSpec) {\n            const [starEvent, endEvent] = eventSpec.between, id = `${starEvent.type}-${eventSpec.type}-${endEvent.type}`;\n            let unbindEndEvent;\n            this.bindEvents(Object.assign({}, starEvent, {\n                callback: () => {\n                    if (this._eventCache || (this._eventCache = {}), !this._eventCache[id]) {\n                        const unbindEvent = this.bindEvents(eventSpec);\n                        this._eventCache[id] = unbindEvent;\n                    }\n                    unbindEndEvent || (unbindEndEvent = this.bindEvents(Object.assign({}, endEvent, {\n                        callback: () => {\n                            this._eventCache[id] && (this._eventCache[id](), this._eventCache[id] = null);\n                        }\n                    })));\n                }\n            }));\n        } else \"merge\" in eventSpec ? eventSpec.merge.forEach((entry => {\n            const singleEvent = Object.assign({}, eventSpec);\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(entry) ? singleEvent.type = entry : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(entry) && Object.assign(singleEvent, entry), \n            singleEvent.debounce = 50, this.bindEvents(singleEvent);\n        })) : this.bindEvents(eventSpec);\n    }\n    bindEvents(eventSpec) {\n        if (this._eventConfig.disable) return;\n        const {type: evtType, filter: filter, callback: callback, throttle: throttle, debounce: debounce, consume: consume, target: target, dependency: dependency} = eventSpec, eventSelector = (0,_parse_event__WEBPACK_IMPORTED_MODULE_2__.parseEventSelector)(evtType);\n        if (!eventSelector) return;\n        const {source: source, type: type} = eventSelector, markFilter = (0,_parse_event__WEBPACK_IMPORTED_MODULE_2__.generateFilterByMark)(eventSelector), validateSignals = (Array.isArray(target) && target.length ? target.map((entry => ({\n            signal: this.getSignalById(entry.target),\n            callback: entry.callback\n        }))) : [ {\n            signal: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target) ? this.getSignalById(target) : null,\n            callback: callback\n        } ]).filter((entry => entry.signal || entry.callback)), refs = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.parseReference)(dependency, this), send = (0,_parse_event__WEBPACK_IMPORTED_MODULE_2__.parseHandler)((evt => {\n            const needPreventDefault = source === _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_VIEW && (0,_events__WEBPACK_IMPORTED_MODULE_5__.prevent)(this._eventConfig, type) || consume && (void 0 === evt.cancelable || evt.cancelable);\n            source === _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_WINDOW && (evt = (0,_graph_util_events_extend__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, evt, type, _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_WINDOW));\n            let hasCommitted = !1;\n            if ((!filter || filter(evt)) && (!markFilter || markFilter(evt.element)) && validateSignals.length) {\n                const params = refs.reduce(((params, ref) => (params[ref.id()] = ref.output(), params)), {});\n                validateSignals.forEach((entry => {\n                    if (entry.callback && entry.signal) {\n                        entry.signal.set(entry.callback(evt, params)) && (this.commit(entry.signal), hasCommitted = !0);\n                    } else entry.callback ? entry.callback(evt, params) : (this.commit(entry.signal), \n                    hasCommitted = !0);\n                }));\n            }\n            needPreventDefault && evt.preventDefault(), consume && evt.stopPropagation(), hasCommitted && this.run();\n        }), {\n            throttle: throttle,\n            debounce: debounce\n        });\n        if (source === _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_VIEW) {\n            if ((0,_events__WEBPACK_IMPORTED_MODULE_5__.permit)(this._eventConfig, _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_VIEW, type)) return this.addEventListener(type, send, _constants__WEBPACK_IMPORTED_MODULE_4__.NO_TRAP), \n            () => {\n                this.removeEventListener(type, send);\n            };\n        } else if (source === _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_WINDOW) return _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.vglobal.addEventListener(type, send), \n        this._eventListeners.push({\n            type: type,\n            source: _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.vglobal,\n            handler: send\n        }), () => {\n            _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.vglobal.removeEventListener(type, send);\n            const index = this._eventListeners.findIndex((entry => entry.type === type && entry.source === _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.vglobal && entry.handler === send));\n            index >= 0 && this._eventListeners.splice(index, 1);\n        };\n    }\n}\n\nconst registerViewEventsAPI = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__.mixin)(_View__WEBPACK_IMPORTED_MODULE_9__[\"default\"], ViewEventsMixin);\n};\n//# sourceMappingURL=view-event-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy92aWV3LWV2ZW50LW1peGluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTZEOztBQUUyQjs7QUFFekM7O0FBRStCOztBQUVuQzs7QUFFTTs7QUFFVzs7QUFFbEM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxlQUFlLEdBQUcsZUFBZSxHQUFHLGNBQWM7QUFDdkg7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1YsZ0RBQWdEO0FBQ2hELFlBQVksNERBQVEscUNBQXFDLDREQUFRO0FBQ2pFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUpBQXFKLDZCQUE2QixnRUFBa0I7QUFDbk47QUFDQSxlQUFlLDRCQUE0Qiw4QkFBOEIsa0VBQW9CO0FBQzdGO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLDREQUFRO0FBQzVCO0FBQ0EsVUFBVSw2REFBNkQsMkRBQWMsMkJBQTJCLDBEQUFZO0FBQzVILGtEQUFrRCx5REFBaUIsSUFBSSxnREFBTztBQUM5RSx1QkFBdUIsMkRBQW1CLFdBQVcscUVBQWlCLGtCQUFrQiwyREFBbUI7QUFDM0c7QUFDQTtBQUNBLDJHQUEyRztBQUMzRztBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULHVCQUF1Qix5REFBaUI7QUFDeEMsZ0JBQWdCLCtDQUFNLG9CQUFvQix5REFBaUIsa0RBQWtELCtDQUFPO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0JBQW9CLDJEQUFtQixTQUFTLDJEQUFPO0FBQ2pFO0FBQ0E7QUFDQSxvQkFBb0IsMkRBQU87QUFDM0I7QUFDQSxTQUFTO0FBQ1QsWUFBWSwyREFBTztBQUNuQiwyR0FBMkcsMkRBQU87QUFDbEg7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUCxJQUFJLHVEQUFLLENBQUMsNkNBQUk7QUFDZDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvdmlldy1ldmVudC1taXhpbi5qcz8xN2M2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzT2JqZWN0LCBpc1N0cmluZywgbWl4aW4gfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBnZW5lcmF0ZUZpbHRlckJ5TWFyaywgcGFyc2VFdmVudFNlbGVjdG9yLCBwYXJzZUhhbmRsZXIgfSBmcm9tIFwiLi4vcGFyc2UvZXZlbnRcIjtcblxuaW1wb3J0IHsgcGFyc2VSZWZlcmVuY2UgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBFVkVOVF9TT1VSQ0VfVklFVywgRVZFTlRfU09VUkNFX1dJTkRPVywgTk9fVFJBUCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBwZXJtaXQsIHByZXZlbnQgfSBmcm9tIFwiLi9ldmVudHNcIjtcblxuaW1wb3J0IHsgdmdsb2JhbCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmltcG9ydCBnZXRFeHRlbmRlZEV2ZW50cyBmcm9tIFwiLi4vZ3JhcGgvdXRpbC9ldmVudHMtZXh0ZW5kXCI7XG5cbmltcG9ydCBWaWV3IGZyb20gXCIuL1ZpZXdcIjtcblxuY2xhc3MgVmlld0V2ZW50c01peGluIHtcbiAgICBldmVudChldmVudFNwZWMpIHtcbiAgICAgICAgaWYgKFwiYmV0d2VlblwiIGluIGV2ZW50U3BlYykge1xuICAgICAgICAgICAgY29uc3QgW3N0YXJFdmVudCwgZW5kRXZlbnRdID0gZXZlbnRTcGVjLmJldHdlZW4sIGlkID0gYCR7c3RhckV2ZW50LnR5cGV9LSR7ZXZlbnRTcGVjLnR5cGV9LSR7ZW5kRXZlbnQudHlwZX1gO1xuICAgICAgICAgICAgbGV0IHVuYmluZEVuZEV2ZW50O1xuICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKE9iamVjdC5hc3NpZ24oe30sIHN0YXJFdmVudCwge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ldmVudENhY2hlIHx8ICh0aGlzLl9ldmVudENhY2hlID0ge30pLCAhdGhpcy5fZXZlbnRDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuYmluZEV2ZW50ID0gdGhpcy5iaW5kRXZlbnRzKGV2ZW50U3BlYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudENhY2hlW2lkXSA9IHVuYmluZEV2ZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHVuYmluZEVuZEV2ZW50IHx8ICh1bmJpbmRFbmRFdmVudCA9IHRoaXMuYmluZEV2ZW50cyhPYmplY3QuYXNzaWduKHt9LCBlbmRFdmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudENhY2hlW2lkXSAmJiAodGhpcy5fZXZlbnRDYWNoZVtpZF0oKSwgdGhpcy5fZXZlbnRDYWNoZVtpZF0gPSBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSBcIm1lcmdlXCIgaW4gZXZlbnRTcGVjID8gZXZlbnRTcGVjLm1lcmdlLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpbmdsZUV2ZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgZXZlbnRTcGVjKTtcbiAgICAgICAgICAgIGlzU3RyaW5nKGVudHJ5KSA/IHNpbmdsZUV2ZW50LnR5cGUgPSBlbnRyeSA6IGlzT2JqZWN0KGVudHJ5KSAmJiBPYmplY3QuYXNzaWduKHNpbmdsZUV2ZW50LCBlbnRyeSksIFxuICAgICAgICAgICAgc2luZ2xlRXZlbnQuZGVib3VuY2UgPSA1MCwgdGhpcy5iaW5kRXZlbnRzKHNpbmdsZUV2ZW50KTtcbiAgICAgICAgfSkpIDogdGhpcy5iaW5kRXZlbnRzKGV2ZW50U3BlYyk7XG4gICAgfVxuICAgIGJpbmRFdmVudHMoZXZlbnRTcGVjKSB7XG4gICAgICAgIGlmICh0aGlzLl9ldmVudENvbmZpZy5kaXNhYmxlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHt0eXBlOiBldnRUeXBlLCBmaWx0ZXI6IGZpbHRlciwgY2FsbGJhY2s6IGNhbGxiYWNrLCB0aHJvdHRsZTogdGhyb3R0bGUsIGRlYm91bmNlOiBkZWJvdW5jZSwgY29uc3VtZTogY29uc3VtZSwgdGFyZ2V0OiB0YXJnZXQsIGRlcGVuZGVuY3k6IGRlcGVuZGVuY3l9ID0gZXZlbnRTcGVjLCBldmVudFNlbGVjdG9yID0gcGFyc2VFdmVudFNlbGVjdG9yKGV2dFR5cGUpO1xuICAgICAgICBpZiAoIWV2ZW50U2VsZWN0b3IpIHJldHVybjtcbiAgICAgICAgY29uc3Qge3NvdXJjZTogc291cmNlLCB0eXBlOiB0eXBlfSA9IGV2ZW50U2VsZWN0b3IsIG1hcmtGaWx0ZXIgPSBnZW5lcmF0ZUZpbHRlckJ5TWFyayhldmVudFNlbGVjdG9yKSwgdmFsaWRhdGVTaWduYWxzID0gKEFycmF5LmlzQXJyYXkodGFyZ2V0KSAmJiB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0Lm1hcCgoZW50cnkgPT4gKHtcbiAgICAgICAgICAgIHNpZ25hbDogdGhpcy5nZXRTaWduYWxCeUlkKGVudHJ5LnRhcmdldCksXG4gICAgICAgICAgICBjYWxsYmFjazogZW50cnkuY2FsbGJhY2tcbiAgICAgICAgfSkpKSA6IFsge1xuICAgICAgICAgICAgc2lnbmFsOiBpc1N0cmluZyh0YXJnZXQpID8gdGhpcy5nZXRTaWduYWxCeUlkKHRhcmdldCkgOiBudWxsLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgICAgIH0gXSkuZmlsdGVyKChlbnRyeSA9PiBlbnRyeS5zaWduYWwgfHwgZW50cnkuY2FsbGJhY2spKSwgcmVmcyA9IHBhcnNlUmVmZXJlbmNlKGRlcGVuZGVuY3ksIHRoaXMpLCBzZW5kID0gcGFyc2VIYW5kbGVyKChldnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmVlZFByZXZlbnREZWZhdWx0ID0gc291cmNlID09PSBFVkVOVF9TT1VSQ0VfVklFVyAmJiBwcmV2ZW50KHRoaXMuX2V2ZW50Q29uZmlnLCB0eXBlKSB8fCBjb25zdW1lICYmICh2b2lkIDAgPT09IGV2dC5jYW5jZWxhYmxlIHx8IGV2dC5jYW5jZWxhYmxlKTtcbiAgICAgICAgICAgIHNvdXJjZSA9PT0gRVZFTlRfU09VUkNFX1dJTkRPVyAmJiAoZXZ0ID0gZ2V0RXh0ZW5kZWRFdmVudHModGhpcywgZXZ0LCB0eXBlLCBFVkVOVF9TT1VSQ0VfV0lORE9XKSk7XG4gICAgICAgICAgICBsZXQgaGFzQ29tbWl0dGVkID0gITE7XG4gICAgICAgICAgICBpZiAoKCFmaWx0ZXIgfHwgZmlsdGVyKGV2dCkpICYmICghbWFya0ZpbHRlciB8fCBtYXJrRmlsdGVyKGV2dC5lbGVtZW50KSkgJiYgdmFsaWRhdGVTaWduYWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHJlZnMucmVkdWNlKCgocGFyYW1zLCByZWYpID0+IChwYXJhbXNbcmVmLmlkKCldID0gcmVmLm91dHB1dCgpLCBwYXJhbXMpKSwge30pO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlU2lnbmFscy5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5jYWxsYmFjayAmJiBlbnRyeS5zaWduYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnNpZ25hbC5zZXQoZW50cnkuY2FsbGJhY2soZXZ0LCBwYXJhbXMpKSAmJiAodGhpcy5jb21taXQoZW50cnkuc2lnbmFsKSwgaGFzQ29tbWl0dGVkID0gITApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZW50cnkuY2FsbGJhY2sgPyBlbnRyeS5jYWxsYmFjayhldnQsIHBhcmFtcykgOiAodGhpcy5jb21taXQoZW50cnkuc2lnbmFsKSwgXG4gICAgICAgICAgICAgICAgICAgIGhhc0NvbW1pdHRlZCA9ICEwKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZWVkUHJldmVudERlZmF1bHQgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCksIGNvbnN1bWUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpLCBoYXNDb21taXR0ZWQgJiYgdGhpcy5ydW4oKTtcbiAgICAgICAgfSksIHtcbiAgICAgICAgICAgIHRocm90dGxlOiB0aHJvdHRsZSxcbiAgICAgICAgICAgIGRlYm91bmNlOiBkZWJvdW5jZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gRVZFTlRfU09VUkNFX1ZJRVcpIHtcbiAgICAgICAgICAgIGlmIChwZXJtaXQodGhpcy5fZXZlbnRDb25maWcsIEVWRU5UX1NPVVJDRV9WSUVXLCB0eXBlKSkgcmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBzZW5kLCBOT19UUkFQKSwgXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHNlbmQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgPT09IEVWRU5UX1NPVVJDRV9XSU5ET1cpIHJldHVybiB2Z2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgc2VuZCksIFxuICAgICAgICB0aGlzLl9ldmVudExpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBzb3VyY2U6IHZnbG9iYWwsXG4gICAgICAgICAgICBoYW5kbGVyOiBzZW5kXG4gICAgICAgIH0pLCAoKSA9PiB7XG4gICAgICAgICAgICB2Z2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgc2VuZCk7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzLmZpbmRJbmRleCgoZW50cnkgPT4gZW50cnkudHlwZSA9PT0gdHlwZSAmJiBlbnRyeS5zb3VyY2UgPT09IHZnbG9iYWwgJiYgZW50cnkuaGFuZGxlciA9PT0gc2VuZCkpO1xuICAgICAgICAgICAgaW5kZXggPj0gMCAmJiB0aGlzLl9ldmVudExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVmlld0V2ZW50c0FQSSA9ICgpID0+IHtcbiAgICBtaXhpbihWaWV3LCBWaWV3RXZlbnRzTWl4aW4pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctZXZlbnQtbWl4aW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-event-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-morph-mixin.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-morph-mixin.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerViewMorphAPI: () => (/* binding */ registerViewMorphAPI)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.18.18/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./View */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/View.js\");\n/* harmony import */ var _graph_animation_morph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../graph/animation/morph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/graph/animation/morph.js\");\n\n\n\n\n\n\nclass ViewMorphMixin {\n    morph(normalizedRunningConfig) {\n        var _a;\n        null === (_a = this._willMorphMarks) || void 0 === _a || _a.forEach((morphMarks => {\n            (0,_graph_animation_morph__WEBPACK_IMPORTED_MODULE_0__.morph)(morphMarks.prev, morphMarks.next, normalizedRunningConfig);\n        })), this._willMorphMarks = null;\n    }\n    addMorphMarks(mark) {\n        this._willMorphMarks || (this._willMorphMarks = []), this._willMorphMarks.push(mark);\n    }\n}\n\nconst registerViewMorphAPI = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.mixin)(_View__WEBPACK_IMPORTED_MODULE_2__[\"default\"], ViewMorphMixin);\n};\n//# sourceMappingURL=view-morph-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNC4xMy9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy92aWV3LW1vcnBoLW1peGluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7O0FBRWY7O0FBRXVCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQUs7QUFDakIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUCxJQUFJLHVEQUFLLENBQUMsNkNBQUk7QUFDZDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnlubGF0aWNzLWFpLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTQuMTMvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvdmlldy1tb3JwaC1taXhpbi5qcz82YjhmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xuXG5pbXBvcnQgeyBtb3JwaCB9IGZyb20gXCIuLi9ncmFwaC9hbmltYXRpb24vbW9ycGhcIjtcblxuY2xhc3MgVmlld01vcnBoTWl4aW4ge1xuICAgIG1vcnBoKG5vcm1hbGl6ZWRSdW5uaW5nQ29uZmlnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbnVsbCA9PT0gKF9hID0gdGhpcy5fd2lsbE1vcnBoTWFya3MpIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2EuZm9yRWFjaCgobW9ycGhNYXJrcyA9PiB7XG4gICAgICAgICAgICBtb3JwaChtb3JwaE1hcmtzLnByZXYsIG1vcnBoTWFya3MubmV4dCwgbm9ybWFsaXplZFJ1bm5pbmdDb25maWcpO1xuICAgICAgICB9KSksIHRoaXMuX3dpbGxNb3JwaE1hcmtzID0gbnVsbDtcbiAgICB9XG4gICAgYWRkTW9ycGhNYXJrcyhtYXJrKSB7XG4gICAgICAgIHRoaXMuX3dpbGxNb3JwaE1hcmtzIHx8ICh0aGlzLl93aWxsTW9ycGhNYXJrcyA9IFtdKSwgdGhpcy5fd2lsbE1vcnBoTWFya3MucHVzaChtYXJrKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclZpZXdNb3JwaEFQSSA9ICgpID0+IHtcbiAgICBtaXhpbihWaWV3LCBWaWV3TW9ycGhNaXhpbik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy1tb3JwaC1taXhpbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.14.13/node_modules/@visactor/vgrammar-core/es/view/view-morph-mixin.js\n");

/***/ })

};
;